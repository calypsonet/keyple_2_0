<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1370px" preserveAspectRatio="none" style="width:1542px;height:1370px;" version="1.1" viewBox="0 0 1542 1370" width="1542.5px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1037.5" x="236.25" y="46.7139">Keyple 2.0 - Plugin APIs dependencies - 29/01/2021</text><!--MD5=[c9b12d7b2c4b1fc61915ee9f9b21580e]
cluster packService--><polygon fill="#F8F9F9" points="40,354.1016,400,354.1016,417.5,413.125,980,413.125,980,949.1016,40,949.1016,40,354.1016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="417.5" y1="413.125" y2="413.125"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="345" x="50" y="395.4346">keyple-java-service</text><!--MD5=[c4ac30c743123e4d988baf9f0203091a]
cluster packPlugin--><polygon fill="#F8F9F9" points="1040,354.1016,1475,354.1016,1492.5,413.125,1500,413.125,1500,949.1016,1040,949.1016,1040,354.1016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="1040" x2="1492.5" y1="413.125" y2="413.125"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="420" x="1050" y="395.4346">Specific Plugin (PCSC...)</text><!--MD5=[cecc079309b05d6a651d8875df36cc65]
cluster packPluginApi--><polygon fill="#F8F9F9" points="725,1074.1016,1127.5,1074.1016,1145,1133.125,1292.5,1133.125,1292.5,1354.1016,725,1354.1016,725,1074.1016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="725" x2="1145" y1="1133.125" y2="1133.125"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="387.5" x="735" y="1115.4346">keyple-java-plugin-api</text><!--MD5=[7dffe31cf74252a1bd377ad28c4a004f]
entity serviceApi--><ellipse cx="190" cy="519.1016" fill="#FEFECE" rx="20" ry="20" style="stroke:#D4AC0D;stroke-width:3.75;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="180" x="100" y="597.9346">Service API</text><!--MD5=[bb0bcd5ee468e266c25459ed647254d7]
entity serviceSpi--><ellipse cx="830" cy="519.1016" fill="#EBF5FB" rx="20" ry="20" style="stroke:#3498DB;stroke-width:3.75;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="180" x="740" y="597.9346">Service SPI</text><!--MD5=[1b875c2263d3bc01d1d54d814852db4c]
entity selectionSpi--><ellipse cx="510" cy="519.1016" fill="#E9F7EF" rx="20" ry="20" style="stroke:#27AE60;stroke-width:3.75;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="207.5" x="406.25" y="597.9346">Selection SPI</text><!--MD5=[38bfa9dc6018363cafe15f923a4b8db9]
entity service--><rect fill="#FEFECE" height="119.0234" style="stroke:#D4AC0D;stroke-width:3.75;" width="225" x="715" y="789.1016"/><rect fill="#FEFECE" height="25" style="stroke:#D4AC0D;stroke-width:3.75;" width="37.5" x="890" y="801.6016"/><rect fill="#FEFECE" height="5" style="stroke:#D4AC0D;stroke-width:3.75;" width="10" x="885" y="806.6016"/><rect fill="#FEFECE" height="5" style="stroke:#D4AC0D;stroke-width:3.75;" width="10" x="885" y="816.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="125" x="752.5" y="875.4346">Adapter</text><!--MD5=[6ad09bc9cfee3915568353380d24c0b3]
entity specificPluginApi--><ellipse cx="1245" cy="519.1016" fill="#FDEDEC" rx="20" ry="20" style="stroke:#E74C3C;stroke-width:3.75;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="292.5" x="1098.75" y="597.9346">Specific Plugin API</text><!--MD5=[8e6a9284dc1da0ef8b54fdd8dc5bfba7]
entity plugin--><rect fill="#FDEDEC" height="119.0234" style="stroke:#E74C3C;stroke-width:3.75;" width="225" x="1080" y="789.1016"/><rect fill="#FDEDEC" height="25" style="stroke:#E74C3C;stroke-width:3.75;" width="37.5" x="1255" y="801.6016"/><rect fill="#FDEDEC" height="5" style="stroke:#E74C3C;stroke-width:3.75;" width="10" x="1250" y="806.6016"/><rect fill="#FDEDEC" height="5" style="stroke:#E74C3C;stroke-width:3.75;" width="10" x="1250" y="816.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="125" x="1117.5" y="875.4346">Adapter</text><!--MD5=[718fa0839d801591e7d1aac6ab3b37fd]
entity pluginSpi--><ellipse cx="865" cy="1239.1016" fill="#FDEDEC" rx="20" ry="20" style="stroke:#E74C3C;stroke-width:3.75;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="160" x="785" y="1317.9346">Plugin SPI</text><!--MD5=[c91beeae9d23cda8fa2ee4b23a5f449e]
entity pluginApi--><ellipse cx="1152.5" cy="1239.1016" fill="#FEFECE" rx="20" ry="20" style="stroke:#D4AC0D;stroke-width:3.75;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="160" x="1072.5" y="1317.9346">Plugin API</text><!--MD5=[37c33c71ce9550fe283f62c54b59719b]
entity application--><rect fill="#EBF5FB" height="119.0234" style="stroke:#3498DB;stroke-width:3.75;" width="405" x="467.5" y="74.1016"/><rect fill="#EBF5FB" height="25" style="stroke:#3498DB;stroke-width:3.75;" width="37.5" x="822.5" y="86.6016"/><rect fill="#EBF5FB" height="5" style="stroke:#3498DB;stroke-width:3.75;" width="10" x="817.5" y="91.6016"/><rect fill="#EBF5FB" height="5" style="stroke:#3498DB;stroke-width:3.75;" width="10" x="817.5" y="101.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="305" x="505" y="160.4346">Specific Application</text><!--MD5=[dd975a42fa90ddc569c4dfcb8e62438a]
link application to serviceSpi--><path d="M694.3,194.3166 C730.6675,280.6866 797.52,439.4641 821.3125,495.9691 " fill="none" id="application-serviceSpi" style="stroke:#3498DB;stroke-width:2.5;"/><!--MD5=[e1915561728177c50fc7ab13a7caef2d]
link application to selectionSpi--><path d="M645.7,194.3166 C609.3325,280.6866 542.48,439.4641 518.6875,495.9691 " fill="none" id="application-selectionSpi" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><!--MD5=[d4e6d8964fcbc574ec5996643969ac84]
link specificPluginApi to plugin--><path d="M1241.715,541.9316 C1233.86,590.5691 1213.745,715.0841 1201.8025,789.0066 " fill="none" id="specificPluginApi-plugin" style="stroke:#E74C3C;stroke-width:2.5;"/><!--MD5=[31f793b7a88a90184888e3e7c4dedf47]
link plugin to pluginSpi--><path d="M1137.035,909.8891 C1099.63,949.7816 1049.6075,1004.2716 1007.5,1054.1016 C959.24,1111.2116 905.8825,1181.6738 880.3125,1215.9381 " fill="none" id="plugin-pluginSpi" style="stroke:#E74C3C;stroke-width:2.5;"/><!--MD5=[d28946eb54196e7507811bcb95f3b5ce]
link serviceApi to service--><path d="M212.689,533.1691 C291.985,573.5941 560.29,710.3766 714.9975,789.2466 " fill="none" id="serviceApi-service" style="stroke:#D4AC0D;stroke-width:2.5;"/><!--MD5=[dd1eccd1e7426faad07553cf68d2ac5f]
link service to pluginApi--><path d="M880.3525,909.3391 C916.69,949.4516 965.7325,1004.4141 1007.5,1054.1016 C1055.9325,1111.7191 1110.53,1181.9511 1136.7675,1216.0518 " fill="none" id="service-pluginApi" style="stroke:#D4AC0D;stroke-width:2.5;"/><!--MD5=[f35ffbc0899202c7e505e115b456354e]
link application to specificPluginApi--><path d="M762.7975,194.5066 C824.685,233.4216 907.6525,286.1666 980,334.1016 C1064.4225,390.0366 1162.17,458.2716 1212.035,493.3366 " fill="none" id="application-to-specificPluginApi" style="stroke:#A80036;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1222.5,500.7016,1209.8543,479.5749,1212.2774,493.5079,1198.3444,495.931,1222.5,500.7016" style="stroke:#A80036;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="950" y="305.3394">use</text><!--MD5=[879ca4a963ad0fc65afcfcf02bc7792f]
link application to serviceApi--><path d="M553.8725,194.2841 C488.26,229.7991 406.7725,279.0041 342.5,334.1016 C289.09,379.8866 239.226,445.5641 211.844,484.3766 " fill="none" id="application-to-serviceApi" style="stroke:#A80036;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="204.089,495.5066,225.1569,482.7631,211.2352,485.2508,208.7476,471.3291,204.089,495.5066" style="stroke:#A80036;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="430" y="305.3394">use</text><!--MD5=[fcea5848e7739e307edf83637a530580]
reverse link serviceSpi to service--><path d="M829.745,554.6591 C829.3225,609.7166 828.4675,720.8591 827.9425,789.0066 " fill="none" id="serviceSpi-backto-service" style="stroke:#A80036;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="829.8425,541.9316,819.6692,564.3538,829.7461,554.4312,839.6686,564.508,829.8425,541.9316" style="stroke:#A80036;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="832.5" y="705.3394">use</text><!--MD5=[d0f8ba07fd6d43c7abb2d473cf28eaef]
reverse link selectionSpi to service--><path d="M538.9525,551.2366 C591.4625,604.9866 703.2475,719.4141 771.235,789.0066 " fill="none" id="selectionSpi-backto-service" style="stroke:#A80036;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="529.86,541.9316,538.4336,565.0128,538.5965,550.8716,552.7377,551.0345,529.86,541.9316" style="stroke:#A80036;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="700" y="705.3394">use</text><!--MD5=[bdfabf72ed0a19f9359d94fe43ccf0b8]
link service to pluginSpi--><path d="M823.6625,909.1066 C822.2025,933.7291 820.7175,962.8141 820,989.1016 C819.455,1009.0941 817.8175,1014.2216 820,1034.1016 C826.6375,1094.5691 844.105,1163.3971 855.2225,1203.2311 " fill="none" id="service-to-pluginSpi" style="stroke:#A80036;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="858.725,1215.5746,862.2032,1191.1993,855.3128,1203.5493,842.9628,1196.6589,858.725,1215.5746" style="stroke:#A80036;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="822.5" y="1025.3394">use</text><!--MD5=[e41df91f541512673a0e31599b8ee993]
link plugin to pluginApi--><path d="M1186.5125,909.2391 C1178.0075,991.1016 1162.7075,1138.3516 1155.9125,1203.7556 " fill="none" id="plugin-to-pluginApi" style="stroke:#A80036;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1154.5975,1216.4171,1166.8693,1195.0711,1155.8894,1203.984,1146.9764,1193.004,1154.5975,1216.4171" style="stroke:#A80036;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1177.5" y="1025.3394">use</text><!--MD5=[9f6c263679d709fa54e05f0e1b5f7958]
@startuml
title
    Keyple 2.0 - Plugin APIs dependencies - 29/01/2021
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define COLOR_YELLOW D4AC0D
!define COLOR_RED E74C3C
!define COLOR_PURPLE 8E44AD
!define COLOR_BLUE 3498DB
!define COLOR_GREEN 27AE60
!define COLOR_GREY 2C3E50

!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam component {
    BorderColor #D4AC0D
    ' Red
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    ' Purple
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    ' blue
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    ' Green
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    ' Grey
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
skinparam interface {
    BorderColor #D4AC0D
    ' Red
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    ' Purple
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    ' blue
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    ' Green
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    ' Grey
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
hide <<red>> stereotype
hide <<purple>> stereotype
hide <<blue>> stereotype
hide <<green>> stereotype
hide <<grey>> stereotype

' == COMPONENTS ==

[Specific Application] as application <<blue>>
package "keyple-java-service" as packService {
    interface "Service API" as serviceApi
    interface "Service SPI" as serviceSpi <<blue>>
    interface "Selection SPI" as selectionSpi <<green>>
    [Adapter] as service
}
package "Specific Plugin (PCSC...)" as packPlugin {
    interface "Specific Plugin API" as specificPluginApi <<red>>
    [Adapter] as plugin <<red>>
}
package "keyple-java-plugin-api" as packPluginApi {
    interface "Plugin SPI" as pluginSpi <<red>>
    interface "Plugin API" as pluginApi
}

' == ASSOCIATIONS ==

application - - serviceSpi #COLOR_BLUE
application .. selectionSpi #COLOR_BLUE

plugin -up- specificPluginApi #COLOR_RED
plugin - - pluginSpi #COLOR_RED

service -up- serviceApi #COLOR_YELLOW
service - - pluginApi #COLOR_YELLOW

' USE

application ..> specificPluginApi : use
application ..> serviceApi : use

service .up.> serviceSpi : use
service .up.> selectionSpi : use
service ..> pluginSpi : use

plugin ..> pluginApi : use

' == STYLE ==

package packPlugin #C_GREY1 {
}
package packService #C_GREY1 {
}
package packPluginApi #C_GREY1 {
}

@enduml

@startuml
title
    Keyple 2.0 - Plugin APIs dependencies - 29/01/2021
end title




skinparam Shadowing false
skinparam component {
    BorderColor #D4AC0D
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
skinparam interface {
    BorderColor #D4AC0D
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
hide <<red>> stereotype
hide <<purple>> stereotype
hide <<blue>> stereotype
hide <<green>> stereotype
hide <<grey>> stereotype


[Specific Application] as application <<blue>>
package "keyple-java-service" as packService {
    interface "Service API" as serviceApi
    interface "Service SPI" as serviceSpi <<blue>>
    interface "Selection SPI" as selectionSpi <<green>>
    [Adapter] as service
}
package "Specific Plugin (PCSC...)" as packPlugin {
    interface "Specific Plugin API" as specificPluginApi <<red>>
    [Adapter] as plugin <<red>>
}
package "keyple-java-plugin-api" as packPluginApi {
    interface "Plugin SPI" as pluginSpi <<red>>
    interface "Plugin API" as pluginApi
}


application - - serviceSpi #3498DB
application .. selectionSpi #3498DB

plugin -up- specificPluginApi #E74C3C
plugin - - pluginSpi #E74C3C

service -up- serviceApi #D4AC0D
service - - pluginApi #D4AC0D


application ..> specificPluginApi : use
application ..> serviceApi : use

service .up.> serviceSpi : use
service .up.> selectionSpi : use
service ..> pluginSpi : use

plugin ..> pluginApi : use


package packPlugin #F8F9F9 {
}
package packService #F8F9F9 {
}
package packPluginApi #F8F9F9 {
}

@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>