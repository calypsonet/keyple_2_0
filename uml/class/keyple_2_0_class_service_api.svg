<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="5320px" preserveAspectRatio="none" style="width:5060px;height:5320px;" version="1.1" viewBox="0 0 5060 5320" width="5060px" zoomAndPan="magnify"><defs><filter height="1" id="byf7qjnjpj88t0" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="947.5" x="2040" y="46.7139">Keyple 2.0 - keyple-service - 2.0.0 (05/02/2021)</text><rect fill="#DDDDDD" height="69.0234" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:2.5;" width="497.5" x="2263.75" y="76.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="140" x="2278.75" y="125.4346">Legend :</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="70" x="2428.75" y="125.4346">from</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="237.5" x="2508.75" y="125.4346">Commons API</text><!--MD5=[7579d5565d2521d5936cec86ed3dadee]
cluster service--><polygon fill="#F8F9F9" points="40,183.125,520,183.125,537.5,242.1484,5017.5,242.1484,5017.5,5303.125,40,5303.125,40,183.125" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="537.5" y1="242.1484" y2="242.1484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="465" x="50" y="224.458">org.eclipse.keyple.service</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="3135,3351.875,3202.5,3351.875,3220,3410.8984,4212.5,3410.8984,4212.5,3636.875,3135,3636.875,3135,3351.875" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="3135" x2="3220" y1="3410.8984" y2="3410.8984"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="3145" y="3393.208">spi</text><!--MD5=[3400e5e1a9d8ffd8780970ed03335273]
cluster selection--><polygon fill="#F2F3F4" points="100,376.875,277.5,376.875,295,435.8984,2417.5,435.8984,2417.5,3775.625,100,3775.625,100,376.875" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="100" x2="295" y1="435.8984" y2="435.8984"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="162.5" x="110" y="418.208">selection</text><!--MD5=[c96d8bee8ec60da1ef6ad554183a6a76]
cluster selectionSpi--><polygon fill="#E5E7E9" points="160,1905.625,227.5,1905.625,245,1964.6484,2357.5,1964.6484,2357.5,3715.625,160,3715.625,160,1905.625" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="160" x2="245" y1="1964.6484" y2="1964.6484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="170" y="1946.958">spi</text><!--MD5=[b4b6a5721e02f7cea6ba89274ea67351]
class NotificationMode--><rect codeLine="149" fill="#FEFECE" height="189.1797" id="NotificationMode" style="stroke:#D4AC0D;stroke-width:3.75;" width="335" x="4260" y="3424.375"/><ellipse cx="4297.5" cy="3464.375" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M4293.75,3466.875 L4293.75,3471.875 L4303.75,3471.875 L4303.75,3469.375 L4303.75,3468.1641 L4305.3125,3466.875 L4306.25,3466.875 L4307.1875,3466.875 L4308.75,3468.1641 L4308.75,3469.375 L4308.75,3476.875 L4288.75,3476.875 L4287.5391,3476.875 L4286.25,3475.3125 L4286.25,3474.375 L4286.25,3473.4375 L4287.5391,3471.875 L4288.75,3471.875 L4288.75,3471.875 L4288.75,3456.875 L4288.75,3456.875 L4287.5391,3456.875 L4286.25,3455.3125 L4286.25,3454.375 L4286.25,3453.4375 L4287.5391,3451.875 L4288.75,3451.875 L4308.75,3451.875 L4308.75,3459.375 L4308.75,3460.5859 L4307.1875,3461.875 L4306.25,3461.875 L4305.3125,3461.875 L4303.75,3460.5859 L4303.75,3459.375 L4303.75,3456.875 L4293.75,3456.875 L4293.75,3461.875 L4296.25,3461.875 L4296.25,3460.6641 L4296.25,3460.6641 L4297.8125,3459.375 L4298.75,3459.375 L4299.6875,3459.375 L4301.25,3460.6641 L4301.25,3461.875 L4301.25,3466.875 L4301.25,3468.0859 L4299.6875,3469.375 L4299.6875,3469.375 L4298.75,3469.375 L4297.8125,3469.375 L4296.25,3468.0859 L4296.25,3468.0859 L4296.25,3466.875 L4293.75,3466.875 Z " fill="#000000"/><ellipse cx="4345" cy="3463.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="227.5" x="4360" y="3476.6504">NotificationMode</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4262.5" x2="4592.5" y1="3504.375" y2="3504.375"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="117.5" x="4275" y="3542.9224">ALWAYS</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="4275" y="3577.5122">MATCHED_ONLY</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4262.5" x2="4592.5" y1="3593.5547" y2="3593.5547"/><!--MD5=[4db98615c12e554c8946e39d7c0e78ca]
class PollingMode--><rect codeLine="153" fill="#FEFECE" height="189.1797" id="PollingMode" style="stroke:#D4AC0D;stroke-width:3.75;" width="277.5" x="4683.75" y="3424.375"/><ellipse cx="4721.25" cy="3464.375" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M4717.5,3466.875 L4717.5,3471.875 L4727.5,3471.875 L4727.5,3469.375 L4727.5,3468.1641 L4729.0625,3466.875 L4730,3466.875 L4730.9375,3466.875 L4732.5,3468.1641 L4732.5,3469.375 L4732.5,3476.875 L4712.5,3476.875 L4711.2891,3476.875 L4710,3475.3125 L4710,3474.375 L4710,3473.4375 L4711.2891,3471.875 L4712.5,3471.875 L4712.5,3471.875 L4712.5,3456.875 L4712.5,3456.875 L4711.2891,3456.875 L4710,3455.3125 L4710,3454.375 L4710,3453.4375 L4711.2891,3451.875 L4712.5,3451.875 L4732.5,3451.875 L4732.5,3459.375 L4732.5,3460.5859 L4730.9375,3461.875 L4730,3461.875 L4729.0625,3461.875 L4727.5,3460.5859 L4727.5,3459.375 L4727.5,3456.875 L4717.5,3456.875 L4717.5,3461.875 L4720,3461.875 L4720,3460.6641 L4720,3460.6641 L4721.5625,3459.375 L4722.5,3459.375 L4723.4375,3459.375 L4725,3460.6641 L4725,3461.875 L4725,3466.875 L4725,3468.0859 L4723.4375,3469.375 L4723.4375,3469.375 L4722.5,3469.375 L4721.5625,3469.375 L4720,3468.0859 L4720,3468.0859 L4720,3466.875 L4717.5,3466.875 Z " fill="#000000"/><ellipse cx="4768.75" cy="3463.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="170" x="4783.75" y="3476.6504">PollingMode</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4686.25" x2="4958.75" y1="3504.375" y2="3504.375"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="140" x="4698.75" y="3542.9224">REPEATING</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="160" x="4698.75" y="3577.5122">SINGLESHOT</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4686.25" x2="4958.75" y1="3593.5547" y2="3593.5547"/><!--MD5=[df72700ac22eeb6165072f159208e08c]
class PluginEvent--><rect codeLine="157" fill="#FEFECE" height="471.7773" id="PluginEvent" style="stroke:#D4AC0D;stroke-width:3.75;" width="527.5" x="3038.75" y="3953.125"/><ellipse cx="3116.75" cy="4003.3594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3121.75,3994.6094 Q3122.2578,3993.3594 3122.8438,3992.7344 Q3123.4297,3992.1094 3124.0938,3992.1094 Q3125.2656,3992.1094 3126.0078,3992.8125 Q3126.75,3993.5156 3126.75,3995.1563 L3126.75,3999.0625 Q3126.75,4000.7031 3126.0469,4001.4063 Q3125.3438,4002.1094 3124.25,4002.1094 Q3123.2734,4002.1094 3122.6484,4001.6797 Q3122.0234,4001.25 3121.75,4000.1172 Q3121.6328,3999.3359 3121.2031,3998.9063 Q3120.4219,3998.0859 3119.0156,3997.6172 Q3117.6094,3997.1094 3116.2031,3997.1094 Q3114.4453,3997.1094 3112.9609,3997.8125 Q3111.5156,3998.5156 3110.3828,4000.0781 Q3109.25,4001.6406 3109.25,4003.7891 L3109.25,4006.0938 Q3109.25,4008.6719 3111.3594,4010.3906 Q3113.4688,4012.1094 3117.2188,4012.1094 Q3119.4453,4012.1094 3121.0078,4011.6016 Q3121.9063,4011.3281 3122.9219,4010.4297 Q3123.5859,4009.9219 3123.9375,4009.7656 Q3124.2891,4009.6094 3124.7188,4009.6094 Q3125.5391,4009.6094 3126.125,4010.2734 Q3126.75,4010.8984 3126.75,4011.7969 Q3126.75,4012.6563 3125.8906,4013.6719 Q3124.6406,4015.1563 3122.6484,4015.9766 Q3120.0313,4017.1094 3116.8281,4017.1094 Q3113.0781,4017.1094 3110.0703,4015.625 Q3107.6484,4014.4531 3105.9297,4011.9141 Q3104.25,4009.375 3104.25,4006.3672 L3104.25,4003.6328 Q3104.25,4000.5078 3105.7344,3997.7734 Q3107.2578,3995.0391 3109.875,3993.5938 Q3112.5313,3992.1094 3115.5,3992.1094 Q3117.2969,3992.1094 3118.8594,3992.7344 Q3120.4219,3993.3594 3121.75,3994.6094 Z " fill="#000000"/><ellipse cx="3173.25" cy="4002.1094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3188.25" y="3996.7676">&lt;&lt;</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="260" x="3223.25" y="3996.7676">KeyplePluginEvent</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3483.25" y="3996.7676">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3237" y="4034.502">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="165" x="3304.5" y="4034.502">PluginEvent</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3041.25" x2="3563.75" y1="4053.5938" y2="4053.5938"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3041.25" x2="3563.75" y1="4073.5938" y2="4073.5938"/><ellipse cx="3066.25" cy="4101.0938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="377.5" x="3088.75" y="4112.1411">PluginEvent (String pluginName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="3148.75" y="4146.731">String readerName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="3148.75" y="4181.3208">EventType eventType)</text><ellipse cx="3066.25" cy="4204.8633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="377.5" x="3088.75" y="4215.9106">PluginEvent (String pluginName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="317.5" x="3148.75" y="4250.5005">Set&lt;String&gt; readerNames,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="3148.75" y="4285.0903">EventType eventType)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3041.25" x2="3563.75" y1="4301.1328" y2="4301.1328"/><ellipse cx="3066.25" cy="4328.6328" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="280" x="3088.75" y="4339.6802">String getPluginName ()</text><ellipse cx="3066.25" cy="4363.2227" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="462.5" x="3088.75" y="4374.27">SortedSet&lt;String&gt; getReaderNames ()</text><ellipse cx="3066.25" cy="4397.8125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="3088.75" y="4408.8599">EventType getEventType ()</text><!--MD5=[615672f8f9e7dc1c0373737ea5be9f3b]
class PluginEventType--><rect codeLine="170" fill="#FEFECE" height="223.7695" id="PluginEventType" style="stroke:#D4AC0D;stroke-width:3.75;" width="340" x="3132.5" y="4611.875"/><ellipse cx="3209.375" cy="4651.875" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M3205.625,4654.375 L3205.625,4659.375 L3215.625,4659.375 L3215.625,4656.875 L3215.625,4655.6641 L3217.1875,4654.375 L3218.125,4654.375 L3219.0625,4654.375 L3220.625,4655.6641 L3220.625,4656.875 L3220.625,4664.375 L3200.625,4664.375 L3199.4141,4664.375 L3198.125,4662.8125 L3198.125,4661.875 L3198.125,4660.9375 L3199.4141,4659.375 L3200.625,4659.375 L3200.625,4659.375 L3200.625,4644.375 L3200.625,4644.375 L3199.4141,4644.375 L3198.125,4642.8125 L3198.125,4641.875 L3198.125,4640.9375 L3199.4141,4639.375 L3200.625,4639.375 L3220.625,4639.375 L3220.625,4646.875 L3220.625,4648.0859 L3219.0625,4649.375 L3218.125,4649.375 L3217.1875,4649.375 L3215.625,4648.0859 L3215.625,4646.875 L3215.625,4644.375 L3205.625,4644.375 L3205.625,4649.375 L3208.125,4649.375 L3208.125,4648.1641 L3208.125,4648.1641 L3209.6875,4646.875 L3210.625,4646.875 L3211.5625,4646.875 L3213.125,4648.1641 L3213.125,4649.375 L3213.125,4654.375 L3213.125,4655.5859 L3211.5625,4656.875 L3211.5625,4656.875 L3210.625,4656.875 L3209.6875,4656.875 L3208.125,4655.5859 L3208.125,4655.5859 L3208.125,4654.375 L3205.625,4654.375 Z " fill="#000000"/><ellipse cx="3265.625" cy="4650.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="145" x="3280.625" y="4664.1504">EventType</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3135" x2="3470" y1="4691.875" y2="4691.875"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="270" x="3147.5" y="4730.4224">READER_CONNECTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="3147.5" y="4765.0122">READER_DISCONNECTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="190" x="3147.5" y="4799.6021">UNREGISTERED</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3135" x2="3470" y1="4815.6445" y2="4815.6445"/><!--MD5=[9a5f54023274c57ee24edb1ade6872b1]
class ReaderEvent--><rect codeLine="175" fill="#FEFECE" height="506.3672" id="ReaderEvent" style="stroke:#D4AC0D;stroke-width:3.75;" width="887.5" x="3653.75" y="3935.625"/><ellipse cx="3900.625" cy="3985.8594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3905.625,3977.1094 Q3906.1328,3975.8594 3906.7188,3975.2344 Q3907.3047,3974.6094 3907.9688,3974.6094 Q3909.1406,3974.6094 3909.8828,3975.3125 Q3910.625,3976.0156 3910.625,3977.6563 L3910.625,3981.5625 Q3910.625,3983.2031 3909.9219,3983.9063 Q3909.2188,3984.6094 3908.125,3984.6094 Q3907.1484,3984.6094 3906.5234,3984.1797 Q3905.8984,3983.75 3905.625,3982.6172 Q3905.5078,3981.8359 3905.0781,3981.4063 Q3904.2969,3980.5859 3902.8906,3980.1172 Q3901.4844,3979.6094 3900.0781,3979.6094 Q3898.3203,3979.6094 3896.8359,3980.3125 Q3895.3906,3981.0156 3894.2578,3982.5781 Q3893.125,3984.1406 3893.125,3986.2891 L3893.125,3988.5938 Q3893.125,3991.1719 3895.2344,3992.8906 Q3897.3438,3994.6094 3901.0938,3994.6094 Q3903.3203,3994.6094 3904.8828,3994.1016 Q3905.7813,3993.8281 3906.7969,3992.9297 Q3907.4609,3992.4219 3907.8125,3992.2656 Q3908.1641,3992.1094 3908.5938,3992.1094 Q3909.4141,3992.1094 3910,3992.7734 Q3910.625,3993.3984 3910.625,3994.2969 Q3910.625,3995.1563 3909.7656,3996.1719 Q3908.5156,3997.6563 3906.5234,3998.4766 Q3903.9063,3999.6094 3900.7031,3999.6094 Q3896.9531,3999.6094 3893.9453,3998.125 Q3891.5234,3996.9531 3889.8047,3994.4141 Q3888.125,3991.875 3888.125,3988.8672 L3888.125,3986.1328 Q3888.125,3983.0078 3889.6094,3980.2734 Q3891.1328,3977.5391 3893.75,3976.0938 Q3896.4063,3974.6094 3899.375,3974.6094 Q3901.1719,3974.6094 3902.7344,3975.2344 Q3904.2969,3975.8594 3905.625,3977.1094 Z " fill="#000000"/><ellipse cx="3964.375" cy="3984.6094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3979.375" y="3979.2676">&lt;&lt;</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="275" x="4014.375" y="3979.2676">KeypleReaderEvent</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="4289.375" y="3979.2676">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="4028.125" y="4017.002">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="4095.625" y="4017.002">ReaderEvent</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3656.25" x2="4538.75" y1="4036.0938" y2="4036.0938"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3656.25" x2="4538.75" y1="4056.0938" y2="4056.0938"/><ellipse cx="3681.25" cy="4083.5938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="395" x="3703.75" y="4094.6411">ReaderEvent (String pluginName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="3763.75" y="4129.231">String readerName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="270" x="3763.75" y="4163.8208">EventType eventType,</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="415" x="3763.75" y="4198.4106">KeypleDefaultSelectionsResponse</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="340" x="4186.25" y="4198.4106">defaultSelectionsResponse)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3656.25" x2="4538.75" y1="4214.4531" y2="4214.4531"/><ellipse cx="3681.25" cy="4241.9531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="280" x="3703.75" y="4253.0005">String getPluginName ()</text><ellipse cx="3681.25" cy="4276.543" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="297.5" x="3703.75" y="4287.5903">String getReaderName ()</text><ellipse cx="3681.25" cy="4311.1328" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="3703.75" y="4322.1802">EventType getEventType ()</text><ellipse cx="3681.25" cy="4345.7227" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="415" x="3703.75" y="4356.77">KeypleDefaultSelectionsResponse</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="4126.25" y="4356.77">getDefaultSelectionsResponse ()</text><ellipse cx="3681.25" cy="4380.3125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="212.5" x="3703.75" y="4391.3599">Plugin getPlugin ()</text><ellipse cx="3681.25" cy="4414.9023" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="3703.75" y="4425.9497">Reader getReader ()</text><!--MD5=[c497011182ae060ffe3becc5fae50c50]
class ReaderEventType--><rect codeLine="189" fill="#FEFECE" height="258.3594" id="ReaderEventType" style="stroke:#D4AC0D;stroke-width:3.75;" width="252.5" x="3971.25" y="4595.625"/><ellipse cx="4008.75" cy="4635.625" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M4005,4638.125 L4005,4643.125 L4015,4643.125 L4015,4640.625 L4015,4639.4141 L4016.5625,4638.125 L4017.5,4638.125 L4018.4375,4638.125 L4020,4639.4141 L4020,4640.625 L4020,4648.125 L4000,4648.125 L3998.7891,4648.125 L3997.5,4646.5625 L3997.5,4645.625 L3997.5,4644.6875 L3998.7891,4643.125 L4000,4643.125 L4000,4643.125 L4000,4628.125 L4000,4628.125 L3998.7891,4628.125 L3997.5,4626.5625 L3997.5,4625.625 L3997.5,4624.6875 L3998.7891,4623.125 L4000,4623.125 L4020,4623.125 L4020,4630.625 L4020,4631.8359 L4018.4375,4633.125 L4017.5,4633.125 L4016.5625,4633.125 L4015,4631.8359 L4015,4630.625 L4015,4628.125 L4005,4628.125 L4005,4633.125 L4007.5,4633.125 L4007.5,4631.9141 L4007.5,4631.9141 L4009.0625,4630.625 L4010,4630.625 L4010.9375,4630.625 L4012.5,4631.9141 L4012.5,4633.125 L4012.5,4638.125 L4012.5,4639.3359 L4010.9375,4640.625 L4010.9375,4640.625 L4010,4640.625 L4009.0625,4640.625 L4007.5,4639.3359 L4007.5,4639.3359 L4007.5,4638.125 L4005,4638.125 Z " fill="#000000"/><ellipse cx="4056.25" cy="4634.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="145" x="4071.25" y="4647.9004">EventType</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3973.75" x2="4221.25" y1="4675.625" y2="4675.625"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="207.5" x="3986.25" y="4714.1724">CARD_INSERTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3986.25" y="4748.7622">CARD_MATCHED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="212.5" x="3986.25" y="4783.3521">CARD_REMOVED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="190" x="3986.25" y="4817.9419">UNREGISTERED</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3973.75" x2="4221.25" y1="4833.9844" y2="4833.9844"/><!--MD5=[d3edd9226f9fbbabec9684d3a15a070e]
class KeypleException--><rect codeLine="309" fill="#FEFECE" height="209.6484" id="KeypleException" style="stroke:#D4AC0D;stroke-width:3.75;" width="707.5" x="1641.25" y="4084.375"/><ellipse cx="1809.375" cy="4134.6094" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M1813.75,4138.3594 L1805.5078,4138.3594 L1804.4141,4140.8594 L1804.4141,4140.8594 L1805.5859,4140.8594 L1806.875,4142.4219 L1806.875,4143.3594 L1806.875,4144.2969 L1805.5859,4145.8594 L1804.4141,4145.8594 L1799.6875,4145.8594 L1798.1641,4145.8594 L1796.875,4144.2969 L1796.875,4143.3594 L1796.875,4142.4219 L1798.1641,4140.8594 L1799.6875,4140.8594 L1805.4688,4125.8594 L1803.2813,4125.8594 L1800.6641,4125.8594 L1799.375,4124.2969 L1799.375,4123.3594 L1799.375,4122.4219 L1800.6641,4120.8594 L1803.2813,4120.8594 L1812.4609,4120.8594 L1819.1797,4140.8594 L1820.5859,4140.8594 L1820.5859,4140.8594 L1821.875,4142.4219 L1821.875,4143.3594 L1821.875,4144.2969 L1820.5859,4145.8594 L1819.1797,4145.8594 L1814.4531,4145.8594 L1813.1641,4145.8594 L1811.875,4144.2969 L1811.875,4143.3594 L1811.875,4142.4219 L1813.1641,4140.8594 L1814.4531,4140.8594 L1814.4531,4140.8594 L1813.75,4138.3594 Z M1812.3828,4133.3594 L1809.375,4124.4141 L1806.7969,4133.3594 L1812.3828,4133.3594 Z " fill="#000000"/><ellipse cx="1873.125" cy="4133.3594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="1888.125" y="4128.0176">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="230" x="1934.375" y="4165.752">KeypleException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1643.75" x2="2346.25" y1="4184.8438" y2="4184.8438"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1643.75" x2="2346.25" y1="4204.8438" y2="4204.8438"/><polygon fill="#FFFF44" points="1668.75,4219.8438,1678.75,4229.8438,1668.75,4239.8438,1658.75,4229.8438" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="415" x="1691.25" y="4243.3911">KeypleException (String message)</text><polygon fill="#FFFF44" points="1668.75,4254.4336,1678.75,4264.4336,1668.75,4274.4336,1658.75,4264.4336" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="642.5" x="1691.25" y="4277.981">KeypleException (String message, Throwable cause)</text><!--MD5=[e28c18b0b47d723f04b587528ac0b111]
class KeyplePluginException--><rect codeLine="313" fill="#FEFECE" height="258.3594" id="KeyplePluginException" style="stroke:#D4AC0D;stroke-width:3.75;" width="550" x="1720" y="4595.625"/><ellipse cx="1813.75" cy="4635.625" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M1818.125,4639.375 L1809.8828,4639.375 L1808.7891,4641.875 L1808.7891,4641.875 L1809.9609,4641.875 L1811.25,4643.4375 L1811.25,4644.375 L1811.25,4645.3125 L1809.9609,4646.875 L1808.7891,4646.875 L1804.0625,4646.875 L1802.5391,4646.875 L1801.25,4645.3125 L1801.25,4644.375 L1801.25,4643.4375 L1802.5391,4641.875 L1804.0625,4641.875 L1809.8438,4626.875 L1807.6563,4626.875 L1805.0391,4626.875 L1803.75,4625.3125 L1803.75,4624.375 L1803.75,4623.4375 L1805.0391,4621.875 L1807.6563,4621.875 L1816.8359,4621.875 L1823.5547,4641.875 L1824.9609,4641.875 L1824.9609,4641.875 L1826.25,4643.4375 L1826.25,4644.375 L1826.25,4645.3125 L1824.9609,4646.875 L1823.5547,4646.875 L1818.8281,4646.875 L1817.5391,4646.875 L1816.25,4645.3125 L1816.25,4644.375 L1816.25,4643.4375 L1817.5391,4641.875 L1818.8281,4641.875 L1818.8281,4641.875 L1818.125,4639.375 Z M1816.7578,4634.375 L1813.75,4625.4297 L1811.1719,4634.375 L1816.7578,4634.375 Z " fill="#000000"/><ellipse cx="1873.75" cy="4634.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="317.5" x="1888.75" y="4647.9004">KeyplePluginException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1722.5" x2="2267.5" y1="4675.625" y2="4675.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1722.5" x2="2267.5" y1="4695.625" y2="4695.625"/><polygon fill="#FFFF44" points="1747.5,4710.625,1757.5,4720.625,1747.5,4730.625,1737.5,4720.625" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="1770" y="4734.1724">KeyplePluginException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="1830" y="4768.7622">String message)</text><polygon fill="#FFFF44" points="1747.5,4779.8047,1757.5,4789.8047,1747.5,4799.8047,1737.5,4789.8047" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="1770" y="4803.3521">KeyplePluginException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1830" y="4837.9419">String message, Throwable cause)</text><!--MD5=[33290d258145094ecbad288d521eef19]
class KeyplePluginInstantiationException--><rect codeLine="319" fill="#FEFECE" height="258.3594" id="KeyplePluginInstantiationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="592.5" x="1698.75" y="5005.625"/><ellipse cx="1736.25" cy="5045.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1741.25,5036.875 Q1741.7578,5035.625 1742.3438,5035 Q1742.9297,5034.375 1743.5938,5034.375 Q1744.7656,5034.375 1745.5078,5035.0781 Q1746.25,5035.7813 1746.25,5037.4219 L1746.25,5041.3281 Q1746.25,5042.9688 1745.5469,5043.6719 Q1744.8438,5044.375 1743.75,5044.375 Q1742.7734,5044.375 1742.1484,5043.9453 Q1741.5234,5043.5156 1741.25,5042.3828 Q1741.1328,5041.6016 1740.7031,5041.1719 Q1739.9219,5040.3516 1738.5156,5039.8828 Q1737.1094,5039.375 1735.7031,5039.375 Q1733.9453,5039.375 1732.4609,5040.0781 Q1731.0156,5040.7813 1729.8828,5042.3438 Q1728.75,5043.9063 1728.75,5046.0547 L1728.75,5048.3594 Q1728.75,5050.9375 1730.8594,5052.6563 Q1732.9688,5054.375 1736.7188,5054.375 Q1738.9453,5054.375 1740.5078,5053.8672 Q1741.4063,5053.5938 1742.4219,5052.6953 Q1743.0859,5052.1875 1743.4375,5052.0313 Q1743.7891,5051.875 1744.2188,5051.875 Q1745.0391,5051.875 1745.625,5052.5391 Q1746.25,5053.1641 1746.25,5054.0625 Q1746.25,5054.9219 1745.3906,5055.9375 Q1744.1406,5057.4219 1742.1484,5058.2422 Q1739.5313,5059.375 1736.3281,5059.375 Q1732.5781,5059.375 1729.5703,5057.8906 Q1727.1484,5056.7188 1725.4297,5054.1797 Q1723.75,5051.6406 1723.75,5048.6328 L1723.75,5045.8984 Q1723.75,5042.7734 1725.2344,5040.0391 Q1726.7578,5037.3047 1729.375,5035.8594 Q1732.0313,5034.375 1735,5034.375 Q1736.7969,5034.375 1738.3594,5035 Q1739.9219,5035.625 1741.25,5036.875 Z " fill="#000000"/><ellipse cx="1783.75" cy="5044.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="485" x="1798.75" y="5057.9004">KeyplePluginInstantiationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1701.25" x2="2288.75" y1="5085.625" y2="5085.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1701.25" x2="2288.75" y1="5105.625" y2="5105.625"/><ellipse cx="1726.25" cy="5133.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="430" x="1748.75" y="5144.1724">KeyplePluginInstantiationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="1808.75" y="5178.7622">String message)</text><ellipse cx="1726.25" cy="5202.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="430" x="1748.75" y="5213.3521">KeyplePluginInstantiationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1808.75" y="5247.9419">String message, Throwable cause)</text><!--MD5=[080736e052dc4d3b44217e8bc049ccf7]
class KeyplePluginNotFoundException--><rect codeLine="325" fill="#FEFECE" height="189.1797" id="KeyplePluginNotFoundException" style="stroke:#D4AC0D;stroke-width:3.75;" width="560" x="1050" y="5039.375"/><ellipse cx="1087.5" cy="5079.375" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1092.5,5070.625 Q1093.0078,5069.375 1093.5938,5068.75 Q1094.1797,5068.125 1094.8438,5068.125 Q1096.0156,5068.125 1096.7578,5068.8281 Q1097.5,5069.5313 1097.5,5071.1719 L1097.5,5075.0781 Q1097.5,5076.7188 1096.7969,5077.4219 Q1096.0938,5078.125 1095,5078.125 Q1094.0234,5078.125 1093.3984,5077.6953 Q1092.7734,5077.2656 1092.5,5076.1328 Q1092.3828,5075.3516 1091.9531,5074.9219 Q1091.1719,5074.1016 1089.7656,5073.6328 Q1088.3594,5073.125 1086.9531,5073.125 Q1085.1953,5073.125 1083.7109,5073.8281 Q1082.2656,5074.5313 1081.1328,5076.0938 Q1080,5077.6563 1080,5079.8047 L1080,5082.1094 Q1080,5084.6875 1082.1094,5086.4063 Q1084.2188,5088.125 1087.9688,5088.125 Q1090.1953,5088.125 1091.7578,5087.6172 Q1092.6563,5087.3438 1093.6719,5086.4453 Q1094.3359,5085.9375 1094.6875,5085.7813 Q1095.0391,5085.625 1095.4688,5085.625 Q1096.2891,5085.625 1096.875,5086.2891 Q1097.5,5086.9141 1097.5,5087.8125 Q1097.5,5088.6719 1096.6406,5089.6875 Q1095.3906,5091.1719 1093.3984,5091.9922 Q1090.7813,5093.125 1087.5781,5093.125 Q1083.8281,5093.125 1080.8203,5091.6406 Q1078.3984,5090.4688 1076.6797,5087.9297 Q1075,5085.3906 1075,5082.3828 L1075,5079.6484 Q1075,5076.5234 1076.4844,5073.7891 Q1078.0078,5071.0547 1080.625,5069.6094 Q1083.2813,5068.125 1086.25,5068.125 Q1088.0469,5068.125 1089.6094,5068.75 Q1091.1719,5069.375 1092.5,5070.625 Z " fill="#000000"/><ellipse cx="1135" cy="5078.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="452.5" x="1150" y="5091.6504">KeyplePluginNotFoundException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1052.5" x2="1607.5" y1="5119.375" y2="5119.375"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1052.5" x2="1607.5" y1="5139.375" y2="5139.375"/><ellipse cx="1077.5" cy="5166.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="1100" y="5177.9224">KeyplePluginNotFoundException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="1160" y="5212.5122">String message)</text><!--MD5=[6ef37e95a1d5a637818d74d031c721fd]
class KeypleReaderException--><rect codeLine="329" fill="#FEFECE" height="258.3594" id="KeypleReaderException" style="stroke:#D4AC0D;stroke-width:3.75;" width="550" x="2467.5" y="4595.625"/><ellipse cx="2554.5" cy="4635.625" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M2558.875,4639.375 L2550.6328,4639.375 L2549.5391,4641.875 L2549.5391,4641.875 L2550.7109,4641.875 L2552,4643.4375 L2552,4644.375 L2552,4645.3125 L2550.7109,4646.875 L2549.5391,4646.875 L2544.8125,4646.875 L2543.2891,4646.875 L2542,4645.3125 L2542,4644.375 L2542,4643.4375 L2543.2891,4641.875 L2544.8125,4641.875 L2550.5938,4626.875 L2548.4063,4626.875 L2545.7891,4626.875 L2544.5,4625.3125 L2544.5,4624.375 L2544.5,4623.4375 L2545.7891,4621.875 L2548.4063,4621.875 L2557.5859,4621.875 L2564.3047,4641.875 L2565.7109,4641.875 L2565.7109,4641.875 L2567,4643.4375 L2567,4644.375 L2567,4645.3125 L2565.7109,4646.875 L2564.3047,4646.875 L2559.5781,4646.875 L2558.2891,4646.875 L2557,4645.3125 L2557,4644.375 L2557,4643.4375 L2558.2891,4641.875 L2559.5781,4641.875 L2559.5781,4641.875 L2558.875,4639.375 Z M2557.5078,4634.375 L2554.5,4625.4297 L2551.9219,4634.375 L2557.5078,4634.375 Z " fill="#000000"/><ellipse cx="2613" cy="4634.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="332.5" x="2628" y="4647.9004">KeypleReaderException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2470" x2="3015" y1="4675.625" y2="4675.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2470" x2="3015" y1="4695.625" y2="4695.625"/><polygon fill="#FFFF44" points="2495,4710.625,2505,4720.625,2495,4730.625,2485,4720.625" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="305" x="2517.5" y="4734.1724">KeypleReaderException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="2577.5" y="4768.7622">String message)</text><polygon fill="#FFFF44" points="2495,4779.8047,2505,4789.8047,2495,4799.8047,2485,4789.8047" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="305" x="2517.5" y="4803.3521">KeypleReaderException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="2577.5" y="4837.9419">String message, Throwable cause)</text><!--MD5=[14e6400c4da315b6bcaa3f46dfe3536e]
class KeypleReaderCommunicationException--><rect codeLine="335" fill="#FEFECE" height="258.3594" id="KeypleReaderCommunicationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="660" x="2380" y="5005.625"/><ellipse cx="2417.5" cy="5045.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2422.5,5036.875 Q2423.0078,5035.625 2423.5938,5035 Q2424.1797,5034.375 2424.8438,5034.375 Q2426.0156,5034.375 2426.7578,5035.0781 Q2427.5,5035.7813 2427.5,5037.4219 L2427.5,5041.3281 Q2427.5,5042.9688 2426.7969,5043.6719 Q2426.0938,5044.375 2425,5044.375 Q2424.0234,5044.375 2423.3984,5043.9453 Q2422.7734,5043.5156 2422.5,5042.3828 Q2422.3828,5041.6016 2421.9531,5041.1719 Q2421.1719,5040.3516 2419.7656,5039.8828 Q2418.3594,5039.375 2416.9531,5039.375 Q2415.1953,5039.375 2413.7109,5040.0781 Q2412.2656,5040.7813 2411.1328,5042.3438 Q2410,5043.9063 2410,5046.0547 L2410,5048.3594 Q2410,5050.9375 2412.1094,5052.6563 Q2414.2188,5054.375 2417.9688,5054.375 Q2420.1953,5054.375 2421.7578,5053.8672 Q2422.6563,5053.5938 2423.6719,5052.6953 Q2424.3359,5052.1875 2424.6875,5052.0313 Q2425.0391,5051.875 2425.4688,5051.875 Q2426.2891,5051.875 2426.875,5052.5391 Q2427.5,5053.1641 2427.5,5054.0625 Q2427.5,5054.9219 2426.6406,5055.9375 Q2425.3906,5057.4219 2423.3984,5058.2422 Q2420.7813,5059.375 2417.5781,5059.375 Q2413.8281,5059.375 2410.8203,5057.8906 Q2408.3984,5056.7188 2406.6797,5054.1797 Q2405,5051.6406 2405,5048.6328 L2405,5045.8984 Q2405,5042.7734 2406.4844,5040.0391 Q2408.0078,5037.3047 2410.625,5035.8594 Q2413.2813,5034.375 2416.25,5034.375 Q2418.0469,5034.375 2419.6094,5035 Q2421.1719,5035.625 2422.5,5036.875 Z " fill="#000000"/><ellipse cx="2465" cy="5044.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="552.5" x="2480" y="5057.9004">KeypleReaderCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2382.5" x2="3037.5" y1="5085.625" y2="5085.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2382.5" x2="3037.5" y1="5105.625" y2="5105.625"/><ellipse cx="2407.5" cy="5133.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="2430" y="5144.1724">KeypleReaderCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="2490" y="5178.7622">String message)</text><ellipse cx="2407.5" cy="5202.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="2430" y="5213.3521">KeypleReaderCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="2490" y="5247.9419">String message, Throwable cause)</text><!--MD5=[4ffeec40c3c9dc844d7b20b63ef2abb5]
class KeypleReaderNotFoundException--><rect codeLine="341" fill="#FEFECE" height="258.3594" id="KeypleReaderNotFoundException" style="stroke:#D4AC0D;stroke-width:3.75;" width="575" x="3127.5" y="5005.625"/><ellipse cx="3165" cy="5045.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3170,5036.875 Q3170.5078,5035.625 3171.0938,5035 Q3171.6797,5034.375 3172.3438,5034.375 Q3173.5156,5034.375 3174.2578,5035.0781 Q3175,5035.7813 3175,5037.4219 L3175,5041.3281 Q3175,5042.9688 3174.2969,5043.6719 Q3173.5938,5044.375 3172.5,5044.375 Q3171.5234,5044.375 3170.8984,5043.9453 Q3170.2734,5043.5156 3170,5042.3828 Q3169.8828,5041.6016 3169.4531,5041.1719 Q3168.6719,5040.3516 3167.2656,5039.8828 Q3165.8594,5039.375 3164.4531,5039.375 Q3162.6953,5039.375 3161.2109,5040.0781 Q3159.7656,5040.7813 3158.6328,5042.3438 Q3157.5,5043.9063 3157.5,5046.0547 L3157.5,5048.3594 Q3157.5,5050.9375 3159.6094,5052.6563 Q3161.7188,5054.375 3165.4688,5054.375 Q3167.6953,5054.375 3169.2578,5053.8672 Q3170.1563,5053.5938 3171.1719,5052.6953 Q3171.8359,5052.1875 3172.1875,5052.0313 Q3172.5391,5051.875 3172.9688,5051.875 Q3173.7891,5051.875 3174.375,5052.5391 Q3175,5053.1641 3175,5054.0625 Q3175,5054.9219 3174.1406,5055.9375 Q3172.8906,5057.4219 3170.8984,5058.2422 Q3168.2813,5059.375 3165.0781,5059.375 Q3161.3281,5059.375 3158.3203,5057.8906 Q3155.8984,5056.7188 3154.1797,5054.1797 Q3152.5,5051.6406 3152.5,5048.6328 L3152.5,5045.8984 Q3152.5,5042.7734 3153.9844,5040.0391 Q3155.5078,5037.3047 3158.125,5035.8594 Q3160.7813,5034.375 3163.75,5034.375 Q3165.5469,5034.375 3167.1094,5035 Q3168.6719,5035.625 3170,5036.875 Z " fill="#000000"/><ellipse cx="3212.5" cy="5044.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="467.5" x="3227.5" y="5057.9004">KeypleReaderNotFoundException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3130" x2="3700" y1="5085.625" y2="5085.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3130" x2="3700" y1="5105.625" y2="5105.625"/><ellipse cx="3155" cy="5133.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="3177.5" y="5144.1724">KeypleReaderNotFoundException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="3237.5" y="5178.7622">String message)</text><ellipse cx="3155" cy="5202.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="3177.5" y="5213.3521">KeypleReaderNotFoundException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="3237.5" y="5247.9419">String message, Throwable cause)</text><!--MD5=[d0aa14623d363e238980d4d4a152a074]
class KeypleReaderProtocolNotSupportedException--><rect codeLine="347" fill="#FEFECE" height="189.1797" id="KeypleReaderProtocolNotSupportedException" style="stroke:#D4AC0D;stroke-width:3.75;" width="742.5" x="3791.25" y="5039.375"/><ellipse cx="3828.75" cy="5079.375" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3833.75,5070.625 Q3834.2578,5069.375 3834.8438,5068.75 Q3835.4297,5068.125 3836.0938,5068.125 Q3837.2656,5068.125 3838.0078,5068.8281 Q3838.75,5069.5313 3838.75,5071.1719 L3838.75,5075.0781 Q3838.75,5076.7188 3838.0469,5077.4219 Q3837.3438,5078.125 3836.25,5078.125 Q3835.2734,5078.125 3834.6484,5077.6953 Q3834.0234,5077.2656 3833.75,5076.1328 Q3833.6328,5075.3516 3833.2031,5074.9219 Q3832.4219,5074.1016 3831.0156,5073.6328 Q3829.6094,5073.125 3828.2031,5073.125 Q3826.4453,5073.125 3824.9609,5073.8281 Q3823.5156,5074.5313 3822.3828,5076.0938 Q3821.25,5077.6563 3821.25,5079.8047 L3821.25,5082.1094 Q3821.25,5084.6875 3823.3594,5086.4063 Q3825.4688,5088.125 3829.2188,5088.125 Q3831.4453,5088.125 3833.0078,5087.6172 Q3833.9063,5087.3438 3834.9219,5086.4453 Q3835.5859,5085.9375 3835.9375,5085.7813 Q3836.2891,5085.625 3836.7188,5085.625 Q3837.5391,5085.625 3838.125,5086.2891 Q3838.75,5086.9141 3838.75,5087.8125 Q3838.75,5088.6719 3837.8906,5089.6875 Q3836.6406,5091.1719 3834.6484,5091.9922 Q3832.0313,5093.125 3828.8281,5093.125 Q3825.0781,5093.125 3822.0703,5091.6406 Q3819.6484,5090.4688 3817.9297,5087.9297 Q3816.25,5085.3906 3816.25,5082.3828 L3816.25,5079.6484 Q3816.25,5076.5234 3817.7344,5073.7891 Q3819.2578,5071.0547 3821.875,5069.6094 Q3824.5313,5068.125 3827.5,5068.125 Q3829.2969,5068.125 3830.8594,5068.75 Q3832.4219,5069.375 3833.75,5070.625 Z " fill="#000000"/><ellipse cx="3876.25" cy="5078.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="635" x="3891.25" y="5091.6504">KeypleReaderProtocolNotSupportedException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3793.75" x2="4531.25" y1="5119.375" y2="5119.375"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3793.75" x2="4531.25" y1="5139.375" y2="5139.375"/><ellipse cx="3818.75" cy="5166.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="567.5" x="3841.25" y="5177.9224">KeypleReaderProtocolNotSupportedException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="3901.25" y="5212.5122">String cardProtocol)</text><!--MD5=[3c103cde6a409c892afa6391c64d1009]
class KeypleCardCommunicationException--><rect codeLine="351" fill="#FEFECE" height="258.3594" id="KeypleCardCommunicationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="625" x="1007.5" y="4595.625"/><ellipse cx="1045" cy="4635.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1050,4626.875 Q1050.5078,4625.625 1051.0938,4625 Q1051.6797,4624.375 1052.3438,4624.375 Q1053.5156,4624.375 1054.2578,4625.0781 Q1055,4625.7813 1055,4627.4219 L1055,4631.3281 Q1055,4632.9688 1054.2969,4633.6719 Q1053.5938,4634.375 1052.5,4634.375 Q1051.5234,4634.375 1050.8984,4633.9453 Q1050.2734,4633.5156 1050,4632.3828 Q1049.8828,4631.6016 1049.4531,4631.1719 Q1048.6719,4630.3516 1047.2656,4629.8828 Q1045.8594,4629.375 1044.4531,4629.375 Q1042.6953,4629.375 1041.2109,4630.0781 Q1039.7656,4630.7813 1038.6328,4632.3438 Q1037.5,4633.9063 1037.5,4636.0547 L1037.5,4638.3594 Q1037.5,4640.9375 1039.6094,4642.6563 Q1041.7188,4644.375 1045.4688,4644.375 Q1047.6953,4644.375 1049.2578,4643.8672 Q1050.1563,4643.5938 1051.1719,4642.6953 Q1051.8359,4642.1875 1052.1875,4642.0313 Q1052.5391,4641.875 1052.9688,4641.875 Q1053.7891,4641.875 1054.375,4642.5391 Q1055,4643.1641 1055,4644.0625 Q1055,4644.9219 1054.1406,4645.9375 Q1052.8906,4647.4219 1050.8984,4648.2422 Q1048.2813,4649.375 1045.0781,4649.375 Q1041.3281,4649.375 1038.3203,4647.8906 Q1035.8984,4646.7188 1034.1797,4644.1797 Q1032.5,4641.6406 1032.5,4638.6328 L1032.5,4635.8984 Q1032.5,4632.7734 1033.9844,4630.0391 Q1035.5078,4627.3047 1038.125,4625.8594 Q1040.7813,4624.375 1043.75,4624.375 Q1045.5469,4624.375 1047.1094,4625 Q1048.6719,4625.625 1050,4626.875 Z " fill="#000000"/><ellipse cx="1092.5" cy="4634.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="517.5" x="1107.5" y="4647.9004">KeypleCardCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1010" x2="1630" y1="4675.625" y2="4675.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1010" x2="1630" y1="4695.625" y2="4695.625"/><ellipse cx="1035" cy="4723.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="455" x="1057.5" y="4734.1724">KeypleCardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="1117.5" y="4768.7622">String message)</text><ellipse cx="1035" cy="4792.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="455" x="1057.5" y="4803.3521">KeypleCardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1117.5" y="4837.9419">String message, Throwable cause)</text><!--MD5=[bb05bfd1c5059058d457654d4573d9ac]
class PluginObserverSpi--><rect codeLine="54" fill="#FEFECE" height="154.5898" id="PluginObserverSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="445" x="3175" y="3441.875"/><ellipse cx="3247.375" cy="3481.875" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3249.875,3474.375 L3249.875,3489.375 L3254.875,3489.375 L3256.0859,3489.375 L3257.375,3490.9375 L3257.375,3491.875 L3257.375,3492.8125 L3256.0859,3494.375 L3254.875,3494.375 L3239.875,3494.375 L3238.6641,3494.375 L3237.375,3492.8125 L3237.375,3491.875 L3237.375,3490.9375 L3238.6641,3489.375 L3239.875,3489.375 L3244.875,3489.375 L3244.875,3474.375 L3239.875,3474.375 L3238.6641,3474.375 L3237.375,3472.8125 L3237.375,3471.875 L3237.375,3470.9375 L3238.6641,3469.375 L3239.875,3469.375 L3254.875,3469.375 L3256.0859,3469.375 L3257.375,3470.9375 L3257.375,3471.875 L3257.375,3472.8125 L3256.0859,3474.375 L3254.875,3474.375 L3249.875,3474.375 Z " fill="#000000"/><ellipse cx="3302.625" cy="3480.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="260" x="3317.625" y="3494.1504">PluginObserverSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3177.5" x2="3617.5" y1="3521.875" y2="3521.875"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3177.5" x2="3617.5" y1="3541.875" y2="3541.875"/><ellipse cx="3202.5" cy="3569.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="3225" y="3580.4224">void update (PluginEvent event)</text><!--MD5=[87c50f47c2764245750fe11a9aa48329]
class ReaderObserverSpi--><rect codeLine="57" fill="#FEFECE" height="154.5898" id="ReaderObserverSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="462.5" x="3708.75" y="3441.875"/><ellipse cx="3782.25" cy="3481.875" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3784.75,3474.375 L3784.75,3489.375 L3789.75,3489.375 L3790.9609,3489.375 L3792.25,3490.9375 L3792.25,3491.875 L3792.25,3492.8125 L3790.9609,3494.375 L3789.75,3494.375 L3774.75,3494.375 L3773.5391,3494.375 L3772.25,3492.8125 L3772.25,3491.875 L3772.25,3490.9375 L3773.5391,3489.375 L3774.75,3489.375 L3779.75,3489.375 L3779.75,3474.375 L3774.75,3474.375 L3773.5391,3474.375 L3772.25,3472.8125 L3772.25,3471.875 L3772.25,3470.9375 L3773.5391,3469.375 L3774.75,3469.375 L3789.75,3469.375 L3790.9609,3469.375 L3792.25,3470.9375 L3792.25,3471.875 L3792.25,3472.8125 L3790.9609,3474.375 L3789.75,3474.375 L3784.75,3474.375 Z " fill="#000000"/><ellipse cx="3837.75" cy="3480.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="275" x="3852.75" y="3494.1504">ReaderObserverSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3711.25" x2="4168.75" y1="3521.875" y2="3521.875"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3711.25" x2="4168.75" y1="3541.875" y2="3541.875"/><ellipse cx="3736.25" cy="3569.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="3758.75" y="3580.4224">void update (ReaderEvent event)</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="63" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="462.5" x="4403.75" y="618.125"/><ellipse cx="4441.25" cy="658.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M4446.25,649.375 Q4446.7578,648.125 4447.3438,647.5 Q4447.9297,646.875 4448.5938,646.875 Q4449.7656,646.875 4450.5078,647.5781 Q4451.25,648.2813 4451.25,649.9219 L4451.25,653.8281 Q4451.25,655.4688 4450.5469,656.1719 Q4449.8438,656.875 4448.75,656.875 Q4447.7734,656.875 4447.1484,656.4453 Q4446.5234,656.0156 4446.25,654.8828 Q4446.1328,654.1016 4445.7031,653.6719 Q4444.9219,652.8516 4443.5156,652.3828 Q4442.1094,651.875 4440.7031,651.875 Q4438.9453,651.875 4437.4609,652.5781 Q4436.0156,653.2813 4434.8828,654.8438 Q4433.75,656.4063 4433.75,658.5547 L4433.75,660.8594 Q4433.75,663.4375 4435.8594,665.1563 Q4437.9688,666.875 4441.7188,666.875 Q4443.9453,666.875 4445.5078,666.3672 Q4446.4063,666.0938 4447.4219,665.1953 Q4448.0859,664.6875 4448.4375,664.5313 Q4448.7891,664.375 4449.2188,664.375 Q4450.0391,664.375 4450.625,665.0391 Q4451.25,665.6641 4451.25,666.5625 Q4451.25,667.4219 4450.3906,668.4375 Q4449.1406,669.9219 4447.1484,670.7422 Q4444.5313,671.875 4441.3281,671.875 Q4437.5781,671.875 4434.5703,670.3906 Q4432.1484,669.2188 4430.4297,666.6797 Q4428.75,664.1406 4428.75,661.1328 L4428.75,658.3984 Q4428.75,655.2734 4430.2344,652.5391 Q4431.7578,649.8047 4434.375,648.3594 Q4437.0313,646.875 4440,646.875 Q4441.7969,646.875 4443.3594,647.5 Q4444.9219,648.125 4446.25,649.375 Z " fill="#000000"/><ellipse cx="4488.75" cy="656.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="4503.75" y="670.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="287.5" x="4571.25" y="670.4004">ServiceApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4406.25" x2="4863.75" y1="698.125" y2="698.125"/><ellipse cx="4431.25" cy="725.625" fill="none" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="4453.75" y="736.6724">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="4518.75" y="736.6724">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4406.25" x2="4863.75" y1="752.7148" y2="752.7148"/><!--MD5=[bc3f57c567736ad71a70f1388d085699]
class SmartCardService--><rect codeLine="66" fill="#FEFECE" height="724.2578" id="SmartCardService" style="stroke:#D4AC0D;stroke-width:3.75;" width="977.5" x="3218.75" y="333.125"/><ellipse cx="3523.125" cy="373.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3528.125,364.375 Q3528.6328,363.125 3529.2188,362.5 Q3529.8047,361.875 3530.4688,361.875 Q3531.6406,361.875 3532.3828,362.5781 Q3533.125,363.2813 3533.125,364.9219 L3533.125,368.8281 Q3533.125,370.4688 3532.4219,371.1719 Q3531.7188,371.875 3530.625,371.875 Q3529.6484,371.875 3529.0234,371.4453 Q3528.3984,371.0156 3528.125,369.8828 Q3528.0078,369.1016 3527.5781,368.6719 Q3526.7969,367.8516 3525.3906,367.3828 Q3523.9844,366.875 3522.5781,366.875 Q3520.8203,366.875 3519.3359,367.5781 Q3517.8906,368.2813 3516.7578,369.8438 Q3515.625,371.4063 3515.625,373.5547 L3515.625,375.8594 Q3515.625,378.4375 3517.7344,380.1563 Q3519.8438,381.875 3523.5938,381.875 Q3525.8203,381.875 3527.3828,381.3672 Q3528.2813,381.0938 3529.2969,380.1953 Q3529.9609,379.6875 3530.3125,379.5313 Q3530.6641,379.375 3531.0938,379.375 Q3531.9141,379.375 3532.5,380.0391 Q3533.125,380.6641 3533.125,381.5625 Q3533.125,382.4219 3532.2656,383.4375 Q3531.0156,384.9219 3529.0234,385.7422 Q3526.4063,386.875 3523.2031,386.875 Q3519.4531,386.875 3516.4453,385.3906 Q3514.0234,384.2188 3512.3047,381.6797 Q3510.625,379.1406 3510.625,376.1328 L3510.625,373.3984 Q3510.625,370.2734 3512.1094,367.5391 Q3513.6328,364.8047 3516.25,363.3594 Q3518.9063,361.875 3521.875,361.875 Q3523.6719,361.875 3525.2344,362.5 Q3526.7969,363.125 3528.125,364.375 Z " fill="#000000"/><ellipse cx="3586.875" cy="371.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3601.875" y="385.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="3669.375" y="385.4004">SmartCardService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3221.25" x2="4193.75" y1="413.125" y2="413.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3221.25" x2="4193.75" y1="433.125" y2="433.125"/><ellipse cx="3246.25" cy="460.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="395" x="3268.75" y="471.6724">SmartCardService getInstance ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3221.25" x2="4193.75" y1="487.7148" y2="487.7148"/><ellipse cx="3246.25" cy="515.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="257.5" x="3268.75" y="526.2622">Plugin registerPlugin (</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="245" x="3526.25" y="526.2622">KeyplePluginFactory</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="172.5" x="3778.75" y="526.2622">pluginFactory)</text><ellipse cx="3246.25" cy="549.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="492.5" x="3268.75" y="560.8521">void unregisterPlugin (String pluginName)</text><ellipse cx="3246.25" cy="584.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="565" x="3268.75" y="595.4419">boolean isPluginRegistered (String pluginName)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3221.25" x2="4193.75" y1="611.4844" y2="611.4844"/><ellipse cx="3246.25" cy="638.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="392.5" x="3268.75" y="650.0317">Map&lt;String, Plugin&gt; getPlugins ()</text><ellipse cx="3246.25" cy="673.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="427.5" x="3268.75" y="684.6216">Plugin getPlugin (String pluginName)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3221.25" x2="4193.75" y1="700.6641" y2="700.6641"/><ellipse cx="3246.25" cy="728.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="322.5" x="3268.75" y="739.2114">void checkCardExtension (</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="257.5" x="3591.25" y="739.2114">KeypleCardExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="3856.25" y="739.2114">cardExtension)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3221.25" x2="4193.75" y1="755.2539" y2="755.2539"/><ellipse cx="3246.25" cy="782.7539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="687.5" x="3268.75" y="793.8013">DistributedLocalService registerDistributedLocalService (</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="460" x="3328.75" y="828.3911">KeypleDistributedLocalServiceFactory</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="385" x="3796.25" y="828.3911">distributedLocalServiceFactory)</text><ellipse cx="3246.25" cy="851.9336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="482.5" x="3268.75" y="862.981">void unregisterDistributedLocalService (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="3328.75" y="897.5708">String distributedLocalServiceName)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3221.25" x2="4193.75" y1="913.6133" y2="913.6133"/><ellipse cx="3246.25" cy="941.1133" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="3268.75" y="952.1606">void getDistributedLocalService (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="3328.75" y="986.7505">String distributedLocalServiceName)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3221.25" x2="4193.75" y1="1002.793" y2="1002.793"/><ellipse cx="3246.25" cy="1030.293" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="3268.75" y="1041.3403">String getVersion ()</text><!--MD5=[b628511dd50102041730ee0512f882c8]
class Plugin--><rect codeLine="89" fill="#FEFECE" height="312.9492" id="Plugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="837.5" x="3198.75" y="1343.125"/><ellipse cx="3549.375" cy="1383.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3551.875,1375.625 L3551.875,1390.625 L3556.875,1390.625 L3558.0859,1390.625 L3559.375,1392.1875 L3559.375,1393.125 L3559.375,1394.0625 L3558.0859,1395.625 L3556.875,1395.625 L3541.875,1395.625 L3540.6641,1395.625 L3539.375,1394.0625 L3539.375,1393.125 L3539.375,1392.1875 L3540.6641,1390.625 L3541.875,1390.625 L3546.875,1390.625 L3546.875,1375.625 L3541.875,1375.625 L3540.6641,1375.625 L3539.375,1374.0625 L3539.375,1373.125 L3539.375,1372.1875 L3540.6641,1370.625 L3541.875,1370.625 L3556.875,1370.625 L3558.0859,1370.625 L3559.375,1372.1875 L3559.375,1373.125 L3559.375,1374.0625 L3558.0859,1375.625 L3556.875,1375.625 L3551.875,1375.625 Z " fill="#000000"/><ellipse cx="3613.125" cy="1381.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="87.5" x="3628.125" y="1395.4004">Plugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3201.25" x2="4033.75" y1="1423.125" y2="1423.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3201.25" x2="4033.75" y1="1443.125" y2="1443.125"/><ellipse cx="3226.25" cy="1470.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3248.75" y="1481.6724">String getName ()</text><ellipse cx="3226.25" cy="1505.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="3248.75" y="1516.2622">&lt;T extends</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="152.5" x="3391.25" y="1516.2622">KeyplePlugin</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="477.5" x="3543.75" y="1516.2622">&gt; T getExtension (Class&lt;T&gt; pluginType)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3201.25" x2="4033.75" y1="1532.3047" y2="1532.3047"/><ellipse cx="3226.25" cy="1559.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="382.5" x="3248.75" y="1570.8521">Set&lt;String&gt; getReaderNames ()</text><ellipse cx="3226.25" cy="1594.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="427.5" x="3248.75" y="1605.4419">Map&lt;String, Reader&gt; getReaders ()</text><ellipse cx="3226.25" cy="1628.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="472.5" x="3248.75" y="1640.0317">Reader getReader (String readerName)</text><!--MD5=[f7984cadeded08cae48982a67518e715]
class DistributedLocalService--><rect codeLine="98" fill="#FEFECE" height="223.7695" id="DistributedLocalService" style="stroke:#D4AC0D;stroke-width:3.75;" width="792.5" x="4123.75" y="1386.875"/><ellipse cx="4331.875" cy="1426.875" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4334.375,1419.375 L4334.375,1434.375 L4339.375,1434.375 L4340.5859,1434.375 L4341.875,1435.9375 L4341.875,1436.875 L4341.875,1437.8125 L4340.5859,1439.375 L4339.375,1439.375 L4324.375,1439.375 L4323.1641,1439.375 L4321.875,1437.8125 L4321.875,1436.875 L4321.875,1435.9375 L4323.1641,1434.375 L4324.375,1434.375 L4329.375,1434.375 L4329.375,1419.375 L4324.375,1419.375 L4323.1641,1419.375 L4321.875,1417.8125 L4321.875,1416.875 L4321.875,1415.9375 L4323.1641,1414.375 L4324.375,1414.375 L4339.375,1414.375 L4340.5859,1414.375 L4341.875,1415.9375 L4341.875,1416.875 L4341.875,1417.8125 L4340.5859,1419.375 L4339.375,1419.375 L4334.375,1419.375 Z " fill="#000000"/><ellipse cx="4395.625" cy="1425.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="327.5" x="4410.625" y="1439.1504">DistributedLocalService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4126.25" x2="4913.75" y1="1466.875" y2="1466.875"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="4126.25" x2="4913.75" y1="1486.875" y2="1486.875"/><ellipse cx="4151.25" cy="1514.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="4173.75" y="1525.4224">String getName ()</text><ellipse cx="4151.25" cy="1548.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="4173.75" y="1560.0122">&lt;T extends</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="367.5" x="4316.25" y="1560.0122">KeypleDistributedLocalService</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="217.5" x="4683.75" y="1560.0122">&gt; T getExtension (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="472.5" x="4233.75" y="1594.6021">Class&lt;T&gt; distributedLocalServiceType)</text><!--MD5=[1fa9a61019755e60a0cb03f0bc3590aa]
class ObservablePlugin--><rect codeLine="104" fill="#FEFECE" height="258.3594" id="ObservablePlugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="695" x="3470" y="2033.125"/><ellipse cx="3668.125" cy="2073.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3670.625,2065.625 L3670.625,2080.625 L3675.625,2080.625 L3676.8359,2080.625 L3678.125,2082.1875 L3678.125,2083.125 L3678.125,2084.0625 L3676.8359,2085.625 L3675.625,2085.625 L3660.625,2085.625 L3659.4141,2085.625 L3658.125,2084.0625 L3658.125,2083.125 L3658.125,2082.1875 L3659.4141,2080.625 L3660.625,2080.625 L3665.625,2080.625 L3665.625,2065.625 L3660.625,2065.625 L3659.4141,2065.625 L3658.125,2064.0625 L3658.125,2063.125 L3658.125,2062.1875 L3659.4141,2060.625 L3660.625,2060.625 L3675.625,2060.625 L3676.8359,2060.625 L3678.125,2062.1875 L3678.125,2063.125 L3678.125,2064.0625 L3676.8359,2065.625 L3675.625,2065.625 L3670.625,2065.625 Z " fill="#000000"/><ellipse cx="3731.875" cy="2071.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="250" x="3746.875" y="2085.4004">ObservablePlugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3472.5" x2="4162.5" y1="2113.125" y2="2113.125"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3472.5" x2="4162.5" y1="2133.125" y2="2133.125"/><ellipse cx="3497.5" cy="2160.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="585" x="3520" y="2171.6724">void addObserver (PluginObserverSpi observer)</text><ellipse cx="3497.5" cy="2195.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="630" x="3520" y="2206.2622">void removeObserver (PluginObserverSpi observer)</text><ellipse cx="3497.5" cy="2229.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="3520" y="2240.8521">void clearObservers ()</text><ellipse cx="3497.5" cy="2264.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="3520" y="2275.4419">int countObservers ()</text><!--MD5=[c8cbac6d6d9e600bce6d5400427f5af6]
class PoolPlugin--><rect codeLine="110" fill="#FEFECE" height="243.7695" id="PoolPlugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="662.5" x="4253.75" y="2039.375"/><ellipse cx="4485.625" cy="2079.375" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4488.125,2071.875 L4488.125,2086.875 L4493.125,2086.875 L4494.3359,2086.875 L4495.625,2088.4375 L4495.625,2089.375 L4495.625,2090.3125 L4494.3359,2091.875 L4493.125,2091.875 L4478.125,2091.875 L4476.9141,2091.875 L4475.625,2090.3125 L4475.625,2089.375 L4475.625,2088.4375 L4476.9141,2086.875 L4478.125,2086.875 L4483.125,2086.875 L4483.125,2071.875 L4478.125,2071.875 L4476.9141,2071.875 L4475.625,2070.3125 L4475.625,2069.375 L4475.625,2068.4375 L4476.9141,2066.875 L4478.125,2066.875 L4493.125,2066.875 L4494.3359,2066.875 L4495.625,2068.4375 L4495.625,2069.375 L4495.625,2070.3125 L4494.3359,2071.875 L4493.125,2071.875 L4488.125,2071.875 Z " fill="#000000"/><ellipse cx="4549.375" cy="2078.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="4564.375" y="2091.6504">PoolPlugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4256.25" x2="4913.75" y1="2119.375" y2="2119.375"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="4256.25" x2="4913.75" y1="2139.375" y2="2139.375"/><ellipse cx="4281.25" cy="2166.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="597.5" x="4303.75" y="2177.9224">SortedSet&lt;String&gt; getReaderGroupReferences ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4256.25" x2="4913.75" y1="2193.9648" y2="2193.9648"/><ellipse cx="4281.25" cy="2221.4648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="577.5" x="4303.75" y="2232.5122">Reader allocateReader (String groupReference)</text><ellipse cx="4281.25" cy="2256.0547" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="4303.75" y="2267.1021">void releaseReader (Reader reader)</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect codeLine="117" fill="#FEFECE" height="367.5391" id="Reader" style="stroke:#D4AC0D;stroke-width:3.75;" width="865" x="2517.5" y="1978.125"/><ellipse cx="2874.375" cy="2018.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2876.875,2010.625 L2876.875,2025.625 L2881.875,2025.625 L2883.0859,2025.625 L2884.375,2027.1875 L2884.375,2028.125 L2884.375,2029.0625 L2883.0859,2030.625 L2881.875,2030.625 L2866.875,2030.625 L2865.6641,2030.625 L2864.375,2029.0625 L2864.375,2028.125 L2864.375,2027.1875 L2865.6641,2025.625 L2866.875,2025.625 L2871.875,2025.625 L2871.875,2010.625 L2866.875,2010.625 L2865.6641,2010.625 L2864.375,2009.0625 L2864.375,2008.125 L2864.375,2007.1875 L2865.6641,2005.625 L2866.875,2005.625 L2881.875,2005.625 L2883.0859,2005.625 L2884.375,2007.1875 L2884.375,2008.125 L2884.375,2009.0625 L2883.0859,2010.625 L2881.875,2010.625 L2876.875,2010.625 Z " fill="#000000"/><ellipse cx="2938.125" cy="2016.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="102.5" x="2953.125" y="2030.4004">Reader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2520" x2="3380" y1="2058.125" y2="2058.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="2520" x2="3380" y1="2078.125" y2="2078.125"/><ellipse cx="2545" cy="2105.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2567.5" y="2116.6724">String getName ()</text><ellipse cx="2545" cy="2140.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="2567.5" y="2151.2622">&lt;T extends</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="170" x="2710" y="2151.2622">KeypleReader</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="487.5" x="2880" y="2151.2622">&gt; T getExtension (Class&lt;T&gt; readerType)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2520" x2="3380" y1="2167.3047" y2="2167.3047"/><ellipse cx="2545" cy="2194.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="292.5" x="2567.5" y="2205.8521">boolean isContactless ()</text><ellipse cx="2545" cy="2229.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="300" x="2567.5" y="2240.4419">boolean isCardPresent ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2520" x2="3380" y1="2256.4844" y2="2256.4844"/><ellipse cx="2545" cy="2283.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="777.5" x="2567.5" y="2295.0317">void activateProtocol (String readerProtocol, String cardProtocol)</text><ellipse cx="2545" cy="2318.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="562.5" x="2567.5" y="2329.6216">void deactivateProtocol (String readerProtocol)</text><!--MD5=[e2341a3d5316e117132fc49473ae3219]
class ObservableReader--><rect codeLine="128" fill="#FEFECE" height="664.2578" id="ObservableReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="840" x="3990" y="2498.125"/><ellipse cx="4253.125" cy="2538.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4255.625,2530.625 L4255.625,2545.625 L4260.625,2545.625 L4261.8359,2545.625 L4263.125,2547.1875 L4263.125,2548.125 L4263.125,2549.0625 L4261.8359,2550.625 L4260.625,2550.625 L4245.625,2550.625 L4244.4141,2550.625 L4243.125,2549.0625 L4243.125,2548.125 L4243.125,2547.1875 L4244.4141,2545.625 L4245.625,2545.625 L4250.625,2545.625 L4250.625,2530.625 L4245.625,2530.625 L4244.4141,2530.625 L4243.125,2529.0625 L4243.125,2528.125 L4243.125,2527.1875 L4244.4141,2525.625 L4245.625,2525.625 L4260.625,2525.625 L4261.8359,2525.625 L4263.125,2527.1875 L4263.125,2528.125 L4263.125,2529.0625 L4261.8359,2530.625 L4260.625,2530.625 L4255.625,2530.625 Z " fill="#000000"/><ellipse cx="4316.875" cy="2536.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="265" x="4331.875" y="2550.4004">ObservableReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3992.5" x2="4827.5" y1="2578.125" y2="2578.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3992.5" x2="4827.5" y1="2598.125" y2="2598.125"/><ellipse cx="4017.5" cy="2625.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="602.5" x="4040" y="2636.6724">void addObserver (ReaderObserverSpi observer)</text><ellipse cx="4017.5" cy="2660.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="647.5" x="4040" y="2671.2622">void removeObserver (ReaderObserverSpi observer)</text><ellipse cx="4017.5" cy="2694.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="4040" y="2705.8521">void clearObservers ()</text><ellipse cx="4017.5" cy="2729.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="4040" y="2740.4419">int countObservers ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3992.5" x2="4827.5" y1="2756.4844" y2="2756.4844"/><ellipse cx="4017.5" cy="2783.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="597.5" x="4040" y="2795.0317">void startCardDetection (PollingMode pollingMode)</text><ellipse cx="4017.5" cy="2818.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="307.5" x="4040" y="2829.6216">void stopCardDetection ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3992.5" x2="4827.5" y1="2845.6641" y2="2845.6641"/><ellipse cx="4017.5" cy="2873.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="407.5" x="4040" y="2884.2114">void setDefaultSelectionRequest (</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="392.5" x="4100" y="2918.8013">KeypleDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="315" x="4500" y="2918.8013">defaultSelectionsRequest,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="410" x="4100" y="2953.3911">NotificationMode notificationMode)</text><ellipse cx="4017.5" cy="2976.9336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="407.5" x="4040" y="2987.981">void setDefaultSelectionRequest (</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="392.5" x="4100" y="3022.5708">KeypleDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="315" x="4500" y="3022.5708">defaultSelectionsRequest,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="407.5" x="4100" y="3057.1606">NotificationMode notificationMode,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="297.5" x="4100" y="3091.7505">PollingMode pollingMode)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3992.5" x2="4827.5" y1="3107.793" y2="3107.793"/><ellipse cx="4017.5" cy="3135.293" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="4040" y="3146.3403">void finalizeCardProcessing ()</text><!--MD5=[fb0847b56e90874d02378ad5165e20f2]
class CardSelectionsService--><rect codeLine="197" fill="#FEFECE" height="456.7188" id="CardSelectionsService" style="stroke:#D4AC0D;stroke-width:3.75;" width="970" x="1187.5" y="466.875"/><ellipse cx="1458.125" cy="506.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1463.125,498.125 Q1463.6328,496.875 1464.2188,496.25 Q1464.8047,495.625 1465.4688,495.625 Q1466.6406,495.625 1467.3828,496.3281 Q1468.125,497.0313 1468.125,498.6719 L1468.125,502.5781 Q1468.125,504.2188 1467.4219,504.9219 Q1466.7188,505.625 1465.625,505.625 Q1464.6484,505.625 1464.0234,505.1953 Q1463.3984,504.7656 1463.125,503.6328 Q1463.0078,502.8516 1462.5781,502.4219 Q1461.7969,501.6016 1460.3906,501.1328 Q1458.9844,500.625 1457.5781,500.625 Q1455.8203,500.625 1454.3359,501.3281 Q1452.8906,502.0313 1451.7578,503.5938 Q1450.625,505.1563 1450.625,507.3047 L1450.625,509.6094 Q1450.625,512.1875 1452.7344,513.9063 Q1454.8438,515.625 1458.5938,515.625 Q1460.8203,515.625 1462.3828,515.1172 Q1463.2813,514.8438 1464.2969,513.9453 Q1464.9609,513.4375 1465.3125,513.2813 Q1465.6641,513.125 1466.0938,513.125 Q1466.9141,513.125 1467.5,513.7891 Q1468.125,514.4141 1468.125,515.3125 Q1468.125,516.1719 1467.2656,517.1875 Q1466.0156,518.6719 1464.0234,519.4922 Q1461.4063,520.625 1458.2031,520.625 Q1454.4531,520.625 1451.4453,519.1406 Q1449.0234,517.9688 1447.3047,515.4297 Q1445.625,512.8906 1445.625,509.8828 L1445.625,507.1484 Q1445.625,504.0234 1447.1094,501.2891 Q1448.6328,498.5547 1451.25,497.1094 Q1453.9063,495.625 1456.875,495.625 Q1458.6719,495.625 1460.2344,496.25 Q1461.7969,496.875 1463.125,498.125 Z " fill="#000000"/><ellipse cx="1521.875" cy="505.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1536.875" y="519.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="312.5" x="1604.375" y="519.1504">CardSelectionsService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1190" x2="2155" y1="546.875" y2="546.875"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1190" x2="2155" y1="566.875" y2="566.875"/><ellipse cx="1215" cy="594.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="302.5" x="1237.5" y="605.4224">CardSelectionsService ()</text><ellipse cx="1215" cy="628.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="905" x="1237.5" y="640.0122">CardSelectionsService (MultiSelectionProcessing multiSelectionProcessing)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1190" x2="2155" y1="656.0547" y2="656.0547"/><ellipse cx="1215" cy="683.5547" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="682.5" x="1237.5" y="694.6021">int prepareSelection (CardSelectionSpi cardSelectionSpi)</text><ellipse cx="1215" cy="718.1445" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="1237.5" y="729.1919">void prepareReleaseChannel ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1190" x2="2155" y1="745.2344" y2="745.2344"/><ellipse cx="1215" cy="772.7344" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="392.5" x="1237.5" y="783.7817">KeypleDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="1637.5" y="783.7817">getDefaultSelectionsRequest ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1190" x2="2155" y1="799.8242" y2="799.8242"/><ellipse cx="1215" cy="827.3242" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="775" x="1237.5" y="838.3716">CardSelectionsResult processExplicitSelections (Reader reader)</text><ellipse cx="1215" cy="861.9141" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="715" x="1237.5" y="872.9614">CardSelectionsResult processDefaultSelectionsResponse (</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="415" x="1297.5" y="907.5513">KeypleDefaultSelectionsResponse</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="340" x="1720" y="907.5513">defaultSelectionsResponse)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect codeLine="211" fill="#FEFECE" height="189.1797" id="MultiSelectionProcessing" style="stroke:#D4AC0D;stroke-width:3.75;" width="450" x="1125" y="1404.375"/><ellipse cx="1162.5" cy="1444.375" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1158.75,1446.875 L1158.75,1451.875 L1168.75,1451.875 L1168.75,1449.375 L1168.75,1448.1641 L1170.3125,1446.875 L1171.25,1446.875 L1172.1875,1446.875 L1173.75,1448.1641 L1173.75,1449.375 L1173.75,1456.875 L1153.75,1456.875 L1152.5391,1456.875 L1151.25,1455.3125 L1151.25,1454.375 L1151.25,1453.4375 L1152.5391,1451.875 L1153.75,1451.875 L1153.75,1451.875 L1153.75,1436.875 L1153.75,1436.875 L1152.5391,1436.875 L1151.25,1435.3125 L1151.25,1434.375 L1151.25,1433.4375 L1152.5391,1431.875 L1153.75,1431.875 L1173.75,1431.875 L1173.75,1439.375 L1173.75,1440.5859 L1172.1875,1441.875 L1171.25,1441.875 L1170.3125,1441.875 L1168.75,1440.5859 L1168.75,1439.375 L1168.75,1436.875 L1158.75,1436.875 L1158.75,1441.875 L1161.25,1441.875 L1161.25,1440.6641 L1161.25,1440.6641 L1162.8125,1439.375 L1163.75,1439.375 L1164.6875,1439.375 L1166.25,1440.6641 L1166.25,1441.875 L1166.25,1446.875 L1166.25,1448.0859 L1164.6875,1449.375 L1164.6875,1449.375 L1163.75,1449.375 L1162.8125,1449.375 L1161.25,1448.0859 L1161.25,1448.0859 L1161.25,1446.875 L1158.75,1446.875 Z " fill="#000000"/><ellipse cx="1210" cy="1443.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="342.5" x="1225" y="1456.6504">MultiSelectionProcessing</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1127.5" x2="1572.5" y1="1484.375" y2="1484.375"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="175" x="1140" y="1522.9224">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="185" x="1140" y="1557.5122">PROCESS_ALL</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1127.5" x2="1572.5" y1="1573.5547" y2="1573.5547"/><!--MD5=[429236f5a1d05c7a5d443f29aac38d35]
class CardSelectionsResult--><rect codeLine="285" fill="#FEFECE" height="491.3086" id="CardSelectionsResult" style="stroke:#D4AC0D;stroke-width:3.75;" width="712.5" x="1663.75" y="1253.125"/><ellipse cx="1813.125" cy="1293.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1818.125,1284.375 Q1818.6328,1283.125 1819.2188,1282.5 Q1819.8047,1281.875 1820.4688,1281.875 Q1821.6406,1281.875 1822.3828,1282.5781 Q1823.125,1283.2813 1823.125,1284.9219 L1823.125,1288.8281 Q1823.125,1290.4688 1822.4219,1291.1719 Q1821.7188,1291.875 1820.625,1291.875 Q1819.6484,1291.875 1819.0234,1291.4453 Q1818.3984,1291.0156 1818.125,1289.8828 Q1818.0078,1289.1016 1817.5781,1288.6719 Q1816.7969,1287.8516 1815.3906,1287.3828 Q1813.9844,1286.875 1812.5781,1286.875 Q1810.8203,1286.875 1809.3359,1287.5781 Q1807.8906,1288.2813 1806.7578,1289.8438 Q1805.625,1291.4063 1805.625,1293.5547 L1805.625,1295.8594 Q1805.625,1298.4375 1807.7344,1300.1563 Q1809.8438,1301.875 1813.5938,1301.875 Q1815.8203,1301.875 1817.3828,1301.3672 Q1818.2813,1301.0938 1819.2969,1300.1953 Q1819.9609,1299.6875 1820.3125,1299.5313 Q1820.6641,1299.375 1821.0938,1299.375 Q1821.9141,1299.375 1822.5,1300.0391 Q1823.125,1300.6641 1823.125,1301.5625 Q1823.125,1302.4219 1822.2656,1303.4375 Q1821.0156,1304.9219 1819.0234,1305.7422 Q1816.4063,1306.875 1813.2031,1306.875 Q1809.4531,1306.875 1806.4453,1305.3906 Q1804.0234,1304.2188 1802.3047,1301.6797 Q1800.625,1299.1406 1800.625,1296.1328 L1800.625,1293.3984 Q1800.625,1290.2734 1802.1094,1287.5391 Q1803.6328,1284.8047 1806.25,1283.3594 Q1808.9063,1281.875 1811.875,1281.875 Q1813.6719,1281.875 1815.2344,1282.5 Q1816.7969,1283.125 1818.125,1284.375 Z " fill="#000000"/><ellipse cx="1876.875" cy="1291.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1891.875" y="1305.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="297.5" x="1959.375" y="1305.4004">CardSelectionsResult</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1666.25" x2="2373.75" y1="1333.125" y2="1333.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1666.25" x2="2373.75" y1="1353.125" y2="1353.125"/><polygon fill="#4177AF" points="1691.25,1370.625,1681.25,1385.625,1701.25,1385.625" style="stroke:#1963A0;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="1713.75" y="1391.6724">CardSelectionsResult ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1666.25" x2="2373.75" y1="1407.7148" y2="1407.7148"/><ellipse cx="1691.25" cy="1435.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="1713.75" y="1446.2622">boolean hasActiveSelection ()</text><ellipse cx="1691.25" cy="1469.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="352.5" x="1713.75" y="1480.8521">int getActiveSelectionIndex ()</text><ellipse cx="1691.25" cy="1504.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="595" x="1713.75" y="1515.4419">boolean hasSelectionMatched (int selectionIndex)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1666.25" x2="2373.75" y1="1531.4844" y2="1531.4844"/><ellipse cx="1691.25" cy="1558.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="557.5" x="1713.75" y="1570.0317">Map&lt;Integer, SmartCardSpi&gt; getSmartCards ()</text><ellipse cx="1691.25" cy="1593.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="572.5" x="1713.75" y="1604.6216">SmartCardSpi getSmartCard (int selectionIndex)</text><ellipse cx="1691.25" cy="1628.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="442.5" x="1713.75" y="1639.2114">SmartCardSpi getActiveSmartCard ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1666.25" x2="2373.75" y1="1655.2539" y2="1655.2539"/><polygon fill="#4177AF" points="1691.25,1672.7539,1681.25,1687.7539,1701.25,1687.7539" style="stroke:#1963A0;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="462.5" x="1713.75" y="1693.8013">void addSmartCard (int selectionIndex,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="587.5" x="1773.75" y="1728.3911">SmartCardSpi smartCardSpi, boolean isSelected)</text><!--MD5=[9d5201d69290fdda3b9522261babfc84]
class CardResource--><rect codeLine="300" fill="#FEFECE" height="243.7695" id="CardResource" style="stroke:#D4AC0D;stroke-width:3.75;" width="720" x="317.5" y="1376.875"/><ellipse cx="355" cy="1416.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M360,1408.125 Q360.5078,1406.875 361.0938,1406.25 Q361.6797,1405.625 362.3438,1405.625 Q363.5156,1405.625 364.2578,1406.3281 Q365,1407.0313 365,1408.6719 L365,1412.5781 Q365,1414.2188 364.2969,1414.9219 Q363.5938,1415.625 362.5,1415.625 Q361.5234,1415.625 360.8984,1415.1953 Q360.2734,1414.7656 360,1413.6328 Q359.8828,1412.8516 359.4531,1412.4219 Q358.6719,1411.6016 357.2656,1411.1328 Q355.8594,1410.625 354.4531,1410.625 Q352.6953,1410.625 351.2109,1411.3281 Q349.7656,1412.0313 348.6328,1413.5938 Q347.5,1415.1563 347.5,1417.3047 L347.5,1419.6094 Q347.5,1422.1875 349.6094,1423.9063 Q351.7188,1425.625 355.4688,1425.625 Q357.6953,1425.625 359.2578,1425.1172 Q360.1563,1424.8438 361.1719,1423.9453 Q361.8359,1423.4375 362.1875,1423.2813 Q362.5391,1423.125 362.9688,1423.125 Q363.7891,1423.125 364.375,1423.7891 Q365,1424.4141 365,1425.3125 Q365,1426.1719 364.1406,1427.1875 Q362.8906,1428.6719 360.8984,1429.4922 Q358.2813,1430.625 355.0781,1430.625 Q351.3281,1430.625 348.3203,1429.1406 Q345.8984,1427.9688 344.1797,1425.4297 Q342.5,1422.8906 342.5,1419.8828 L342.5,1417.1484 Q342.5,1414.0234 343.9844,1411.2891 Q345.5078,1408.5547 348.125,1407.1094 Q350.7813,1405.625 353.75,1405.625 Q355.5469,1405.625 357.1094,1406.25 Q358.6719,1406.875 360,1408.125 Z " fill="#000000"/><ellipse cx="402.5" cy="1415.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="417.5" y="1429.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="200" x="485" y="1429.1504">CardResource</text><rect fill="#FFFFFF" height="42.7344" style="stroke:#000000;stroke-width:2.5;stroke-dasharray:2.0,2.0;" width="340" x="705" y="1369.375"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="335" x="707.5" y="1403.0176">T extends SmartCardSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="320" x2="1035" y1="1456.875" y2="1456.875"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="320" x2="1035" y1="1476.875" y2="1476.875"/><ellipse cx="345" cy="1504.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="577.5" x="367.5" y="1515.4224">CardResource (Reader reader, T smartCardSpi)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="320" x2="1035" y1="1531.4648" y2="1531.4648"/><ellipse cx="345" cy="1558.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="367.5" y="1570.0122">Reader getReader ()</text><ellipse cx="345" cy="1593.5547" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="215" x="367.5" y="1604.6021">T getSmartCard ()</text><!--MD5=[e210ee7b55cb4fcef849a017d68619f7]
class CardSelectionSpi--><rect codeLine="216" fill="#FEFECE" height="154.5898" id="CardSelectionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="452.5" x="313.75" y="2084.375"/><ellipse cx="398.5" cy="2124.375" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M401,2116.875 L401,2131.875 L406,2131.875 L407.2109,2131.875 L408.5,2133.4375 L408.5,2134.375 L408.5,2135.3125 L407.2109,2136.875 L406,2136.875 L391,2136.875 L389.7891,2136.875 L388.5,2135.3125 L388.5,2134.375 L388.5,2133.4375 L389.7891,2131.875 L391,2131.875 L396,2131.875 L396,2116.875 L391,2116.875 L389.7891,2116.875 L388.5,2115.3125 L388.5,2114.375 L388.5,2113.4375 L389.7891,2111.875 L391,2111.875 L406,2111.875 L407.2109,2111.875 L408.5,2113.4375 L408.5,2114.375 L408.5,2115.3125 L407.2109,2116.875 L406,2116.875 L401,2116.875 Z " fill="#000000"/><ellipse cx="456.5" cy="2123.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="240" x="471.5" y="2136.6504">CardSelectionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="316.25" x2="763.75" y1="2164.375" y2="2164.375"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="316.25" x2="763.75" y1="2184.375" y2="2184.375"/><ellipse cx="341.25" cy="2211.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="363.75" y="2222.9224">CardSelector getCardSelector ()</text><!--MD5=[c089e258773b765d812cd5d8bc232f90]
class SmartCardSpi--><rect codeLine="219" fill="#FEFECE" height="278.3594" id="SmartCardSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="312.5" x="1816.25" y="2023.125"/><ellipse cx="1858.25" cy="2063.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1860.75,2055.625 L1860.75,2070.625 L1865.75,2070.625 L1866.9609,2070.625 L1868.25,2072.1875 L1868.25,2073.125 L1868.25,2074.0625 L1866.9609,2075.625 L1865.75,2075.625 L1850.75,2075.625 L1849.5391,2075.625 L1848.25,2074.0625 L1848.25,2073.125 L1848.25,2072.1875 L1849.5391,2070.625 L1850.75,2070.625 L1855.75,2070.625 L1855.75,2055.625 L1850.75,2055.625 L1849.5391,2055.625 L1848.25,2054.0625 L1848.25,2053.125 L1848.25,2052.1875 L1849.5391,2050.625 L1850.75,2050.625 L1865.75,2050.625 L1866.9609,2050.625 L1868.25,2052.1875 L1868.25,2053.125 L1868.25,2054.0625 L1866.9609,2055.625 L1865.75,2055.625 L1860.75,2055.625 Z " fill="#000000"/><ellipse cx="1906.75" cy="2061.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="1921.75" y="2075.4004">SmartCardSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1818.75" x2="2126.25" y1="2103.125" y2="2103.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1818.75" x2="2126.25" y1="2123.125" y2="2123.125"/><ellipse cx="1843.75" cy="2150.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1866.25" y="2161.6724">boolean hasFci ()</text><ellipse cx="1843.75" cy="2185.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="245" x="1866.25" y="2196.2622">byte[] getFciBytes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1818.75" x2="2126.25" y1="2212.3047" y2="2212.3047"/><ellipse cx="1843.75" cy="2239.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="212.5" x="1866.25" y="2250.8521">boolean hasAtr ()</text><ellipse cx="1843.75" cy="2274.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="1866.25" y="2285.4419">byte[] getAtrBytes ()</text><!--MD5=[d172dfe3fef1c01713438c88abcc6a2c]
class CardSelector--><rect codeLine="227" fill="#FEFECE" height="333.418" id="CardSelector" style="stroke:#D4AC0D;stroke-width:3.75;" width="577.5" x="1103.75" y="1995.625"/><ellipse cx="1197.5" cy="2045.8594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1202.5,2037.1094 Q1203.0078,2035.8594 1203.5938,2035.2344 Q1204.1797,2034.6094 1204.8438,2034.6094 Q1206.0156,2034.6094 1206.7578,2035.3125 Q1207.5,2036.0156 1207.5,2037.6563 L1207.5,2041.5625 Q1207.5,2043.2031 1206.7969,2043.9063 Q1206.0938,2044.6094 1205,2044.6094 Q1204.0234,2044.6094 1203.3984,2044.1797 Q1202.7734,2043.75 1202.5,2042.6172 Q1202.3828,2041.8359 1201.9531,2041.4063 Q1201.1719,2040.5859 1199.7656,2040.1172 Q1198.3594,2039.6094 1196.9531,2039.6094 Q1195.1953,2039.6094 1193.7109,2040.3125 Q1192.2656,2041.0156 1191.1328,2042.5781 Q1190,2044.1406 1190,2046.2891 L1190,2048.5938 Q1190,2051.1719 1192.1094,2052.8906 Q1194.2188,2054.6094 1197.9688,2054.6094 Q1200.1953,2054.6094 1201.7578,2054.1016 Q1202.6563,2053.8281 1203.6719,2052.9297 Q1204.3359,2052.4219 1204.6875,2052.2656 Q1205.0391,2052.1094 1205.4688,2052.1094 Q1206.2891,2052.1094 1206.875,2052.7734 Q1207.5,2053.3984 1207.5,2054.2969 Q1207.5,2055.1563 1206.6406,2056.1719 Q1205.3906,2057.6563 1203.3984,2058.4766 Q1200.7813,2059.6094 1197.5781,2059.6094 Q1193.8281,2059.6094 1190.8203,2058.125 Q1188.3984,2056.9531 1186.6797,2054.4141 Q1185,2051.875 1185,2048.8672 L1185,2046.1328 Q1185,2043.0078 1186.4844,2040.2734 Q1188.0078,2037.5391 1190.625,2036.0938 Q1193.2813,2034.6094 1196.25,2034.6094 Q1198.0469,2034.6094 1199.6094,2035.2344 Q1201.1719,2035.8594 1202.5,2037.1094 Z " fill="#000000"/><ellipse cx="1257.5" cy="2044.6094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1272.5" y="2039.2676">&lt;&lt;</text><text fill="#000000" filter="url(#byf7qjnjpj88t0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="275" x="1307.5" y="2039.2676">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1582.5" y="2039.2676">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="1355" y="2077.002">CardSelector</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1106.25" x2="1678.75" y1="2096.0938" y2="2096.0938"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1106.25" x2="1678.75" y1="2116.0938" y2="2116.0938"/><polygon fill="#FFFF44" points="1131.25,2131.0938,1141.25,2141.0938,1131.25,2151.0938,1121.25,2141.0938" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="512.5" x="1153.75" y="2154.6411">CardSelector (CardSelectorBuilder builder)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1106.25" x2="1678.75" y1="2170.6836" y2="2170.6836"/><ellipse cx="1131.25" cy="2198.1836" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="355" x="1153.75" y="2209.231">CardSelectorBuilder builder ()</text><ellipse cx="1131.25" cy="2232.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="297.5" x="1153.75" y="2243.8208">String getCardProtocol ()</text><ellipse cx="1131.25" cy="2267.3633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="262.5" x="1153.75" y="2278.4106">AtrFilter getAtrFilter ()</text><ellipse cx="1131.25" cy="2301.9531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="352.5" x="1153.75" y="2313.0005">AidSelector getAidSelector ()</text><!--MD5=[9bb74c6f90a85a40b37333ced13e2f4b]
class CardSelectorBuilder--><rect codeLine="236" fill="#FEFECE" height="333.418" id="CardSelectorBuilder" style="stroke:#D4AC0D;stroke-width:3.75;" width="757.5" x="201.25" y="2664.375"/><ellipse cx="416.875" cy="2714.6094" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M421.875,2705.8594 Q422.3828,2704.6094 422.9688,2703.9844 Q423.5547,2703.3594 424.2188,2703.3594 Q425.3906,2703.3594 426.1328,2704.0625 Q426.875,2704.7656 426.875,2706.4063 L426.875,2710.3125 Q426.875,2711.9531 426.1719,2712.6563 Q425.4688,2713.3594 424.375,2713.3594 Q423.3984,2713.3594 422.7734,2712.9297 Q422.1484,2712.5 421.875,2711.3672 Q421.7578,2710.5859 421.3281,2710.1563 Q420.5469,2709.3359 419.1406,2708.8672 Q417.7344,2708.3594 416.3281,2708.3594 Q414.5703,2708.3594 413.0859,2709.0625 Q411.6406,2709.7656 410.5078,2711.3281 Q409.375,2712.8906 409.375,2715.0391 L409.375,2717.3438 Q409.375,2719.9219 411.4844,2721.6406 Q413.5938,2723.3594 417.3438,2723.3594 Q419.5703,2723.3594 421.1328,2722.8516 Q422.0313,2722.5781 423.0469,2721.6797 Q423.7109,2721.1719 424.0625,2721.0156 Q424.4141,2720.8594 424.8438,2720.8594 Q425.6641,2720.8594 426.25,2721.5234 Q426.875,2722.1484 426.875,2723.0469 Q426.875,2723.9063 426.0156,2724.9219 Q424.7656,2726.4063 422.7734,2727.2266 Q420.1563,2728.3594 416.9531,2728.3594 Q413.2031,2728.3594 410.1953,2726.875 Q407.7734,2725.7031 406.0547,2723.1641 Q404.375,2720.625 404.375,2717.6172 L404.375,2714.8828 Q404.375,2711.7578 405.8594,2709.0234 Q407.3828,2706.2891 410,2704.8438 Q412.6563,2703.3594 415.625,2703.3594 Q417.4219,2703.3594 418.9844,2703.9844 Q420.5469,2704.6094 421.875,2705.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="105" x="568.125" y="2708.0176">«static»</text><ellipse cx="480.625" cy="2732.2266" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="277.5" x="495.625" y="2745.752">CardSelectorBuilder</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="203.75" x2="956.25" y1="2764.8438" y2="2764.8438"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="203.75" x2="956.25" y1="2784.8438" y2="2784.8438"/><polygon fill="#FFFF44" points="228.75,2799.8438,238.75,2809.8438,228.75,2819.8438,218.75,2809.8438" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="267.5" x="251.25" y="2823.3911">CardSelectorBuilder ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="203.75" x2="956.25" y1="2839.4336" y2="2839.4336"/><ellipse cx="228.75" cy="2866.9336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="657.5" x="251.25" y="2877.981">CardSelectorBuilder cardProtocol (String cardProtocol)</text><ellipse cx="228.75" cy="2901.5234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="557.5" x="251.25" y="2912.5708">CardSelectorBuilder atrFilter (AtrFilter atrFilter)</text><ellipse cx="228.75" cy="2936.1133" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="692.5" x="251.25" y="2947.1606">CardSelectorBuilder aidSelector (AidSelector aidSelector)</text><ellipse cx="228.75" cy="2970.7031" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="251.25" y="2981.7505">CardSelector build ()</text><!--MD5=[0c38ce21b8fe3613f2a22c03c2bb1923]
class AidSelector--><rect codeLine="245" fill="#FEFECE" height="417.1875" id="AidSelector" style="stroke:#D4AC0D;stroke-width:3.75;" width="692.5" x="1046.25" y="2621.875"/><ellipse cx="1255.625" cy="2672.1094" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1260.625,2663.3594 Q1261.1328,2662.1094 1261.7188,2661.4844 Q1262.3047,2660.8594 1262.9688,2660.8594 Q1264.1406,2660.8594 1264.8828,2661.5625 Q1265.625,2662.2656 1265.625,2663.9063 L1265.625,2667.8125 Q1265.625,2669.4531 1264.9219,2670.1563 Q1264.2188,2670.8594 1263.125,2670.8594 Q1262.1484,2670.8594 1261.5234,2670.4297 Q1260.8984,2670 1260.625,2668.8672 Q1260.5078,2668.0859 1260.0781,2667.6563 Q1259.2969,2666.8359 1257.8906,2666.3672 Q1256.4844,2665.8594 1255.0781,2665.8594 Q1253.3203,2665.8594 1251.8359,2666.5625 Q1250.3906,2667.2656 1249.2578,2668.8281 Q1248.125,2670.3906 1248.125,2672.5391 L1248.125,2674.8438 Q1248.125,2677.4219 1250.2344,2679.1406 Q1252.3438,2680.8594 1256.0938,2680.8594 Q1258.3203,2680.8594 1259.8828,2680.3516 Q1260.7813,2680.0781 1261.7969,2679.1797 Q1262.4609,2678.6719 1262.8125,2678.5156 Q1263.1641,2678.3594 1263.5938,2678.3594 Q1264.4141,2678.3594 1265,2679.0234 Q1265.625,2679.6484 1265.625,2680.5469 Q1265.625,2681.4063 1264.7656,2682.4219 Q1263.5156,2683.9063 1261.5234,2684.7266 Q1258.9063,2685.8594 1255.7031,2685.8594 Q1251.9531,2685.8594 1248.9453,2684.375 Q1246.5234,2683.2031 1244.8047,2680.6641 Q1243.125,2678.125 1243.125,2675.1172 L1243.125,2672.3828 Q1243.125,2669.2578 1244.6094,2666.5234 Q1246.1328,2663.7891 1248.75,2662.3438 Q1251.4063,2660.8594 1254.375,2660.8594 Q1256.1719,2660.8594 1257.7344,2661.4844 Q1259.2969,2662.1094 1260.625,2663.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="105" x="1380.625" y="2665.5176">«static»</text><ellipse cx="1319.375" cy="2689.7266" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1334.375" y="2703.252">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="157.5" x="1401.875" y="2703.252">AidSelector</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1048.75" x2="1736.25" y1="2722.3438" y2="2722.3438"/><ellipse cx="1073.75" cy="2749.8438" fill="none" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="1096.25" y="2760.8911">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="250" x="1161.25" y="2760.8911">int AID_MIN_LENGTH</text><ellipse cx="1073.75" cy="2784.4336" fill="none" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="1096.25" y="2795.481">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="265" x="1161.25" y="2795.481">int AID_MAX_LENGTH</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1048.75" x2="1736.25" y1="2811.5234" y2="2811.5234"/><ellipse cx="1073.75" cy="2839.0234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="337.5" x="1096.25" y="2850.0708">AidSelectorBuilder builder ()</text><ellipse cx="1073.75" cy="2873.6133" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="1096.25" y="2884.6606">byte[] getAidToSelect ()</text><ellipse cx="1073.75" cy="2908.2031" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="442.5" x="1096.25" y="2919.2505">FileOccurrence getFileOccurrence ()</text><ellipse cx="1073.75" cy="2942.793" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="587.5" x="1096.25" y="2953.8403">FileControlInformation getFileControlInformation ()</text><ellipse cx="1073.75" cy="2977.3828" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="627.5" x="1096.25" y="2988.4302">Set&lt;Integer&gt; getSuccessfulSelectionStatusCodes ()</text><ellipse cx="1073.75" cy="3011.9727" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="580" x="1096.25" y="3023.02">void addSuccessfulStatusCode (int statusCode)</text><!--MD5=[fee81bc52a51049c477ecaaae1e1e62b]
class AidSelectorBuilder--><rect codeLine="255" fill="#FEFECE" height="313.418" id="AidSelectorBuilder" style="stroke:#D4AC0D;stroke-width:3.75;" width="1092.5" x="201.25" y="3363.125"/><ellipse cx="561.875" cy="3413.3594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M566.875,3404.6094 Q567.3828,3403.3594 567.9688,3402.7344 Q568.5547,3402.1094 569.2188,3402.1094 Q570.3906,3402.1094 571.1328,3402.8125 Q571.875,3403.5156 571.875,3405.1563 L571.875,3409.0625 Q571.875,3410.7031 571.1719,3411.4063 Q570.4688,3412.1094 569.375,3412.1094 Q568.3984,3412.1094 567.7734,3411.6797 Q567.1484,3411.25 566.875,3410.1172 Q566.7578,3409.3359 566.3281,3408.9063 Q565.5469,3408.0859 564.1406,3407.6172 Q562.7344,3407.1094 561.3281,3407.1094 Q559.5703,3407.1094 558.0859,3407.8125 Q556.6406,3408.5156 555.5078,3410.0781 Q554.375,3411.6406 554.375,3413.7891 L554.375,3416.0938 Q554.375,3418.6719 556.4844,3420.3906 Q558.5938,3422.1094 562.3438,3422.1094 Q564.5703,3422.1094 566.1328,3421.6016 Q567.0313,3421.3281 568.0469,3420.4297 Q568.7109,3419.9219 569.0625,3419.7656 Q569.4141,3419.6094 569.8438,3419.6094 Q570.6641,3419.6094 571.25,3420.2734 Q571.875,3420.8984 571.875,3421.7969 Q571.875,3422.6563 571.0156,3423.6719 Q569.7656,3425.1563 567.7734,3425.9766 Q565.1563,3427.1094 561.9531,3427.1094 Q558.2031,3427.1094 555.1953,3425.625 Q552.7734,3424.4531 551.0547,3421.9141 Q549.375,3419.375 549.375,3416.3672 L549.375,3413.6328 Q549.375,3410.5078 550.8594,3407.7734 Q552.3828,3405.0391 555,3403.5938 Q557.6563,3402.1094 560.625,3402.1094 Q562.4219,3402.1094 563.9844,3402.7344 Q565.5469,3403.3594 566.875,3404.6094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="105" x="735.625" y="3406.7676">«static»</text><ellipse cx="625.625" cy="3430.9766" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="640.625" y="3444.502">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="255" x="708.125" y="3444.502">AidSelectorBuilder</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="203.75" x2="1291.25" y1="3463.5938" y2="3463.5938"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="203.75" x2="1291.25" y1="3483.5938" y2="3483.5938"/><ellipse cx="228.75" cy="3511.0938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="507.5" x="251.25" y="3522.1411">AidSelectorBuilder aidToSelect (byte[] aid)</text><ellipse cx="228.75" cy="3545.6836" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="510" x="251.25" y="3556.731">AidSelectorBuilder aidToSelect (String aid)</text><ellipse cx="228.75" cy="3580.2734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="810" x="251.25" y="3591.3208">AidSelectorBuilder fileOccurrence (FileOccurrence fileOccurrence)</text><ellipse cx="228.75" cy="3614.8633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1027.5" x="251.25" y="3625.9106">AidSelectorBuilder fileControlInformation (FileControlInformation fileControlInformation)</text><ellipse cx="228.75" cy="3649.4531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="230" x="251.25" y="3660.5005">AidSelector build ()</text><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><rect codeLine="262" fill="#FEFECE" height="292.9492" id="FileOccurrence" style="stroke:#D4AC0D;stroke-width:3.75;" width="317.5" x="1381.25" y="3373.125"/><ellipse cx="1419.875" cy="3413.125" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1416.125,3415.625 L1416.125,3420.625 L1426.125,3420.625 L1426.125,3418.125 L1426.125,3416.9141 L1427.6875,3415.625 L1428.625,3415.625 L1429.5625,3415.625 L1431.125,3416.9141 L1431.125,3418.125 L1431.125,3425.625 L1411.125,3425.625 L1409.9141,3425.625 L1408.625,3424.0625 L1408.625,3423.125 L1408.625,3422.1875 L1409.9141,3420.625 L1411.125,3420.625 L1411.125,3420.625 L1411.125,3405.625 L1411.125,3405.625 L1409.9141,3405.625 L1408.625,3404.0625 L1408.625,3403.125 L1408.625,3402.1875 L1409.9141,3400.625 L1411.125,3400.625 L1431.125,3400.625 L1431.125,3408.125 L1431.125,3409.3359 L1429.5625,3410.625 L1428.625,3410.625 L1427.6875,3410.625 L1426.125,3409.3359 L1426.125,3408.125 L1426.125,3405.625 L1416.125,3405.625 L1416.125,3410.625 L1418.625,3410.625 L1418.625,3409.4141 L1418.625,3409.4141 L1420.1875,3408.125 L1421.125,3408.125 L1422.0625,3408.125 L1423.625,3409.4141 L1423.625,3410.625 L1423.625,3415.625 L1423.625,3416.8359 L1422.0625,3418.125 L1422.0625,3418.125 L1421.125,3418.125 L1420.1875,3418.125 L1418.625,3416.8359 L1418.625,3416.8359 L1418.625,3415.625 L1416.125,3415.625 Z " fill="#000000"/><ellipse cx="1467.625" cy="3411.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="207.5" x="1482.625" y="3425.4004">FileOccurrence</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1383.75" x2="1696.25" y1="3453.125" y2="3453.125"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="70" x="1396.25" y="3491.6724">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="67.5" x="1396.25" y="3526.2622">LAST</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="65" x="1396.25" y="3560.8521">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="127.5" x="1396.25" y="3595.4419">PREVIOUS</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1383.75" x2="1696.25" y1="3611.4844" y2="3611.4844"/><ellipse cx="1408.75" cy="3638.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="252.5" x="1431.25" y="3650.0317">byte getIsoBitMask ()</text><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><rect codeLine="269" fill="#FEFECE" height="292.9492" id="FileControlInformation" style="stroke:#D4AC0D;stroke-width:3.75;" width="415" x="1787.5" y="3373.125"/><ellipse cx="1825" cy="3413.125" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1821.25,3415.625 L1821.25,3420.625 L1831.25,3420.625 L1831.25,3418.125 L1831.25,3416.9141 L1832.8125,3415.625 L1833.75,3415.625 L1834.6875,3415.625 L1836.25,3416.9141 L1836.25,3418.125 L1836.25,3425.625 L1816.25,3425.625 L1815.0391,3425.625 L1813.75,3424.0625 L1813.75,3423.125 L1813.75,3422.1875 L1815.0391,3420.625 L1816.25,3420.625 L1816.25,3420.625 L1816.25,3405.625 L1816.25,3405.625 L1815.0391,3405.625 L1813.75,3404.0625 L1813.75,3403.125 L1813.75,3402.1875 L1815.0391,3400.625 L1816.25,3400.625 L1836.25,3400.625 L1836.25,3408.125 L1836.25,3409.3359 L1834.6875,3410.625 L1833.75,3410.625 L1832.8125,3410.625 L1831.25,3409.3359 L1831.25,3408.125 L1831.25,3405.625 L1821.25,3405.625 L1821.25,3410.625 L1823.75,3410.625 L1823.75,3409.4141 L1823.75,3409.4141 L1825.3125,3408.125 L1826.25,3408.125 L1827.1875,3408.125 L1828.75,3409.4141 L1828.75,3410.625 L1828.75,3415.625 L1828.75,3416.8359 L1827.1875,3418.125 L1827.1875,3418.125 L1826.25,3418.125 L1825.3125,3418.125 L1823.75,3416.8359 L1823.75,3416.8359 L1823.75,3415.625 L1821.25,3415.625 Z " fill="#000000"/><ellipse cx="1872.5" cy="3411.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="307.5" x="1887.5" y="3425.4004">FileControlInformation</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1790" x2="2200" y1="3453.125" y2="3453.125"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="37.5" x="1802.5" y="3491.6724">FCI</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="47.5" x="1802.5" y="3526.2622">FCP</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="52.5" x="1802.5" y="3560.8521">FMD</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="187.5" x="1802.5" y="3595.4419">NO_RESPONSE</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1790" x2="2200" y1="3611.4844" y2="3611.4844"/><ellipse cx="1815" cy="3638.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="252.5" x="1837.5" y="3650.0317">byte getIsoBitMask ()</text><!--MD5=[32bde9a16d1fd80730cde0df05390289]
class AtrFilter--><rect codeLine="276" fill="#FEFECE" height="298.8281" id="AtrFilter" style="stroke:#D4AC0D;stroke-width:3.75;" width="490" x="1827.5" y="2680.625"/><ellipse cx="1961.875" cy="2730.8594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1966.875,2722.1094 Q1967.3828,2720.8594 1967.9688,2720.2344 Q1968.5547,2719.6094 1969.2188,2719.6094 Q1970.3906,2719.6094 1971.1328,2720.3125 Q1971.875,2721.0156 1971.875,2722.6563 L1971.875,2726.5625 Q1971.875,2728.2031 1971.1719,2728.9063 Q1970.4688,2729.6094 1969.375,2729.6094 Q1968.3984,2729.6094 1967.7734,2729.1797 Q1967.1484,2728.75 1966.875,2727.6172 Q1966.7578,2726.8359 1966.3281,2726.4063 Q1965.5469,2725.5859 1964.1406,2725.1172 Q1962.7344,2724.6094 1961.3281,2724.6094 Q1959.5703,2724.6094 1958.0859,2725.3125 Q1956.6406,2726.0156 1955.5078,2727.5781 Q1954.375,2729.1406 1954.375,2731.2891 L1954.375,2733.5938 Q1954.375,2736.1719 1956.4844,2737.8906 Q1958.5938,2739.6094 1962.3438,2739.6094 Q1964.5703,2739.6094 1966.1328,2739.1016 Q1967.0313,2738.8281 1968.0469,2737.9297 Q1968.7109,2737.4219 1969.0625,2737.2656 Q1969.4141,2737.1094 1969.8438,2737.1094 Q1970.6641,2737.1094 1971.25,2737.7734 Q1971.875,2738.3984 1971.875,2739.2969 Q1971.875,2740.1563 1971.0156,2741.1719 Q1969.7656,2742.6563 1967.7734,2743.4766 Q1965.1563,2744.6094 1961.9531,2744.6094 Q1958.2031,2744.6094 1955.1953,2743.125 Q1952.7734,2741.9531 1951.0547,2739.4141 Q1949.375,2736.875 1949.375,2733.8672 L1949.375,2731.1328 Q1949.375,2728.0078 1950.8594,2725.2734 Q1952.3828,2722.5391 1955,2721.0938 Q1957.6563,2719.6094 1960.625,2719.6094 Q1962.4219,2719.6094 1963.9844,2720.2344 Q1965.5469,2720.8594 1966.875,2722.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="105" x="2060.625" y="2724.2676">«static»</text><ellipse cx="2025.625" cy="2748.4766" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2040.625" y="2762.002">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="105" x="2108.125" y="2762.002">AtrFilter</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1830" x2="2315" y1="2781.0938" y2="2781.0938"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1830" x2="2315" y1="2801.0938" y2="2801.0938"/><ellipse cx="1855" cy="2828.5938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="1877.5" y="2839.6411">AtrFilter (String atrRegex)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1830" x2="2315" y1="2855.6836" y2="2855.6836"/><ellipse cx="1855" cy="2883.1836" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1877.5" y="2894.231">void setAtrRegex (String atrRegex)</text><ellipse cx="1855" cy="2917.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="257.5" x="1877.5" y="2928.8208">String getAtrRegex ()</text><ellipse cx="1855" cy="2952.3633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="1877.5" y="2963.4106">boolean atrMatches (byte[] atr)</text><!--MD5=[550a12816f88094ca7e979a72eedae9c]
reverse link Plugin to ObservablePlugin--><path d="M3679.075,1704.325 C3711.675,1811.45 3750.675,1939.675 3778.95,2032.65 " fill="none" id="Plugin-backto-ObservablePlugin" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="3662.2,1708.95,3664.4,1656.025,3695.675,1698.775,3662.2,1708.95" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[2219806bdc996f946b60beec9aa5725f]
reverse link Plugin to PoolPlugin--><path d="M3904.225,1683.025 C4002.025,1746 4111.5,1817.85 4210,1885.625 C4281.05,1934.525 4358.225,1990.35 4423.975,2038.8 " fill="none" id="Plugin-backto-PoolPlugin" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="3894.275,1697.425,3861.675,1655.675,3913.2,1667.975,3894.275,1697.425" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[495ccb80ac82bdc45a1b0288016f2c00]
reverse link Reader to ObservableReader--><path d="M3412.55,2366.05 C3510.15,2409.2 3612.375,2454.825 3707.5,2498.125 C3798.875,2539.7 3896.55,2585.025 3989.15,2628.4 " fill="none" id="Reader-backto-ObservableReader" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="3405.25,2381.95,3366.575,2345.75,3419.375,2349.925,3405.25,2381.95" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[87108e5f4fe3b1b054319f5a5376b22c]
reverse link KeypleException to KeyplePluginException--><path d="M1995,4345.255 C1995,4424.4825 1995,4520 1995,4595.015 " fill="none" id="KeypleException-backto-KeyplePluginException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1977.5,4344.6925,1995,4294.6925,2012.5,4344.6925,1977.5,4344.6925" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[b1b62e2e6c030dc6a9b37ac6775e7c78]
reverse link KeyplePluginException to KeyplePluginInstantiationException--><path d="M1995,4904.2875 C1995,4938.3025 1995,4973.2775 1995,5005.2925 " fill="none" id="KeyplePluginException-backto-KeyplePluginInstantiationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1977.5,4903.9075,1995,4853.9075,2012.5,4903.9075,1977.5,4903.9075" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[adc7acb833e9d541797f3dabaf3e2153]
reverse link KeyplePluginException to KeyplePluginNotFoundException--><path d="M1743.5825,4879.995 C1655.66,4933.54 1559.685,4991.9925 1482.3425,5039.095 " fill="none" id="KeyplePluginException-backto-KeyplePluginNotFoundException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1735.52,4864.415,1787.325,4853.3525,1753.725,4894.3075,1735.52,4864.415" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[f46f353d072399c034da0e19ed6178aa]
reverse link KeypleException to KeypleReaderException--><path d="M2181.5325,4324.1325 C2298.6275,4407.155 2448.775,4513.615 2564.25,4595.4975 " fill="none" id="KeypleException-backto-KeypleReaderException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2170.6775,4337.8875,2140.0125,4294.6925,2190.9225,4309.3375,2170.6775,4337.8875" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[69a35a408789194817fb9af7e4f5d43c]
reverse link KeypleReaderException to KeypleReaderCommunicationException--><path d="M2728.275,4904.2875 C2725.525,4938.3025 2722.725,4973.2775 2720.15,5005.2925 " fill="none" id="KeypleReaderException-backto-KeypleReaderCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2710.85,4902.3475,2732.3,4853.9075,2745.75,4905.1475,2710.85,4902.3475" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[12d5b1d7cd476923d10b1717181460cb]
reverse link KeypleReaderException to KeypleReaderNotFoundException--><path d="M2995.7,4879.3625 C3064.45,4920.765 3138.15,4965.14 3204.275,5004.9625 " fill="none" id="KeypleReaderException-backto-KeypleReaderNotFoundException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2986.325,4894.14,2952.525,4853.3525,3004.375,4864.1575,2986.325,4894.14" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[515db2f3ae8704dca477f56c3cd66f90]
reverse link KeypleReaderException to KeypleReaderProtocolNotSupportedException--><path d="M3066.775,4846.08 C3074.575,4848.4975 3082.325,4850.85 3090,4853.125 C3377.6,4938.385 3457.725,4928.0375 3747.5,5005.625 C3786.05,5015.9475 3826.425,5027.4075 3866.225,5039.0925 " fill="none" id="KeypleReaderException-backto-KeypleReaderProtocolNotSupportedException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="3060.675,4862.4975,3018.425,4830.525,3071.375,4829.18,3060.675,4862.4975" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[914a89e9d5d125f1528ae8fae6a73306]
reverse link KeypleException to KeypleCardCommunicationException--><path d="M1824.5425,4325.7175 C1719.31,4408.3425 1585.105,4513.7175 1481.5675,4595.015 " fill="none" id="KeypleException-backto-KeypleCardCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1813.92,4311.8075,1864.0525,4294.6925,1835.535,4339.335,1813.92,4311.8075" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[a5adf9ace2a964bf932a6485ca71a04d]
reverse link SmartCardService to Plugin--><path codeLine="362" d="M3663.15,1091.725 C3653.1,1180.825 3643.025,1270.3 3634.9,1342.425 " fill="none" id="SmartCardService-backto-Plugin" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3666.85,1058.95,3655.2463,1072.7469,3663.519,1088.7645,3675.1226,1074.9676,3666.85,1058.95" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="3573.4431" y="1315.7278">0..N</text><!--MD5=[851cf9057d595cdfbdcfe405c0fc7e0f]
reverse link SmartCardService to DistributedLocalService--><path codeLine="363" d="M4097.925,1081.925 C4211.225,1193.325 4326.175,1306.325 4407.45,1386.225 " fill="none" id="SmartCardService-backto-DistributedLocalService" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4074.525,1058.95,4078.2115,1076.5968,4095.9187,1079.9811,4092.2322,1062.3343,4074.525,1058.95" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="4325.622" y="1359.7357">0..N</text><!--MD5=[dbf27993ab668861900a3380d05f6dc2]
reverse link PluginEvent to PluginEventType--><path codeLine="365" d="M3270.625,4463.91 C3270.775,4516.205 3272.6,4568.135 3276.05,4611.545 " fill="none" id="PluginEvent-backto-PluginEventType" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="3270.7279" cy="4445.8823" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="3270.6307" x2="3270.825" y1="4465.882" y2="4425.8825"/><line style="stroke:#A80036;stroke-width:2.5;" x1="3250.7281" x2="3290.7276" y1="4445.7851" y2="4445.9794"/><!--MD5=[dbf27993ab668861900a3380d05f6dc2]
reverse link PluginEvent to PluginEventType--><path codeLine="366" d="M3336.25,4458.5775 C3336.2,4512.6675 3334.3,4566.66 3330.5,4611.545 " fill="none" id="PluginEvent-backto-PluginEventType-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3336.05,4425.8825,3326.1442,4440.9448,3336.2379,4455.8819,3346.1438,4440.8196,3336.05,4425.8825" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3315.9477" y="4585.1047">1</text><!--MD5=[ff05c798c0d0e38364e8144829ad24ca]
reverse link ObservableReader to NotificationMode--><path codeLine="368" d="M4450.975,3201.82 C4451.6,3231.0025 4451.375,3260.04 4450,3288.125 C4447.8,3332.765 4443.225,3382.13 4438.775,3423.54 " fill="none" id="ObservableReader-backto-NotificationMode" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="4450.3489" cy="3183.4286" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4451.0228" x2="4449.675" y1="3203.4173" y2="3163.44"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4430.3603" x2="4470.3375" y1="3184.1025" y2="3182.7547"/><!--MD5=[79b2bd11d5b4a472f8a4f543b4bc8d4f]
link ObservableReader to NotificationMode--><path codeLine="369" d="M4332.975,3164.0375 C4330.925,3205.8725 4332.6,3248.0425 4340,3288.125 C4347.7,3329.8075 4362.675,3373.7125 4378.075,3411.79 " fill="none" id="ObservableReader-to-NotificationMode" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4382.875,3423.4125,4383.5289,3398.799,4378.1034,3411.8591,4365.0434,3406.4336,4382.875,3423.4125" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4354.7387,3278.3624,4357.9174,3254.7994,4343.4604,3257.4311,4354.7387,3278.3624" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="4375" y="3279.3628">use</text><!--MD5=[aa7d23f4fc0db106291b229919ad88ab]
reverse link ObservableReader to PollingMode--><path codeLine="370" d="M4624.675,3196.51 C4643.3,3227.5475 4661.925,3258.4175 4680,3288.125 C4707.225,3332.9 4737.9,3382.2825 4763.8,3423.6675 " fill="none" id="ObservableReader-backto-PollingMode" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="4615.5759" cy="3181.3033" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4625.8518" x2="4605.3" y1="3198.4615" y2="3164.145"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4598.4177" x2="4632.7342" y1="3191.5792" y2="3171.0273"/><!--MD5=[ad6c930fd18117e46f05d9c15cef2aec]
link ObservableReader to PollingMode--><path codeLine="371" d="M4641.925,3163.8625 C4658.65,3190.3875 4674.875,3217.02 4690,3243.125 C4721.5,3297.495 4752.325,3360.47 4776.325,3412.3025 " fill="none" id="ObservableReader-to-PollingMode" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4781.65,3423.8625,4781.318,3399.2426,4776.4197,3412.5094,4763.1529,3407.6111,4781.65,3423.8625" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4730.9477,3277.0588,4726.6505,3253.6739,4713.7259,3260.6658,4730.9477,3277.0588" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="4747.5" y="3279.3628">use</text><!--MD5=[16bfb44a55887ba0be17cea5ef6e20b5]
reverse link ReaderEvent to ReaderEventType--><path codeLine="373" d="M4065.75,4481.915 C4066.15,4521.6725 4067.525,4560.6725 4069.85,4595.29 " fill="none" id="ReaderEvent-backto-ReaderEventType" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="4065.6976" cy="4463.6824" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4065.7452" x2="4065.65" y1="4483.6824" y2="4443.6825"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4045.6977" x2="4085.6976" y1="4463.7301" y2="4463.6348"/><!--MD5=[16bfb44a55887ba0be17cea5ef6e20b5]
reverse link ReaderEvent to ReaderEventType--><path codeLine="374" d="M4131.175,4476.9925 C4130.8,4518.45 4129.35,4559.245 4126.775,4595.29 " fill="none" id="ReaderEvent-backto-ReaderEventType-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4131.225,4443.6825,4121.2036,4458.6682,4131.1821,4473.6825,4141.2036,4458.6968,4131.225,4443.6825" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="4112.1613" y="4568.0641">1</text><!--MD5=[49c0768a0a9b42c74e94a5464d5553a5]
reverse link CardSelectionsService to MultiSelectionProcessing--><path codeLine="376" d="M1568.735,955.125 C1506.745,1108.65 1431.7125,1294.5 1387.5875,1403.775 " fill="none" id="CardSelectionsService-backto-MultiSelectionProcessing" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1580.9475,924.875,1566.0557,935.0354,1569.707,952.6896,1584.5988,942.5291,1580.9475,924.875" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1375.2242" y="1377.0729">1</text><!--MD5=[d5073d4b4b45c67c12418c804878b455]
reverse link CardSelectionsService to CardSelectionSpi--><path codeLine="377" d="M1155.125,758.825 C843.1675,825.05 469.22,963.525 272.5,1253.125 C149.5053,1434.2 210.5453,1535.675 272.5,1745.625 C311.2375,1876.875 406.045,2005.7 471.7025,2083.85 " fill="none" id="CardSelectionsService-backto-CardSelectionSpi" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1187.0375,752.25,1170.3302,745.4776,1157.6528,758.2949,1174.3601,765.0674,1187.0375,752.25" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="391.4286" y="2057.5031">1..N</text><!--MD5=[9ca18bc88ef7f5f1b52c73ed22fc3170]
reverse link CardSelectionsResult to SmartCardSpi--><path codeLine="379" d="M1999.9775,1779.025 C1993.8925,1863.25 1987.475,1952.1 1982.37,2022.75 " fill="none" id="CardSelectionsResult-backto-SmartCardSpi" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2002.38,1745.775,1991.334,1760.0223,2000.237,1775.6984,2011.2829,1761.451,2002.38,1745.775" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="1919.7908" y="1996.1012">1..N</text><!--MD5=[9e1064f9f64efe866b1e684d6c96e96f]
reverse link CardResource to SmartCardSpi--><path codeLine="381" d="M876.505,1640.2 C939.355,1678.95 1010.5675,1717.975 1080,1745.625 C1352.51,1854.2 1471.125,1738.675 1725,1885.625 C1783.7775,1919.65 1836.3125,1972.425 1877.7,2022.6 " fill="none" id="CardResource-backto-SmartCardSpi" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="848.25,1622.475,855.642,1638.9176,873.6629,1638.4182,866.2708,1621.9756,848.25,1622.475" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1846.9327" y="1995.9319">1</text><!--MD5=[dded764287e9a41aa4d5ee3093832a8a]
reverse link CardResource to Reader--><path codeLine="382" d="M867.7425,1640.325 C932.2025,1680.75 1006.54,1720.725 1080,1745.625 C1350.47,1837.325 2082.3325,1809.175 2357.5,1885.625 C2440.475,1908.675 2526.4,1942.175 2606.225,1977.875 " fill="none" id="CardResource-backto-Reader" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="839.81,1622.4,847.0245,1638.9212,865.0496,1638.6161,857.8352,1622.0948,839.81,1622.4" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="2552.3709" y="1950.6186">1</text><!--MD5=[58002d5c440144b8906b4e6a92d74e32]
reverse link CardSelector to CardSelectorBuilder--><path codeLine="384" d="M1162.455,2352.3 C1042.1625,2450.575 896.305,2569.725 780.6425,2664.225 " fill="none" id="CardSelector-backto-CardSelectorBuilder" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1176.1701" cy="2341.1047" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1160.6827" x2="1191.6575" y1="2353.7594" y2="2328.45"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1163.5154" x2="1188.8248" y1="2325.6173" y2="2356.5921"/><!--MD5=[9d6b00bd2946b6981c1c1f45273672a7]
reverse link CardSelector to AtrFilter--><path codeLine="385" d="M1583.645,2353.9 C1635.53,2399.725 1690.765,2449.525 1740,2498.125 C1797.8125,2555.175 1857.7125,2621.875 1911.02,2680.325 " fill="none" id="CardSelector-backto-AtrFilter" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1570.2451" cy="2342.0809" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1585.2652" x2="1555.225" y1="2355.2868" y2="2328.875"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1557.0392" x2="1583.451" y1="2357.101" y2="2327.0608"/><!--MD5=[9d6b00bd2946b6981c1c1f45273672a7]
reverse link CardSelector to AtrFilter--><path codeLine="386" d="M1664.18,2350.1 C1719.955,2396.95 1776.8975,2448.175 1827.5,2498.125 C1885.3125,2555.175 1945.2125,2621.875 1992.22,2680.325 " fill="none" id="CardSelector-backto-AtrFilter-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1638.6625,2328.875,1643.8093,2346.1525,1661.7372,2348.0468,1656.5905,2330.7693,1638.6625,2328.875" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="1924.0843" y="2653.4324">0..1</text><!--MD5=[1dfcb89d2c962d176fd99d4de5212cc5]
reverse link CardSelector to AidSelector--><path codeLine="387" d="M1362.8825,2366.875 C1359.9325,2447.325 1359.8725,2539.8 1362.7075,2620.725 " fill="none" id="CardSelector-backto-AidSelector" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1363.7078" cy="2348.4316" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1362.8507" x2="1364.565" y1="2368.4132" y2="2328.45"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1343.7262" x2="1383.6895" y1="2347.5745" y2="2349.2888"/><!--MD5=[1dfcb89d2c962d176fd99d4de5212cc5]
reverse link CardSelector to AidSelector--><path codeLine="388" d="M1423.64,2361.4 C1426.98,2443.1 1427.115,2537.95 1424.045,2620.725 " fill="none" id="CardSelector-backto-AidSelector-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1422.0775,2328.45,1412.7974,2343.9058,1423.4951,2358.4165,1432.7751,2342.9607,1422.0775,2328.45" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="1369.3926" y="2594.757">0..1</text><!--MD5=[88e7d67e8d3c9d0745e36b335e282fe1]
reverse link AidSelector to AidSelectorBuilder--><path codeLine="390" d="M1171.0175,3067.9125 C1079.0675,3165.3875 974.93,3275.78 892.93,3362.71 " fill="none" id="AidSelector-backto-AidSelectorBuilder" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1183.5038" cy="3054.676" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1169.78" x2="1197.2275" y1="3069.2245" y2="3040.1275"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1168.9553" x2="1198.0523" y1="3040.9523" y2="3068.3997"/><!--MD5=[31b11aed7b6d88b43735b7f54d1facfd]
reverse link AidSelector to FileOccurrence--><path codeLine="391" d="M1414.49,3077.33 C1433.3425,3176.1175 1458.5825,3286.78 1482.24,3372.355 " fill="none" id="AidSelector-backto-FileOccurrence" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1411.2407" cy="3059.7924" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1414.8865" x2="1407.595" y1="3079.4573" y2="3040.1275"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1391.5758" x2="1430.9056" y1="3063.4381" y2="3056.1467"/><!--MD5=[31b11aed7b6d88b43735b7f54d1facfd]
reverse link AidSelector to FileOccurrence--><path codeLine="392" d="M1476.41,3072.12 C1500.7975,3172.21 1523.785,3285.2725 1536.9725,3372.355 " fill="none" id="AidSelector-backto-FileOccurrence-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1468.4525,3040.1275,1462.3678,3057.0974,1475.6921,3069.2409,1481.7768,3052.271,1468.4525,3040.1275" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="1478.252" y="3345.7634">0..1</text><!--MD5=[18a6dd80f65088794a6f07d590dbbf0a]
reverse link AidSelector to FileControlInformation--><path codeLine="393" d="M1569.7675,3068.875 C1655.9075,3169.76 1758.16,3284.33 1841.07,3372.355 " fill="none" id="AidSelector-backto-FileControlInformation" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1558.2939" cy="3055.3698" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1571.2428" x2="1545.345" y1="3070.612" y2="3040.1275"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1543.0516" x2="1573.5361" y1="3068.3186" y2="3042.4209"/><!--MD5=[18a6dd80f65088794a6f07d590dbbf0a]
reverse link AidSelector to FileControlInformation--><path codeLine="394" d="M1628.3725,3064.3475 C1721.32,3166.3175 1822.82,3283.0125 1895.8025,3372.355 " fill="none" id="AidSelector-backto-FileControlInformation-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1606.2025,3040.1275,1608.9558,3057.9438,1626.4605,3062.2547,1623.7072,3044.4384,1606.2025,3040.1275" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="1825.3612" y="3345.7634">0..1</text><!--MD5=[8b513e08943f8bfe5c241563ffc49ec0]
link Plugin to Reader--><path codeLine="397" d="M3461,1656.025 C3366.55,1749.05 3245.425,1868.375 3144.825,1967.475 " fill="none" id="Plugin-to-Reader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3135.15,1977,3158.2015,1968.3468,3144.0598,1968.2327,3144.1739,1954.0911,3135.15,1977" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3286.0949,1852.3365,3307.3605,1841.702,3297.0483,1831.2334,3286.0949,1852.3365" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3317.5" y="1856.8628">provide</text><!--MD5=[7a75f846b2827a369d38a5e0b4da1c75]
link CardSelectionsService to Reader--><path codeLine="399" d="M2038.16,925.05 C2168.2675,1016.75 2309.705,1130.05 2420,1253.125 C2615.3,1471.05 2774.1,1772.075 2865.35,1966.25 " fill="none" id="CardSelectionsService-to-Reader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2870.725,1977.725,2870.204,1953.1084,2865.4077,1966.4123,2852.1037,1961.6161,2870.725,1977.725" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2770.2756,1509.6017,2761.9622,1487.326,2750.4566,1496.4668,2770.2756,1509.6017" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2785" y="1513.1128">use</text><!--MD5=[a78abf8a9f4d4004f45dae4ef46859b1]
link CardSelectionsService to CardSelectionsResult--><path codeLine="400" d="M1771.15,924.875 C1813.955,1023.275 1864.2925,1138.975 1908.4525,1240.475 " fill="none" id="CardSelectionsService-to-CardSelectionsResult" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1913.805,1252.775,1913.9735,1228.1534,1908.8066,1241.3179,1895.6421,1236.1509,1913.805,1252.775" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1894.9867,1167.5267,1892.703,1143.8602,1879.2284,1149.7224,1894.9867,1167.5267" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1912.5" y="1169.3628">provide</text><!--MD5=[06097ac9a1874e227666b9f6d6984d89]
link ObservablePlugin to PluginObserverSpi--><path codeLine="403" d="M3777.975,2291.625 C3693.425,2563.925 3496.775,3197.215 3424.65,3429.4675 " fill="none" id="ObservablePlugin-to-PluginObserverSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3420.9,3441.545,3437.132,3423.0309,3424.613,3429.6092,3418.0347,3417.0901,3420.9,3441.545" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3721.2931,2843.0022,3735.0158,2823.5855,3720.9822,2819.2278,3721.2931,2843.0022" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="3747.5" y="2844.3628">use</text><!--MD5=[20506b77ae2afba69d710e66d82eebdc]
link PluginObserverSpi to PluginEvent--><path codeLine="405" d="M3386.7,3597.5125 C3374.825,3680.615 3355.125,3818.45 3337.775,3939.9375 " fill="none" id="PluginObserverSpi-to-PluginEvent" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3336,3952.3925,3349.0773,3931.5302,3337.7653,3940.0178,3329.2777,3928.7058,3336,3952.3925" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3363.232,3850.9388,3373.7038,3829.5926,3359.1569,3827.5142,3363.232,3850.9388" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="3387.5" y="3851.8628">use</text><!--MD5=[6a8008c62fde1d2d9e9d3bbd561b68e4]
link ObservableReader to ReaderObserverSpi--><path codeLine="407" d="M4037.5,3163.53 C4018.875,3189.1875 4001.95,3215.7875 3987.5,3243.125 C3957.45,3299.98 3945.825,3371.8575 3941.575,3427.6925 " fill="none" id="ObservableReader-to-ReaderObserverSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3940.675,3440.795,3952.1764,3419.0242,3941.5219,3428.3237,3932.2224,3417.6692,3940.675,3440.795" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3995.7335,3277.8138,4010.3578,3259.0668,3996.5456,3254.0512,3995.7335,3277.8138" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="4022.5" y="3279.3628">use</text><!--MD5=[758676a953febafd9b469dc66825d62d]
link ReaderObserverSpi to ReaderEvent--><path codeLine="409" d="M3957.925,3597.5125 C3976.65,3676.67 4007.175,3805.4875 4034.9,3922.5325 " fill="none" id="ReaderObserverSpi-to-ReaderEvent" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4037.9,3935.2775,4042.4403,3911.0776,4035.0167,3923.1146,4022.9797,3915.6909,4037.9,3935.2775" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4032.8807,3850.728,4034.819,3827.0307,4020.5199,3830.4172,4032.8807,3850.728" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="4052.5" y="3851.8628">use</text><!--MD5=[75b6d588567c3fe81ad4f82fb21c9061]
reverse link CardSelector to CardSelectionSpi--><path codeLine="411" d="M1090.21,2161.875 C983.9325,2161.875 866.395,2161.875 767.335,2161.875 " fill="none" id="CardSelector-backto-CardSelectionSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1103.1125,2161.875,1080.6125,2151.875,1090.6125,2161.875,1080.6125,2171.875,1103.1125,2161.875" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="891.25,2132.3145,868.6373,2124.9671,868.6373,2139.6618,891.25,2132.3145" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="901.25" y="2145.6128">provide</text><!--MD5=[70de4d43728b539bd473be3b72d45c74]
link FileControlInformation to KeypleException--><!--MD5=[265c3b58b6ae8522f4aa2715bd016b89]
@startuml
title
    Keyple 2.0 - keyple-service - 2.0.0 (05/02/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.service" as service {
    ' SPI
    package spi {
        +interface PluginObserverSpi {
            +void update (PluginEvent event)
        }
        +interface ReaderObserverSpi {
            +void update (ReaderEvent event)
        }
    }
    ' SERVICE
    together {
        +class "**final** ServiceApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +class "**final** SmartCardService" as SmartCardService {
            - -
            +{static} SmartCardService getInstance ()
            ..
            +Plugin registerPlugin (<back:cyan>KeyplePluginFactory</back> pluginFactory)
            +void unregisterPlugin (String pluginName)
            +boolean isPluginRegistered (String pluginName)
            ..
            +Map<String, Plugin> getPlugins ()
            +Plugin getPlugin (String pluginName)
            ..
            +void checkCardExtension (<back:cyan>KeypleCardExtension</back> cardExtension)
            ..
            +DistributedLocalService registerDistributedLocalService (
                \t<back:cyan>KeypleDistributedLocalServiceFactory</back> distributedLocalServiceFactory)
            +void unregisterDistributedLocalService (
                \tString distributedLocalServiceName)
            ..
            +void getDistributedLocalService (
                \tString distributedLocalServiceName)
            ..
            +String getVersion ()
        }
        +interface Plugin {
            - -
            +String getName ()
            +<T extends <back:cyan>KeyplePlugin</back>> T getExtension (Class<T> pluginType)
            ..
            +Set<String> getReaderNames ()
            +Map<String, Reader> getReaders ()
            +Reader getReader (String readerName)
        }
        +interface DistributedLocalService {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleDistributedLocalService</back>> T getExtension (
                \tClass<T> distributedLocalServiceType)
        }
        +interface ObservablePlugin extends Plugin {
            +void addObserver (PluginObserverSpi observer)
            +void removeObserver (PluginObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
        }
        +interface PoolPlugin extends Plugin {
            - -
            +SortedSet<String> getReaderGroupReferences ()
            ..
            +Reader allocateReader (String groupReference)
            +void releaseReader (Reader reader)
        }
        +interface Reader {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleReader</back>> T getExtension (Class<T> readerType)
            ..
            +boolean isContactless ()
            +boolean isCardPresent ()
            ..
            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableReader extends Reader {
            - -
            +void addObserver (ReaderObserverSpi observer)
            +void removeObserver (ReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
            ..
            +void startCardDetection (PollingMode pollingMode)
            +void stopCardDetection ()
            ..
            +void setDefaultSelectionRequest (
                \t<back:cyan>KeypleDefaultSelectionsRequest</back> defaultSelectionsRequest,
                \tNotificationMode notificationMode)
            +void setDefaultSelectionRequest (
                \t<back:cyan>KeypleDefaultSelectionsRequest</back> defaultSelectionsRequest,
                \tNotificationMode notificationMode,
                \tPollingMode pollingMode)
            ..
            +void finalizeCardProcessing ()
        }
    }
    +enum NotificationMode {
        ALWAYS
        MATCHED_ONLY
    }
    +enum PollingMode {
        REPEATING
        SINGLESHOT
    }
    +class "<<<back:cyan>KeyplePluginEvent</back>>>\n**final** PluginEvent" as PluginEvent {
        - -
        +PluginEvent (String pluginName,
            \tString readerName,
            \tEventType eventType)
        +PluginEvent (String pluginName,
            \tSet<String> readerNames,
            \tEventType eventType)
        ..
        +String getPluginName ()
        +SortedSet<String> getReaderNames ()
        +EventType getEventType ()
    }
    +enum "EventType" as PluginEventType {
        READER_CONNECTED
        READER_DISCONNECTED
        UNREGISTERED
    }
    +class "<<<back:cyan>KeypleReaderEvent</back>>>\n**final** ReaderEvent" as ReaderEvent {
        - -
        +ReaderEvent (String pluginName,
            \tString readerName,
            \tEventType eventType,
            \t<back:cyan>KeypleDefaultSelectionsResponse</back> defaultSelectionsResponse)
        ..
        +String getPluginName ()
        +String getReaderName ()
        +EventType getEventType ()
        +<back:cyan>KeypleDefaultSelectionsResponse</back> getDefaultSelectionsResponse ()
        +Plugin getPlugin ()
        +Reader getReader ()
    }
    +enum "EventType" as ReaderEventType {
        CARD_INSERTED
        CARD_MATCHED
        CARD_REMOVED
        UNREGISTERED
    }
    ' SELECTION
    package selection {
        +class "**final** CardSelectionsService" as CardSelectionsService {
            - -
            +CardSelectionsService ()
            +CardSelectionsService (MultiSelectionProcessing multiSelectionProcessing)
            ..
            +int prepareSelection (CardSelectionSpi cardSelectionSpi)
            +void prepareReleaseChannel ()
            ..
            +<back:cyan>KeypleDefaultSelectionsRequest</back> getDefaultSelectionsRequest ()
            ..
            +CardSelectionsResult processExplicitSelections (Reader reader)
            +CardSelectionsResult processDefaultSelectionsResponse (
                \t<back:cyan>KeypleDefaultSelectionsResponse</back> defaultSelectionsResponse)
        }
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        package "spi" as selectionSpi {
            +interface CardSelectionSpi {
                +CardSelector getCardSelector ()
            }
            +interface SmartCardSpi {
                - -
                +boolean hasFci ()
                +byte[] getFciBytes ()
                ..
                +boolean hasAtr ()
                +byte[] getAtrBytes ()
            }
            +class "<<<back:cyan>KeypleCardSelector</back>>>\nCardSelector" as CardSelector {
                - -
                #CardSelector (CardSelectorBuilder builder)
                ..
                +{static} CardSelectorBuilder builder ()
                +String getCardProtocol ()
                +AtrFilter getAtrFilter ()
                +AidSelector getAidSelector ()
            }
            +class CardSelectorBuilder <<static>> {
                - -
                #CardSelectorBuilder ()
                ..
                +CardSelectorBuilder cardProtocol (String cardProtocol)
                +CardSelectorBuilder atrFilter (AtrFilter atrFilter)
                +CardSelectorBuilder aidSelector (AidSelector aidSelector)
                +CardSelector build ()
            }
            +class "**final** AidSelector" as AidSelector <<static>> {
                +{static} **final** int AID_MIN_LENGTH
                +{static} **final** int AID_MAX_LENGTH
                +{static} AidSelectorBuilder builder ()
                +byte[] getAidToSelect ()
                +FileOccurrence getFileOccurrence ()
                +FileControlInformation getFileControlInformation ()
                +Set<Integer> getSuccessfulSelectionStatusCodes ()
                +void addSuccessfulStatusCode (int statusCode)
            }
            +class "**final** AidSelectorBuilder" as AidSelectorBuilder <<static>> {
                +AidSelectorBuilder aidToSelect (byte[] aid)
                +AidSelectorBuilder aidToSelect (String aid)
                +AidSelectorBuilder fileOccurrence (FileOccurrence fileOccurrence)
                +AidSelectorBuilder fileControlInformation (FileControlInformation fileControlInformation)
                +AidSelector build ()
            }
            +enum FileOccurrence {
                FIRST
                LAST
                NEXT
                PREVIOUS
                +byte getIsoBitMask ()
            }
            +enum FileControlInformation {
                FCI
                FCP
                FMD
                NO_RESPONSE
                +byte getIsoBitMask ()
            }
            +class "**final** AtrFilter" as AtrFilter <<static>> {
                - -
                +AtrFilter (String atrRegex)
                ..
                +void setAtrRegex (String atrRegex)
                +String getAtrRegex ()
                +boolean atrMatches (byte[] atr)
            }
        }
        +class "**final** CardSelectionsResult" as CardSelectionsResult {
            - -
            ~CardSelectionsResult ()
            ..
            +boolean hasActiveSelection ()
            +int getActiveSelectionIndex ()
            +boolean hasSelectionMatched (int selectionIndex)
            ..
            +Map<Integer, SmartCardSpi> getSmartCards ()
            +SmartCardSpi getSmartCard (int selectionIndex)
            +SmartCardSpi getActiveSmartCard ()
            ..
            ~void addSmartCard (int selectionIndex,
                \tSmartCardSpi smartCardSpi, boolean isSelected)
        }
        +class "**final** CardResource" as CardResource<T extends SmartCardSpi> {
            - -
            +CardResource (Reader reader, T smartCardSpi)
            ..
            +Reader getReader ()
            +T getSmartCard ()
        }
    }
    ' EXCEPTIONS
    +abstract class "<<RuntimeException>>\nKeypleException" as KeypleException {
        #KeypleException (String message)
        #KeypleException (String message, Throwable cause)
    }
    +abstract class KeyplePluginException extends KeypleException {
        #KeyplePluginException (
            \tString message)
        #KeyplePluginException (
            \tString message, Throwable cause)
    }
    +class KeyplePluginInstantiationException extends KeyplePluginException {
        +KeyplePluginInstantiationException (
            \tString message)
        +KeyplePluginInstantiationException (
            \tString message, Throwable cause)
    }
    +class KeyplePluginNotFoundException extends KeyplePluginException {
        +KeyplePluginNotFoundException (
            \tString message)
    }
    +abstract class KeypleReaderException extends KeypleException {
        #KeypleReaderException (
            \tString message)
        #KeypleReaderException (
            \tString message, Throwable cause)
    }
    +class KeypleReaderCommunicationException extends KeypleReaderException {
        +KeypleReaderCommunicationException (
            \tString message)
        +KeypleReaderCommunicationException (
            \tString message, Throwable cause)
    }
    +class KeypleReaderNotFoundException extends KeypleReaderException {
        +KeypleReaderNotFoundException (
            \tString message)
        +KeypleReaderNotFoundException (
            \tString message, Throwable cause)
    }
    +class KeypleReaderProtocolNotSupportedException extends KeypleReaderException {
        +KeypleReaderProtocolNotSupportedException (
            \tString cardProtocol)
    }
    +class KeypleCardCommunicationException extends KeypleException {
        +KeypleCardCommunicationException (
            \tString message)
        +KeypleCardCommunicationException (
            \tString message, Throwable cause)
    }
}

' Associations
'LocalServiceClient ..> RemoteServiceParameters #C_USE : use >

SmartCardService *- - "0..N" Plugin #C_LINK
SmartCardService *- - "0..N" DistributedLocalService #C_LINK

PluginEvent +- - PluginEventType
PluginEvent *- - "1" PluginEventType #C_LINK

ObservableReader +- - NotificationMode
ObservableReader ..> NotificationMode #C_USE : use >
ObservableReader +- - PollingMode
ObservableReader ..> PollingMode #C_USE : use >

ReaderEvent +- - ReaderEventType
ReaderEvent *- - "1" ReaderEventType #C_LINK

CardSelectionsService *- - "1" MultiSelectionProcessing #C_LINK
CardSelectionsService *- - "1..N" CardSelectionSpi #C_LINK

CardSelectionsResult *- - "1..N" SmartCardSpi #C_LINK

CardResource *- - "1" SmartCardSpi #C_LINK
CardResource *- - "1" Reader #C_LINK

CardSelector +- - CardSelectorBuilder
CardSelector +- - AtrFilter
CardSelector *- - "0..1" AtrFilter #C_LINK
CardSelector +- - AidSelector
CardSelector *- - "0..1" AidSelector #C_LINK

AidSelector +- - AidSelectorBuilder
AidSelector +- - FileOccurrence
AidSelector *- - "0..1" FileOccurrence  #C_LINK
AidSelector +- - FileControlInformation
AidSelector *- - "0..1" FileControlInformation  #C_LINK


Plugin ..> Reader #C_USE : provide >

CardSelectionsService ..> Reader #C_USE : use >
CardSelectionsService ..> CardSelectionsResult #C_USE : provide >


ObservablePlugin ..> PluginObserverSpi #C_USE : use >

PluginObserverSpi ..> PluginEvent #C_USE : use >

ObservableReader ..> ReaderObserverSpi #C_USE : use >

ReaderObserverSpi ..> ReaderEvent #C_USE : use >

CardSelectionSpi .left.> CardSelector #C_USE : provide >

' == LAYOUT ==

FileControlInformation -[hidden]- KeypleException

' == STYLE ==

package service #C_GREY1 {}
package spi #C_GREY2 {}
package selection #C_GREY2 {}
package selectionSpi #C_GREY3 {}

@enduml

@startuml
title
    Keyple 2.0 - keyple-service - 2.0.0 (05/02/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.service" as service {
    package spi {
        +interface PluginObserverSpi {
            +void update (PluginEvent event)
        }
        +interface ReaderObserverSpi {
            +void update (ReaderEvent event)
        }
    }
    together {
        +class "**final** ServiceApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +class "**final** SmartCardService" as SmartCardService {
            - -
            +{static} SmartCardService getInstance ()
            ..
            +Plugin registerPlugin (<back:cyan>KeyplePluginFactory</back> pluginFactory)
            +void unregisterPlugin (String pluginName)
            +boolean isPluginRegistered (String pluginName)
            ..
            +Map<String, Plugin> getPlugins ()
            +Plugin getPlugin (String pluginName)
            ..
            +void checkCardExtension (<back:cyan>KeypleCardExtension</back> cardExtension)
            ..
            +DistributedLocalService registerDistributedLocalService (
                \t<back:cyan>KeypleDistributedLocalServiceFactory</back> distributedLocalServiceFactory)
            +void unregisterDistributedLocalService (
                \tString distributedLocalServiceName)
            ..
            +void getDistributedLocalService (
                \tString distributedLocalServiceName)
            ..
            +String getVersion ()
        }
        +interface Plugin {
            - -
            +String getName ()
            +<T extends <back:cyan>KeyplePlugin</back>> T getExtension (Class<T> pluginType)
            ..
            +Set<String> getReaderNames ()
            +Map<String, Reader> getReaders ()
            +Reader getReader (String readerName)
        }
        +interface DistributedLocalService {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleDistributedLocalService</back>> T getExtension (
                \tClass<T> distributedLocalServiceType)
        }
        +interface ObservablePlugin extends Plugin {
            +void addObserver (PluginObserverSpi observer)
            +void removeObserver (PluginObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
        }
        +interface PoolPlugin extends Plugin {
            - -
            +SortedSet<String> getReaderGroupReferences ()
            ..
            +Reader allocateReader (String groupReference)
            +void releaseReader (Reader reader)
        }
        +interface Reader {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleReader</back>> T getExtension (Class<T> readerType)
            ..
            +boolean isContactless ()
            +boolean isCardPresent ()
            ..
            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableReader extends Reader {
            - -
            +void addObserver (ReaderObserverSpi observer)
            +void removeObserver (ReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
            ..
            +void startCardDetection (PollingMode pollingMode)
            +void stopCardDetection ()
            ..
            +void setDefaultSelectionRequest (
                \t<back:cyan>KeypleDefaultSelectionsRequest</back> defaultSelectionsRequest,
                \tNotificationMode notificationMode)
            +void setDefaultSelectionRequest (
                \t<back:cyan>KeypleDefaultSelectionsRequest</back> defaultSelectionsRequest,
                \tNotificationMode notificationMode,
                \tPollingMode pollingMode)
            ..
            +void finalizeCardProcessing ()
        }
    }
    +enum NotificationMode {
        ALWAYS
        MATCHED_ONLY
    }
    +enum PollingMode {
        REPEATING
        SINGLESHOT
    }
    +class "<<<back:cyan>KeyplePluginEvent</back>>>\n**final** PluginEvent" as PluginEvent {
        - -
        +PluginEvent (String pluginName,
            \tString readerName,
            \tEventType eventType)
        +PluginEvent (String pluginName,
            \tSet<String> readerNames,
            \tEventType eventType)
        ..
        +String getPluginName ()
        +SortedSet<String> getReaderNames ()
        +EventType getEventType ()
    }
    +enum "EventType" as PluginEventType {
        READER_CONNECTED
        READER_DISCONNECTED
        UNREGISTERED
    }
    +class "<<<back:cyan>KeypleReaderEvent</back>>>\n**final** ReaderEvent" as ReaderEvent {
        - -
        +ReaderEvent (String pluginName,
            \tString readerName,
            \tEventType eventType,
            \t<back:cyan>KeypleDefaultSelectionsResponse</back> defaultSelectionsResponse)
        ..
        +String getPluginName ()
        +String getReaderName ()
        +EventType getEventType ()
        +<back:cyan>KeypleDefaultSelectionsResponse</back> getDefaultSelectionsResponse ()
        +Plugin getPlugin ()
        +Reader getReader ()
    }
    +enum "EventType" as ReaderEventType {
        CARD_INSERTED
        CARD_MATCHED
        CARD_REMOVED
        UNREGISTERED
    }
    package selection {
        +class "**final** CardSelectionsService" as CardSelectionsService {
            - -
            +CardSelectionsService ()
            +CardSelectionsService (MultiSelectionProcessing multiSelectionProcessing)
            ..
            +int prepareSelection (CardSelectionSpi cardSelectionSpi)
            +void prepareReleaseChannel ()
            ..
            +<back:cyan>KeypleDefaultSelectionsRequest</back> getDefaultSelectionsRequest ()
            ..
            +CardSelectionsResult processExplicitSelections (Reader reader)
            +CardSelectionsResult processDefaultSelectionsResponse (
                \t<back:cyan>KeypleDefaultSelectionsResponse</back> defaultSelectionsResponse)
        }
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        package "spi" as selectionSpi {
            +interface CardSelectionSpi {
                +CardSelector getCardSelector ()
            }
            +interface SmartCardSpi {
                - -
                +boolean hasFci ()
                +byte[] getFciBytes ()
                ..
                +boolean hasAtr ()
                +byte[] getAtrBytes ()
            }
            +class "<<<back:cyan>KeypleCardSelector</back>>>\nCardSelector" as CardSelector {
                - -
                #CardSelector (CardSelectorBuilder builder)
                ..
                +{static} CardSelectorBuilder builder ()
                +String getCardProtocol ()
                +AtrFilter getAtrFilter ()
                +AidSelector getAidSelector ()
            }
            +class CardSelectorBuilder <<static>> {
                - -
                #CardSelectorBuilder ()
                ..
                +CardSelectorBuilder cardProtocol (String cardProtocol)
                +CardSelectorBuilder atrFilter (AtrFilter atrFilter)
                +CardSelectorBuilder aidSelector (AidSelector aidSelector)
                +CardSelector build ()
            }
            +class "**final** AidSelector" as AidSelector <<static>> {
                +{static} **final** int AID_MIN_LENGTH
                +{static} **final** int AID_MAX_LENGTH
                +{static} AidSelectorBuilder builder ()
                +byte[] getAidToSelect ()
                +FileOccurrence getFileOccurrence ()
                +FileControlInformation getFileControlInformation ()
                +Set<Integer> getSuccessfulSelectionStatusCodes ()
                +void addSuccessfulStatusCode (int statusCode)
            }
            +class "**final** AidSelectorBuilder" as AidSelectorBuilder <<static>> {
                +AidSelectorBuilder aidToSelect (byte[] aid)
                +AidSelectorBuilder aidToSelect (String aid)
                +AidSelectorBuilder fileOccurrence (FileOccurrence fileOccurrence)
                +AidSelectorBuilder fileControlInformation (FileControlInformation fileControlInformation)
                +AidSelector build ()
            }
            +enum FileOccurrence {
                FIRST
                LAST
                NEXT
                PREVIOUS
                +byte getIsoBitMask ()
            }
            +enum FileControlInformation {
                FCI
                FCP
                FMD
                NO_RESPONSE
                +byte getIsoBitMask ()
            }
            +class "**final** AtrFilter" as AtrFilter <<static>> {
                - -
                +AtrFilter (String atrRegex)
                ..
                +void setAtrRegex (String atrRegex)
                +String getAtrRegex ()
                +boolean atrMatches (byte[] atr)
            }
        }
        +class "**final** CardSelectionsResult" as CardSelectionsResult {
            - -
            ~CardSelectionsResult ()
            ..
            +boolean hasActiveSelection ()
            +int getActiveSelectionIndex ()
            +boolean hasSelectionMatched (int selectionIndex)
            ..
            +Map<Integer, SmartCardSpi> getSmartCards ()
            +SmartCardSpi getSmartCard (int selectionIndex)
            +SmartCardSpi getActiveSmartCard ()
            ..
            ~void addSmartCard (int selectionIndex,
                \tSmartCardSpi smartCardSpi, boolean isSelected)
        }
        +class "**final** CardResource" as CardResource<T extends SmartCardSpi> {
            - -
            +CardResource (Reader reader, T smartCardSpi)
            ..
            +Reader getReader ()
            +T getSmartCard ()
        }
    }
    +abstract class "<<RuntimeException>>\nKeypleException" as KeypleException {
        #KeypleException (String message)
        #KeypleException (String message, Throwable cause)
    }
    +abstract class KeyplePluginException extends KeypleException {
        #KeyplePluginException (
            \tString message)
        #KeyplePluginException (
            \tString message, Throwable cause)
    }
    +class KeyplePluginInstantiationException extends KeyplePluginException {
        +KeyplePluginInstantiationException (
            \tString message)
        +KeyplePluginInstantiationException (
            \tString message, Throwable cause)
    }
    +class KeyplePluginNotFoundException extends KeyplePluginException {
        +KeyplePluginNotFoundException (
            \tString message)
    }
    +abstract class KeypleReaderException extends KeypleException {
        #KeypleReaderException (
            \tString message)
        #KeypleReaderException (
            \tString message, Throwable cause)
    }
    +class KeypleReaderCommunicationException extends KeypleReaderException {
        +KeypleReaderCommunicationException (
            \tString message)
        +KeypleReaderCommunicationException (
            \tString message, Throwable cause)
    }
    +class KeypleReaderNotFoundException extends KeypleReaderException {
        +KeypleReaderNotFoundException (
            \tString message)
        +KeypleReaderNotFoundException (
            \tString message, Throwable cause)
    }
    +class KeypleReaderProtocolNotSupportedException extends KeypleReaderException {
        +KeypleReaderProtocolNotSupportedException (
            \tString cardProtocol)
    }
    +class KeypleCardCommunicationException extends KeypleException {
        +KeypleCardCommunicationException (
            \tString message)
        +KeypleCardCommunicationException (
            \tString message, Throwable cause)
    }
}


SmartCardService *- - "0..N" Plugin #3498DB
SmartCardService *- - "0..N" DistributedLocalService #3498DB

PluginEvent +- - PluginEventType
PluginEvent *- - "1" PluginEventType #3498DB

ObservableReader +- - NotificationMode
ObservableReader ..> NotificationMode #27AE60 : use >
ObservableReader +- - PollingMode
ObservableReader ..> PollingMode #27AE60 : use >

ReaderEvent +- - ReaderEventType
ReaderEvent *- - "1" ReaderEventType #3498DB

CardSelectionsService *- - "1" MultiSelectionProcessing #3498DB
CardSelectionsService *- - "1..N" CardSelectionSpi #3498DB

CardSelectionsResult *- - "1..N" SmartCardSpi #3498DB

CardResource *- - "1" SmartCardSpi #3498DB
CardResource *- - "1" Reader #3498DB

CardSelector +- - CardSelectorBuilder
CardSelector +- - AtrFilter
CardSelector *- - "0..1" AtrFilter #3498DB
CardSelector +- - AidSelector
CardSelector *- - "0..1" AidSelector #3498DB

AidSelector +- - AidSelectorBuilder
AidSelector +- - FileOccurrence
AidSelector *- - "0..1" FileOccurrence  #3498DB
AidSelector +- - FileControlInformation
AidSelector *- - "0..1" FileControlInformation  #3498DB


Plugin ..> Reader #27AE60 : provide >

CardSelectionsService ..> Reader #27AE60 : use >
CardSelectionsService ..> CardSelectionsResult #27AE60 : provide >


ObservablePlugin ..> PluginObserverSpi #27AE60 : use >

PluginObserverSpi ..> PluginEvent #27AE60 : use >

ObservableReader ..> ReaderObserverSpi #27AE60 : use >

ReaderObserverSpi ..> ReaderEvent #27AE60 : use >

CardSelectionSpi .left.> CardSelector #27AE60 : provide >


FileControlInformation -[hidden]- KeypleException


package service #F8F9F9 {}
package spi #F2F3F4 {}
package selection #F2F3F4 {}
package selectionSpi #E5E7E9 {}

@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>