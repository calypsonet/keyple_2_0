<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="4035px" preserveAspectRatio="none" style="width:2290px;height:4035px;" version="1.1" viewBox="0 0 2290 4035" width="2290px" zoomAndPan="magnify"><defs><filter height="1" id="b1w4g4mai5mxed0" width="1" x="0" y="0"><feFlood flood-color="#90EE90" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="b1w4g4mai5mxed1" width="1" x="0" y="0"><feFlood flood-color="#DDA0DD" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="b1w4g4mai5mxed2" width="1" x="0" y="0"><feFlood flood-color="#ADD8E6" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="b1w4g4mai5mxed3" width="1" x="0" y="0"><feFlood flood-color="#FFFF00" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="b1w4g4mai5mxed4" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1217.5" x="520" y="46.7139">Keyple 2.0 - keyple-java-distributed-local - 2.0.0 (17/05/2021)</text><rect fill="#DDDDDD" height="377.1875" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:2.5;" width="527.5" x="863.75" y="76.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" text-decoration="underline" textLength="220" x="878.75" y="125.4346">Colors legend</text><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="10" x="1108.75" y="125.4346">:</text><ellipse cx="892.5" cy="158.3984" fill="#000000" rx="6.25" ry="6.25" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" text-decoration="underline" textLength="327.5" x="911.25" y="169.458">Configuration modes</text><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="10" x="1248.75" y="169.458">:</text><rect fill="#000000" height="8.75" style="stroke:#000000;stroke-width:0.0;" width="8.75" x="931.25" y="201.1719"/><text fill="#000000" filter="url(#b1w4g4mai5mxed0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="327.5" x="943.75" y="213.4814">Reader Client Side</text><rect fill="#000000" height="8.75" style="stroke:#000000;stroke-width:0.0;" width="8.75" x="931.25" y="245.1953"/><text fill="#000000" filter="url(#b1w4g4mai5mxed1)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="345" x="943.75" y="257.5049">Reader Server Side</text><rect fill="#000000" height="8.75" style="stroke:#000000;stroke-width:0.0;" width="8.75" x="931.25" y="289.2188"/><text fill="#000000" filter="url(#b1w4g4mai5mxed2)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="432.5" x="943.75" y="301.5283">Pool Reader Server Side</text><ellipse cx="892.5" cy="334.4922" fill="#000000" rx="6.25" ry="6.25" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" text-decoration="underline" textLength="370" x="911.25" y="345.5518">External API references</text><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="10" x="1291.25" y="345.5518">:</text><rect fill="#000000" height="8.75" style="stroke:#000000;stroke-width:0.0;" width="8.75" x="931.25" y="377.2656"/><text fill="#000000" filter="url(#b1w4g4mai5mxed3)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="210" x="943.75" y="389.5752">Network API</text><rect fill="#000000" height="8.75" style="stroke:#000000;stroke-width:0.0;" width="8.75" x="931.25" y="421.2891"/><text fill="#000000" filter="url(#b1w4g4mai5mxed4)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="237.5" x="943.75" y="433.5986">Commons API</text><!--MD5=[3fb92fba1735106d511c1d05a9f83ed2]
cluster root--><polygon fill="#F8F9F9" points="40,491.2891,580,491.2891,597.5,550.3125,2247.5,550.3125,2247.5,4018.7891,40,4018.7891,40,491.2891" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="597.5" y1="550.3125" y2="550.3125"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="525" x="50" y="532.6221">org.eclipse.keyple.distributed</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="192.5,1683.7891,260,1683.7891,277.5,1742.8125,1087.5,1742.8125,1087.5,2071.2891,192.5,2071.2891,192.5,1683.7891" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="192.5" x2="277.5" y1="1742.8125" y2="1742.8125"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="202.5" y="1725.1221">spi</text><!--MD5=[657218de26726cf2cc3eddb35d9875a6]
class LocalServiceClient--><rect codeLine="161" fill="#E9F7EF" height="298.8281" id="LocalServiceClient" style="stroke:#27AE60;stroke-width:3.75;" width="735" x="435" y="2908.7891"/><ellipse cx="472.5" cy="2959.0234" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M475,2951.5234 L475,2966.5234 L480,2966.5234 L481.2109,2966.5234 L482.5,2968.0859 L482.5,2969.0234 L482.5,2969.9609 L481.2109,2971.5234 L480,2971.5234 L465,2971.5234 L463.7891,2971.5234 L462.5,2969.9609 L462.5,2969.0234 L462.5,2968.0859 L463.7891,2966.5234 L465,2966.5234 L470,2966.5234 L470,2951.5234 L465,2951.5234 L463.7891,2951.5234 L462.5,2949.9609 L462.5,2949.0234 L462.5,2948.0859 L463.7891,2946.5234 L465,2946.5234 L480,2946.5234 L481.2109,2946.5234 L482.5,2948.0859 L482.5,2949.0234 L482.5,2949.9609 L481.2109,2951.5234 L480,2951.5234 L475,2951.5234 Z " fill="#000000"/><ellipse cx="520" cy="2957.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="535" y="2952.4316">&lt;&lt;</text><text fill="#000000" filter="url(#b1w4g4mai5mxed4)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="557.5" x="570" y="2952.4316">KeypleDistributedLocalServiceExtension</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1127.5" y="2952.4316">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="257.5" x="720" y="2990.166">LocalServiceClient</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="437.5" x2="1167.5" y1="3009.2578" y2="3009.2578"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="437.5" x2="1167.5" y1="3029.2578" y2="3029.2578"/><ellipse cx="462.5" cy="3056.7578" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#b1w4g4mai5mxed3)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="207.5" x="485" y="3067.8052">AsyncNodeClient</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="207.5" x="700" y="3067.8052">getAsyncNode ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="437.5" x2="1167.5" y1="3083.8477" y2="3083.8477"/><ellipse cx="462.5" cy="3111.3477" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="485" y="3122.395">&lt;T&gt; T executeRemoteService (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="472.5" x="545" y="3156.9849">RemoteServiceParameters parameters,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="417.5" x="545" y="3191.5747">Class&lt;T&gt; classOfUserOutputData)</text><!--MD5=[d20a95b78d716283a1df9eca070f5ba1]
class RemoteServiceParameters--><rect codeLine="167" fill="#E9F7EF" height="154.5898" id="RemoteServiceParameters" style="stroke:#27AE60;stroke-width:3.75;" width="752.5" x="426.25" y="3403.7891"/><ellipse cx="558.125" cy="3443.7891" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M563.125,3435.0391 Q563.6328,3433.7891 564.2188,3433.1641 Q564.8047,3432.5391 565.4688,3432.5391 Q566.6406,3432.5391 567.3828,3433.2422 Q568.125,3433.9453 568.125,3435.5859 L568.125,3439.4922 Q568.125,3441.1328 567.4219,3441.8359 Q566.7188,3442.5391 565.625,3442.5391 Q564.6484,3442.5391 564.0234,3442.1094 Q563.3984,3441.6797 563.125,3440.5469 Q563.0078,3439.7656 562.5781,3439.3359 Q561.7969,3438.5156 560.3906,3438.0469 Q558.9844,3437.5391 557.5781,3437.5391 Q555.8203,3437.5391 554.3359,3438.2422 Q552.8906,3438.9453 551.7578,3440.5078 Q550.625,3442.0703 550.625,3444.2188 L550.625,3446.5234 Q550.625,3449.1016 552.7344,3450.8203 Q554.8438,3452.5391 558.5938,3452.5391 Q560.8203,3452.5391 562.3828,3452.0313 Q563.2813,3451.7578 564.2969,3450.8594 Q564.9609,3450.3516 565.3125,3450.1953 Q565.6641,3450.0391 566.0938,3450.0391 Q566.9141,3450.0391 567.5,3450.7031 Q568.125,3451.3281 568.125,3452.2266 Q568.125,3453.0859 567.2656,3454.1016 Q566.0156,3455.5859 564.0234,3456.4063 Q561.4063,3457.5391 558.2031,3457.5391 Q554.4531,3457.5391 551.4453,3456.0547 Q549.0234,3454.8828 547.3047,3452.3438 Q545.625,3449.8047 545.625,3446.7969 L545.625,3444.0625 Q545.625,3440.9375 547.1094,3438.2031 Q548.6328,3435.4688 551.25,3434.0234 Q553.9063,3432.5391 556.875,3432.5391 Q558.6719,3432.5391 560.2344,3433.1641 Q561.7969,3433.7891 563.125,3435.0391 Z " fill="#000000"/><ellipse cx="621.875" cy="3442.5391" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="636.875" y="3456.0645">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="372.5" x="704.375" y="3456.0645">RemoteServiceParameters</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="428.75" x2="1176.25" y1="3483.7891" y2="3483.7891"/><line style="stroke:#27AE60;stroke-width:3.75;" x1="428.75" x2="1176.25" y1="3503.7891" y2="3503.7891"/><ellipse cx="453.75" cy="3531.2891" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="687.5" x="476.25" y="3542.3364">Builder builder (String serviceId, String localReaderName)</text><!--MD5=[d456467577ef109bf5015118e808ea7b]
class RemoteServiceParametersBuilder--><rect codeLine="168" fill="#E9F7EF" height="223.7695" id="RemoteServiceParametersBuilder" style="stroke:#27AE60;stroke-width:3.75;" width="867.5" x="366.25" y="3753.7891"/><ellipse cx="693.125" cy="3793.7891" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M698.125,3785.0391 Q698.6328,3783.7891 699.2188,3783.1641 Q699.8047,3782.5391 700.4688,3782.5391 Q701.6406,3782.5391 702.3828,3783.2422 Q703.125,3783.9453 703.125,3785.5859 L703.125,3789.4922 Q703.125,3791.1328 702.4219,3791.8359 Q701.7188,3792.5391 700.625,3792.5391 Q699.6484,3792.5391 699.0234,3792.1094 Q698.3984,3791.6797 698.125,3790.5469 Q698.0078,3789.7656 697.5781,3789.3359 Q696.7969,3788.5156 695.3906,3788.0469 Q693.9844,3787.5391 692.5781,3787.5391 Q690.8203,3787.5391 689.3359,3788.2422 Q687.8906,3788.9453 686.7578,3790.5078 Q685.625,3792.0703 685.625,3794.2188 L685.625,3796.5234 Q685.625,3799.1016 687.7344,3800.8203 Q689.8438,3802.5391 693.5938,3802.5391 Q695.8203,3802.5391 697.3828,3802.0313 Q698.2813,3801.7578 699.2969,3800.8594 Q699.9609,3800.3516 700.3125,3800.1953 Q700.6641,3800.0391 701.0938,3800.0391 Q701.9141,3800.0391 702.5,3800.7031 Q703.125,3801.3281 703.125,3802.2266 Q703.125,3803.0859 702.2656,3804.1016 Q701.0156,3805.5859 699.0234,3806.4063 Q696.4063,3807.5391 693.2031,3807.5391 Q689.4531,3807.5391 686.4453,3806.0547 Q684.0234,3804.8828 682.3047,3802.3438 Q680.625,3799.8047 680.625,3796.7969 L680.625,3794.0625 Q680.625,3790.9375 682.1094,3788.2031 Q683.6328,3785.4688 686.25,3784.0234 Q688.9063,3782.5391 691.875,3782.5391 Q693.6719,3782.5391 695.2344,3783.1641 Q696.7969,3783.7891 698.125,3785.0391 Z " fill="#000000"/><ellipse cx="756.875" cy="3792.5391" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="771.875" y="3806.0645">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="97.5" x="839.375" y="3806.0645">Builder</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="368.75" x2="1231.25" y1="3833.7891" y2="3833.7891"/><line style="stroke:#27AE60;stroke-width:3.75;" x1="368.75" x2="1231.25" y1="3853.7891" y2="3853.7891"/><ellipse cx="393.75" cy="3881.2891" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="592.5" x="416.25" y="3892.3364">Builder withUserInputData (Object userInputData)</text><ellipse cx="393.75" cy="3915.8789" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="367.5" x="416.25" y="3926.9263">Builder withInitialCardContent (</text><text fill="#000000" filter="url(#b1w4g4mai5mxed4)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="783.75" y="3926.9263">KeypleSmartCard</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="217.5" x="1001.25" y="3926.9263">initialCardContent)</text><ellipse cx="393.75" cy="3950.4688" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="410" x="416.25" y="3961.5161">RemoteServiceParameters build ()</text><!--MD5=[4d142d173e80d1ead80837db61750bd6]
class LocalServiceServer--><rect codeLine="172" fill="#F4ECF7" height="209.6484" id="LocalServiceServer" style="stroke:#8E44AD;stroke-width:3.75;" width="735" x="1357.5" y="2953.7891"/><ellipse cx="1395" cy="3004.0234" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1397.5,2996.5234 L1397.5,3011.5234 L1402.5,3011.5234 L1403.7109,3011.5234 L1405,3013.0859 L1405,3014.0234 L1405,3014.9609 L1403.7109,3016.5234 L1402.5,3016.5234 L1387.5,3016.5234 L1386.2891,3016.5234 L1385,3014.9609 L1385,3014.0234 L1385,3013.0859 L1386.2891,3011.5234 L1387.5,3011.5234 L1392.5,3011.5234 L1392.5,2996.5234 L1387.5,2996.5234 L1386.2891,2996.5234 L1385,2994.9609 L1385,2994.0234 L1385,2993.0859 L1386.2891,2991.5234 L1387.5,2991.5234 L1402.5,2991.5234 L1403.7109,2991.5234 L1405,2993.0859 L1405,2994.0234 L1405,2994.9609 L1403.7109,2996.5234 L1402.5,2996.5234 L1397.5,2996.5234 Z " fill="#000000"/><ellipse cx="1442.5" cy="3002.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1457.5" y="2997.4316">&lt;&lt;</text><text fill="#000000" filter="url(#b1w4g4mai5mxed4)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="557.5" x="1492.5" y="2997.4316">KeypleDistributedLocalServiceExtension</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2050" y="2997.4316">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="267.5" x="1637.5" y="3035.166">LocalServiceServer</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1360" x2="2090" y1="3054.2578" y2="3054.2578"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1360" x2="2090" y1="3074.2578" y2="3074.2578"/><ellipse cx="1385" cy="3101.7578" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#b1w4g4mai5mxed3)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="207.5" x="1407.5" y="3112.8052">SyncNodeServer</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="190" x="1622.5" y="3112.8052">getSyncNode ()</text><ellipse cx="1385" cy="3136.3477" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#b1w4g4mai5mxed3)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="225" x="1407.5" y="3147.395">AsyncNodeServer</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="207.5" x="1640" y="3147.395">getAsyncNode ()</text><!--MD5=[036a0aa259ccc1197747131a6a90e800]
class LocalServiceClientFactory--><rect codeLine="162" fill="#E9F7EF" height="140.4688" id="LocalServiceClientFactory" style="stroke:#27AE60;stroke-width:3.75;" width="835" x="385" y="2568.7891"/><ellipse cx="422.5" cy="2619.0234" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M425,2611.5234 L425,2626.5234 L430,2626.5234 L431.2109,2626.5234 L432.5,2628.0859 L432.5,2629.0234 L432.5,2629.9609 L431.2109,2631.5234 L430,2631.5234 L415,2631.5234 L413.7891,2631.5234 L412.5,2629.9609 L412.5,2629.0234 L412.5,2628.0859 L413.7891,2626.5234 L415,2626.5234 L420,2626.5234 L420,2611.5234 L415,2611.5234 L413.7891,2611.5234 L412.5,2609.9609 L412.5,2609.0234 L412.5,2608.0859 L413.7891,2606.5234 L415,2606.5234 L430,2606.5234 L431.2109,2606.5234 L432.5,2608.0859 L432.5,2609.0234 L432.5,2609.9609 L431.2109,2611.5234 L430,2611.5234 L425,2611.5234 Z " fill="#000000"/><ellipse cx="470" cy="2617.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="485" y="2612.4316">&lt;&lt;</text><text fill="#000000" filter="url(#b1w4g4mai5mxed4)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="657.5" x="520" y="2612.4316">KeypleDistributedLocalServiceExtensionFactory</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1177.5" y="2612.4316">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="357.5" x="670" y="2650.166">LocalServiceClientFactory</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="387.5" x2="1217.5" y1="2669.2578" y2="2669.2578"/><line style="stroke:#27AE60;stroke-width:3.75;" x1="387.5" x2="1217.5" y1="2689.2578" y2="2689.2578"/><!--MD5=[840028d9c0a4586bfa073ca5e4418222]
class LocalServiceServerFactory--><rect codeLine="173" fill="#F4ECF7" height="140.4688" id="LocalServiceServerFactory" style="stroke:#8E44AD;stroke-width:3.75;" width="835" x="1307.5" y="2568.7891"/><ellipse cx="1345" cy="2619.0234" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1347.5,2611.5234 L1347.5,2626.5234 L1352.5,2626.5234 L1353.7109,2626.5234 L1355,2628.0859 L1355,2629.0234 L1355,2629.9609 L1353.7109,2631.5234 L1352.5,2631.5234 L1337.5,2631.5234 L1336.2891,2631.5234 L1335,2629.9609 L1335,2629.0234 L1335,2628.0859 L1336.2891,2626.5234 L1337.5,2626.5234 L1342.5,2626.5234 L1342.5,2611.5234 L1337.5,2611.5234 L1336.2891,2611.5234 L1335,2609.9609 L1335,2609.0234 L1335,2608.0859 L1336.2891,2606.5234 L1337.5,2606.5234 L1352.5,2606.5234 L1353.7109,2606.5234 L1355,2608.0859 L1355,2609.0234 L1355,2609.9609 L1353.7109,2611.5234 L1352.5,2611.5234 L1347.5,2611.5234 Z " fill="#000000"/><ellipse cx="1392.5" cy="2617.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1407.5" y="2612.4316">&lt;&lt;</text><text fill="#000000" filter="url(#b1w4g4mai5mxed4)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="657.5" x="1442.5" y="2612.4316">KeypleDistributedLocalServiceExtensionFactory</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2100" y="2612.4316">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="367.5" x="1587.5" y="2650.166">LocalServiceServerFactory</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1310" x2="2140" y1="2669.2578" y2="2669.2578"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1310" x2="2140" y1="2689.2578" y2="2689.2578"/><!--MD5=[45da2647461317707e3821eb296cac07]
class LocalServiceClientFactoryBuilder--><rect codeLine="163" fill="#E9F7EF" height="154.5898" id="LocalServiceClientFactoryBuilder" style="stroke:#27AE60;stroke-width:3.75;" width="630" x="362.5" y="641.2891"/><ellipse cx="400" cy="681.2891" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M405,672.5391 Q405.5078,671.2891 406.0938,670.6641 Q406.6797,670.0391 407.3438,670.0391 Q408.5156,670.0391 409.2578,670.7422 Q410,671.4453 410,673.0859 L410,676.9922 Q410,678.6328 409.2969,679.3359 Q408.5938,680.0391 407.5,680.0391 Q406.5234,680.0391 405.8984,679.6094 Q405.2734,679.1797 405,678.0469 Q404.8828,677.2656 404.4531,676.8359 Q403.6719,676.0156 402.2656,675.5469 Q400.8594,675.0391 399.4531,675.0391 Q397.6953,675.0391 396.2109,675.7422 Q394.7656,676.4453 393.6328,678.0078 Q392.5,679.5703 392.5,681.7188 L392.5,684.0234 Q392.5,686.6016 394.6094,688.3203 Q396.7188,690.0391 400.4688,690.0391 Q402.6953,690.0391 404.2578,689.5313 Q405.1563,689.2578 406.1719,688.3594 Q406.8359,687.8516 407.1875,687.6953 Q407.5391,687.5391 407.9688,687.5391 Q408.7891,687.5391 409.375,688.2031 Q410,688.8281 410,689.7266 Q410,690.5859 409.1406,691.6016 Q407.8906,693.0859 405.8984,693.9063 Q403.2813,695.0391 400.0781,695.0391 Q396.3281,695.0391 393.3203,693.5547 Q390.8984,692.3828 389.1797,689.8438 Q387.5,687.3047 387.5,684.2969 L387.5,681.5625 Q387.5,678.4375 388.9844,675.7031 Q390.5078,672.9688 393.125,671.5234 Q395.7813,670.0391 398.75,670.0391 Q400.5469,670.0391 402.1094,670.6641 Q403.6719,671.2891 405,672.5391 Z " fill="#000000"/><ellipse cx="447.5" cy="680.0391" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="462.5" y="693.5645">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="455" x="530" y="693.5645">LocalServiceClientFactoryBuilder</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="365" x2="990" y1="721.2891" y2="721.2891"/><line style="stroke:#27AE60;stroke-width:3.75;" x1="365" x2="990" y1="741.2891" y2="741.2891"/><ellipse cx="390" cy="768.7891" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="525" x="412.5" y="779.8364">NodeStep builder (String localServiceName)</text><!--MD5=[fca05c5e823d186a63ae40dce67a8e2c]
class LocalServiceClientFactoryNodeStep--><rect codeLine="164" fill="#E9F7EF" height="189.1797" id="LocalServiceClientFactoryNodeStep" style="stroke:#27AE60;stroke-width:3.75;" width="1075" x="140" y="991.2891"/><ellipse cx="584.375" cy="1031.2891" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M586.875,1023.7891 L586.875,1038.7891 L591.875,1038.7891 L593.0859,1038.7891 L594.375,1040.3516 L594.375,1041.2891 L594.375,1042.2266 L593.0859,1043.7891 L591.875,1043.7891 L576.875,1043.7891 L575.6641,1043.7891 L574.375,1042.2266 L574.375,1041.2891 L574.375,1040.3516 L575.6641,1038.7891 L576.875,1038.7891 L581.875,1038.7891 L581.875,1023.7891 L576.875,1023.7891 L575.6641,1023.7891 L574.375,1022.2266 L574.375,1021.2891 L574.375,1020.3516 L575.6641,1018.7891 L576.875,1018.7891 L591.875,1018.7891 L593.0859,1018.7891 L594.375,1020.3516 L594.375,1021.2891 L594.375,1022.2266 L593.0859,1023.7891 L591.875,1023.7891 L586.875,1023.7891 Z " fill="#000000"/><ellipse cx="648.125" cy="1030.0391" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="137.5" x="663.125" y="1043.5645">NodeStep</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="142.5" x2="1212.5" y1="1071.2891" y2="1071.2891"/><line style="stroke:#27AE60;stroke-width:3.75;" x1="142.5" x2="1212.5" y1="1091.2891" y2="1091.2891"/><ellipse cx="167.5" cy="1118.7891" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="345" x="190" y="1129.8364">ReaderStep withSyncNode (</text><text fill="#000000" filter="url(#b1w4g4mai5mxed3)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="267.5" x="535" y="1129.8364">SyncEndpointClientSpi</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="112.5" x="810" y="1129.8364">endpoint)</text><ellipse cx="167.5" cy="1153.3789" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="190" y="1164.4263">ReaderStep withAsyncNode (</text><text fill="#000000" filter="url(#b1w4g4mai5mxed3)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="552.5" y="1164.4263">AsyncEndpointClientSpi</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="355" x="845" y="1164.4263">endpoint, int timeoutSeconds)</text><!--MD5=[78497adf350874ce9d2be3f146d77535]
class LocalServiceClientFactoryReaderStep--><rect codeLine="165" fill="#E9F7EF" height="189.1797" id="LocalServiceClientFactoryReaderStep" style="stroke:#27AE60;stroke-width:3.75;" width="835" x="260" y="1333.7891"/><ellipse cx="570.625" cy="1373.7891" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M573.125,1366.2891 L573.125,1381.2891 L578.125,1381.2891 L579.3359,1381.2891 L580.625,1382.8516 L580.625,1383.7891 L580.625,1384.7266 L579.3359,1386.2891 L578.125,1386.2891 L563.125,1386.2891 L561.9141,1386.2891 L560.625,1384.7266 L560.625,1383.7891 L560.625,1382.8516 L561.9141,1381.2891 L563.125,1381.2891 L568.125,1381.2891 L568.125,1366.2891 L563.125,1366.2891 L561.9141,1366.2891 L560.625,1364.7266 L560.625,1363.7891 L560.625,1362.8516 L561.9141,1361.2891 L563.125,1361.2891 L578.125,1361.2891 L579.3359,1361.2891 L580.625,1362.8516 L580.625,1363.7891 L580.625,1364.7266 L579.3359,1366.2891 L578.125,1366.2891 L573.125,1366.2891 Z " fill="#000000"/><ellipse cx="634.375" cy="1372.5391" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="165" x="649.375" y="1386.0645">ReaderStep</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="262.5" x2="1092.5" y1="1413.7891" y2="1413.7891"/><line style="stroke:#27AE60;stroke-width:3.75;" x1="262.5" x2="1092.5" y1="1433.7891" y2="1433.7891"/><ellipse cx="287.5" cy="1461.2891" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="770" x="310" y="1472.3364">BuilderStep withReaderObservation (ReaderEventFilterSpi filter)</text><ellipse cx="287.5" cy="1495.8789" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="497.5" x="310" y="1506.9263">BuilderStep withoutReaderObservation ()</text><!--MD5=[5b2c542e0dbcba69b09e7b8ad787363b]
class LocalServiceClientFactoryBuilderStep--><rect codeLine="166" fill="#E9F7EF" height="154.5898" id="LocalServiceClientFactoryBuilderStep" style="stroke:#27AE60;stroke-width:3.75;" width="470" x="1135" y="1825.0391"/><ellipse cx="1265.625" cy="1865.0391" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1268.125,1857.5391 L1268.125,1872.5391 L1273.125,1872.5391 L1274.3359,1872.5391 L1275.625,1874.1016 L1275.625,1875.0391 L1275.625,1875.9766 L1274.3359,1877.5391 L1273.125,1877.5391 L1258.125,1877.5391 L1256.9141,1877.5391 L1255.625,1875.9766 L1255.625,1875.0391 L1255.625,1874.1016 L1256.9141,1872.5391 L1258.125,1872.5391 L1263.125,1872.5391 L1263.125,1857.5391 L1258.125,1857.5391 L1256.9141,1857.5391 L1255.625,1855.9766 L1255.625,1855.0391 L1255.625,1854.1016 L1256.9141,1852.5391 L1258.125,1852.5391 L1273.125,1852.5391 L1274.3359,1852.5391 L1275.625,1854.1016 L1275.625,1855.0391 L1275.625,1855.9766 L1274.3359,1857.5391 L1273.125,1857.5391 L1268.125,1857.5391 Z " fill="#000000"/><ellipse cx="1329.375" cy="1863.7891" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="160" x="1344.375" y="1877.3145">BuilderStep</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1137.5" x2="1602.5" y1="1905.0391" y2="1905.0391"/><line style="stroke:#27AE60;stroke-width:3.75;" x1="1137.5" x2="1602.5" y1="1925.0391" y2="1925.0391"/><ellipse cx="1162.5" cy="1952.5391" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="1185" y="1963.5864">LocalServiceClientFactory build ()</text><!--MD5=[394c173ae1ecc2fe945b37d094f60933]
class CancelEventBroadcastException--><rect codeLine="170" fill="#E9F7EF" height="175.0586" id="CancelEventBroadcastException" style="stroke:#27AE60;stroke-width:3.75;" width="672.5" x="401.25" y="2231.2891"/><ellipse cx="461.25" cy="2281.5234" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M466.25,2272.7734 Q466.7578,2271.5234 467.3438,2270.8984 Q467.9297,2270.2734 468.5938,2270.2734 Q469.7656,2270.2734 470.5078,2270.9766 Q471.25,2271.6797 471.25,2273.3203 L471.25,2277.2266 Q471.25,2278.8672 470.5469,2279.5703 Q469.8438,2280.2734 468.75,2280.2734 Q467.7734,2280.2734 467.1484,2279.8438 Q466.5234,2279.4141 466.25,2278.2813 Q466.1328,2277.5 465.7031,2277.0703 Q464.9219,2276.25 463.5156,2275.7813 Q462.1094,2275.2734 460.7031,2275.2734 Q458.9453,2275.2734 457.4609,2275.9766 Q456.0156,2276.6797 454.8828,2278.2422 Q453.75,2279.8047 453.75,2281.9531 L453.75,2284.2578 Q453.75,2286.8359 455.8594,2288.5547 Q457.9688,2290.2734 461.7188,2290.2734 Q463.9453,2290.2734 465.5078,2289.7656 Q466.4063,2289.4922 467.4219,2288.5938 Q468.0859,2288.0859 468.4375,2287.9297 Q468.7891,2287.7734 469.2188,2287.7734 Q470.0391,2287.7734 470.625,2288.4375 Q471.25,2289.0625 471.25,2289.9609 Q471.25,2290.8203 470.3906,2291.8359 Q469.1406,2293.3203 467.1484,2294.1406 Q464.5313,2295.2734 461.3281,2295.2734 Q457.5781,2295.2734 454.5703,2293.7891 Q452.1484,2292.6172 450.4297,2290.0781 Q448.75,2287.5391 448.75,2284.5313 L448.75,2281.7969 Q448.75,2278.6719 450.2344,2275.9375 Q451.7578,2273.2031 454.375,2271.7578 Q457.0313,2270.2734 460,2270.2734 Q461.7969,2270.2734 463.3594,2270.8984 Q464.9219,2271.5234 466.25,2272.7734 Z " fill="#000000"/><ellipse cx="513.75" cy="2280.2734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="205" x="683.75" y="2274.9316">&lt;&lt;Exception&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="528.75" y="2312.666">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="447.5" x="596.25" y="2312.666">CancelEventBroadcastException</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="403.75" x2="1071.25" y1="2331.7578" y2="2331.7578"/><line style="stroke:#27AE60;stroke-width:3.75;" x1="403.75" x2="1071.25" y1="2351.7578" y2="2351.7578"/><ellipse cx="428.75" cy="2379.2578" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="451.25" y="2390.3052">CancelEventBroadcastException (String message)</text><!--MD5=[0b7969af8a911da52ed06a1d4b108be2]
class LocalServiceServerFactoryBuilder--><rect codeLine="174" fill="#F4ECF7" height="154.5898" id="LocalServiceServerFactoryBuilder" style="stroke:#8E44AD;stroke-width:3.75;" width="640" x="1405" y="641.2891"/><ellipse cx="1442.5" cy="681.2891" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1447.5,672.5391 Q1448.0078,671.2891 1448.5938,670.6641 Q1449.1797,670.0391 1449.8438,670.0391 Q1451.0156,670.0391 1451.7578,670.7422 Q1452.5,671.4453 1452.5,673.0859 L1452.5,676.9922 Q1452.5,678.6328 1451.7969,679.3359 Q1451.0938,680.0391 1450,680.0391 Q1449.0234,680.0391 1448.3984,679.6094 Q1447.7734,679.1797 1447.5,678.0469 Q1447.3828,677.2656 1446.9531,676.8359 Q1446.1719,676.0156 1444.7656,675.5469 Q1443.3594,675.0391 1441.9531,675.0391 Q1440.1953,675.0391 1438.7109,675.7422 Q1437.2656,676.4453 1436.1328,678.0078 Q1435,679.5703 1435,681.7188 L1435,684.0234 Q1435,686.6016 1437.1094,688.3203 Q1439.2188,690.0391 1442.9688,690.0391 Q1445.1953,690.0391 1446.7578,689.5313 Q1447.6563,689.2578 1448.6719,688.3594 Q1449.3359,687.8516 1449.6875,687.6953 Q1450.0391,687.5391 1450.4688,687.5391 Q1451.2891,687.5391 1451.875,688.2031 Q1452.5,688.8281 1452.5,689.7266 Q1452.5,690.5859 1451.6406,691.6016 Q1450.3906,693.0859 1448.3984,693.9063 Q1445.7813,695.0391 1442.5781,695.0391 Q1438.8281,695.0391 1435.8203,693.5547 Q1433.3984,692.3828 1431.6797,689.8438 Q1430,687.3047 1430,684.2969 L1430,681.5625 Q1430,678.4375 1431.4844,675.7031 Q1433.0078,672.9688 1435.625,671.5234 Q1438.2813,670.0391 1441.25,670.0391 Q1443.0469,670.0391 1444.6094,670.6641 Q1446.1719,671.2891 1447.5,672.5391 Z " fill="#000000"/><ellipse cx="1490" cy="680.0391" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1505" y="693.5645">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="465" x="1572.5" y="693.5645">LocalServiceServerFactoryBuilder</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1407.5" x2="2042.5" y1="721.2891" y2="721.2891"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1407.5" x2="2042.5" y1="741.2891" y2="741.2891"/><ellipse cx="1432.5" cy="768.7891" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="525" x="1455" y="779.8364">NodeStep builder (String localServiceName)</text><!--MD5=[27a12c03f9620a97e76e302bd37814cc]
class LocalServiceServerFactoryNodeStep--><rect codeLine="175" fill="#F4ECF7" height="189.1797" id="LocalServiceServerFactoryNodeStep" style="stroke:#8E44AD;stroke-width:3.75;" width="845" x="1302.5" y="991.2891"/><ellipse cx="1631.875" cy="1031.2891" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1634.375,1023.7891 L1634.375,1038.7891 L1639.375,1038.7891 L1640.5859,1038.7891 L1641.875,1040.3516 L1641.875,1041.2891 L1641.875,1042.2266 L1640.5859,1043.7891 L1639.375,1043.7891 L1624.375,1043.7891 L1623.1641,1043.7891 L1621.875,1042.2266 L1621.875,1041.2891 L1621.875,1040.3516 L1623.1641,1038.7891 L1624.375,1038.7891 L1629.375,1038.7891 L1629.375,1023.7891 L1624.375,1023.7891 L1623.1641,1023.7891 L1621.875,1022.2266 L1621.875,1021.2891 L1621.875,1020.3516 L1623.1641,1018.7891 L1624.375,1018.7891 L1639.375,1018.7891 L1640.5859,1018.7891 L1641.875,1020.3516 L1641.875,1021.2891 L1641.875,1022.2266 L1640.5859,1023.7891 L1639.375,1023.7891 L1634.375,1023.7891 Z " fill="#000000"/><ellipse cx="1695.625" cy="1030.0391" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="137.5" x="1710.625" y="1043.5645">NodeStep</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1305" x2="2145" y1="1071.2891" y2="1071.2891"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1305" x2="2145" y1="1091.2891" y2="1091.2891"/><ellipse cx="1330" cy="1118.7891" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="350" x="1352.5" y="1129.8364">BuilderStep withSyncNode ()</text><ellipse cx="1330" cy="1153.3789" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="357.5" x="1352.5" y="1164.4263">BuilderStep withAsyncNode (</text><text fill="#000000" filter="url(#b1w4g4mai5mxed3)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="302.5" x="1710" y="1164.4263">AsyncEndpointServerSpi</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="112.5" x="2020" y="1164.4263">endpoint)</text><!--MD5=[ad11ceb944313691c530a2f0bc495c08]
class LocalServiceServerFactoryBuilderStep--><rect codeLine="176" fill="#F4ECF7" height="189.1797" id="LocalServiceServerFactoryBuilderStep" style="stroke:#8E44AD;stroke-width:3.75;" width="727.5" x="1361.25" y="1333.7891"/><ellipse cx="1620.625" cy="1373.7891" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1623.125,1366.2891 L1623.125,1381.2891 L1628.125,1381.2891 L1629.3359,1381.2891 L1630.625,1382.8516 L1630.625,1383.7891 L1630.625,1384.7266 L1629.3359,1386.2891 L1628.125,1386.2891 L1613.125,1386.2891 L1611.9141,1386.2891 L1610.625,1384.7266 L1610.625,1383.7891 L1610.625,1382.8516 L1611.9141,1381.2891 L1613.125,1381.2891 L1618.125,1381.2891 L1618.125,1366.2891 L1613.125,1366.2891 L1611.9141,1366.2891 L1610.625,1364.7266 L1610.625,1363.7891 L1610.625,1362.8516 L1611.9141,1361.2891 L1613.125,1361.2891 L1628.125,1361.2891 L1629.3359,1361.2891 L1630.625,1362.8516 L1630.625,1363.7891 L1630.625,1364.7266 L1629.3359,1366.2891 L1628.125,1366.2891 L1623.125,1366.2891 Z " fill="#000000"/><ellipse cx="1684.375" cy="1372.5391" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="160" x="1699.375" y="1386.0645">BuilderStep</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1363.75" x2="2086.25" y1="1413.7891" y2="1413.7891"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1363.75" x2="2086.25" y1="1433.7891" y2="1433.7891"/><ellipse cx="1388.75" cy="1461.2891" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="662.5" x="1411.25" y="1472.3364">BuilderStep withPoolPlugins (String... poolPluginNames)</text><ellipse cx="1388.75" cy="1495.8789" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="422.5" x="1411.25" y="1506.9263">LocalServiceServerFactory build ()</text><!--MD5=[297c914f78ea5883075d0ae9c6039c25]
class ReaderEventFilterSpi--><rect codeLine="169" fill="#E9F7EF" height="258.3594" id="ReaderEventFilterSpi" style="stroke:#27AE60;stroke-width:3.75;" width="815" x="232.5" y="1773.7891"/><ellipse cx="469.375" cy="1813.7891" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M471.875,1806.2891 L471.875,1821.2891 L476.875,1821.2891 L478.0859,1821.2891 L479.375,1822.8516 L479.375,1823.7891 L479.375,1824.7266 L478.0859,1826.2891 L476.875,1826.2891 L461.875,1826.2891 L460.6641,1826.2891 L459.375,1824.7266 L459.375,1823.7891 L459.375,1822.8516 L460.6641,1821.2891 L461.875,1821.2891 L466.875,1821.2891 L466.875,1806.2891 L461.875,1806.2891 L460.6641,1806.2891 L459.375,1804.7266 L459.375,1803.7891 L459.375,1802.8516 L460.6641,1801.2891 L461.875,1801.2891 L476.875,1801.2891 L478.0859,1801.2891 L479.375,1802.8516 L479.375,1803.7891 L479.375,1804.7266 L478.0859,1806.2891 L476.875,1806.2891 L471.875,1806.2891 Z " fill="#000000"/><ellipse cx="533.125" cy="1812.5391" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="292.5" x="548.125" y="1826.0645">ReaderEventFilterSpi</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="235" x2="1045" y1="1853.7891" y2="1853.7891"/><line style="stroke:#27AE60;stroke-width:3.75;" x1="235" x2="1045" y1="1873.7891" y2="1873.7891"/><ellipse cx="260" cy="1901.2891" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="282.5" y="1912.3364">Object beforeEventBroadcast (</text><text fill="#000000" filter="url(#b1w4g4mai5mxed4)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="657.5" y="1912.3364">KeypleReaderEvent</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="77.5" x="902.5" y="1912.3364">event)</text><ellipse cx="260" cy="1935.8789" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="445" x="282.5" y="1946.9263">Class&lt;?&gt; getUserOutputDataClass ()</text><ellipse cx="260" cy="1970.4688" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="282.5" y="1981.5161">void afterEventBroadcast (Object userOutputData)</text><ellipse cx="260" cy="2005.0586" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="750" x="282.5" y="2016.106">boolean onEventBroadcastError (RuntimeException exception)</text><!--MD5=[cd153c0242e2864675b9dc50f471e3a6]
link LocalServiceClient to RemoteServiceParameters--><path codeLine="134" d="M802.5,3209.6591 C802.5,3270.1591 802.5,3338.0591 802.5,3390.5241 " fill="none" id="LocalServiceClient-to-RemoteServiceParameters" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="802.5,3403.5166,812.5,3381.0166,802.5,3391.0166,792.5,3381.0166,802.5,3403.5166" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="815,3319.2285,822.3473,3296.6158,807.6527,3296.6158,815,3319.2285" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="837.5" y="3320.0269">use</text><!--MD5=[433b740b1be4b5bbff4c502ec4f8a8aa]
link RemoteServiceParameters to RemoteServiceParametersBuilder--><path codeLine="135" d="M720.5875,3559.4441 C702.0375,3581.4291 684.905,3606.8416 675,3633.7891 C661.6175,3670.1966 671.0525,3707.8941 689.58,3741.9741 " fill="none" id="RemoteServiceParameters-to-RemoteServiceParametersBuilder" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="696.19,3753.3866,693.5592,3728.9054,689.9218,3742.5718,676.2555,3738.9344,696.19,3753.3866" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="685.4065,3669.052,696.4372,3647.9891,681.9501,3645.5281,685.4065,3669.052" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="710" y="3670.0269">provide</text><!--MD5=[67388e983a21b7fb718f5f064a2e9e7f]
reverse link RemoteServiceParameters to RemoteServiceParametersBuilder--><path codeLine="136" d="M816.1925,3571.6241 C818.815,3591.9816 821.16,3613.5991 822.5,3633.7891 C825.0775,3672.6216 822.4725,3715.0466 818.24,3752.7691 " fill="none" id="RemoteServiceParameters-backto-RemoteServiceParametersBuilder" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="814.5325,3559.1341,807.5903,3582.7573,816.1827,3571.5247,827.4153,3580.117,814.5325,3559.1341" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="834.8587,3644.2293,827.7675,3666.9236,842.4611,3666.7575,834.8587,3644.2293" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="90" x="857.5" y="3670.0269">create</text><!--MD5=[967476ac58eebd5431d0e323c0a47ed1]
link LocalServiceClientFactoryBuilder to LocalServiceClientFactoryNodeStep--><path codeLine="138" d="M677.5,796.3891 C677.5,848.8391 677.5,919.5891 677.5,977.7641 " fill="none" id="LocalServiceClientFactoryBuilder-to-LocalServiceClientFactoryNodeStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="677.5,990.7391,687.5,968.2391,677.5,978.2391,667.5,968.2391,677.5,990.7391" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="690,906.7285,697.3473,884.1158,682.6527,884.1158,690,906.7285" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="712.5" y="907.5269">provide</text><!--MD5=[e68ad73dcd5d22cdd53e377fdff58664]
link LocalServiceClientFactoryNodeStep to LocalServiceClientFactoryReaderStep--><path codeLine="139" d="M677.5,1181.9141 C677.5,1224.6891 677.5,1275.6641 677.5,1319.9641 " fill="none" id="LocalServiceClientFactoryNodeStep-to-LocalServiceClientFactoryReaderStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="677.5,1333.4641,687.5,1310.9641,677.5,1320.9641,667.5,1310.9641,677.5,1333.4641" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[fc627bcd7e560cb3cca390b8f3f08f44]
link LocalServiceClientFactoryReaderStep to LocalServiceClientFactoryBuilderStep--><path codeLine="140" d="M857.33,1524.0891 C930.55,1564.1916 1014.87,1613.4391 1087.5,1663.7891 C1154.2775,1710.0816 1224.3775,1768.6366 1278.0425,1815.8691 " fill="none" id="LocalServiceClientFactoryReaderStep-to-LocalServiceClientFactoryBuilderStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1287.8675,1824.5516,1277.6338,1802.1569,1278.5025,1816.2723,1264.387,1817.141,1287.8675,1824.5516" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[905454beb5a12b3e69f3f7b258d83d77]
link LocalServiceClientFactoryReaderStep to ReaderEventFilterSpi--><path codeLine="141" d="M670.09,1523.8891 C664.705,1591.2416 657.315,1683.5966 651.2075,1759.9391 " fill="none" id="LocalServiceClientFactoryReaderStep-to-ReaderEventFilterSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="650.1625,1773.0191,661.9242,1751.3878,651.1589,1760.5588,641.9878,1749.7935,650.1625,1773.0191" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="674.0033,1634.1887,683.1303,1612.2339,668.4825,1611.0621,674.0033,1634.1887" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="697.5" y="1635.0269">use</text><!--MD5=[b6049fce290dbf2e2dbabab8e7d11b7f]
link ReaderEventFilterSpi to CancelEventBroadcastException--><path codeLine="142" d="M670.05,2031.7841 C684.3025,2091.9016 701.07,2162.6241 714.32,2218.5166 " fill="none" id="ReaderEventFilterSpi-to-CancelEventBroadcastException" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="717.2625,2230.9341,721.8057,2206.7347,714.3806,2218.7708,702.3445,2211.3457,717.2625,2230.9341" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="710.3835,2146.3914,712.3163,2122.6937,698.018,2126.0835,710.3835,2146.3914" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="77.5" x="730" y="2147.5269">throw</text><!--MD5=[37446715fc7bdfdc77d861e6a2f41596]
link LocalServiceClientFactoryBuilderStep to LocalServiceClientFactory--><path codeLine="143" d="M1352.85,1980.0466 C1322.8775,2096.6141 1251.0475,2322.7441 1117.5,2466.2891 C1081.21,2505.2966 1033.8975,2537.2441 987.015,2562.4841 " fill="none" id="LocalServiceClientFactoryBuilderStep-to-LocalServiceClientFactory" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="975.1125,2568.7566,999.6796,2567.1108,986.1703,2562.9277,990.3533,2549.4183,975.1125,2568.7566" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1270.8514,2329.8137,1289.1007,2314.5729,1276.6571,2306.757,1270.8514,2329.8137" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="90" x="1300" y="2332.5269">create</text><!--MD5=[14e226f9dbad5070dced9be6f533deea]
link LocalServiceClientFactory to LocalServiceClient--><path codeLine="144" d="M802.5,2708.8891 C802.5,2759.4916 802.5,2830.8666 802.5,2895.7716 " fill="none" id="LocalServiceClientFactory-to-LocalServiceClient" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="802.5,2908.6591,812.5,2886.1591,802.5,2896.1591,792.5,2886.1591,802.5,2908.6591" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="815,2824.2285,822.3473,2801.6158,807.6527,2801.6158,815,2824.2285" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="90" x="837.5" y="2825.0269">create</text><!--MD5=[6e77fd2e65b40661f4fc5b724475af74]
link LocalServiceServerFactoryBuilder to LocalServiceServerFactoryNodeStep--><path codeLine="146" d="M1725,796.3891 C1725,848.8391 1725,919.5891 1725,977.7641 " fill="none" id="LocalServiceServerFactoryBuilder-to-LocalServiceServerFactoryNodeStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1725,990.7391,1735,968.2391,1725,978.2391,1715,968.2391,1725,990.7391" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1737.5,906.7285,1744.8473,884.1158,1730.1527,884.1158,1737.5,906.7285" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1760" y="907.5269">provide</text><!--MD5=[c2a403638aade61f3a045efd4b2af633]
link LocalServiceServerFactoryNodeStep to LocalServiceServerFactoryBuilderStep--><path codeLine="147" d="M1725,1181.9141 C1725,1224.6891 1725,1275.6641 1725,1319.9641 " fill="none" id="LocalServiceServerFactoryNodeStep-to-LocalServiceServerFactoryBuilderStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1725,1333.4641,1735,1310.9641,1725,1320.9641,1715,1310.9641,1725,1333.4641" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[9d31cf5bbe5c4225777ab9b980a48b45]
link LocalServiceServerFactoryBuilderStep to LocalServiceServerFactoryBuilderStep--><path codeLine="148" d="M2088.835,1400.1141 C2141.105,1404.6891 2176.25,1414.2641 2176.25,1428.7891 C2176.25,1442.0641 2146.885,1451.1891 2101.92,1456.1891 " fill="none" id="LocalServiceServerFactoryBuilderStep-to-LocalServiceServerFactoryBuilderStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2088.835,1457.4641,2112.2118,1465.1956,2101.274,1456.2309,2110.2387,1445.2931,2088.835,1457.4641" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[325da26a680e487776806951768b4688]
link LocalServiceServerFactoryBuilderStep to LocalServiceServerFactory--><path codeLine="149" d="M1725,1523.8391 C1725,1752.1791 1725,2339.4491 1725,2555.2091 " fill="none" id="LocalServiceServerFactoryBuilderStep-to-LocalServiceServerFactory" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1725,2568.2641,1735,2545.7641,1725,2555.7641,1715,2545.7641,1725,2568.2641" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1737.5,2146.7285,1744.8473,2124.1158,1730.1527,2124.1158,1737.5,2146.7285" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="90" x="1760" y="2147.5269">create</text><!--MD5=[60c6a7daaa78c2d9dcf5788f57812ec6]
link LocalServiceServerFactory to LocalServiceServer--><path codeLine="150" d="M1725,2708.8891 C1725,2771.6366 1725,2866.3316 1725,2941.0141 " fill="none" id="LocalServiceServerFactory-to-LocalServiceServer" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1725,2953.7641,1735,2931.2641,1725,2941.2641,1715,2931.2641,1725,2953.7641" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1737.5,2824.2285,1744.8473,2801.6158,1730.1527,2801.6158,1737.5,2824.2285" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="90" x="1760" y="2825.0269">create</text><!--MD5=[79111ab9ce2ba2b52b912f83cc6e01fe]
link CancelEventBroadcastException to LocalServiceClientFactory--><!--MD5=[5dba4ce1eeafd3a03975324323241d23]
@startuml
title
    Keyple 2.0 - keyple-java-distributed-local - 2.0.0 (17/05/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    __Colors legend__ :
    * __Configuration modes__ :
    ** <back:lightGreen>**Reader Client Side**</back>
    ** <back:plum>**Reader Server Side**</back>
    ** <back:lightBlue>**Pool Reader Server Side**</back>
    * __External API references__ :
    ** <back:yellow>**Network API**</back>
    ** <back:cyan>**Commons API**</back>
end legend

package "org.eclipse.keyple.distributed" as root {

    +interface "<<<back:cyan>KeypleDistributedLocalServiceExtension</back>>>\nLocalServiceClient" as LocalServiceClient {
        - -
        +<back:yellow>AsyncNodeClient</back> getAsyncNode ()
        ..
        +<T> T executeRemoteService (
            \tRemoteServiceParameters parameters,
            \tClass<T> classOfUserOutputData)
    }
    +class "**final** RemoteServiceParameters" as RemoteServiceParameters {
        +{static} Builder builder (String serviceId, String localReaderName)
    }
    +class "**final** Builder" as RemoteServiceParametersBuilder {
        +Builder withUserInputData (Object userInputData)
        +Builder withInitialCardContent (<back:cyan>KeypleSmartCard</back> initialCardContent)
        +RemoteServiceParameters build ()
    }

    +interface "<<<back:cyan>KeypleDistributedLocalServiceExtension</back>>>\nLocalServiceServer" as LocalServiceServer {
        +<back:yellow>SyncNodeServer</back> getSyncNode ()
        +<back:yellow>AsyncNodeServer</back> getAsyncNode ()
    }

    ' Factories
    together {
        +interface "<<<back:cyan>KeypleDistributedLocalServiceExtensionFactory</back>>>\nLocalServiceClientFactory" as LocalServiceClientFactory {
        }
        +interface "<<<back:cyan>KeypleDistributedLocalServiceExtensionFactory</back>>>\nLocalServiceServerFactory" as LocalServiceServerFactory {
        }
    }

    ' Factories builders
    together {
        +class "**final** LocalServiceClientFactoryBuilder" as LocalServiceClientFactoryBuilder {
            + {static} NodeStep builder (String localServiceName)
        }
        +interface "NodeStep" as LocalServiceClientFactoryNodeStep {
            + ReaderStep withSyncNode (<back:yellow>SyncEndpointClientSpi</back> endpoint)
            + ReaderStep withAsyncNode (<back:yellow>AsyncEndpointClientSpi</back> endpoint, int timeoutSeconds)
        }
        +interface "ReaderStep" as LocalServiceClientFactoryReaderStep {
                + BuilderStep withReaderObservation (ReaderEventFilterSpi filter)
            + BuilderStep withoutReaderObservation ()
        }
        +interface "BuilderStep" as LocalServiceClientFactoryBuilderStep {
            + LocalServiceClientFactory build ()
        }

        package spi {
            +interface ReaderEventFilterSpi {
                +Object beforeEventBroadcast (<back:cyan>KeypleReaderEvent</back> event)
                +Class<?> getUserOutputDataClass ()
                +void afterEventBroadcast (Object userOutputData)
                +boolean onEventBroadcastError (RuntimeException exception)
            }
        }
        +class "<<Exception>>\n**final** CancelEventBroadcastException" as CancelEventBroadcastException {
            +CancelEventBroadcastException (String message)
        }

        +class "**final** LocalServiceServerFactoryBuilder" as LocalServiceServerFactoryBuilder {
            + {static} NodeStep builder (String localServiceName)
        }
        +interface "NodeStep" as LocalServiceServerFactoryNodeStep {
            + BuilderStep withSyncNode ()
            + BuilderStep withAsyncNode (<back:yellow>AsyncEndpointServerSpi</back> endpoint)
        }
        +interface "BuilderStep" as LocalServiceServerFactoryBuilderStep {
            + BuilderStep withPoolPlugins (String... poolPluginNames)
            + LocalServiceServerFactory build ()
        }
    }
}

' Associations
LocalServiceClient ..> RemoteServiceParameters #C_USE : use >
RemoteServiceParameters ..> RemoteServiceParametersBuilder #C_USE : provide >
RemoteServiceParametersBuilder .up.> RemoteServiceParameters #C_USE : create >

LocalServiceClientFactoryBuilder ..> LocalServiceClientFactoryNodeStep #C_USE : provide >
LocalServiceClientFactoryNodeStep ..> LocalServiceClientFactoryReaderStep #C_USE
LocalServiceClientFactoryReaderStep ..> LocalServiceClientFactoryBuilderStep #C_USE
LocalServiceClientFactoryReaderStep ..> ReaderEventFilterSpi #C_USE : use >
ReaderEventFilterSpi ..> CancelEventBroadcastException #C_USE : throw >
LocalServiceClientFactoryBuilderStep ..> LocalServiceClientFactory #C_USE : create >
LocalServiceClientFactory ..> LocalServiceClient #C_USE : create >

LocalServiceServerFactoryBuilder ..> LocalServiceServerFactoryNodeStep #C_USE : provide >
LocalServiceServerFactoryNodeStep ..> LocalServiceServerFactoryBuilderStep #C_USE
LocalServiceServerFactoryBuilderStep ..> LocalServiceServerFactoryBuilderStep #C_USE
LocalServiceServerFactoryBuilderStep ..> LocalServiceServerFactory #C_USE : create >
LocalServiceServerFactory ..> LocalServiceServer #C_USE : create >

' == LAYOUT ==

CancelEventBroadcastException -[hidden]- LocalServiceClientFactory

' == STYLE ==

package root #C_GREY1 {}
package spi #C_GREY2 {}

interface LocalServiceClient <<green>>
interface LocalServiceClientFactory <<green>>
class LocalServiceClientFactoryBuilder <<green>>
interface LocalServiceClientFactoryNodeStep <<green>>
interface LocalServiceClientFactoryReaderStep <<green>>
interface LocalServiceClientFactoryBuilderStep <<green>>
class RemoteServiceParameters <<green>>
class RemoteServiceParametersBuilder <<green>>
interface ReaderEventFilterSpi <<green>>
class CancelEventBroadcastException <<green>>

interface LocalServiceServer <<purple>>
interface LocalServiceServerFactory <<purple>>
class LocalServiceServerFactoryBuilder <<purple>>
interface LocalServiceServerFactoryNodeStep <<purple>>
interface LocalServiceServerFactoryBuilderStep <<purple>>

@enduml

@startuml
title
    Keyple 2.0 - keyple-java-distributed-local - 2.0.0 (17/05/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    __Colors legend__ :
    * __Configuration modes__ :
    ** <back:lightGreen>**Reader Client Side**</back>
    ** <back:plum>**Reader Server Side**</back>
    ** <back:lightBlue>**Pool Reader Server Side**</back>
    * __External API references__ :
    ** <back:yellow>**Network API**</back>
    ** <back:cyan>**Commons API**</back>
end legend

package "org.eclipse.keyple.distributed" as root {

    +interface "<<<back:cyan>KeypleDistributedLocalServiceExtension</back>>>\nLocalServiceClient" as LocalServiceClient {
        - -
        +<back:yellow>AsyncNodeClient</back> getAsyncNode ()
        ..
        +<T> T executeRemoteService (
            \tRemoteServiceParameters parameters,
            \tClass<T> classOfUserOutputData)
    }
    +class "**final** RemoteServiceParameters" as RemoteServiceParameters {
        +{static} Builder builder (String serviceId, String localReaderName)
    }
    +class "**final** Builder" as RemoteServiceParametersBuilder {
        +Builder withUserInputData (Object userInputData)
        +Builder withInitialCardContent (<back:cyan>KeypleSmartCard</back> initialCardContent)
        +RemoteServiceParameters build ()
    }

    +interface "<<<back:cyan>KeypleDistributedLocalServiceExtension</back>>>\nLocalServiceServer" as LocalServiceServer {
        +<back:yellow>SyncNodeServer</back> getSyncNode ()
        +<back:yellow>AsyncNodeServer</back> getAsyncNode ()
    }

    together {
        +interface "<<<back:cyan>KeypleDistributedLocalServiceExtensionFactory</back>>>\nLocalServiceClientFactory" as LocalServiceClientFactory {
        }
        +interface "<<<back:cyan>KeypleDistributedLocalServiceExtensionFactory</back>>>\nLocalServiceServerFactory" as LocalServiceServerFactory {
        }
    }

    together {
        +class "**final** LocalServiceClientFactoryBuilder" as LocalServiceClientFactoryBuilder {
            + {static} NodeStep builder (String localServiceName)
        }
        +interface "NodeStep" as LocalServiceClientFactoryNodeStep {
            + ReaderStep withSyncNode (<back:yellow>SyncEndpointClientSpi</back> endpoint)
            + ReaderStep withAsyncNode (<back:yellow>AsyncEndpointClientSpi</back> endpoint, int timeoutSeconds)
        }
        +interface "ReaderStep" as LocalServiceClientFactoryReaderStep {
                + BuilderStep withReaderObservation (ReaderEventFilterSpi filter)
            + BuilderStep withoutReaderObservation ()
        }
        +interface "BuilderStep" as LocalServiceClientFactoryBuilderStep {
            + LocalServiceClientFactory build ()
        }

        package spi {
            +interface ReaderEventFilterSpi {
                +Object beforeEventBroadcast (<back:cyan>KeypleReaderEvent</back> event)
                +Class<?> getUserOutputDataClass ()
                +void afterEventBroadcast (Object userOutputData)
                +boolean onEventBroadcastError (RuntimeException exception)
            }
        }
        +class "<<Exception>>\n**final** CancelEventBroadcastException" as CancelEventBroadcastException {
            +CancelEventBroadcastException (String message)
        }

        +class "**final** LocalServiceServerFactoryBuilder" as LocalServiceServerFactoryBuilder {
            + {static} NodeStep builder (String localServiceName)
        }
        +interface "NodeStep" as LocalServiceServerFactoryNodeStep {
            + BuilderStep withSyncNode ()
            + BuilderStep withAsyncNode (<back:yellow>AsyncEndpointServerSpi</back> endpoint)
        }
        +interface "BuilderStep" as LocalServiceServerFactoryBuilderStep {
            + BuilderStep withPoolPlugins (String... poolPluginNames)
            + LocalServiceServerFactory build ()
        }
    }
}

LocalServiceClient ..> RemoteServiceParameters #27AE60 : use >
RemoteServiceParameters ..> RemoteServiceParametersBuilder #27AE60 : provide >
RemoteServiceParametersBuilder .up.> RemoteServiceParameters #27AE60 : create >

LocalServiceClientFactoryBuilder ..> LocalServiceClientFactoryNodeStep #27AE60 : provide >
LocalServiceClientFactoryNodeStep ..> LocalServiceClientFactoryReaderStep #27AE60
LocalServiceClientFactoryReaderStep ..> LocalServiceClientFactoryBuilderStep #27AE60
LocalServiceClientFactoryReaderStep ..> ReaderEventFilterSpi #27AE60 : use >
ReaderEventFilterSpi ..> CancelEventBroadcastException #27AE60 : throw >
LocalServiceClientFactoryBuilderStep ..> LocalServiceClientFactory #27AE60 : create >
LocalServiceClientFactory ..> LocalServiceClient #27AE60 : create >

LocalServiceServerFactoryBuilder ..> LocalServiceServerFactoryNodeStep #27AE60 : provide >
LocalServiceServerFactoryNodeStep ..> LocalServiceServerFactoryBuilderStep #27AE60
LocalServiceServerFactoryBuilderStep ..> LocalServiceServerFactoryBuilderStep #27AE60
LocalServiceServerFactoryBuilderStep ..> LocalServiceServerFactory #27AE60 : create >
LocalServiceServerFactory ..> LocalServiceServer #27AE60 : create >


CancelEventBroadcastException -[hidden]- LocalServiceClientFactory


package root #F8F9F9 {}
package spi #F2F3F4 {}

interface LocalServiceClient <<green>>
interface LocalServiceClientFactory <<green>>
class LocalServiceClientFactoryBuilder <<green>>
interface LocalServiceClientFactoryNodeStep <<green>>
interface LocalServiceClientFactoryReaderStep <<green>>
interface LocalServiceClientFactoryBuilderStep <<green>>
class RemoteServiceParameters <<green>>
class RemoteServiceParametersBuilder <<green>>
interface ReaderEventFilterSpi <<green>>
class CancelEventBroadcastException <<green>>

interface LocalServiceServer <<purple>>
interface LocalServiceServerFactory <<purple>>
class LocalServiceServerFactoryBuilder <<purple>>
interface LocalServiceServerFactoryNodeStep <<purple>>
interface LocalServiceServerFactoryBuilderStep <<purple>>

@enduml

PlantUML version 1.2021.5(Sun Apr 25 13:20:28 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>