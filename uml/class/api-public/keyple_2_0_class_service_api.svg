<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="5060px" preserveAspectRatio="none" style="width:6255px;height:5060px;" version="1.1" viewBox="0 0 6255 5060" width="6255px" zoomAndPan="magnify"><defs><filter height="1" id="b1mhvdibiwgz0v0" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1045" x="2588.75" y="46.7139">Keyple 2.0 - keyple-java-service - 2.0.0 (08/03/2021)</text><rect fill="#DDDDDD" height="69.0234" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:2.5;" width="497.5" x="2861.25" y="76.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="140" x="2876.25" y="125.4346">Legend :</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="70" x="3026.25" y="125.4346">from</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="237.5" x="3106.25" y="125.4346">Commons API</text><!--MD5=[7579d5565d2521d5936cec86ed3dadee]
cluster service--><polygon fill="#F8F9F9" points="40,183.125,610,183.125,627.5,242.1484,6212.5,242.1484,6212.5,5043.125,40,5043.125,40,183.125" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="627.5" y1="242.1484" y2="242.1484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="555" x="50" y="224.458">org.eclipse.keyple.core.service</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="2477.5,3436.875,2545,3436.875,2562.5,3495.8984,5425,3495.8984,5425,3756.875,2477.5,3756.875,2477.5,3436.875" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="2477.5" x2="2562.5" y1="3495.8984" y2="3495.8984"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="2487.5" y="3478.208">spi</text><!--MD5=[3400e5e1a9d8ffd8780970ed03335273]
cluster selection--><polygon fill="#F2F3F4" points="100,665.625,277.5,665.625,295,724.6484,2417.5,724.6484,2417.5,3878.125,100,3878.125,100,665.625" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="100" x2="295" y1="724.6484" y2="724.6484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="162.5" x="110" y="706.958">selection</text><!--MD5=[c96d8bee8ec60da1ef6ad554183a6a76]
cluster selectionSpi--><polygon fill="#E5E7E9" points="160,2088.125,227.5,2088.125,245,2147.1484,2357.5,2147.1484,2357.5,3818.125,160,3818.125,160,2088.125" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="160" x2="245" y1="2147.1484" y2="2147.1484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="170" y="2129.458">spi</text><!--MD5=[b4b6a5721e02f7cea6ba89274ea67351]
class NotificationMode--><rect codeLine="156" fill="#FEFECE" height="189.1797" id="NotificationMode" style="stroke:#D4AC0D;stroke-width:3.75;" width="335" x="5837.5" y="3526.875"/><ellipse cx="5875" cy="3566.875" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M5871.25,3569.375 L5871.25,3574.375 L5881.25,3574.375 L5881.25,3571.875 L5881.25,3570.6641 L5882.8125,3569.375 L5883.75,3569.375 L5884.6875,3569.375 L5886.25,3570.6641 L5886.25,3571.875 L5886.25,3579.375 L5866.25,3579.375 L5865.0391,3579.375 L5863.75,3577.8125 L5863.75,3576.875 L5863.75,3575.9375 L5865.0391,3574.375 L5866.25,3574.375 L5866.25,3574.375 L5866.25,3559.375 L5866.25,3559.375 L5865.0391,3559.375 L5863.75,3557.8125 L5863.75,3556.875 L5863.75,3555.9375 L5865.0391,3554.375 L5866.25,3554.375 L5886.25,3554.375 L5886.25,3561.875 L5886.25,3563.0859 L5884.6875,3564.375 L5883.75,3564.375 L5882.8125,3564.375 L5881.25,3563.0859 L5881.25,3561.875 L5881.25,3559.375 L5871.25,3559.375 L5871.25,3564.375 L5873.75,3564.375 L5873.75,3563.1641 L5873.75,3563.1641 L5875.3125,3561.875 L5876.25,3561.875 L5877.1875,3561.875 L5878.75,3563.1641 L5878.75,3564.375 L5878.75,3569.375 L5878.75,3570.5859 L5877.1875,3571.875 L5877.1875,3571.875 L5876.25,3571.875 L5875.3125,3571.875 L5873.75,3570.5859 L5873.75,3570.5859 L5873.75,3569.375 L5871.25,3569.375 Z " fill="#000000"/><ellipse cx="5922.5" cy="3565.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="227.5" x="5937.5" y="3579.1504">NotificationMode</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5840" x2="6170" y1="3606.875" y2="3606.875"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="117.5" x="5852.5" y="3645.4224">ALWAYS</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="5852.5" y="3680.0122">MATCHED_ONLY</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5840" x2="6170" y1="3696.0547" y2="3696.0547"/><!--MD5=[4db98615c12e554c8946e39d7c0e78ca]
class PollingMode--><rect codeLine="160" fill="#FEFECE" height="189.1797" id="PollingMode" style="stroke:#D4AC0D;stroke-width:3.75;" width="277.5" x="5471.25" y="3526.875"/><ellipse cx="5508.75" cy="3566.875" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M5505,3569.375 L5505,3574.375 L5515,3574.375 L5515,3571.875 L5515,3570.6641 L5516.5625,3569.375 L5517.5,3569.375 L5518.4375,3569.375 L5520,3570.6641 L5520,3571.875 L5520,3579.375 L5500,3579.375 L5498.7891,3579.375 L5497.5,3577.8125 L5497.5,3576.875 L5497.5,3575.9375 L5498.7891,3574.375 L5500,3574.375 L5500,3574.375 L5500,3559.375 L5500,3559.375 L5498.7891,3559.375 L5497.5,3557.8125 L5497.5,3556.875 L5497.5,3555.9375 L5498.7891,3554.375 L5500,3554.375 L5520,3554.375 L5520,3561.875 L5520,3563.0859 L5518.4375,3564.375 L5517.5,3564.375 L5516.5625,3564.375 L5515,3563.0859 L5515,3561.875 L5515,3559.375 L5505,3559.375 L5505,3564.375 L5507.5,3564.375 L5507.5,3563.1641 L5507.5,3563.1641 L5509.0625,3561.875 L5510,3561.875 L5510.9375,3561.875 L5512.5,3563.1641 L5512.5,3564.375 L5512.5,3569.375 L5512.5,3570.5859 L5510.9375,3571.875 L5510.9375,3571.875 L5510,3571.875 L5509.0625,3571.875 L5507.5,3570.5859 L5507.5,3570.5859 L5507.5,3569.375 L5505,3569.375 Z " fill="#000000"/><ellipse cx="5556.25" cy="3565.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="170" x="5571.25" y="3579.1504">PollingMode</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5473.75" x2="5746.25" y1="3606.875" y2="3606.875"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="140" x="5486.25" y="3645.4224">REPEATING</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="160" x="5486.25" y="3680.0122">SINGLESHOT</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5473.75" x2="5746.25" y1="3696.0547" y2="3696.0547"/><!--MD5=[df72700ac22eeb6165072f159208e08c]
class PluginEvent--><rect codeLine="164" fill="#FEFECE" height="471.7773" id="PluginEvent" style="stroke:#D4AC0D;stroke-width:3.75;" width="542.5" x="4818.75" y="4038.125"/><ellipse cx="4903.5" cy="4088.3594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M4908.5,4079.6094 Q4909.0078,4078.3594 4909.5938,4077.7344 Q4910.1797,4077.1094 4910.8438,4077.1094 Q4912.0156,4077.1094 4912.7578,4077.8125 Q4913.5,4078.5156 4913.5,4080.1563 L4913.5,4084.0625 Q4913.5,4085.7031 4912.7969,4086.4063 Q4912.0938,4087.1094 4911,4087.1094 Q4910.0234,4087.1094 4909.3984,4086.6797 Q4908.7734,4086.25 4908.5,4085.1172 Q4908.3828,4084.3359 4907.9531,4083.9063 Q4907.1719,4083.0859 4905.7656,4082.6172 Q4904.3594,4082.1094 4902.9531,4082.1094 Q4901.1953,4082.1094 4899.7109,4082.8125 Q4898.2656,4083.5156 4897.1328,4085.0781 Q4896,4086.6406 4896,4088.7891 L4896,4091.0938 Q4896,4093.6719 4898.1094,4095.3906 Q4900.2188,4097.1094 4903.9688,4097.1094 Q4906.1953,4097.1094 4907.7578,4096.6016 Q4908.6563,4096.3281 4909.6719,4095.4297 Q4910.3359,4094.9219 4910.6875,4094.7656 Q4911.0391,4094.6094 4911.4688,4094.6094 Q4912.2891,4094.6094 4912.875,4095.2734 Q4913.5,4095.8984 4913.5,4096.7969 Q4913.5,4097.6563 4912.6406,4098.6719 Q4911.3906,4100.1563 4909.3984,4100.9766 Q4906.7813,4102.1094 4903.5781,4102.1094 Q4899.8281,4102.1094 4896.8203,4100.625 Q4894.3984,4099.4531 4892.6797,4096.9141 Q4891,4094.375 4891,4091.3672 L4891,4088.6328 Q4891,4085.5078 4892.4844,4082.7734 Q4894.0078,4080.0391 4896.625,4078.5938 Q4899.2813,4077.1094 4902.25,4077.1094 Q4904.0469,4077.1094 4905.6094,4077.7344 Q4907.1719,4078.3594 4908.5,4079.6094 Z " fill="#000000"/><ellipse cx="4961.5" cy="4087.1094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="4976.5" y="4081.7676">&lt;&lt;</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="260" x="5011.5" y="4081.7676">KeyplePluginEvent</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="5271.5" y="4081.7676">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="5025.25" y="4119.502">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="165" x="5092.75" y="4119.502">PluginEvent</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4821.25" x2="5358.75" y1="4138.5938" y2="4138.5938"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="4821.25" x2="5358.75" y1="4158.5938" y2="4158.5938"/><ellipse cx="4846.25" cy="4186.0938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="377.5" x="4868.75" y="4197.1411">PluginEvent (String pluginName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="4928.75" y="4231.731">String readerName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="4928.75" y="4266.3208">EventType eventType)</text><ellipse cx="4846.25" cy="4289.8633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="377.5" x="4868.75" y="4300.9106">PluginEvent (String pluginName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="332.5" x="4928.75" y="4335.5005">Set&lt;String&gt; readersNames,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="4928.75" y="4370.0903">EventType eventType)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4821.25" x2="5358.75" y1="4386.1328" y2="4386.1328"/><ellipse cx="4846.25" cy="4413.6328" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="280" x="4868.75" y="4424.6802">String getPluginName ()</text><ellipse cx="4846.25" cy="4448.2227" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="477.5" x="4868.75" y="4459.27">SortedSet&lt;String&gt; getReadersNames ()</text><ellipse cx="4846.25" cy="4482.8125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="4868.75" y="4493.8599">EventType getEventType ()</text><!--MD5=[615672f8f9e7dc1c0373737ea5be9f3b]
class PluginEventType--><rect codeLine="177" fill="#FEFECE" height="223.7695" id="PluginEventType" style="stroke:#D4AC0D;stroke-width:3.75;" width="340" x="4920" y="4690.625"/><ellipse cx="4996.875" cy="4730.625" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M4993.125,4733.125 L4993.125,4738.125 L5003.125,4738.125 L5003.125,4735.625 L5003.125,4734.4141 L5004.6875,4733.125 L5005.625,4733.125 L5006.5625,4733.125 L5008.125,4734.4141 L5008.125,4735.625 L5008.125,4743.125 L4988.125,4743.125 L4986.9141,4743.125 L4985.625,4741.5625 L4985.625,4740.625 L4985.625,4739.6875 L4986.9141,4738.125 L4988.125,4738.125 L4988.125,4738.125 L4988.125,4723.125 L4988.125,4723.125 L4986.9141,4723.125 L4985.625,4721.5625 L4985.625,4720.625 L4985.625,4719.6875 L4986.9141,4718.125 L4988.125,4718.125 L5008.125,4718.125 L5008.125,4725.625 L5008.125,4726.8359 L5006.5625,4728.125 L5005.625,4728.125 L5004.6875,4728.125 L5003.125,4726.8359 L5003.125,4725.625 L5003.125,4723.125 L4993.125,4723.125 L4993.125,4728.125 L4995.625,4728.125 L4995.625,4726.9141 L4995.625,4726.9141 L4997.1875,4725.625 L4998.125,4725.625 L4999.0625,4725.625 L5000.625,4726.9141 L5000.625,4728.125 L5000.625,4733.125 L5000.625,4734.3359 L4999.0625,4735.625 L4999.0625,4735.625 L4998.125,4735.625 L4997.1875,4735.625 L4995.625,4734.3359 L4995.625,4734.3359 L4995.625,4733.125 L4993.125,4733.125 Z " fill="#000000"/><ellipse cx="5053.125" cy="4729.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="145" x="5068.125" y="4742.9004">EventType</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4922.5" x2="5257.5" y1="4770.625" y2="4770.625"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="270" x="4935" y="4809.1724">READER_CONNECTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="4935" y="4843.7622">READER_DISCONNECTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="190" x="4935" y="4878.3521">UNREGISTERED</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4922.5" x2="5257.5" y1="4894.3945" y2="4894.3945"/><!--MD5=[9a5f54023274c57ee24edb1ade6872b1]
class ReaderEvent--><rect codeLine="182" fill="#FEFECE" height="437.1875" id="ReaderEvent" style="stroke:#D4AC0D;stroke-width:3.75;" width="890" x="3840" y="4055.625"/><ellipse cx="4088.125" cy="4105.8594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M4093.125,4097.1094 Q4093.6328,4095.8594 4094.2188,4095.2344 Q4094.8047,4094.6094 4095.4688,4094.6094 Q4096.6406,4094.6094 4097.3828,4095.3125 Q4098.125,4096.0156 4098.125,4097.6563 L4098.125,4101.5625 Q4098.125,4103.2031 4097.4219,4103.9063 Q4096.7188,4104.6094 4095.625,4104.6094 Q4094.6484,4104.6094 4094.0234,4104.1797 Q4093.3984,4103.75 4093.125,4102.6172 Q4093.0078,4101.8359 4092.5781,4101.4063 Q4091.7969,4100.5859 4090.3906,4100.1172 Q4088.9844,4099.6094 4087.5781,4099.6094 Q4085.8203,4099.6094 4084.3359,4100.3125 Q4082.8906,4101.0156 4081.7578,4102.5781 Q4080.625,4104.1406 4080.625,4106.2891 L4080.625,4108.5938 Q4080.625,4111.1719 4082.7344,4112.8906 Q4084.8438,4114.6094 4088.5938,4114.6094 Q4090.8203,4114.6094 4092.3828,4114.1016 Q4093.2813,4113.8281 4094.2969,4112.9297 Q4094.9609,4112.4219 4095.3125,4112.2656 Q4095.6641,4112.1094 4096.0938,4112.1094 Q4096.9141,4112.1094 4097.5,4112.7734 Q4098.125,4113.3984 4098.125,4114.2969 Q4098.125,4115.1563 4097.2656,4116.1719 Q4096.0156,4117.6563 4094.0234,4118.4766 Q4091.4063,4119.6094 4088.2031,4119.6094 Q4084.4531,4119.6094 4081.4453,4118.125 Q4079.0234,4116.9531 4077.3047,4114.4141 Q4075.625,4111.875 4075.625,4108.8672 L4075.625,4106.1328 Q4075.625,4103.0078 4077.1094,4100.2734 Q4078.6328,4097.5391 4081.25,4096.0938 Q4083.9063,4094.6094 4086.875,4094.6094 Q4088.6719,4094.6094 4090.2344,4095.2344 Q4091.7969,4095.8594 4093.125,4097.1094 Z " fill="#000000"/><ellipse cx="4151.875" cy="4104.6094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="4166.875" y="4099.2676">&lt;&lt;</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="275" x="4201.875" y="4099.2676">KeypleReaderEvent</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="4476.875" y="4099.2676">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="4215.625" y="4137.002">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="4283.125" y="4137.002">ReaderEvent</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3842.5" x2="4727.5" y1="4156.0938" y2="4156.0938"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3842.5" x2="4727.5" y1="4176.0938" y2="4176.0938"/><ellipse cx="3867.5" cy="4203.5938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="395" x="3890" y="4214.6411">ReaderEvent (String pluginName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="3950" y="4249.231">String readerName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="270" x="3950" y="4283.8208">EventType eventType,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="57.5" x="3950" y="4318.4106">List&lt;</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="4007.5" y="4318.4106">KeypleCardSelectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="4380" y="4318.4106">&gt; cardSelectionResponses)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3842.5" x2="4727.5" y1="4334.4531" y2="4334.4531"/><ellipse cx="3867.5" cy="4361.9531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="280" x="3890" y="4373.0005">String getPluginName ()</text><ellipse cx="3867.5" cy="4396.543" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="297.5" x="3890" y="4407.5903">String getReaderName ()</text><ellipse cx="3867.5" cy="4431.1328" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="3890" y="4442.1802">EventType getEventType ()</text><ellipse cx="3867.5" cy="4465.7227" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="57.5" x="3890" y="4476.77">List&lt;</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="3947.5" y="4476.77">KeypleCardSelectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="392.5" x="4320" y="4476.77">&gt; getCardSelectionResponses ()</text><!--MD5=[c497011182ae060ffe3becc5fae50c50]
class ReaderEventType--><rect codeLine="194" fill="#FEFECE" height="258.3594" id="ReaderEventType" style="stroke:#D4AC0D;stroke-width:3.75;" width="252.5" x="4158.75" y="4674.375"/><ellipse cx="4196.25" cy="4714.375" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M4192.5,4716.875 L4192.5,4721.875 L4202.5,4721.875 L4202.5,4719.375 L4202.5,4718.1641 L4204.0625,4716.875 L4205,4716.875 L4205.9375,4716.875 L4207.5,4718.1641 L4207.5,4719.375 L4207.5,4726.875 L4187.5,4726.875 L4186.2891,4726.875 L4185,4725.3125 L4185,4724.375 L4185,4723.4375 L4186.2891,4721.875 L4187.5,4721.875 L4187.5,4721.875 L4187.5,4706.875 L4187.5,4706.875 L4186.2891,4706.875 L4185,4705.3125 L4185,4704.375 L4185,4703.4375 L4186.2891,4701.875 L4187.5,4701.875 L4207.5,4701.875 L4207.5,4709.375 L4207.5,4710.5859 L4205.9375,4711.875 L4205,4711.875 L4204.0625,4711.875 L4202.5,4710.5859 L4202.5,4709.375 L4202.5,4706.875 L4192.5,4706.875 L4192.5,4711.875 L4195,4711.875 L4195,4710.6641 L4195,4710.6641 L4196.5625,4709.375 L4197.5,4709.375 L4198.4375,4709.375 L4200,4710.6641 L4200,4711.875 L4200,4716.875 L4200,4718.0859 L4198.4375,4719.375 L4198.4375,4719.375 L4197.5,4719.375 L4196.5625,4719.375 L4195,4718.0859 L4195,4718.0859 L4195,4716.875 L4192.5,4716.875 Z " fill="#000000"/><ellipse cx="4243.75" cy="4713.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="145" x="4258.75" y="4726.6504">EventType</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4161.25" x2="4408.75" y1="4754.375" y2="4754.375"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="207.5" x="4173.75" y="4792.9224">CARD_INSERTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="4173.75" y="4827.5122">CARD_MATCHED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="212.5" x="4173.75" y="4862.1021">CARD_REMOVED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="190" x="4173.75" y="4896.6919">UNREGISTERED</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4161.25" x2="4408.75" y1="4912.7344" y2="4912.7344"/><!--MD5=[e6b281bcf59a6303a12c75da682dec8c]
class CardSelectionServiceFactory--><rect codeLine="201" fill="#FEFECE" height="189.1797" id="CardSelectionServiceFactory" style="stroke:#D4AC0D;stroke-width:3.75;" width="1092.5" x="1136.25" y="315.625"/><ellipse cx="1425.625" cy="355.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1430.625,346.875 Q1431.1328,345.625 1431.7188,345 Q1432.3047,344.375 1432.9688,344.375 Q1434.1406,344.375 1434.8828,345.0781 Q1435.625,345.7813 1435.625,347.4219 L1435.625,351.3281 Q1435.625,352.9688 1434.9219,353.6719 Q1434.2188,354.375 1433.125,354.375 Q1432.1484,354.375 1431.5234,353.9453 Q1430.8984,353.5156 1430.625,352.3828 Q1430.5078,351.6016 1430.0781,351.1719 Q1429.2969,350.3516 1427.8906,349.8828 Q1426.4844,349.375 1425.0781,349.375 Q1423.3203,349.375 1421.8359,350.0781 Q1420.3906,350.7813 1419.2578,352.3438 Q1418.125,353.9063 1418.125,356.0547 L1418.125,358.3594 Q1418.125,360.9375 1420.2344,362.6563 Q1422.3438,364.375 1426.0938,364.375 Q1428.3203,364.375 1429.8828,363.8672 Q1430.7813,363.5938 1431.7969,362.6953 Q1432.4609,362.1875 1432.8125,362.0313 Q1433.1641,361.875 1433.5938,361.875 Q1434.4141,361.875 1435,362.5391 Q1435.625,363.1641 1435.625,364.0625 Q1435.625,364.9219 1434.7656,365.9375 Q1433.5156,367.4219 1431.5234,368.2422 Q1428.9063,369.375 1425.7031,369.375 Q1421.9531,369.375 1418.9453,367.8906 Q1416.5234,366.7188 1414.8047,364.1797 Q1413.125,361.6406 1413.125,358.6328 L1413.125,355.8984 Q1413.125,352.7734 1414.6094,350.0391 Q1416.1328,347.3047 1418.75,345.8594 Q1421.4063,344.375 1424.375,344.375 Q1426.1719,344.375 1427.7344,345 Q1429.2969,345.625 1430.625,346.875 Z " fill="#000000"/><ellipse cx="1489.375" cy="354.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1504.375" y="367.9004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="397.5" x="1571.875" y="367.9004">CardSelectionServiceFactory</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1138.75" x2="2226.25" y1="395.625" y2="395.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1138.75" x2="2226.25" y1="415.625" y2="415.625"/><ellipse cx="1163.75" cy="443.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="425" x="1186.25" y="454.1724">CardSelectionService getService ()</text><ellipse cx="1163.75" cy="477.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="1027.5" x="1186.25" y="488.7622">CardSelectionService getService (MultiSelectionProcessing multiSelectionProcessing)</text><!--MD5=[bb05bfd1c5059058d457654d4573d9ac]
class PluginObserverSpi--><rect codeLine="54" fill="#FEFECE" height="154.5898" id="PluginObserverSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="600" x="3275" y="3544.375"/><ellipse cx="3420.625" cy="3584.375" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3423.125,3576.875 L3423.125,3591.875 L3428.125,3591.875 L3429.3359,3591.875 L3430.625,3593.4375 L3430.625,3594.375 L3430.625,3595.3125 L3429.3359,3596.875 L3428.125,3596.875 L3413.125,3596.875 L3411.9141,3596.875 L3410.625,3595.3125 L3410.625,3594.375 L3410.625,3593.4375 L3411.9141,3591.875 L3413.125,3591.875 L3418.125,3591.875 L3418.125,3576.875 L3413.125,3576.875 L3411.9141,3576.875 L3410.625,3575.3125 L3410.625,3574.375 L3410.625,3573.4375 L3411.9141,3571.875 L3413.125,3571.875 L3428.125,3571.875 L3429.3359,3571.875 L3430.625,3573.4375 L3430.625,3574.375 L3430.625,3575.3125 L3429.3359,3576.875 L3428.125,3576.875 L3423.125,3576.875 Z " fill="#000000"/><ellipse cx="3484.375" cy="3583.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="260" x="3499.375" y="3596.6504">PluginObserverSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3277.5" x2="3872.5" y1="3624.375" y2="3624.375"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3277.5" x2="3872.5" y1="3644.375" y2="3644.375"/><ellipse cx="3302.5" cy="3671.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="3325" y="3682.9224">void onPluginEvent (PluginEvent pluginEvent)</text><!--MD5=[f9fcd30113853d8738bc1c3769de9355]
class PluginObservationExceptionHandlerSpi--><rect codeLine="57" fill="#FEFECE" height="189.1797" id="PluginObservationExceptionHandlerSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="670" x="2517.5" y="3526.875"/><ellipse cx="2562.875" cy="3566.875" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2565.375,3559.375 L2565.375,3574.375 L2570.375,3574.375 L2571.5859,3574.375 L2572.875,3575.9375 L2572.875,3576.875 L2572.875,3577.8125 L2571.5859,3579.375 L2570.375,3579.375 L2555.375,3579.375 L2554.1641,3579.375 L2552.875,3577.8125 L2552.875,3576.875 L2552.875,3575.9375 L2554.1641,3574.375 L2555.375,3574.375 L2560.375,3574.375 L2560.375,3559.375 L2555.375,3559.375 L2554.1641,3559.375 L2552.875,3557.8125 L2552.875,3556.875 L2552.875,3555.9375 L2554.1641,3554.375 L2555.375,3554.375 L2570.375,3554.375 L2571.5859,3554.375 L2572.875,3555.9375 L2572.875,3556.875 L2572.875,3557.8125 L2571.5859,3559.375 L2570.375,3559.375 L2565.375,3559.375 Z " fill="#000000"/><ellipse cx="2612.125" cy="3565.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="545" x="2627.125" y="3579.1504">PluginObservationExceptionHandlerSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2520" x2="3185" y1="3606.875" y2="3606.875"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2520" x2="3185" y1="3626.875" y2="3626.875"/><ellipse cx="2545" cy="3654.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="605" x="2567.5" y="3665.4224">void onPluginObservationError (String pluginName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="162.5" x="2627.5" y="3700.0122">Throwable e)</text><!--MD5=[87c50f47c2764245750fe11a9aa48329]
class ReaderObserverSpi--><rect codeLine="61" fill="#FEFECE" height="154.5898" id="ReaderObserverSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="645" x="3962.5" y="3544.375"/><ellipse cx="4123.125" cy="3584.375" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4125.625,3576.875 L4125.625,3591.875 L4130.625,3591.875 L4131.8359,3591.875 L4133.125,3593.4375 L4133.125,3594.375 L4133.125,3595.3125 L4131.8359,3596.875 L4130.625,3596.875 L4115.625,3596.875 L4114.4141,3596.875 L4113.125,3595.3125 L4113.125,3594.375 L4113.125,3593.4375 L4114.4141,3591.875 L4115.625,3591.875 L4120.625,3591.875 L4120.625,3576.875 L4115.625,3576.875 L4114.4141,3576.875 L4113.125,3575.3125 L4113.125,3574.375 L4113.125,3573.4375 L4114.4141,3571.875 L4115.625,3571.875 L4130.625,3571.875 L4131.8359,3571.875 L4133.125,3573.4375 L4133.125,3574.375 L4133.125,3575.3125 L4131.8359,3576.875 L4130.625,3576.875 L4125.625,3576.875 Z " fill="#000000"/><ellipse cx="4186.875" cy="3583.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="275" x="4201.875" y="3596.6504">ReaderObserverSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3965" x2="4605" y1="3624.375" y2="3624.375"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3965" x2="4605" y1="3644.375" y2="3644.375"/><ellipse cx="3990" cy="3671.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="580" x="4012.5" y="3682.9224">void onReaderEvent (ReaderEvent readerEvent)</text><!--MD5=[f459a825ccfa34ff87f3f3eeff21a525]
class ReaderObservationExceptionHandlerSpi--><rect codeLine="64" fill="#FEFECE" height="189.1797" id="ReaderObservationExceptionHandlerSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="687.5" x="4696.25" y="3526.875"/><ellipse cx="4742.75" cy="3566.875" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4745.25,3559.375 L4745.25,3574.375 L4750.25,3574.375 L4751.4609,3574.375 L4752.75,3575.9375 L4752.75,3576.875 L4752.75,3577.8125 L4751.4609,3579.375 L4750.25,3579.375 L4735.25,3579.375 L4734.0391,3579.375 L4732.75,3577.8125 L4732.75,3576.875 L4732.75,3575.9375 L4734.0391,3574.375 L4735.25,3574.375 L4740.25,3574.375 L4740.25,3559.375 L4735.25,3559.375 L4734.0391,3559.375 L4732.75,3557.8125 L4732.75,3556.875 L4732.75,3555.9375 L4734.0391,3554.375 L4735.25,3554.375 L4750.25,3554.375 L4751.4609,3554.375 L4752.75,3555.9375 L4752.75,3556.875 L4752.75,3557.8125 L4751.4609,3559.375 L4750.25,3559.375 L4745.25,3559.375 Z " fill="#000000"/><ellipse cx="4792.25" cy="3565.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="560" x="4807.25" y="3579.1504">ReaderObservationExceptionHandlerSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4698.75" x2="5381.25" y1="3606.875" y2="3606.875"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4698.75" x2="5381.25" y1="3626.875" y2="3626.875"/><ellipse cx="4723.75" cy="3654.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="622.5" x="4746.25" y="3665.4224">void onReaderObservationError (String pluginName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="4806.25" y="3700.0122">String readerName, Throwable e)</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="71" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="462.5" x="4701.25" y="333.125"/><ellipse cx="4738.75" cy="373.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M4743.75,364.375 Q4744.2578,363.125 4744.8438,362.5 Q4745.4297,361.875 4746.0938,361.875 Q4747.2656,361.875 4748.0078,362.5781 Q4748.75,363.2813 4748.75,364.9219 L4748.75,368.8281 Q4748.75,370.4688 4748.0469,371.1719 Q4747.3438,371.875 4746.25,371.875 Q4745.2734,371.875 4744.6484,371.4453 Q4744.0234,371.0156 4743.75,369.8828 Q4743.6328,369.1016 4743.2031,368.6719 Q4742.4219,367.8516 4741.0156,367.3828 Q4739.6094,366.875 4738.2031,366.875 Q4736.4453,366.875 4734.9609,367.5781 Q4733.5156,368.2813 4732.3828,369.8438 Q4731.25,371.4063 4731.25,373.5547 L4731.25,375.8594 Q4731.25,378.4375 4733.3594,380.1563 Q4735.4688,381.875 4739.2188,381.875 Q4741.4453,381.875 4743.0078,381.3672 Q4743.9063,381.0938 4744.9219,380.1953 Q4745.5859,379.6875 4745.9375,379.5313 Q4746.2891,379.375 4746.7188,379.375 Q4747.5391,379.375 4748.125,380.0391 Q4748.75,380.6641 4748.75,381.5625 Q4748.75,382.4219 4747.8906,383.4375 Q4746.6406,384.9219 4744.6484,385.7422 Q4742.0313,386.875 4738.8281,386.875 Q4735.0781,386.875 4732.0703,385.3906 Q4729.6484,384.2188 4727.9297,381.6797 Q4726.25,379.1406 4726.25,376.1328 L4726.25,373.3984 Q4726.25,370.2734 4727.7344,367.5391 Q4729.2578,364.8047 4731.875,363.3594 Q4734.5313,361.875 4737.5,361.875 Q4739.2969,361.875 4740.8594,362.5 Q4742.4219,363.125 4743.75,364.375 Z " fill="#000000"/><ellipse cx="4786.25" cy="371.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="4801.25" y="385.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="287.5" x="4868.75" y="385.4004">ServiceApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4703.75" x2="5161.25" y1="413.125" y2="413.125"/><ellipse cx="4728.75" cy="440.625" fill="none" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="4751.25" y="451.6724">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="4816.25" y="451.6724">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4703.75" x2="5161.25" y1="467.7148" y2="467.7148"/><!--MD5=[28295972733bc8add2f44d28a858566b]
class SmartCardServiceProvider--><rect codeLine="74" fill="#FEFECE" height="154.5898" id="SmartCardServiceProvider" style="stroke:#D4AC0D;stroke-width:3.75;" width="542.5" x="3746.25" y="333.125"/><ellipse cx="3783.75" cy="373.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3788.75,364.375 Q3789.2578,363.125 3789.8438,362.5 Q3790.4297,361.875 3791.0938,361.875 Q3792.2656,361.875 3793.0078,362.5781 Q3793.75,363.2813 3793.75,364.9219 L3793.75,368.8281 Q3793.75,370.4688 3793.0469,371.1719 Q3792.3438,371.875 3791.25,371.875 Q3790.2734,371.875 3789.6484,371.4453 Q3789.0234,371.0156 3788.75,369.8828 Q3788.6328,369.1016 3788.2031,368.6719 Q3787.4219,367.8516 3786.0156,367.3828 Q3784.6094,366.875 3783.2031,366.875 Q3781.4453,366.875 3779.9609,367.5781 Q3778.5156,368.2813 3777.3828,369.8438 Q3776.25,371.4063 3776.25,373.5547 L3776.25,375.8594 Q3776.25,378.4375 3778.3594,380.1563 Q3780.4688,381.875 3784.2188,381.875 Q3786.4453,381.875 3788.0078,381.3672 Q3788.9063,381.0938 3789.9219,380.1953 Q3790.5859,379.6875 3790.9375,379.5313 Q3791.2891,379.375 3791.7188,379.375 Q3792.5391,379.375 3793.125,380.0391 Q3793.75,380.6641 3793.75,381.5625 Q3793.75,382.4219 3792.8906,383.4375 Q3791.6406,384.9219 3789.6484,385.7422 Q3787.0313,386.875 3783.8281,386.875 Q3780.0781,386.875 3777.0703,385.3906 Q3774.6484,384.2188 3772.9297,381.6797 Q3771.25,379.1406 3771.25,376.1328 L3771.25,373.3984 Q3771.25,370.2734 3772.7344,367.5391 Q3774.2578,364.8047 3776.875,363.3594 Q3779.5313,361.875 3782.5,361.875 Q3784.2969,361.875 3785.8594,362.5 Q3787.4219,363.125 3788.75,364.375 Z " fill="#000000"/><ellipse cx="3831.25" cy="371.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3846.25" y="385.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="367.5" x="3913.75" y="385.4004">SmartCardServiceProvider</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3748.75" x2="4286.25" y1="413.125" y2="413.125"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3748.75" x2="4286.25" y1="433.125" y2="433.125"/><ellipse cx="3773.75" cy="460.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="385" x="3796.25" y="471.6724">SmartCardService getService ()</text><!--MD5=[bc3f57c567736ad71a70f1388d085699]
class SmartCardService--><rect codeLine="77" fill="#FEFECE" height="525.8984" id="SmartCardService" style="stroke:#D4AC0D;stroke-width:3.75;" width="1095" x="3470" y="808.125"/><ellipse cx="3866.875" cy="848.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3869.375,840.625 L3869.375,855.625 L3874.375,855.625 L3875.5859,855.625 L3876.875,857.1875 L3876.875,858.125 L3876.875,859.0625 L3875.5859,860.625 L3874.375,860.625 L3859.375,860.625 L3858.1641,860.625 L3856.875,859.0625 L3856.875,858.125 L3856.875,857.1875 L3858.1641,855.625 L3859.375,855.625 L3864.375,855.625 L3864.375,840.625 L3859.375,840.625 L3858.1641,840.625 L3856.875,839.0625 L3856.875,838.125 L3856.875,837.1875 L3858.1641,835.625 L3859.375,835.625 L3874.375,835.625 L3875.5859,835.625 L3876.875,837.1875 L3876.875,838.125 L3876.875,839.0625 L3875.5859,840.625 L3874.375,840.625 L3869.375,840.625 Z " fill="#000000"/><ellipse cx="3930.625" cy="846.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="3945.625" y="860.4004">SmartCardService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3472.5" x2="4562.5" y1="888.125" y2="888.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3472.5" x2="4562.5" y1="908.125" y2="908.125"/><ellipse cx="3497.5" cy="935.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="257.5" x="3520" y="946.6724">Plugin registerPlugin (</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="3777.5" y="946.6724">KeyplePluginExtensionFactory</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="172.5" x="4147.5" y="946.6724">pluginFactory)</text><ellipse cx="3497.5" cy="970.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="492.5" x="3520" y="981.2622">void unregisterPlugin (String pluginName)</text><ellipse cx="3497.5" cy="1004.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="565" x="3520" y="1015.8521">boolean isPluginRegistered (String pluginName)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3472.5" x2="4562.5" y1="1031.8945" y2="1031.8945"/><ellipse cx="3497.5" cy="1059.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="392.5" x="3520" y="1070.4419">Map&lt;String, Plugin&gt; getPlugins ()</text><ellipse cx="3497.5" cy="1093.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="427.5" x="3520" y="1105.0317">Plugin getPlugin (String pluginName)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3472.5" x2="4562.5" y1="1121.0742" y2="1121.0742"/><ellipse cx="3497.5" cy="1148.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="322.5" x="3520" y="1159.6216">void checkCardExtension (</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="257.5" x="3842.5" y="1159.6216">KeypleCardExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="4107.5" y="1159.6216">cardExtension)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3472.5" x2="4562.5" y1="1175.6641" y2="1175.6641"/><ellipse cx="3497.5" cy="1203.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="687.5" x="3520" y="1214.2114">DistributedLocalService registerDistributedLocalService (</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="577.5" x="3580" y="1248.8013">KeypleDistributedLocalServiceExtensionFactory</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="385" x="4165" y="1248.8013">distributedLocalServiceFactory)</text><ellipse cx="3497.5" cy="1272.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="920" x="3520" y="1283.3911">void unregisterDistributedLocalService (String distributedLocalServiceName)</text><ellipse cx="3497.5" cy="1306.9336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="835" x="3520" y="1317.981">void getDistributedLocalService (String distributedLocalServiceName)</text><!--MD5=[b628511dd50102041730ee0512f882c8]
class Plugin--><rect codeLine="93" fill="#FEFECE" height="312.9492" id="Plugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="955" x="3295" y="1598.125"/><ellipse cx="3704.375" cy="1638.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3706.875,1630.625 L3706.875,1645.625 L3711.875,1645.625 L3713.0859,1645.625 L3714.375,1647.1875 L3714.375,1648.125 L3714.375,1649.0625 L3713.0859,1650.625 L3711.875,1650.625 L3696.875,1650.625 L3695.6641,1650.625 L3694.375,1649.0625 L3694.375,1648.125 L3694.375,1647.1875 L3695.6641,1645.625 L3696.875,1645.625 L3701.875,1645.625 L3701.875,1630.625 L3696.875,1630.625 L3695.6641,1630.625 L3694.375,1629.0625 L3694.375,1628.125 L3694.375,1627.1875 L3695.6641,1625.625 L3696.875,1625.625 L3711.875,1625.625 L3713.0859,1625.625 L3714.375,1627.1875 L3714.375,1628.125 L3714.375,1629.0625 L3713.0859,1630.625 L3711.875,1630.625 L3706.875,1630.625 Z " fill="#000000"/><ellipse cx="3768.125" cy="1636.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="87.5" x="3783.125" y="1650.4004">Plugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3297.5" x2="4247.5" y1="1678.125" y2="1678.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3297.5" x2="4247.5" y1="1698.125" y2="1698.125"/><ellipse cx="3322.5" cy="1725.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3345" y="1736.6724">String getName ()</text><ellipse cx="3322.5" cy="1760.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="3345" y="1771.2622">&lt;T extends</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="270" x="3487.5" y="1771.2622">KeyplePluginExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="477.5" x="3757.5" y="1771.2622">&gt; T getExtension (Class&lt;T&gt; pluginType)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3297.5" x2="4247.5" y1="1787.3047" y2="1787.3047"/><ellipse cx="3322.5" cy="1814.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="3345" y="1825.8521">Set&lt;String&gt; getReadersNames ()</text><ellipse cx="3322.5" cy="1849.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="427.5" x="3345" y="1860.4419">Map&lt;String, Reader&gt; getReaders ()</text><ellipse cx="3322.5" cy="1883.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="472.5" x="3345" y="1895.0317">Reader getReader (String readerName)</text><!--MD5=[f7984cadeded08cae48982a67518e715]
class DistributedLocalService--><rect codeLine="102" fill="#FEFECE" height="223.7695" id="DistributedLocalService" style="stroke:#D4AC0D;stroke-width:3.75;" width="910" x="4337.5" y="1641.875"/><ellipse cx="4604.375" cy="1681.875" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4606.875,1674.375 L4606.875,1689.375 L4611.875,1689.375 L4613.0859,1689.375 L4614.375,1690.9375 L4614.375,1691.875 L4614.375,1692.8125 L4613.0859,1694.375 L4611.875,1694.375 L4596.875,1694.375 L4595.6641,1694.375 L4594.375,1692.8125 L4594.375,1691.875 L4594.375,1690.9375 L4595.6641,1689.375 L4596.875,1689.375 L4601.875,1689.375 L4601.875,1674.375 L4596.875,1674.375 L4595.6641,1674.375 L4594.375,1672.8125 L4594.375,1671.875 L4594.375,1670.9375 L4595.6641,1669.375 L4596.875,1669.375 L4611.875,1669.375 L4613.0859,1669.375 L4614.375,1670.9375 L4614.375,1671.875 L4614.375,1672.8125 L4613.0859,1674.375 L4611.875,1674.375 L4606.875,1674.375 Z " fill="#000000"/><ellipse cx="4668.125" cy="1680.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="327.5" x="4683.125" y="1694.1504">DistributedLocalService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4340" x2="5245" y1="1721.875" y2="1721.875"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="4340" x2="5245" y1="1741.875" y2="1741.875"/><ellipse cx="4365" cy="1769.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="4387.5" y="1780.4224">String getName ()</text><ellipse cx="4365" cy="1803.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="4387.5" y="1815.0122">&lt;T extends</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="4530" y="1815.0122">KeypleDistributedLocalServiceExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="217.5" x="5015" y="1815.0122">&gt; T getExtension (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="472.5" x="4447.5" y="1849.6021">Class&lt;T&gt; distributedLocalServiceType)</text><!--MD5=[1fa9a61019755e60a0cb03f0bc3590aa]
class ObservablePlugin--><rect codeLine="108" fill="#FEFECE" height="416.7188" id="ObservablePlugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="817.5" x="3613.75" y="2135.625"/><ellipse cx="3873.125" cy="2175.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3875.625,2168.125 L3875.625,2183.125 L3880.625,2183.125 L3881.8359,2183.125 L3883.125,2184.6875 L3883.125,2185.625 L3883.125,2186.5625 L3881.8359,2188.125 L3880.625,2188.125 L3865.625,2188.125 L3864.4141,2188.125 L3863.125,2186.5625 L3863.125,2185.625 L3863.125,2184.6875 L3864.4141,2183.125 L3865.625,2183.125 L3870.625,2183.125 L3870.625,2168.125 L3865.625,2168.125 L3864.4141,2168.125 L3863.125,2166.5625 L3863.125,2165.625 L3863.125,2164.6875 L3864.4141,2163.125 L3865.625,2163.125 L3880.625,2163.125 L3881.8359,2163.125 L3883.125,2164.6875 L3883.125,2165.625 L3883.125,2166.5625 L3881.8359,2168.125 L3880.625,2168.125 L3875.625,2168.125 Z " fill="#000000"/><ellipse cx="3936.875" cy="2174.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="250" x="3951.875" y="2187.9004">ObservablePlugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3616.25" x2="4428.75" y1="2215.625" y2="2215.625"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3616.25" x2="4428.75" y1="2235.625" y2="2235.625"/><ellipse cx="3641.25" cy="2263.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="585" x="3663.75" y="2274.1724">void addObserver (PluginObserverSpi observer)</text><ellipse cx="3641.25" cy="2297.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="630" x="3663.75" y="2308.7622">void removeObserver (PluginObserverSpi observer)</text><ellipse cx="3641.25" cy="2332.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="3663.75" y="2343.3521">void clearObservers ()</text><ellipse cx="3641.25" cy="2366.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="3663.75" y="2377.9419">int countObservers ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3616.25" x2="4428.75" y1="2393.9844" y2="2393.9844"/><ellipse cx="3641.25" cy="2421.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="512.5" x="3663.75" y="2432.5317">void setEventNotificationExecutorService (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="617.5" x="3723.75" y="2467.1216">ExecutorService eventNotificationExecutorService)</text><ellipse cx="3641.25" cy="2490.6641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="540" x="3663.75" y="2501.7114">void setPluginObservationExceptionHandler (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="692.5" x="3723.75" y="2536.3013">PluginObservationExceptionHandlerSpi exceptionHandler)</text><!--MD5=[c8cbac6d6d9e600bce6d5400427f5af6]
class PoolPlugin--><rect codeLine="120" fill="#FEFECE" height="243.7695" id="PoolPlugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="727.5" x="4518.75" y="2221.875"/><ellipse cx="4783.125" cy="2261.875" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4785.625,2254.375 L4785.625,2269.375 L4790.625,2269.375 L4791.8359,2269.375 L4793.125,2270.9375 L4793.125,2271.875 L4793.125,2272.8125 L4791.8359,2274.375 L4790.625,2274.375 L4775.625,2274.375 L4774.4141,2274.375 L4773.125,2272.8125 L4773.125,2271.875 L4773.125,2270.9375 L4774.4141,2269.375 L4775.625,2269.375 L4780.625,2269.375 L4780.625,2254.375 L4775.625,2254.375 L4774.4141,2254.375 L4773.125,2252.8125 L4773.125,2251.875 L4773.125,2250.9375 L4774.4141,2249.375 L4775.625,2249.375 L4790.625,2249.375 L4791.8359,2249.375 L4793.125,2250.9375 L4793.125,2251.875 L4793.125,2252.8125 L4791.8359,2254.375 L4790.625,2254.375 L4785.625,2254.375 Z " fill="#000000"/><ellipse cx="4846.875" cy="2260.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="4861.875" y="2274.1504">PoolPlugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4521.25" x2="5243.75" y1="2301.875" y2="2301.875"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="4521.25" x2="5243.75" y1="2321.875" y2="2321.875"/><ellipse cx="4546.25" cy="2349.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="597.5" x="4568.75" y="2360.4224">SortedSet&lt;String&gt; getReaderGroupReferences ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4521.25" x2="5243.75" y1="2376.4648" y2="2376.4648"/><ellipse cx="4546.25" cy="2403.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="662.5" x="4568.75" y="2415.0122">Reader allocateReader (String readerGroupReference)</text><ellipse cx="4546.25" cy="2438.5547" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="4568.75" y="2449.6021">void releaseReader (Reader reader)</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect codeLine="127" fill="#FEFECE" height="367.5391" id="Reader" style="stroke:#D4AC0D;stroke-width:3.75;" width="982.5" x="2543.75" y="2160.625"/><ellipse cx="2959.375" cy="2200.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2961.875,2193.125 L2961.875,2208.125 L2966.875,2208.125 L2968.0859,2208.125 L2969.375,2209.6875 L2969.375,2210.625 L2969.375,2211.5625 L2968.0859,2213.125 L2966.875,2213.125 L2951.875,2213.125 L2950.6641,2213.125 L2949.375,2211.5625 L2949.375,2210.625 L2949.375,2209.6875 L2950.6641,2208.125 L2951.875,2208.125 L2956.875,2208.125 L2956.875,2193.125 L2951.875,2193.125 L2950.6641,2193.125 L2949.375,2191.5625 L2949.375,2190.625 L2949.375,2189.6875 L2950.6641,2188.125 L2951.875,2188.125 L2966.875,2188.125 L2968.0859,2188.125 L2969.375,2189.6875 L2969.375,2190.625 L2969.375,2191.5625 L2968.0859,2193.125 L2966.875,2193.125 L2961.875,2193.125 Z " fill="#000000"/><ellipse cx="3023.125" cy="2199.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="102.5" x="3038.125" y="2212.9004">Reader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2546.25" x2="3523.75" y1="2240.625" y2="2240.625"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="2546.25" x2="3523.75" y1="2260.625" y2="2260.625"/><ellipse cx="2571.25" cy="2288.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2593.75" y="2299.1724">String getName ()</text><ellipse cx="2571.25" cy="2322.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="2593.75" y="2333.7622">&lt;T extends</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="2736.25" y="2333.7622">KeypleReaderExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="487.5" x="3023.75" y="2333.7622">&gt; T getExtension (Class&lt;T&gt; readerType)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2546.25" x2="3523.75" y1="2349.8047" y2="2349.8047"/><ellipse cx="2571.25" cy="2377.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="292.5" x="2593.75" y="2388.3521">boolean isContactless ()</text><ellipse cx="2571.25" cy="2411.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="300" x="2593.75" y="2422.9419">boolean isCardPresent ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2546.25" x2="3523.75" y1="2438.9844" y2="2438.9844"/><ellipse cx="2571.25" cy="2466.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="777.5" x="2593.75" y="2477.5317">void activateProtocol (String readerProtocol, String cardProtocol)</text><ellipse cx="2571.25" cy="2501.0742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="562.5" x="2593.75" y="2512.1216">void deactivateProtocol (String readerProtocol)</text><!--MD5=[e2341a3d5316e117132fc49473ae3219]
class ObservableReader--><rect codeLine="138" fill="#FEFECE" height="560.4883" id="ObservableReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="835" x="4412.5" y="2705.625"/><ellipse cx="4673.125" cy="2745.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4675.625,2738.125 L4675.625,2753.125 L4680.625,2753.125 L4681.8359,2753.125 L4683.125,2754.6875 L4683.125,2755.625 L4683.125,2756.5625 L4681.8359,2758.125 L4680.625,2758.125 L4665.625,2758.125 L4664.4141,2758.125 L4663.125,2756.5625 L4663.125,2755.625 L4663.125,2754.6875 L4664.4141,2753.125 L4665.625,2753.125 L4670.625,2753.125 L4670.625,2738.125 L4665.625,2738.125 L4664.4141,2738.125 L4663.125,2736.5625 L4663.125,2735.625 L4663.125,2734.6875 L4664.4141,2733.125 L4665.625,2733.125 L4680.625,2733.125 L4681.8359,2733.125 L4683.125,2734.6875 L4683.125,2735.625 L4683.125,2736.5625 L4681.8359,2738.125 L4680.625,2738.125 L4675.625,2738.125 Z " fill="#000000"/><ellipse cx="4736.875" cy="2744.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="265" x="4751.875" y="2757.9004">ObservableReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4415" x2="5245" y1="2785.625" y2="2785.625"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="4415" x2="5245" y1="2805.625" y2="2805.625"/><ellipse cx="4440" cy="2833.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="602.5" x="4462.5" y="2844.1724">void addObserver (ReaderObserverSpi observer)</text><ellipse cx="4440" cy="2867.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="647.5" x="4462.5" y="2878.7622">void removeObserver (ReaderObserverSpi observer)</text><ellipse cx="4440" cy="2902.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="4462.5" y="2913.3521">void clearObservers ()</text><ellipse cx="4440" cy="2936.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="4462.5" y="2947.9419">int countObservers ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4415" x2="5245" y1="2963.9844" y2="2963.9844"/><ellipse cx="4440" cy="2991.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="597.5" x="4462.5" y="3002.5317">void startCardDetection (PollingMode pollingMode)</text><ellipse cx="4440" cy="3026.0742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="307.5" x="4462.5" y="3037.1216">void stopCardDetection ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4415" x2="5245" y1="3053.1641" y2="3053.1641"/><ellipse cx="4440" cy="3080.6641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="4462.5" y="3091.7114">void finalizeCardProcessing ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4415" x2="5245" y1="3107.7539" y2="3107.7539"/><ellipse cx="4440" cy="3135.2539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="512.5" x="4462.5" y="3146.3013">void setEventNotificationExecutorService (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="617.5" x="4522.5" y="3180.8911">ExecutorService eventNotificationExecutorService)</text><ellipse cx="4440" cy="3204.4336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="557.5" x="4462.5" y="3215.481">void setReaderObservationExceptionHandler (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="710" x="4522.5" y="3250.0708">ReaderObservationExceptionHandlerSpi exceptionHandler)</text><!--MD5=[0edb817d42c74369e16b7a8029bdc747]
class CardSelectionService--><rect codeLine="206" fill="#FEFECE" height="629.668" id="CardSelectionService" style="stroke:#D4AC0D;stroke-width:3.75;" width="890" x="1237.5" y="755.625"/><ellipse cx="1509.375" cy="795.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1511.875,788.125 L1511.875,803.125 L1516.875,803.125 L1518.0859,803.125 L1519.375,804.6875 L1519.375,805.625 L1519.375,806.5625 L1518.0859,808.125 L1516.875,808.125 L1501.875,808.125 L1500.6641,808.125 L1499.375,806.5625 L1499.375,805.625 L1499.375,804.6875 L1500.6641,803.125 L1501.875,803.125 L1506.875,803.125 L1506.875,788.125 L1501.875,788.125 L1500.6641,788.125 L1499.375,786.5625 L1499.375,785.625 L1499.375,784.6875 L1500.6641,783.125 L1501.875,783.125 L1516.875,783.125 L1518.0859,783.125 L1519.375,784.6875 L1519.375,785.625 L1519.375,786.5625 L1518.0859,788.125 L1516.875,788.125 L1511.875,788.125 Z " fill="#000000"/><ellipse cx="1573.125" cy="794.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="297.5" x="1588.125" y="807.9004">CardSelectionService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1240" x2="2125" y1="835.625" y2="835.625"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1240" x2="2125" y1="855.625" y2="855.625"/><ellipse cx="1265" cy="883.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="1287.5" y="894.1724">int prepareSelection (CardSelection cardSelection)</text><ellipse cx="1265" cy="917.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="1287.5" y="928.7622">void prepareReleaseChannel ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1240" x2="2125" y1="944.8047" y2="944.8047"/><ellipse cx="1265" cy="972.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="642.5" x="1287.5" y="983.3521">CardSelectionResult processCardSelectionScenario (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="185" x="1347.5" y="1017.9419">Reader reader)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1240" x2="2125" y1="1033.9844" y2="1033.9844"/><ellipse cx="1265" cy="1061.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="460" x="1287.5" y="1072.5317">void scheduleCardSelectionScenario (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="465" x="1347.5" y="1107.1216">ObservableReader observableReader,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="410" x="1347.5" y="1141.7114">NotificationMode notificationMode)</text><ellipse cx="1265" cy="1165.2539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="460" x="1287.5" y="1176.3013">void scheduleCardSelectionScenario (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="465" x="1347.5" y="1210.8911">ObservableReader observableReader,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="407.5" x="1347.5" y="1245.481">NotificationMode notificationMode,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="297.5" x="1347.5" y="1280.0708">PollingMode pollingMode)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1240" x2="2125" y1="1296.1133" y2="1296.1133"/><ellipse cx="1265" cy="1323.6133" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="672.5" x="1287.5" y="1334.6606">CardSelectionResult processCardSelectionResponses (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="57.5" x="1347.5" y="1369.2505">List&lt;</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="1405" y="1369.2505">KeypleCardSelectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="1777.5" y="1369.2505">&gt; cardSelectionResponses)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect codeLine="225" fill="#FEFECE" height="189.1797" id="MultiSelectionProcessing" style="stroke:#D4AC0D;stroke-width:3.75;" width="450" x="1180" y="1659.375"/><ellipse cx="1217.5" cy="1699.375" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1213.75,1701.875 L1213.75,1706.875 L1223.75,1706.875 L1223.75,1704.375 L1223.75,1703.1641 L1225.3125,1701.875 L1226.25,1701.875 L1227.1875,1701.875 L1228.75,1703.1641 L1228.75,1704.375 L1228.75,1711.875 L1208.75,1711.875 L1207.5391,1711.875 L1206.25,1710.3125 L1206.25,1709.375 L1206.25,1708.4375 L1207.5391,1706.875 L1208.75,1706.875 L1208.75,1706.875 L1208.75,1691.875 L1208.75,1691.875 L1207.5391,1691.875 L1206.25,1690.3125 L1206.25,1689.375 L1206.25,1688.4375 L1207.5391,1686.875 L1208.75,1686.875 L1228.75,1686.875 L1228.75,1694.375 L1228.75,1695.5859 L1227.1875,1696.875 L1226.25,1696.875 L1225.3125,1696.875 L1223.75,1695.5859 L1223.75,1694.375 L1223.75,1691.875 L1213.75,1691.875 L1213.75,1696.875 L1216.25,1696.875 L1216.25,1695.6641 L1216.25,1695.6641 L1217.8125,1694.375 L1218.75,1694.375 L1219.6875,1694.375 L1221.25,1695.6641 L1221.25,1696.875 L1221.25,1701.875 L1221.25,1703.0859 L1219.6875,1704.375 L1219.6875,1704.375 L1218.75,1704.375 L1217.8125,1704.375 L1216.25,1703.0859 L1216.25,1703.0859 L1216.25,1701.875 L1213.75,1701.875 Z " fill="#000000"/><ellipse cx="1265" cy="1698.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="342.5" x="1280" y="1711.6504">MultiSelectionProcessing</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1182.5" x2="1627.5" y1="1739.375" y2="1739.375"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="175" x="1195" y="1777.9224">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="185" x="1195" y="1812.5122">PROCESS_ALL</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1182.5" x2="1627.5" y1="1828.5547" y2="1828.5547"/><!--MD5=[b048fcdbdb6b9f6911c1d2807b5ba439]
class CardSelectionResult--><rect codeLine="299" fill="#FEFECE" height="347.5391" id="CardSelectionResult" style="stroke:#D4AC0D;stroke-width:3.75;" width="660" x="1717.5" y="1580.625"/><ellipse cx="1881.875" cy="1620.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1884.375,1613.125 L1884.375,1628.125 L1889.375,1628.125 L1890.5859,1628.125 L1891.875,1629.6875 L1891.875,1630.625 L1891.875,1631.5625 L1890.5859,1633.125 L1889.375,1633.125 L1874.375,1633.125 L1873.1641,1633.125 L1871.875,1631.5625 L1871.875,1630.625 L1871.875,1629.6875 L1873.1641,1628.125 L1874.375,1628.125 L1879.375,1628.125 L1879.375,1613.125 L1874.375,1613.125 L1873.1641,1613.125 L1871.875,1611.5625 L1871.875,1610.625 L1871.875,1609.6875 L1873.1641,1608.125 L1874.375,1608.125 L1889.375,1608.125 L1890.5859,1608.125 L1891.875,1609.6875 L1891.875,1610.625 L1891.875,1611.5625 L1890.5859,1613.125 L1889.375,1613.125 L1884.375,1613.125 Z " fill="#000000"/><ellipse cx="1945.625" cy="1619.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="282.5" x="1960.625" y="1632.9004">CardSelectionResult</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1720" x2="2375" y1="1660.625" y2="1660.625"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1720" x2="2375" y1="1680.625" y2="1680.625"/><ellipse cx="1745" cy="1708.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="1767.5" y="1719.1724">boolean hasActiveSelection ()</text><ellipse cx="1745" cy="1742.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="352.5" x="1767.5" y="1753.7622">int getActiveSelectionIndex ()</text><ellipse cx="1745" cy="1777.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="595" x="1767.5" y="1788.3521">boolean hasSelectionMatched (int selectionIndex)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1720" x2="2375" y1="1804.3945" y2="1804.3945"/><ellipse cx="1745" cy="1831.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="1767.5" y="1842.9419">Map&lt;Integer, SmartCard&gt; getSmartCards ()</text><ellipse cx="1745" cy="1866.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="1767.5" y="1877.5317">SmartCard getSmartCard (int selectionIndex)</text><ellipse cx="1745" cy="1901.0742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="1767.5" y="1912.1216">SmartCard getActiveSmartCard ()</text><!--MD5=[9d5201d69290fdda3b9522261babfc84]
class CardResource--><rect codeLine="309" fill="#FEFECE" height="243.7695" id="CardResource" style="stroke:#D4AC0D;stroke-width:3.75;" width="675" x="417.5" y="1631.875"/><ellipse cx="455" cy="1671.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M460,1663.125 Q460.5078,1661.875 461.0938,1661.25 Q461.6797,1660.625 462.3438,1660.625 Q463.5156,1660.625 464.2578,1661.3281 Q465,1662.0313 465,1663.6719 L465,1667.5781 Q465,1669.2188 464.2969,1669.9219 Q463.5938,1670.625 462.5,1670.625 Q461.5234,1670.625 460.8984,1670.1953 Q460.2734,1669.7656 460,1668.6328 Q459.8828,1667.8516 459.4531,1667.4219 Q458.6719,1666.6016 457.2656,1666.1328 Q455.8594,1665.625 454.4531,1665.625 Q452.6953,1665.625 451.2109,1666.3281 Q449.7656,1667.0313 448.6328,1668.5938 Q447.5,1670.1563 447.5,1672.3047 L447.5,1674.6094 Q447.5,1677.1875 449.6094,1678.9063 Q451.7188,1680.625 455.4688,1680.625 Q457.6953,1680.625 459.2578,1680.1172 Q460.1563,1679.8438 461.1719,1678.9453 Q461.8359,1678.4375 462.1875,1678.2813 Q462.5391,1678.125 462.9688,1678.125 Q463.7891,1678.125 464.375,1678.7891 Q465,1679.4141 465,1680.3125 Q465,1681.1719 464.1406,1682.1875 Q462.8906,1683.6719 460.8984,1684.4922 Q458.2813,1685.625 455.0781,1685.625 Q451.3281,1685.625 448.3203,1684.1406 Q445.8984,1682.9688 444.1797,1680.4297 Q442.5,1677.8906 442.5,1674.8828 L442.5,1672.1484 Q442.5,1669.0234 443.9844,1666.2891 Q445.5078,1663.5547 448.125,1662.1094 Q450.7813,1660.625 453.75,1660.625 Q455.5469,1660.625 457.1094,1661.25 Q458.6719,1661.875 460,1663.125 Z " fill="#000000"/><ellipse cx="502.5" cy="1670.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="517.5" y="1684.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="200" x="585" y="1684.1504">CardResource</text><rect fill="#FFFFFF" height="42.7344" style="stroke:#000000;stroke-width:2.5;stroke-dasharray:2.0,2.0;" width="295" x="805" y="1624.375"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="290" x="807.5" y="1658.0176">T extends SmartCard</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="420" x2="1090" y1="1711.875" y2="1711.875"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="420" x2="1090" y1="1731.875" y2="1731.875"/><ellipse cx="445" cy="1759.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="540" x="467.5" y="1770.4224">CardResource (Reader reader, T smartCard)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="420" x2="1090" y1="1786.4648" y2="1786.4648"/><ellipse cx="445" cy="1813.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="467.5" y="1825.0122">Reader getReader ()</text><ellipse cx="445" cy="1848.5547" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="215" x="467.5" y="1859.6021">T getSmartCard ()</text><!--MD5=[47f0011813555fb489a606ff84d44b55]
class CardSelection--><rect codeLine="230" fill="#FEFECE" height="154.5898" id="CardSelection" style="stroke:#D4AC0D;stroke-width:3.75;" width="452.5" x="313.75" y="2266.875"/><ellipse cx="418.75" cy="2306.875" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M421.25,2299.375 L421.25,2314.375 L426.25,2314.375 L427.4609,2314.375 L428.75,2315.9375 L428.75,2316.875 L428.75,2317.8125 L427.4609,2319.375 L426.25,2319.375 L411.25,2319.375 L410.0391,2319.375 L408.75,2317.8125 L408.75,2316.875 L408.75,2315.9375 L410.0391,2314.375 L411.25,2314.375 L416.25,2314.375 L416.25,2299.375 L411.25,2299.375 L410.0391,2299.375 L408.75,2297.8125 L408.75,2296.875 L408.75,2295.9375 L410.0391,2294.375 L411.25,2294.375 L426.25,2294.375 L427.4609,2294.375 L428.75,2295.9375 L428.75,2296.875 L428.75,2297.8125 L427.4609,2299.375 L426.25,2299.375 L421.25,2299.375 Z " fill="#000000"/><ellipse cx="481.25" cy="2305.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="496.25" y="2319.1504">CardSelection</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="316.25" x2="763.75" y1="2346.875" y2="2346.875"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="316.25" x2="763.75" y1="2366.875" y2="2366.875"/><ellipse cx="341.25" cy="2394.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="363.75" y="2405.4224">CardSelector getCardSelector ()</text><!--MD5=[4d4351d1dd1d596b03b4778d9849998b]
class SmartCard--><rect codeLine="233" fill="#FEFECE" height="298.8281" id="SmartCard" style="stroke:#D4AC0D;stroke-width:3.75;" width="422.5" x="1801.25" y="2194.375"/><ellipse cx="1838.75" cy="2244.6094" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1841.25,2237.1094 L1841.25,2252.1094 L1846.25,2252.1094 L1847.4609,2252.1094 L1848.75,2253.6719 L1848.75,2254.6094 L1848.75,2255.5469 L1847.4609,2257.1094 L1846.25,2257.1094 L1831.25,2257.1094 L1830.0391,2257.1094 L1828.75,2255.5469 L1828.75,2254.6094 L1828.75,2253.6719 L1830.0391,2252.1094 L1831.25,2252.1094 L1836.25,2252.1094 L1836.25,2237.1094 L1831.25,2237.1094 L1830.0391,2237.1094 L1828.75,2235.5469 L1828.75,2234.6094 L1828.75,2233.6719 L1830.0391,2232.1094 L1831.25,2232.1094 L1846.25,2232.1094 L1847.4609,2232.1094 L1848.75,2233.6719 L1848.75,2234.6094 L1848.75,2235.5469 L1847.4609,2237.1094 L1846.25,2237.1094 L1841.25,2237.1094 Z " fill="#000000"/><ellipse cx="1886.25" cy="2243.3594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1901.25" y="2238.0176">&lt;&lt;</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="245" x="1936.25" y="2238.0176">KeypleSmartCard</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2181.25" y="2238.0176">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="1983.75" y="2275.752">SmartCard</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1803.75" x2="2221.25" y1="2294.8438" y2="2294.8438"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1803.75" x2="2221.25" y1="2314.8438" y2="2314.8438"/><ellipse cx="1828.75" cy="2342.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1851.25" y="2353.3911">boolean hasFci ()</text><ellipse cx="1828.75" cy="2376.9336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="245" x="1851.25" y="2387.981">byte[] getFciBytes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1803.75" x2="2221.25" y1="2404.0234" y2="2404.0234"/><ellipse cx="1828.75" cy="2431.5234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="212.5" x="1851.25" y="2442.5708">boolean hasAtr ()</text><ellipse cx="1828.75" cy="2466.1133" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="1851.25" y="2477.1606">byte[] getAtrBytes ()</text><!--MD5=[d172dfe3fef1c01713438c88abcc6a2c]
class CardSelector--><rect codeLine="241" fill="#FEFECE" height="333.418" id="CardSelector" style="stroke:#D4AC0D;stroke-width:3.75;" width="577.5" x="1103.75" y="2178.125"/><ellipse cx="1197.5" cy="2228.3594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1202.5,2219.6094 Q1203.0078,2218.3594 1203.5938,2217.7344 Q1204.1797,2217.1094 1204.8438,2217.1094 Q1206.0156,2217.1094 1206.7578,2217.8125 Q1207.5,2218.5156 1207.5,2220.1563 L1207.5,2224.0625 Q1207.5,2225.7031 1206.7969,2226.4063 Q1206.0938,2227.1094 1205,2227.1094 Q1204.0234,2227.1094 1203.3984,2226.6797 Q1202.7734,2226.25 1202.5,2225.1172 Q1202.3828,2224.3359 1201.9531,2223.9063 Q1201.1719,2223.0859 1199.7656,2222.6172 Q1198.3594,2222.1094 1196.9531,2222.1094 Q1195.1953,2222.1094 1193.7109,2222.8125 Q1192.2656,2223.5156 1191.1328,2225.0781 Q1190,2226.6406 1190,2228.7891 L1190,2231.0938 Q1190,2233.6719 1192.1094,2235.3906 Q1194.2188,2237.1094 1197.9688,2237.1094 Q1200.1953,2237.1094 1201.7578,2236.6016 Q1202.6563,2236.3281 1203.6719,2235.4297 Q1204.3359,2234.9219 1204.6875,2234.7656 Q1205.0391,2234.6094 1205.4688,2234.6094 Q1206.2891,2234.6094 1206.875,2235.2734 Q1207.5,2235.8984 1207.5,2236.7969 Q1207.5,2237.6563 1206.6406,2238.6719 Q1205.3906,2240.1563 1203.3984,2240.9766 Q1200.7813,2242.1094 1197.5781,2242.1094 Q1193.8281,2242.1094 1190.8203,2240.625 Q1188.3984,2239.4531 1186.6797,2236.9141 Q1185,2234.375 1185,2231.3672 L1185,2228.6328 Q1185,2225.5078 1186.4844,2222.7734 Q1188.0078,2220.0391 1190.625,2218.5938 Q1193.2813,2217.1094 1196.25,2217.1094 Q1198.0469,2217.1094 1199.6094,2217.7344 Q1201.1719,2218.3594 1202.5,2219.6094 Z " fill="#000000"/><ellipse cx="1257.5" cy="2227.1094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1272.5" y="2221.7676">&lt;&lt;</text><text fill="#000000" filter="url(#b1mhvdibiwgz0v0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="275" x="1307.5" y="2221.7676">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1582.5" y="2221.7676">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="1355" y="2259.502">CardSelector</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1106.25" x2="1678.75" y1="2278.5938" y2="2278.5938"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1106.25" x2="1678.75" y1="2298.5938" y2="2298.5938"/><polygon fill="#FFFF44" points="1131.25,2313.5938,1141.25,2323.5938,1131.25,2333.5938,1121.25,2323.5938" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="512.5" x="1153.75" y="2337.1411">CardSelector (CardSelectorBuilder builder)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1106.25" x2="1678.75" y1="2353.1836" y2="2353.1836"/><ellipse cx="1131.25" cy="2380.6836" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="355" x="1153.75" y="2391.731">CardSelectorBuilder builder ()</text><ellipse cx="1131.25" cy="2415.2734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="297.5" x="1153.75" y="2426.3208">String getCardProtocol ()</text><ellipse cx="1131.25" cy="2449.8633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="262.5" x="1153.75" y="2460.9106">AtrFilter getAtrFilter ()</text><ellipse cx="1131.25" cy="2484.4531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="352.5" x="1153.75" y="2495.5005">AidSelector getAidSelector ()</text><!--MD5=[9bb74c6f90a85a40b37333ced13e2f4b]
class CardSelectorBuilder--><rect codeLine="250" fill="#FEFECE" height="333.418" id="CardSelectorBuilder" style="stroke:#D4AC0D;stroke-width:3.75;" width="757.5" x="201.25" y="2819.375"/><ellipse cx="416.875" cy="2869.6094" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M421.875,2860.8594 Q422.3828,2859.6094 422.9688,2858.9844 Q423.5547,2858.3594 424.2188,2858.3594 Q425.3906,2858.3594 426.1328,2859.0625 Q426.875,2859.7656 426.875,2861.4063 L426.875,2865.3125 Q426.875,2866.9531 426.1719,2867.6563 Q425.4688,2868.3594 424.375,2868.3594 Q423.3984,2868.3594 422.7734,2867.9297 Q422.1484,2867.5 421.875,2866.3672 Q421.7578,2865.5859 421.3281,2865.1563 Q420.5469,2864.3359 419.1406,2863.8672 Q417.7344,2863.3594 416.3281,2863.3594 Q414.5703,2863.3594 413.0859,2864.0625 Q411.6406,2864.7656 410.5078,2866.3281 Q409.375,2867.8906 409.375,2870.0391 L409.375,2872.3438 Q409.375,2874.9219 411.4844,2876.6406 Q413.5938,2878.3594 417.3438,2878.3594 Q419.5703,2878.3594 421.1328,2877.8516 Q422.0313,2877.5781 423.0469,2876.6797 Q423.7109,2876.1719 424.0625,2876.0156 Q424.4141,2875.8594 424.8438,2875.8594 Q425.6641,2875.8594 426.25,2876.5234 Q426.875,2877.1484 426.875,2878.0469 Q426.875,2878.9063 426.0156,2879.9219 Q424.7656,2881.4063 422.7734,2882.2266 Q420.1563,2883.3594 416.9531,2883.3594 Q413.2031,2883.3594 410.1953,2881.875 Q407.7734,2880.7031 406.0547,2878.1641 Q404.375,2875.625 404.375,2872.6172 L404.375,2869.8828 Q404.375,2866.7578 405.8594,2864.0234 Q407.3828,2861.2891 410,2859.8438 Q412.6563,2858.3594 415.625,2858.3594 Q417.4219,2858.3594 418.9844,2858.9844 Q420.5469,2859.6094 421.875,2860.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="105" x="568.125" y="2863.0176">static</text><ellipse cx="480.625" cy="2887.2266" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="277.5" x="495.625" y="2900.752">CardSelectorBuilder</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="203.75" x2="956.25" y1="2919.8438" y2="2919.8438"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="203.75" x2="956.25" y1="2939.8438" y2="2939.8438"/><polygon fill="#FFFF44" points="228.75,2954.8438,238.75,2964.8438,228.75,2974.8438,218.75,2964.8438" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="267.5" x="251.25" y="2978.3911">CardSelectorBuilder ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="203.75" x2="956.25" y1="2994.4336" y2="2994.4336"/><ellipse cx="228.75" cy="3021.9336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="657.5" x="251.25" y="3032.981">CardSelectorBuilder cardProtocol (String cardProtocol)</text><ellipse cx="228.75" cy="3056.5234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="557.5" x="251.25" y="3067.5708">CardSelectorBuilder atrFilter (AtrFilter atrFilter)</text><ellipse cx="228.75" cy="3091.1133" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="692.5" x="251.25" y="3102.1606">CardSelectorBuilder aidSelector (AidSelector aidSelector)</text><ellipse cx="228.75" cy="3125.7031" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="251.25" y="3136.7505">CardSelector build ()</text><!--MD5=[0c38ce21b8fe3613f2a22c03c2bb1923]
class AidSelector--><rect codeLine="259" fill="#FEFECE" height="417.1875" id="AidSelector" style="stroke:#D4AC0D;stroke-width:3.75;" width="692.5" x="1046.25" y="2776.875"/><ellipse cx="1255.625" cy="2827.1094" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1260.625,2818.3594 Q1261.1328,2817.1094 1261.7188,2816.4844 Q1262.3047,2815.8594 1262.9688,2815.8594 Q1264.1406,2815.8594 1264.8828,2816.5625 Q1265.625,2817.2656 1265.625,2818.9063 L1265.625,2822.8125 Q1265.625,2824.4531 1264.9219,2825.1563 Q1264.2188,2825.8594 1263.125,2825.8594 Q1262.1484,2825.8594 1261.5234,2825.4297 Q1260.8984,2825 1260.625,2823.8672 Q1260.5078,2823.0859 1260.0781,2822.6563 Q1259.2969,2821.8359 1257.8906,2821.3672 Q1256.4844,2820.8594 1255.0781,2820.8594 Q1253.3203,2820.8594 1251.8359,2821.5625 Q1250.3906,2822.2656 1249.2578,2823.8281 Q1248.125,2825.3906 1248.125,2827.5391 L1248.125,2829.8438 Q1248.125,2832.4219 1250.2344,2834.1406 Q1252.3438,2835.8594 1256.0938,2835.8594 Q1258.3203,2835.8594 1259.8828,2835.3516 Q1260.7813,2835.0781 1261.7969,2834.1797 Q1262.4609,2833.6719 1262.8125,2833.5156 Q1263.1641,2833.3594 1263.5938,2833.3594 Q1264.4141,2833.3594 1265,2834.0234 Q1265.625,2834.6484 1265.625,2835.5469 Q1265.625,2836.4063 1264.7656,2837.4219 Q1263.5156,2838.9063 1261.5234,2839.7266 Q1258.9063,2840.8594 1255.7031,2840.8594 Q1251.9531,2840.8594 1248.9453,2839.375 Q1246.5234,2838.2031 1244.8047,2835.6641 Q1243.125,2833.125 1243.125,2830.1172 L1243.125,2827.3828 Q1243.125,2824.2578 1244.6094,2821.5234 Q1246.1328,2818.7891 1248.75,2817.3438 Q1251.4063,2815.8594 1254.375,2815.8594 Q1256.1719,2815.8594 1257.7344,2816.4844 Q1259.2969,2817.1094 1260.625,2818.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="105" x="1380.625" y="2820.5176">static</text><ellipse cx="1319.375" cy="2844.7266" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1334.375" y="2858.252">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="157.5" x="1401.875" y="2858.252">AidSelector</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1048.75" x2="1736.25" y1="2877.3438" y2="2877.3438"/><ellipse cx="1073.75" cy="2904.8438" fill="none" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="1096.25" y="2915.8911">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="250" x="1161.25" y="2915.8911">int AID_MIN_LENGTH</text><ellipse cx="1073.75" cy="2939.4336" fill="none" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="1096.25" y="2950.481">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="265" x="1161.25" y="2950.481">int AID_MAX_LENGTH</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1048.75" x2="1736.25" y1="2966.5234" y2="2966.5234"/><ellipse cx="1073.75" cy="2994.0234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="337.5" x="1096.25" y="3005.0708">AidSelectorBuilder builder ()</text><ellipse cx="1073.75" cy="3028.6133" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="1096.25" y="3039.6606">byte[] getAidToSelect ()</text><ellipse cx="1073.75" cy="3063.2031" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="442.5" x="1096.25" y="3074.2505">FileOccurrence getFileOccurrence ()</text><ellipse cx="1073.75" cy="3097.793" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="587.5" x="1096.25" y="3108.8403">FileControlInformation getFileControlInformation ()</text><ellipse cx="1073.75" cy="3132.3828" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="627.5" x="1096.25" y="3143.4302">Set&lt;Integer&gt; getSuccessfulSelectionStatusCodes ()</text><ellipse cx="1073.75" cy="3166.9727" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="580" x="1096.25" y="3178.02">void addSuccessfulStatusCode (int statusCode)</text><!--MD5=[fee81bc52a51049c477ecaaae1e1e62b]
class AidSelectorBuilder--><rect codeLine="269" fill="#FEFECE" height="313.418" id="AidSelectorBuilder" style="stroke:#D4AC0D;stroke-width:3.75;" width="1092.5" x="1223.75" y="3465.625"/><ellipse cx="1584.375" cy="3515.8594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1589.375,3507.1094 Q1589.8828,3505.8594 1590.4688,3505.2344 Q1591.0547,3504.6094 1591.7188,3504.6094 Q1592.8906,3504.6094 1593.6328,3505.3125 Q1594.375,3506.0156 1594.375,3507.6563 L1594.375,3511.5625 Q1594.375,3513.2031 1593.6719,3513.9063 Q1592.9688,3514.6094 1591.875,3514.6094 Q1590.8984,3514.6094 1590.2734,3514.1797 Q1589.6484,3513.75 1589.375,3512.6172 Q1589.2578,3511.8359 1588.8281,3511.4063 Q1588.0469,3510.5859 1586.6406,3510.1172 Q1585.2344,3509.6094 1583.8281,3509.6094 Q1582.0703,3509.6094 1580.5859,3510.3125 Q1579.1406,3511.0156 1578.0078,3512.5781 Q1576.875,3514.1406 1576.875,3516.2891 L1576.875,3518.5938 Q1576.875,3521.1719 1578.9844,3522.8906 Q1581.0938,3524.6094 1584.8438,3524.6094 Q1587.0703,3524.6094 1588.6328,3524.1016 Q1589.5313,3523.8281 1590.5469,3522.9297 Q1591.2109,3522.4219 1591.5625,3522.2656 Q1591.9141,3522.1094 1592.3438,3522.1094 Q1593.1641,3522.1094 1593.75,3522.7734 Q1594.375,3523.3984 1594.375,3524.2969 Q1594.375,3525.1563 1593.5156,3526.1719 Q1592.2656,3527.6563 1590.2734,3528.4766 Q1587.6563,3529.6094 1584.4531,3529.6094 Q1580.7031,3529.6094 1577.6953,3528.125 Q1575.2734,3526.9531 1573.5547,3524.4141 Q1571.875,3521.875 1571.875,3518.8672 L1571.875,3516.1328 Q1571.875,3513.0078 1573.3594,3510.2734 Q1574.8828,3507.5391 1577.5,3506.0938 Q1580.1563,3504.6094 1583.125,3504.6094 Q1584.9219,3504.6094 1586.4844,3505.2344 Q1588.0469,3505.8594 1589.375,3507.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="105" x="1758.125" y="3509.2676">static</text><ellipse cx="1648.125" cy="3533.4766" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1663.125" y="3547.002">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="255" x="1730.625" y="3547.002">AidSelectorBuilder</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1226.25" x2="2313.75" y1="3566.0938" y2="3566.0938"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1226.25" x2="2313.75" y1="3586.0938" y2="3586.0938"/><ellipse cx="1251.25" cy="3613.5938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="507.5" x="1273.75" y="3624.6411">AidSelectorBuilder aidToSelect (byte[] aid)</text><ellipse cx="1251.25" cy="3648.1836" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="510" x="1273.75" y="3659.231">AidSelectorBuilder aidToSelect (String aid)</text><ellipse cx="1251.25" cy="3682.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="810" x="1273.75" y="3693.8208">AidSelectorBuilder fileOccurrence (FileOccurrence fileOccurrence)</text><ellipse cx="1251.25" cy="3717.3633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1027.5" x="1273.75" y="3728.4106">AidSelectorBuilder fileControlInformation (FileControlInformation fileControlInformation)</text><ellipse cx="1251.25" cy="3751.9531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="230" x="1273.75" y="3763.0005">AidSelector build ()</text><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><rect codeLine="276" fill="#FEFECE" height="292.9492" id="FileOccurrence" style="stroke:#D4AC0D;stroke-width:3.75;" width="317.5" x="313.75" y="3475.625"/><ellipse cx="352.375" cy="3515.625" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M348.625,3518.125 L348.625,3523.125 L358.625,3523.125 L358.625,3520.625 L358.625,3519.4141 L360.1875,3518.125 L361.125,3518.125 L362.0625,3518.125 L363.625,3519.4141 L363.625,3520.625 L363.625,3528.125 L343.625,3528.125 L342.4141,3528.125 L341.125,3526.5625 L341.125,3525.625 L341.125,3524.6875 L342.4141,3523.125 L343.625,3523.125 L343.625,3523.125 L343.625,3508.125 L343.625,3508.125 L342.4141,3508.125 L341.125,3506.5625 L341.125,3505.625 L341.125,3504.6875 L342.4141,3503.125 L343.625,3503.125 L363.625,3503.125 L363.625,3510.625 L363.625,3511.8359 L362.0625,3513.125 L361.125,3513.125 L360.1875,3513.125 L358.625,3511.8359 L358.625,3510.625 L358.625,3508.125 L348.625,3508.125 L348.625,3513.125 L351.125,3513.125 L351.125,3511.9141 L351.125,3511.9141 L352.6875,3510.625 L353.625,3510.625 L354.5625,3510.625 L356.125,3511.9141 L356.125,3513.125 L356.125,3518.125 L356.125,3519.3359 L354.5625,3520.625 L354.5625,3520.625 L353.625,3520.625 L352.6875,3520.625 L351.125,3519.3359 L351.125,3519.3359 L351.125,3518.125 L348.625,3518.125 Z " fill="#000000"/><ellipse cx="400.125" cy="3514.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="207.5" x="415.125" y="3527.9004">FileOccurrence</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="316.25" x2="628.75" y1="3555.625" y2="3555.625"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="70" x="328.75" y="3594.1724">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="67.5" x="328.75" y="3628.7622">LAST</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="65" x="328.75" y="3663.3521">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="127.5" x="328.75" y="3697.9419">PREVIOUS</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="316.25" x2="628.75" y1="3713.9844" y2="3713.9844"/><ellipse cx="341.25" cy="3741.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="252.5" x="363.75" y="3752.5317">byte getIsoBitMask ()</text><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><rect codeLine="283" fill="#FEFECE" height="292.9492" id="FileControlInformation" style="stroke:#D4AC0D;stroke-width:3.75;" width="415" x="720" y="3475.625"/><ellipse cx="757.5" cy="3515.625" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M753.75,3518.125 L753.75,3523.125 L763.75,3523.125 L763.75,3520.625 L763.75,3519.4141 L765.3125,3518.125 L766.25,3518.125 L767.1875,3518.125 L768.75,3519.4141 L768.75,3520.625 L768.75,3528.125 L748.75,3528.125 L747.5391,3528.125 L746.25,3526.5625 L746.25,3525.625 L746.25,3524.6875 L747.5391,3523.125 L748.75,3523.125 L748.75,3523.125 L748.75,3508.125 L748.75,3508.125 L747.5391,3508.125 L746.25,3506.5625 L746.25,3505.625 L746.25,3504.6875 L747.5391,3503.125 L748.75,3503.125 L768.75,3503.125 L768.75,3510.625 L768.75,3511.8359 L767.1875,3513.125 L766.25,3513.125 L765.3125,3513.125 L763.75,3511.8359 L763.75,3510.625 L763.75,3508.125 L753.75,3508.125 L753.75,3513.125 L756.25,3513.125 L756.25,3511.9141 L756.25,3511.9141 L757.8125,3510.625 L758.75,3510.625 L759.6875,3510.625 L761.25,3511.9141 L761.25,3513.125 L761.25,3518.125 L761.25,3519.3359 L759.6875,3520.625 L759.6875,3520.625 L758.75,3520.625 L757.8125,3520.625 L756.25,3519.3359 L756.25,3519.3359 L756.25,3518.125 L753.75,3518.125 Z " fill="#000000"/><ellipse cx="805" cy="3514.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="307.5" x="820" y="3527.9004">FileControlInformation</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="722.5" x2="1132.5" y1="3555.625" y2="3555.625"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="37.5" x="735" y="3594.1724">FCI</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="47.5" x="735" y="3628.7622">FCP</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="52.5" x="735" y="3663.3521">FMD</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="187.5" x="735" y="3697.9419">NO_RESPONSE</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="722.5" x2="1132.5" y1="3713.9844" y2="3713.9844"/><ellipse cx="747.5" cy="3741.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="252.5" x="770" y="3752.5317">byte getIsoBitMask ()</text><!--MD5=[32bde9a16d1fd80730cde0df05390289]
class AtrFilter--><rect codeLine="290" fill="#FEFECE" height="298.8281" id="AtrFilter" style="stroke:#D4AC0D;stroke-width:3.75;" width="490" x="1827.5" y="2835.625"/><ellipse cx="1961.875" cy="2885.8594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1966.875,2877.1094 Q1967.3828,2875.8594 1967.9688,2875.2344 Q1968.5547,2874.6094 1969.2188,2874.6094 Q1970.3906,2874.6094 1971.1328,2875.3125 Q1971.875,2876.0156 1971.875,2877.6563 L1971.875,2881.5625 Q1971.875,2883.2031 1971.1719,2883.9063 Q1970.4688,2884.6094 1969.375,2884.6094 Q1968.3984,2884.6094 1967.7734,2884.1797 Q1967.1484,2883.75 1966.875,2882.6172 Q1966.7578,2881.8359 1966.3281,2881.4063 Q1965.5469,2880.5859 1964.1406,2880.1172 Q1962.7344,2879.6094 1961.3281,2879.6094 Q1959.5703,2879.6094 1958.0859,2880.3125 Q1956.6406,2881.0156 1955.5078,2882.5781 Q1954.375,2884.1406 1954.375,2886.2891 L1954.375,2888.5938 Q1954.375,2891.1719 1956.4844,2892.8906 Q1958.5938,2894.6094 1962.3438,2894.6094 Q1964.5703,2894.6094 1966.1328,2894.1016 Q1967.0313,2893.8281 1968.0469,2892.9297 Q1968.7109,2892.4219 1969.0625,2892.2656 Q1969.4141,2892.1094 1969.8438,2892.1094 Q1970.6641,2892.1094 1971.25,2892.7734 Q1971.875,2893.3984 1971.875,2894.2969 Q1971.875,2895.1563 1971.0156,2896.1719 Q1969.7656,2897.6563 1967.7734,2898.4766 Q1965.1563,2899.6094 1961.9531,2899.6094 Q1958.2031,2899.6094 1955.1953,2898.125 Q1952.7734,2896.9531 1951.0547,2894.4141 Q1949.375,2891.875 1949.375,2888.8672 L1949.375,2886.1328 Q1949.375,2883.0078 1950.8594,2880.2734 Q1952.3828,2877.5391 1955,2876.0938 Q1957.6563,2874.6094 1960.625,2874.6094 Q1962.4219,2874.6094 1963.9844,2875.2344 Q1965.5469,2875.8594 1966.875,2877.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="105" x="2060.625" y="2879.2676">static</text><ellipse cx="2025.625" cy="2903.4766" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2040.625" y="2917.002">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="105" x="2108.125" y="2917.002">AtrFilter</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1830" x2="2315" y1="2936.0938" y2="2936.0938"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1830" x2="2315" y1="2956.0938" y2="2956.0938"/><ellipse cx="1855" cy="2983.5938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="1877.5" y="2994.6411">AtrFilter (String atrRegex)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1830" x2="2315" y1="3010.6836" y2="3010.6836"/><ellipse cx="1855" cy="3038.1836" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1877.5" y="3049.231">void setAtrRegex (String atrRegex)</text><ellipse cx="1855" cy="3072.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="257.5" x="1877.5" y="3083.8208">String getAtrRegex ()</text><ellipse cx="1855" cy="3107.3633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="1877.5" y="3118.4106">boolean atrMatches (byte[] atr)</text><!--MD5=[33290d258145094ecbad288d521eef19]
class KeyplePluginInstantiationException--><rect codeLine="319" fill="#FEFECE" height="278.8281" id="KeyplePluginInstantiationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="592.5" x="1101.25" y="4134.375"/><ellipse cx="1138.75" cy="4184.6094" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1143.75,4175.8594 Q1144.2578,4174.6094 1144.8438,4173.9844 Q1145.4297,4173.3594 1146.0938,4173.3594 Q1147.2656,4173.3594 1148.0078,4174.0625 Q1148.75,4174.7656 1148.75,4176.4063 L1148.75,4180.3125 Q1148.75,4181.9531 1148.0469,4182.6563 Q1147.3438,4183.3594 1146.25,4183.3594 Q1145.2734,4183.3594 1144.6484,4182.9297 Q1144.0234,4182.5 1143.75,4181.3672 Q1143.6328,4180.5859 1143.2031,4180.1563 Q1142.4219,4179.3359 1141.0156,4178.8672 Q1139.6094,4178.3594 1138.2031,4178.3594 Q1136.4453,4178.3594 1134.9609,4179.0625 Q1133.5156,4179.7656 1132.3828,4181.3281 Q1131.25,4182.8906 1131.25,4185.0391 L1131.25,4187.3438 Q1131.25,4189.9219 1133.3594,4191.6406 Q1135.4688,4193.3594 1139.2188,4193.3594 Q1141.4453,4193.3594 1143.0078,4192.8516 Q1143.9063,4192.5781 1144.9219,4191.6797 Q1145.5859,4191.1719 1145.9375,4191.0156 Q1146.2891,4190.8594 1146.7188,4190.8594 Q1147.5391,4190.8594 1148.125,4191.5234 Q1148.75,4192.1484 1148.75,4193.0469 Q1148.75,4193.9063 1147.8906,4194.9219 Q1146.6406,4196.4063 1144.6484,4197.2266 Q1142.0313,4198.3594 1138.8281,4198.3594 Q1135.0781,4198.3594 1132.0703,4196.875 Q1129.6484,4195.7031 1127.9297,4193.1641 Q1126.25,4190.625 1126.25,4187.6172 L1126.25,4184.8828 Q1126.25,4181.7578 1127.7344,4179.0234 Q1129.2578,4176.2891 1131.875,4174.8438 Q1134.5313,4173.3594 1137.5,4173.3594 Q1139.2969,4173.3594 1140.8594,4173.9844 Q1142.4219,4174.6094 1143.75,4175.8594 Z " fill="#000000"/><ellipse cx="1186.25" cy="4183.3594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="1282.5" y="4178.0176">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="485" x="1201.25" y="4215.752">KeyplePluginInstantiationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1103.75" x2="1691.25" y1="4234.8438" y2="4234.8438"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1103.75" x2="1691.25" y1="4254.8438" y2="4254.8438"/><ellipse cx="1128.75" cy="4282.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="430" x="1151.25" y="4293.3911">KeyplePluginInstantiationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="1211.25" y="4327.981">String message)</text><ellipse cx="1128.75" cy="4351.5234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="430" x="1151.25" y="4362.5708">KeyplePluginInstantiationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1211.25" y="4397.1606">String message, Throwable cause)</text><!--MD5=[080736e052dc4d3b44217e8bc049ccf7]
class KeyplePluginNotFoundException--><rect codeLine="325" fill="#FEFECE" height="209.6484" id="KeyplePluginNotFoundException" style="stroke:#D4AC0D;stroke-width:3.75;" width="560" x="1782.5" y="4169.375"/><ellipse cx="1820" cy="4219.6094" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1825,4210.8594 Q1825.5078,4209.6094 1826.0938,4208.9844 Q1826.6797,4208.3594 1827.3438,4208.3594 Q1828.5156,4208.3594 1829.2578,4209.0625 Q1830,4209.7656 1830,4211.4063 L1830,4215.3125 Q1830,4216.9531 1829.2969,4217.6563 Q1828.5938,4218.3594 1827.5,4218.3594 Q1826.5234,4218.3594 1825.8984,4217.9297 Q1825.2734,4217.5 1825,4216.3672 Q1824.8828,4215.5859 1824.4531,4215.1563 Q1823.6719,4214.3359 1822.2656,4213.8672 Q1820.8594,4213.3594 1819.4531,4213.3594 Q1817.6953,4213.3594 1816.2109,4214.0625 Q1814.7656,4214.7656 1813.6328,4216.3281 Q1812.5,4217.8906 1812.5,4220.0391 L1812.5,4222.3438 Q1812.5,4224.9219 1814.6094,4226.6406 Q1816.7188,4228.3594 1820.4688,4228.3594 Q1822.6953,4228.3594 1824.2578,4227.8516 Q1825.1563,4227.5781 1826.1719,4226.6797 Q1826.8359,4226.1719 1827.1875,4226.0156 Q1827.5391,4225.8594 1827.9688,4225.8594 Q1828.7891,4225.8594 1829.375,4226.5234 Q1830,4227.1484 1830,4228.0469 Q1830,4228.9063 1829.1406,4229.9219 Q1827.8906,4231.4063 1825.8984,4232.2266 Q1823.2813,4233.3594 1820.0781,4233.3594 Q1816.3281,4233.3594 1813.3203,4231.875 Q1810.8984,4230.7031 1809.1797,4228.1641 Q1807.5,4225.625 1807.5,4222.6172 L1807.5,4219.8828 Q1807.5,4216.7578 1808.9844,4214.0234 Q1810.5078,4211.2891 1813.125,4209.8438 Q1815.7813,4208.3594 1818.75,4208.3594 Q1820.5469,4208.3594 1822.1094,4208.9844 Q1823.6719,4209.6094 1825,4210.8594 Z " fill="#000000"/><ellipse cx="1867.5" cy="4218.3594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="1947.5" y="4213.0176">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="452.5" x="1882.5" y="4250.752">KeyplePluginNotFoundException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1785" x2="2340" y1="4269.8438" y2="4269.8438"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1785" x2="2340" y1="4289.8438" y2="4289.8438"/><ellipse cx="1810" cy="4317.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="1832.5" y="4328.3911">KeyplePluginNotFoundException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="1892.5" y="4362.981">String message)</text><!--MD5=[14e6400c4da315b6bcaa3f46dfe3536e]
class KeypleReaderCommunicationException--><rect codeLine="329" fill="#FEFECE" height="278.8281" id="KeypleReaderCommunicationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="660" x="2430" y="4134.375"/><ellipse cx="2467.5" cy="4184.6094" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2472.5,4175.8594 Q2473.0078,4174.6094 2473.5938,4173.9844 Q2474.1797,4173.3594 2474.8438,4173.3594 Q2476.0156,4173.3594 2476.7578,4174.0625 Q2477.5,4174.7656 2477.5,4176.4063 L2477.5,4180.3125 Q2477.5,4181.9531 2476.7969,4182.6563 Q2476.0938,4183.3594 2475,4183.3594 Q2474.0234,4183.3594 2473.3984,4182.9297 Q2472.7734,4182.5 2472.5,4181.3672 Q2472.3828,4180.5859 2471.9531,4180.1563 Q2471.1719,4179.3359 2469.7656,4178.8672 Q2468.3594,4178.3594 2466.9531,4178.3594 Q2465.1953,4178.3594 2463.7109,4179.0625 Q2462.2656,4179.7656 2461.1328,4181.3281 Q2460,4182.8906 2460,4185.0391 L2460,4187.3438 Q2460,4189.9219 2462.1094,4191.6406 Q2464.2188,4193.3594 2467.9688,4193.3594 Q2470.1953,4193.3594 2471.7578,4192.8516 Q2472.6563,4192.5781 2473.6719,4191.6797 Q2474.3359,4191.1719 2474.6875,4191.0156 Q2475.0391,4190.8594 2475.4688,4190.8594 Q2476.2891,4190.8594 2476.875,4191.5234 Q2477.5,4192.1484 2477.5,4193.0469 Q2477.5,4193.9063 2476.6406,4194.9219 Q2475.3906,4196.4063 2473.3984,4197.2266 Q2470.7813,4198.3594 2467.5781,4198.3594 Q2463.8281,4198.3594 2460.8203,4196.875 Q2458.3984,4195.7031 2456.6797,4193.1641 Q2455,4190.625 2455,4187.6172 L2455,4184.8828 Q2455,4181.7578 2456.4844,4179.0234 Q2458.0078,4176.2891 2460.625,4174.8438 Q2463.2813,4173.3594 2466.25,4173.3594 Q2468.0469,4173.3594 2469.6094,4173.9844 Q2471.1719,4174.6094 2472.5,4175.8594 Z " fill="#000000"/><ellipse cx="2515" cy="4183.3594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="2645" y="4178.0176">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="552.5" x="2530" y="4215.752">KeypleReaderCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2432.5" x2="3087.5" y1="4234.8438" y2="4234.8438"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2432.5" x2="3087.5" y1="4254.8438" y2="4254.8438"/><ellipse cx="2457.5" cy="4282.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="2480" y="4293.3911">KeypleReaderCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="2540" y="4327.981">String message)</text><ellipse cx="2457.5" cy="4351.5234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="2480" y="4362.5708">KeypleReaderCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="2540" y="4397.1606">String message, Throwable cause)</text><!--MD5=[4ffeec40c3c9dc844d7b20b63ef2abb5]
class KeypleReaderNotFoundException--><rect codeLine="335" fill="#FEFECE" height="278.8281" id="KeypleReaderNotFoundException" style="stroke:#D4AC0D;stroke-width:3.75;" width="575" x="3177.5" y="4134.375"/><ellipse cx="3215" cy="4184.6094" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3220,4175.8594 Q3220.5078,4174.6094 3221.0938,4173.9844 Q3221.6797,4173.3594 3222.3438,4173.3594 Q3223.5156,4173.3594 3224.2578,4174.0625 Q3225,4174.7656 3225,4176.4063 L3225,4180.3125 Q3225,4181.9531 3224.2969,4182.6563 Q3223.5938,4183.3594 3222.5,4183.3594 Q3221.5234,4183.3594 3220.8984,4182.9297 Q3220.2734,4182.5 3220,4181.3672 Q3219.8828,4180.5859 3219.4531,4180.1563 Q3218.6719,4179.3359 3217.2656,4178.8672 Q3215.8594,4178.3594 3214.4531,4178.3594 Q3212.6953,4178.3594 3211.2109,4179.0625 Q3209.7656,4179.7656 3208.6328,4181.3281 Q3207.5,4182.8906 3207.5,4185.0391 L3207.5,4187.3438 Q3207.5,4189.9219 3209.6094,4191.6406 Q3211.7188,4193.3594 3215.4688,4193.3594 Q3217.6953,4193.3594 3219.2578,4192.8516 Q3220.1563,4192.5781 3221.1719,4191.6797 Q3221.8359,4191.1719 3222.1875,4191.0156 Q3222.5391,4190.8594 3222.9688,4190.8594 Q3223.7891,4190.8594 3224.375,4191.5234 Q3225,4192.1484 3225,4193.0469 Q3225,4193.9063 3224.1406,4194.9219 Q3222.8906,4196.4063 3220.8984,4197.2266 Q3218.2813,4198.3594 3215.0781,4198.3594 Q3211.3281,4198.3594 3208.3203,4196.875 Q3205.8984,4195.7031 3204.1797,4193.1641 Q3202.5,4190.625 3202.5,4187.6172 L3202.5,4184.8828 Q3202.5,4181.7578 3203.9844,4179.0234 Q3205.5078,4176.2891 3208.125,4174.8438 Q3210.7813,4173.3594 3213.75,4173.3594 Q3215.5469,4173.3594 3217.1094,4173.9844 Q3218.6719,4174.6094 3220,4175.8594 Z " fill="#000000"/><ellipse cx="3262.5" cy="4183.3594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="3350" y="4178.0176">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="467.5" x="3277.5" y="4215.752">KeypleReaderNotFoundException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3180" x2="3750" y1="4234.8438" y2="4234.8438"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3180" x2="3750" y1="4254.8438" y2="4254.8438"/><ellipse cx="3205" cy="4282.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="3227.5" y="4293.3911">KeypleReaderNotFoundException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="3287.5" y="4327.981">String message)</text><ellipse cx="3205" cy="4351.5234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="3227.5" y="4362.5708">KeypleReaderNotFoundException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="3287.5" y="4397.1606">String message, Throwable cause)</text><!--MD5=[d0aa14623d363e238980d4d4a152a074]
class KeypleReaderProtocolNotSupportedException--><rect codeLine="341" fill="#FEFECE" height="209.6484" id="KeypleReaderProtocolNotSupportedException" style="stroke:#D4AC0D;stroke-width:3.75;" width="742.5" x="1691.25" y="4698.125"/><ellipse cx="1728.75" cy="4748.3594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1733.75,4739.6094 Q1734.2578,4738.3594 1734.8438,4737.7344 Q1735.4297,4737.1094 1736.0938,4737.1094 Q1737.2656,4737.1094 1738.0078,4737.8125 Q1738.75,4738.5156 1738.75,4740.1563 L1738.75,4744.0625 Q1738.75,4745.7031 1738.0469,4746.4063 Q1737.3438,4747.1094 1736.25,4747.1094 Q1735.2734,4747.1094 1734.6484,4746.6797 Q1734.0234,4746.25 1733.75,4745.1172 Q1733.6328,4744.3359 1733.2031,4743.9063 Q1732.4219,4743.0859 1731.0156,4742.6172 Q1729.6094,4742.1094 1728.2031,4742.1094 Q1726.4453,4742.1094 1724.9609,4742.8125 Q1723.5156,4743.5156 1722.3828,4745.0781 Q1721.25,4746.6406 1721.25,4748.7891 L1721.25,4751.0938 Q1721.25,4753.6719 1723.3594,4755.3906 Q1725.4688,4757.1094 1729.2188,4757.1094 Q1731.4453,4757.1094 1733.0078,4756.6016 Q1733.9063,4756.3281 1734.9219,4755.4297 Q1735.5859,4754.9219 1735.9375,4754.7656 Q1736.2891,4754.6094 1736.7188,4754.6094 Q1737.5391,4754.6094 1738.125,4755.2734 Q1738.75,4755.8984 1738.75,4756.7969 Q1738.75,4757.6563 1737.8906,4758.6719 Q1736.6406,4760.1563 1734.6484,4760.9766 Q1732.0313,4762.1094 1728.8281,4762.1094 Q1725.0781,4762.1094 1722.0703,4760.625 Q1719.6484,4759.4531 1717.9297,4756.9141 Q1716.25,4754.375 1716.25,4751.3672 L1716.25,4748.6328 Q1716.25,4745.5078 1717.7344,4742.7734 Q1719.2578,4740.0391 1721.875,4738.5938 Q1724.5313,4737.1094 1727.5,4737.1094 Q1729.2969,4737.1094 1730.8594,4737.7344 Q1732.4219,4738.3594 1733.75,4739.6094 Z " fill="#000000"/><ellipse cx="1776.25" cy="4747.1094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="1947.5" y="4741.7676">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="635" x="1791.25" y="4779.502">KeypleReaderProtocolNotSupportedException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1693.75" x2="2431.25" y1="4798.5938" y2="4798.5938"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1693.75" x2="2431.25" y1="4818.5938" y2="4818.5938"/><ellipse cx="1718.75" cy="4846.0938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="567.5" x="1741.25" y="4857.1411">KeypleReaderProtocolNotSupportedException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="1801.25" y="4891.731">String cardProtocol)</text><!--MD5=[3c103cde6a409c892afa6391c64d1009]
class KeypleCardCommunicationException--><rect codeLine="345" fill="#FEFECE" height="278.8281" id="KeypleCardCommunicationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="625" x="2522.5" y="4663.125"/><ellipse cx="2560" cy="4713.3594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2565,4704.6094 Q2565.5078,4703.3594 2566.0938,4702.7344 Q2566.6797,4702.1094 2567.3438,4702.1094 Q2568.5156,4702.1094 2569.2578,4702.8125 Q2570,4703.5156 2570,4705.1563 L2570,4709.0625 Q2570,4710.7031 2569.2969,4711.4063 Q2568.5938,4712.1094 2567.5,4712.1094 Q2566.5234,4712.1094 2565.8984,4711.6797 Q2565.2734,4711.25 2565,4710.1172 Q2564.8828,4709.3359 2564.4531,4708.9063 Q2563.6719,4708.0859 2562.2656,4707.6172 Q2560.8594,4707.1094 2559.4531,4707.1094 Q2557.6953,4707.1094 2556.2109,4707.8125 Q2554.7656,4708.5156 2553.6328,4710.0781 Q2552.5,4711.6406 2552.5,4713.7891 L2552.5,4716.0938 Q2552.5,4718.6719 2554.6094,4720.3906 Q2556.7188,4722.1094 2560.4688,4722.1094 Q2562.6953,4722.1094 2564.2578,4721.6016 Q2565.1563,4721.3281 2566.1719,4720.4297 Q2566.8359,4719.9219 2567.1875,4719.7656 Q2567.5391,4719.6094 2567.9688,4719.6094 Q2568.7891,4719.6094 2569.375,4720.2734 Q2570,4720.8984 2570,4721.7969 Q2570,4722.6563 2569.1406,4723.6719 Q2567.8906,4725.1563 2565.8984,4725.9766 Q2563.2813,4727.1094 2560.0781,4727.1094 Q2556.3281,4727.1094 2553.3203,4725.625 Q2550.8984,4724.4531 2549.1797,4721.9141 Q2547.5,4719.375 2547.5,4716.3672 L2547.5,4713.6328 Q2547.5,4710.5078 2548.9844,4707.7734 Q2550.5078,4705.0391 2553.125,4703.5938 Q2555.7813,4702.1094 2558.75,4702.1094 Q2560.5469,4702.1094 2562.1094,4702.7344 Q2563.6719,4703.3594 2565,4704.6094 Z " fill="#000000"/><ellipse cx="2607.5" cy="4712.1094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="2720" y="4706.7676">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="517.5" x="2622.5" y="4744.502">KeypleCardCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2525" x2="3145" y1="4763.5938" y2="4763.5938"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2525" x2="3145" y1="4783.5938" y2="4783.5938"/><ellipse cx="2550" cy="4811.0938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="455" x="2572.5" y="4822.1411">KeypleCardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="2632.5" y="4856.731">String message)</text><ellipse cx="2550" cy="4880.2734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="455" x="2572.5" y="4891.3208">KeypleCardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="2632.5" y="4925.9106">String message, Throwable cause)</text><!--MD5=[550a12816f88094ca7e979a72eedae9c]
reverse link Plugin to ObservablePlugin--><path d="M3858.4,1957.875 C3882.8,2014.975 3909.4,2077.25 3933.975,2134.7 " fill="none" id="Plugin-backto-ObservablePlugin" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="3842.075,1964.2,3838.5,1911.35,3874.25,1950.45,3842.075,1964.2" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[2219806bdc996f946b60beec9aa5725f]
reverse link Plugin to PoolPlugin--><path d="M4198.775,1931.45 C4291.325,1973.3 4387.625,2019.9 4475,2068.125 C4557.45,2113.625 4644.65,2170.85 4717.125,2221.2 " fill="none" id="Plugin-backto-PoolPlugin" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="4191.5,1947.375,4152.975,1911,4205.775,1915.4,4191.5,1947.375" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[495ccb80ac82bdc45a1b0288016f2c00]
reverse link Reader to ObservableReader--><path d="M3550.1,2545.875 C3556.775,2548.3 3563.4,2550.725 3570,2553.125 C3849.425,2654.6275 4166.15,2762.6825 4412.15,2845.085 " fill="none" id="Reader-backto-ObservableReader" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="3543.025,2561.925,3502.175,2528.2,3555.15,2529.075,3543.025,2561.925" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[5cdd6db3f87ea720c4af6714bfe3a64b]
link SmartCardServiceProvider to SmartCardService--><path codeLine="357" d="M4017.5,488.25 C4017.5,563.325 4017.5,683.275 4017.5,794.65 " fill="none" id="SmartCardServiceProvider-to-SmartCardService" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4017.5,807.475,4027.5,784.975,4017.5,794.975,4007.5,784.975,4017.5,807.475" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4030,616.0645,4037.3473,593.4517,4022.6527,593.4517,4030,616.0645" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="4052.5" y="616.8628">provide</text><!--MD5=[a5adf9ace2a964bf932a6485ca71a04d]
reverse link SmartCardService to Plugin--><path codeLine="359" d="M3912.1,1365.15 C3883.275,1444.975 3853.175,1528.35 3828.35,1597.175 " fill="none" id="SmartCardService-backto-Plugin" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3923.475,1333.6,3908.976,1344.3135,3913.2889,1361.8178,3927.7879,1351.1043,3923.475,1333.6" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="3771.3389" y="1570.4489">0..N</text><!--MD5=[851cf9057d595cdfbdcfe405c0fc7e0f]
reverse link SmartCardService to DistributedLocalService--><path codeLine="360" d="M4339.4,1355.05 C4454.725,1456.05 4578.025,1564.05 4666.85,1641.825 " fill="none" id="SmartCardService-backto-DistributedLocalService" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4314.925,1333.6,4319.634,1351.0019,4337.5084,1353.3481,4332.7994,1335.9463,4314.925,1333.6" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="4582.0433" y="1614.6057">0..N</text><!--MD5=[dbf27993ab668861900a3380d05f6dc2]
reverse link PluginEvent to PluginEventType--><path codeLine="362" d="M5058.15,4549.325 C5058.375,4599.2375 5060.125,4648.6375 5063.45,4690.255 " fill="none" id="PluginEvent-backto-PluginEventType" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="5058.2045" cy="4531.1749" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="5058.134" x2="5058.275" y1="4551.1748" y2="4511.175"/><line style="stroke:#A80036;stroke-width:2.5;" x1="5038.2046" x2="5078.2044" y1="4531.1044" y2="4531.2454"/><!--MD5=[dbf27993ab668861900a3380d05f6dc2]
reverse link PluginEvent to PluginEventType--><path codeLine="363" d="M5123.75,4544.185 C5123.625,4595.8375 5121.75,4647.21 5118.125,4690.255 " fill="none" id="PluginEvent-backto-PluginEventType-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="5123.575,4511.175,5113.6476,4526.2232,5123.7201,4541.1746,5133.6474,4526.1265,5123.575,4511.175" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="5103.5918" y="4663.8086">1</text><!--MD5=[ff05c798c0d0e38364e8144829ad24ca]
reverse link ObservableReader to NotificationMode--><path codeLine="365" d="M5283.05,3152.29 C5449.825,3222.255 5636.075,3312.09 5792.5,3416.875 C5838.65,3447.7875 5884.025,3489.0875 5920.925,3526.325 " fill="none" id="ObservableReader-backto-NotificationMode" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="5266.2512" cy="3145.3196" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="5284.7273" x2="5247.775" y1="3152.9768" y2="3137.6625"/><line style="stroke:#A80036;stroke-width:2.5;" x1="5258.594" x2="5273.9083" y1="3163.7958" y2="3126.8435"/><!--MD5=[79b2bd11d5b4a472f8a4f543b4bc8d4f]
link ObservableReader to NotificationMode--><path codeLine="366" d="M5248.35,3109.175 C5410.425,3166.765 5592.625,3245.3 5742.5,3345.625 C5812.325,3392.3675 5877.775,3460.5375 5925.85,3517.1525 " fill="none" id="ObservableReader-to-NotificationMode" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5934.025,3526.8575,5927.1522,3503.214,5925.9616,3517.306,5911.8697,3516.1154,5934.025,3526.8575" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="5823.2083,3375.0128,5807.627,3357.0534,5800.0465,3369.6418,5823.2083,3375.0128" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="5835" y="3381.8628">use</text><!--MD5=[aa7d23f4fc0db106291b229919ad88ab]
reverse link ObservableReader to PollingMode--><path codeLine="367" d="M5279.825,3221.02 C5335.05,3258.8825 5388.375,3300.61 5435,3345.625 C5488.975,3397.735 5534.1,3469.5875 5565,3526.605 " fill="none" id="ObservableReader-backto-PollingMode" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="5264.6734" cy="3210.9029" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="5281.2968" x2="5248.05" y1="3222.0232" y2="3199.7825"/><line style="stroke:#A80036;stroke-width:2.5;" x1="5253.5531" x2="5275.7938" y1="3227.5263" y2="3194.2794"/><!--MD5=[ad6c930fd18117e46f05d9c15cef2aec]
link ObservableReader to PollingMode--><path codeLine="368" d="M5130.8,3265.875 C5191.925,3312.4825 5258.075,3356.66 5325,3390.625 C5365.975,3411.4225 5385.675,3393.1075 5425,3416.875 C5467.1,3442.315 5505.325,3480.1925 5535.975,3516.3275 " fill="none" id="ObservableReader-to-PollingMode" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5544.425,3526.4625,5537.7169,3502.7717,5536.4283,3516.8551,5522.345,3515.5664,5544.425,3526.4625" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="5348.1327,3375.1369,5332.7612,3356.9975,5325.0348,3369.497,5348.1327,3375.1369" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="5360" y="3381.8628">use</text><!--MD5=[16bfb44a55887ba0be17cea5ef6e20b5]
reverse link ReaderEvent to ReaderEventType--><path codeLine="370" d="M4253.125,4531.3725 C4252.975,4580.9025 4254.35,4630.7825 4257.25,4673.92 " fill="none" id="ReaderEvent-backto-ReaderEventType" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="4253.3327" cy="4513.6838" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4253.1153" x2="4253.55" y1="4533.6826" y2="4493.685"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4233.3338" x2="4273.3315" y1="4513.4665" y2="4513.9012"/><!--MD5=[16bfb44a55887ba0be17cea5ef6e20b5]
reverse link ReaderEvent to ReaderEventType--><path codeLine="371" d="M4318.725,4526.2775 C4319,4577.47 4317.55,4629.3025 4314.375,4673.92 " fill="none" id="ReaderEvent-backto-ReaderEventType-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4318.3,4493.685,4308.492,4508.8112,4318.6824,4523.6826,4328.4904,4508.5563,4318.3,4493.685" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="4299.6465" y="4647.6097">1</text><!--MD5=[eab7c56c339853191937c7c941eb7f2a]
link CardSelectionServiceFactory to CardSelectionService--><path codeLine="373" d="M1682.5,506.275 C1682.5,569.05 1682.5,655.975 1682.5,742.7 " fill="none" id="CardSelectionServiceFactory-to-CardSelectionService" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1682.5,755.475,1692.5,732.975,1682.5,742.975,1672.5,732.975,1682.5,755.475" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1695,616.0645,1702.3473,593.4517,1687.6527,593.4517,1695,616.0645" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="90" x="1717.5" y="616.8628">create</text><!--MD5=[28b3cf841bcd2502cfe3e1d572a87d16]
reverse link CardSelectionService to MultiSelectionProcessing--><path codeLine="375" d="M1542.295,1416.05 C1505.645,1505.7 1469.13,1595.025 1442.98,1658.975 " fill="none" id="CardSelectionService-backto-MultiSelectionProcessing" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1554.715,1385.675,1539.7757,1395.7655,1543.3441,1413.4365,1558.2834,1403.3461,1554.715,1385.675" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1430.6866" y="1632.3085">1</text><!--MD5=[ea431ecff7237c67540b67e32ddda276]
reverse link CardSelectionService to CardSelection--><path codeLine="376" d="M1204.7225,1124.25 C911.765,1183.05 558.3325,1309.35 372.5,1580.625 C224.5193,1796.65 395.94,2121.025 488.4625,2266.525 " fill="none" id="CardSelectionService-backto-CardSelection" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1237.4025,1117.925,1220.7736,1110.9622,1207.9507,1123.634,1224.5796,1130.5967,1237.4025,1117.925" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="411.6454" y="2240.2142">1..N</text><!--MD5=[f643312bd8f01b8c85ef74bfb657e3b5]
reverse link CardSelectionResult to SmartCard--><path codeLine="378" d="M2035.2425,1961.775 C2030.6625,2038.325 2025.5525,2123.7 2021.34,2194.1 " fill="none" id="CardSelectionResult-backto-SmartCard" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2037.235,1928.45,2026.3467,1942.8182,2035.4219,1958.3952,2046.3102,1944.0269,2037.235,1928.45" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="1958.7611" y="2167.2105">1..N</text><!--MD5=[e5dc24787120ce3d6e95dc78b137f7cd]
reverse link CardResource to SmartCard--><path codeLine="380" d="M1034.325,1889.95 C1067.88,1903.775 1101.96,1916.875 1135,1928.125 C1390.12,2015 1488.095,1939.65 1725,2068.125 C1784.07,2100.15 1839.8475,2147.5 1886.2725,2193.85 " fill="none" id="CardResource-backto-SmartCard" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1003.7025,1877.05,1013.6505,1892.0846,1031.3547,1888.6843,1021.4067,1873.6498,1003.7025,1877.05" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1852.3221" y="2166.93">1</text><!--MD5=[dded764287e9a41aa4d5ee3093832a8a]
reverse link CardResource to Reader--><path codeLine="381" d="M1022.87,1889.825 C1059.8925,1904.575 1097.9375,1917.925 1135,1928.125 C1662.26,2073.325 1827.4825,1933.35 2357.5,2068.125 C2450.0175,2091.65 2546.675,2125 2637.075,2160.375 " fill="none" id="CardResource-backto-Reader" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="992.055,1877.15,1002.1269,1892.1018,1019.8024,1888.5554,1009.7305,1873.6036,992.055,1877.15" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="2577.6366" y="2133.1186">1</text><!--MD5=[58002d5c440144b8906b4e6a92d74e32]
reverse link CardSelector to CardSelectorBuilder--><path codeLine="383" d="M1153.615,2533.95 C1038.06,2624.4275 900.6125,2732.06 789.235,2819.2775 " fill="none" id="CardSelector-backto-CardSelectorBuilder" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1167.5107" cy="2523.0521" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1151.7613" x2="1183.26" y1="2535.3793" y2="2510.725"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1155.1835" x2="1179.8378" y1="2507.3028" y2="2538.8015"/><!--MD5=[9d6b00bd2946b6981c1c1f45273672a7]
reverse link CardSelector to AtrFilter--><path codeLine="384" d="M1560.395,2537.475 C1617.56,2591.58 1681.4775,2650.72 1740,2705.625 C1784.4675,2747.345 1832.415,2792.9625 1877.9675,2834.9425 " fill="none" id="CardSelector-backto-AtrFilter" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1547.4238" cy="2525.1315" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1561.9176" x2="1532.93" y1="2538.913" y2="2511.35"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1533.6423" x2="1561.2053" y1="2539.6253" y2="2510.6377"/><!--MD5=[9d6b00bd2946b6981c1c1f45273672a7]
reverse link CardSelector to AtrFilter--><path codeLine="385" d="M1639.4825,2533.05 C1701.5675,2588.35 1767.3825,2649.2225 1827.5,2705.625 C1871.9675,2747.345 1919.915,2792.9625 1961.975,2834.9425 " fill="none" id="CardSelector-backto-AtrFilter-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1614.975,2511.35,1619.5702,2528.7823,1637.4289,2531.2453,1632.8337,2513.813,1614.975,2511.35" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="1890.1532" y="2808.0033">0..1</text><!--MD5=[1dfcb89d2c962d176fd99d4de5212cc5]
reverse link CardSelector to AidSelector--><path codeLine="386" d="M1362.5925,2548.875 C1360.025,2621.485 1359.97,2703.46 1362.4325,2776.47 " fill="none" id="CardSelector-backto-AidSelector" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1363.3654" cy="2530.7066" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1362.5083" x2="1364.2225" y1="2550.6883" y2="2510.725"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1343.3838" x2="1383.347" y1="2529.8495" y2="2531.5637"/><!--MD5=[1dfcb89d2c962d176fd99d4de5212cc5]
reverse link CardSelector to AidSelector--><path codeLine="387" d="M1423.975,2543.85 C1426.8825,2617.7025 1427.0025,2701.7775 1424.3375,2776.47 " fill="none" id="CardSelector-backto-AidSelector-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1422.44,2510.725,1413.143,2526.1706,1423.8247,2540.693,1433.1217,2525.2475,1422.44,2510.725" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="1369.7238" y="2749.8517">0..1</text><!--MD5=[88e7d67e8d3c9d0745e36b335e282fe1]
reverse link AidSelector to AidSelectorBuilder--><path codeLine="389" d="M1535.55,3227.3325 C1583.245,3307.0875 1635.0825,3393.7675 1677.8575,3465.295 " fill="none" id="AidSelector-backto-AidSelectorBuilder" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1526.3719" cy="3211.9851" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1536.6363" x2="1516.1075" y1="3229.1503" y2="3194.82"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1509.2068" x2="1543.537" y1="3222.2495" y2="3201.7207"/><!--MD5=[31b11aed7b6d88b43735b7f54d1facfd]
reverse link AidSelector to FileOccurrence--><path codeLine="390" d="M1116.925,3219.14 C1067.3125,3258.8175 1014.1575,3296.56 960,3325.625 C826.86,3397.075 762.98,3340.675 632.5,3416.875 C605.0225,3432.9225 578.6275,3453.6 555.155,3475.595 " fill="none" id="AidSelector-backto-FileOccurrence" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1131.0405" cy="3207.5918" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1115.561" x2="1146.52" y1="3220.2562" y2="3194.9275"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1118.3762" x2="1143.7049" y1="3192.1124" y2="3223.0713"/><!--MD5=[31b11aed7b6d88b43735b7f54d1facfd]
reverse link AidSelector to FileOccurrence--><path codeLine="391" d="M1206.105,3216.3425 C1157.3075,3257.04 1102.9275,3295.8775 1047.5,3325.625 C914.36,3397.075 850.48,3340.675 720,3416.875 C689.0875,3434.9275 659.545,3458.8425 632.0475,3483.8975 " fill="none" id="AidSelector-backto-FileOccurrence-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1231.0925,3194.9275,1213.1956,3197.0955,1208.3134,3214.4496,1226.2103,3212.2816,1231.0925,3194.9275" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="644.7317" y="3456.7433">0..1</text><!--MD5=[18a6dd80f65088794a6f07d590dbbf0a]
reverse link AidSelector to FileControlInformation--><path codeLine="392" d="M1186.76,3225.36 C1122.9425,3309.3525 1056.485,3401.255 1006.4725,3475.16 " fill="none" id="AidSelector-backto-FileControlInformation" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1197.9678" cy="3210.7066" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1185.8181" x2="1210.1175" y1="3226.5932" y2="3194.82"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1182.0812" x2="1213.8544" y1="3198.5569" y2="3222.8563"/><!--MD5=[18a6dd80f65088794a6f07d590dbbf0a]
reverse link AidSelector to FileControlInformation--><path codeLine="393" d="M1252.9075,3222.0475 C1192.5575,3306.9325 1122.505,3400.2825 1062.6,3475.16 " fill="none" id="AidSelector-backto-FileControlInformation-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1272.1375,3194.82,1255.3157,3201.3029,1254.83,3219.3241,1271.6518,3212.8412,1272.1375,3194.82" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="1020.7138" y="3448.6056">0..1</text><!--MD5=[8b513e08943f8bfe5c241563ffc49ec0]
link Plugin to Reader--><path codeLine="396" d="M3577.775,1911.35 C3484.7,1985.15 3372.475,2074.2 3274.275,2152.075 " fill="none" id="Plugin-to-Reader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3263.575,2160.55,3287.4191,2154.4091,3273.3705,2152.7848,3274.9948,2138.7363,3263.575,2160.55" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3450.2066,2033.8322,3472.4889,2025.5366,3463.3573,2014.0237,3450.2066,2033.8322" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3482.5" y="2039.3628">provide</text><!--MD5=[bb5faea6a0ae73c4240718fbed39124d]
link CardSelectionService to Reader--><path codeLine="398" d="M2128.2775,1349.2 C2228.4975,1419.475 2331.3325,1498.525 2420,1580.625 C2607.85,1754.575 2787.65,1987.5 2903.775,2149.7 " fill="none" id="CardSelectionService-to-Reader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2911.325,2160.3,2906.3605,2136.1835,2904.0494,2150.1356,2890.0974,2147.8245,2911.325,2160.3" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2753.6975,1763.7924,2743.2407,1742.4389,2732.6865,1752.6634,2753.6975,1763.7924" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2767.5" y="1768.1128">use</text><!--MD5=[7ba6139df91d5b10dfb19f3b9ece10ea]
link CardSelectionService to CardSelectionResult--><path codeLine="399" d="M1850.5775,1385.675 C1884.255,1448.3 1918.5925,1512.15 1948.9625,1568.625 " fill="none" id="CardSelectionService-to-CardSelectionResult" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1954.9825,1579.825,1953.1204,1555.2734,1949.0565,1568.819,1935.5108,1564.755,1954.9825,1579.825" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1928.4203,1494.5735,1924.1813,1471.178,1911.2394,1478.1378,1928.4203,1494.5735" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1945" y="1496.8628">provide</text><!--MD5=[06097ac9a1874e227666b9f6d6984d89]
link ObservablePlugin to PluginObserverSpi--><path codeLine="402" d="M3949.85,2553.45 C3850.55,2835.8175 3676.725,3330.1425 3606.125,3530.8825 " fill="none" id="ObservablePlugin-to-PluginObserverSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3601.625,3543.675,3618.5255,3525.769,3605.7735,3531.8835,3599.659,3519.1315,3601.625,3543.675" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3903.3532,2997.8566,3917.7861,2978.9619,3903.9236,2974.087,3903.3532,2997.8566" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="3930" y="2999.3628">use</text><!--MD5=[a4e3f5334d7819c77690e9f437f50f0d]
link ObservablePlugin to PluginObservationExceptionHandlerSpi--><path codeLine="403" d="M3738.05,2554.025 C3679.4,2601.375 3619.675,2653.2475 3567.5,2705.625 C3301.1,2973.0175 3041.6,3338.5375 2921.65,3515.265 " fill="none" id="ObservablePlugin-to-PluginObservationExceptionHandlerSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2913.95,3526.63,2934.8405,3513.5979,2920.9544,3516.2768,2918.2755,3502.3908,2913.95,3526.63" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3571.9082,2995.5919,3592.1465,2983.1129,3580.9463,2973.6003,3571.9082,2995.5919" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="3602.5" y="2999.3628">use</text><!--MD5=[20506b77ae2afba69d710e66d82eebdc]
link PluginObserverSpi to PluginEvent--><path codeLine="405" d="M3649.95,3699.495 C3715.775,3761.3925 3816.9,3847.02 3920,3898.125 C4265,4069.13 4417.6,3894.805 4775,4038.125 C4785.675,4042.405 4796.325,4047.14 4806.875,4052.2475 " fill="none" id="PluginObserverSpi-to-PluginEvent" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4818.3,4057.935,4802.6136,4038.9564,4807.1097,4052.3648,4793.7013,4056.861,4818.3,4057.935" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4111.9566,3944.7101,4092.4698,3931.0872,4088.1841,3945.143,4111.9566,3944.7101" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="4122.5" y="3954.3628">use</text><!--MD5=[6a8008c62fde1d2d9e9d3bbd561b68e4]
link ObservableReader to ReaderObserverSpi--><path codeLine="407" d="M4590.15,3265.92 C4506.325,3363.0225 4418.3,3464.9725 4358.45,3534.2875 " fill="none" id="ObservableReader-to-ReaderObserverSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4349.85,3544.2725,4372.121,3533.7723,4358.0169,3534.8093,4356.9799,3520.7053,4349.85,3544.2725" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4511.8312,3378.026,4532.17,3365.7114,4521.0473,3356.1084,4511.8312,3378.026" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="4542.5" y="3381.8628">use</text><!--MD5=[88a382370b01478d7fb49c3b86000153]
link ObservableReader to ReaderObservationExceptionHandlerSpi--><path codeLine="408" d="M4789.125,3266.3775 C4791.475,3309.06 4799.1,3351.7975 4815,3390.625 C4834.65,3438.625 4869.775,3481.97 4906.5,3517.695 " fill="none" id="ObservableReader-to-ReaderObservationExceptionHandlerSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4915.875,3526.61,4906.5053,3503.8403,4906.8335,3517.9786,4892.6951,3518.3068,4915.875,3526.61" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4832.7895,3379.8901,4829.8777,3356.2927,4816.5636,3362.5109,4832.7895,3379.8901" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="4850" y="3381.8628">use</text><!--MD5=[758676a953febafd9b469dc66825d62d]
link ReaderObserverSpi to ReaderEvent--><path codeLine="410" d="M4285,3699.9175 C4285,3783.445 4285,3922.055 4285,4041.9025 " fill="none" id="ReaderObserverSpi-to-ReaderEvent" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4285,4054.925,4295,4032.425,4285,4042.425,4275,4032.425,4285,4054.925" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4297.5,3953.5645,4304.8473,3930.9517,4290.1527,3930.9517,4297.5,3953.5645" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="4320" y="3954.3628">use</text><!--MD5=[c6c50aa0fad37395d7ab5df307834b13]
reverse link CardSelector to CardSelection--><path codeLine="412" d="M1090.21,2344.375 C983.9325,2344.375 866.395,2344.375 767.335,2344.375 " fill="none" id="CardSelector-backto-CardSelection" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1103.1125,2344.375,1080.6125,2334.375,1090.6125,2344.375,1080.6125,2354.375,1103.1125,2344.375" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="891.25,2314.8145,868.6373,2307.4671,868.6373,2322.1618,891.25,2314.8145" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="901.25" y="2328.1128">provide</text><!--MD5=[026530eee9f3f38c50413c94ba77f006]
link AidSelectorBuilder to KeyplePluginInstantiationException--><!--MD5=[2560220c6775ef62ccfbad074a8144b1]
link KeyplePluginNotFoundException to KeypleReaderCommunicationException--><!--MD5=[f713832c29ab330b72801812e293dc31]
link KeypleReaderCommunicationException to KeypleReaderNotFoundException--><!--MD5=[7f5921e4d4f077849178a92666592677]
link KeyplePluginNotFoundException to KeypleReaderProtocolNotSupportedException--><!--MD5=[51cf9ed700a57d280200899afcc64e79]
link KeypleReaderProtocolNotSupportedException to KeypleCardCommunicationException--><!--MD5=[7bbc3030181697faed68094f1f856eb1]
@startuml
title
    Keyple 2.0 - keyple-java-service - 2.0.0 (08/03/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.core.service" as service {
    ' SPI
    package spi {
        +interface PluginObserverSpi {
            +void onPluginEvent (PluginEvent pluginEvent)
        }
        +interface PluginObservationExceptionHandlerSpi {
            +void onPluginObservationError (String pluginName,
                \tThrowable e)
        }
        +interface ReaderObserverSpi {
            +void onReaderEvent (ReaderEvent readerEvent)
        }
        +interface ReaderObservationExceptionHandlerSpi {
            +void onReaderObservationError (String pluginName,
                \tString readerName, Throwable e)
        }
    }
    ' SERVICE
    together {
        +class "**final** ServiceApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +class "**final** SmartCardServiceProvider" as SmartCardServiceProvider {
            +{static} SmartCardService getService ()
        }
        +interface SmartCardService {
            - -
            +Plugin registerPlugin (<back:cyan>KeyplePluginExtensionFactory</back> pluginFactory)
            +void unregisterPlugin (String pluginName)
            +boolean isPluginRegistered (String pluginName)
            ..
            +Map<String, Plugin> getPlugins ()
            +Plugin getPlugin (String pluginName)
            ..
            +void checkCardExtension (<back:cyan>KeypleCardExtension</back> cardExtension)
            ..
            +DistributedLocalService registerDistributedLocalService (
                \t<back:cyan>KeypleDistributedLocalServiceExtensionFactory</back> distributedLocalServiceFactory)
            +void unregisterDistributedLocalService (String distributedLocalServiceName)
            +void getDistributedLocalService (String distributedLocalServiceName)
        }
        +interface Plugin {
            - -
            +String getName ()
            +<T extends <back:cyan>KeyplePluginExtension</back>> T getExtension (Class<T> pluginType)
            ..
            +Set<String> getReadersNames ()
            +Map<String, Reader> getReaders ()
            +Reader getReader (String readerName)
        }
        +interface DistributedLocalService {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleDistributedLocalServiceExtension</back>> T getExtension (
                \tClass<T> distributedLocalServiceType)
        }
        +interface ObservablePlugin extends Plugin {
            - -
            +void addObserver (PluginObserverSpi observer)
            +void removeObserver (PluginObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
            ..
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setPluginObservationExceptionHandler (
                \tPluginObservationExceptionHandlerSpi exceptionHandler)
        }
        +interface PoolPlugin extends Plugin {
            - -
            +SortedSet<String> getReaderGroupReferences ()
            ..
            +Reader allocateReader (String readerGroupReference)
            +void releaseReader (Reader reader)
        }
        +interface Reader {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleReaderExtension</back>> T getExtension (Class<T> readerType)
            ..
            +boolean isContactless ()
            +boolean isCardPresent ()
            ..
            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableReader extends Reader {
            - -
            +void addObserver (ReaderObserverSpi observer)
            +void removeObserver (ReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
            ..
            +void startCardDetection (PollingMode pollingMode)
            +void stopCardDetection ()
            ..
            +void finalizeCardProcessing ()
            ..
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setReaderObservationExceptionHandler (
                \tReaderObservationExceptionHandlerSpi exceptionHandler)
        }
    }
    +enum NotificationMode {
        ALWAYS
        MATCHED_ONLY
    }
    +enum PollingMode {
        REPEATING
        SINGLESHOT
    }
    +class "<<<back:cyan>KeyplePluginEvent</back>>>\n**final** PluginEvent" as PluginEvent {
        - -
        +PluginEvent (String pluginName,
            \tString readerName,
            \tEventType eventType)
        +PluginEvent (String pluginName,
            \tSet<String> readersNames,
            \tEventType eventType)
        ..
        +String getPluginName ()
        +SortedSet<String> getReadersNames ()
        +EventType getEventType ()
    }
    +enum "EventType" as PluginEventType {
        READER_CONNECTED
        READER_DISCONNECTED
        UNREGISTERED
    }
    +class "<<<back:cyan>KeypleReaderEvent</back>>>\n**final** ReaderEvent" as ReaderEvent {
        - -
        +ReaderEvent (String pluginName,
            \tString readerName,
            \tEventType eventType,
            \tList<<back:cyan>KeypleCardSelectionResponse</back>> cardSelectionResponses)
        ..
        +String getPluginName ()
        +String getReaderName ()
        +EventType getEventType ()
        +List<<back:cyan>KeypleCardSelectionResponse</back>> getCardSelectionResponses ()
    }
    +enum "EventType" as ReaderEventType {
        CARD_INSERTED
        CARD_MATCHED
        CARD_REMOVED
        UNREGISTERED
    }
    ' SELECTION
    +class "**final** CardSelectionServiceFactory" as CardSelectionServiceFactory {
        +{static} CardSelectionService getService ()
        +{static} CardSelectionService getService (MultiSelectionProcessing multiSelectionProcessing)
    }
    package selection {
        +interface CardSelectionService {
            - -
            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()
            ..
            +CardSelectionResult processCardSelectionScenario (
                \tReader reader)
            ..
            +void scheduleCardSelectionScenario (
                \tObservableReader observableReader,
                \tNotificationMode notificationMode)
            +void scheduleCardSelectionScenario (
                \tObservableReader observableReader,
                \tNotificationMode notificationMode,
                \tPollingMode pollingMode)
            ..
            +CardSelectionResult processCardSelectionResponses (
                \tList<<back:cyan>KeypleCardSelectionResponse</back>> cardSelectionResponses)
        }
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        package "spi" as selectionSpi {
            +interface CardSelection {
                +CardSelector getCardSelector ()
            }
            +interface "<<<back:cyan>KeypleSmartCard</back>>>\nSmartCard" as SmartCard {
                - -
                +boolean hasFci ()
                +byte[] getFciBytes ()
                ..
                +boolean hasAtr ()
                +byte[] getAtrBytes ()
            }
            +class "<<<back:cyan>KeypleCardSelector</back>>>\nCardSelector" as CardSelector {
                - -
                #CardSelector (CardSelectorBuilder builder)
                ..
                +{static} CardSelectorBuilder builder ()
                +String getCardProtocol ()
                +AtrFilter getAtrFilter ()
                +AidSelector getAidSelector ()
            }
            +class CardSelectorBuilder <<static>> {
                - -
                #CardSelectorBuilder ()
                ..
                +CardSelectorBuilder cardProtocol (String cardProtocol)
                +CardSelectorBuilder atrFilter (AtrFilter atrFilter)
                +CardSelectorBuilder aidSelector (AidSelector aidSelector)
                +CardSelector build ()
            }
            +class "**final** AidSelector" as AidSelector <<static>> {
                +{static} **final** int AID_MIN_LENGTH
                +{static} **final** int AID_MAX_LENGTH
                +{static} AidSelectorBuilder builder ()
                +byte[] getAidToSelect ()
                +FileOccurrence getFileOccurrence ()
                +FileControlInformation getFileControlInformation ()
                +Set<Integer> getSuccessfulSelectionStatusCodes ()
                +void addSuccessfulStatusCode (int statusCode)
            }
            +class "**final** AidSelectorBuilder" as AidSelectorBuilder <<static>> {
                +AidSelectorBuilder aidToSelect (byte[] aid)
                +AidSelectorBuilder aidToSelect (String aid)
                +AidSelectorBuilder fileOccurrence (FileOccurrence fileOccurrence)
                +AidSelectorBuilder fileControlInformation (FileControlInformation fileControlInformation)
                +AidSelector build ()
            }
            +enum FileOccurrence {
                FIRST
                LAST
                NEXT
                PREVIOUS
                +byte getIsoBitMask ()
            }
            +enum FileControlInformation {
                FCI
                FCP
                FMD
                NO_RESPONSE
                +byte getIsoBitMask ()
            }
            +class "**final** AtrFilter" as AtrFilter <<static>> {
                - -
                +AtrFilter (String atrRegex)
                ..
                +void setAtrRegex (String atrRegex)
                +String getAtrRegex ()
                +boolean atrMatches (byte[] atr)
            }
        }
        +interface CardSelectionResult {
            - -
            +boolean hasActiveSelection ()
            +int getActiveSelectionIndex ()
            +boolean hasSelectionMatched (int selectionIndex)
            ..
            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getSmartCard (int selectionIndex)
            +SmartCard getActiveSmartCard ()
        }
        +class "**final** CardResource" as CardResource<T extends SmartCard> {
            - -
            +CardResource (Reader reader, T smartCard)
            ..
            +Reader getReader ()
            +T getSmartCard ()
        }
    }
    ' EXCEPTIONS
    together {
        +class "<<RuntimeException>>\nKeyplePluginInstantiationException" as KeyplePluginInstantiationException {
            +KeyplePluginInstantiationException (
                \tString message)
            +KeyplePluginInstantiationException (
                \tString message, Throwable cause)
        }
        +class "<<RuntimeException>>\nKeyplePluginNotFoundException" as KeyplePluginNotFoundException {
            +KeyplePluginNotFoundException (
                \tString message)
        }
        +class "<<RuntimeException>>\nKeypleReaderCommunicationException" as KeypleReaderCommunicationException {
            +KeypleReaderCommunicationException (
                \tString message)
            +KeypleReaderCommunicationException (
                \tString message, Throwable cause)
        }
        +class "<<RuntimeException>>\nKeypleReaderNotFoundException" as KeypleReaderNotFoundException {
            +KeypleReaderNotFoundException (
                \tString message)
            +KeypleReaderNotFoundException (
                \tString message, Throwable cause)
        }
        +class "<<RuntimeException>>\nKeypleReaderProtocolNotSupportedException" as KeypleReaderProtocolNotSupportedException {
            +KeypleReaderProtocolNotSupportedException (
                \tString cardProtocol)
        }
        +class "<<RuntimeException>>\nKeypleCardCommunicationException" as KeypleCardCommunicationException {
            +KeypleCardCommunicationException (
                \tString message)
            +KeypleCardCommunicationException (
                \tString message, Throwable cause)
        }
    }
}

' Associations
'LocalServiceClient ..> RemoteServiceParameters #C_USE : use >

SmartCardServiceProvider ..> SmartCardService #C_USE : provide >

SmartCardService *- - "0..N" Plugin #C_LINK
SmartCardService *- - "0..N" DistributedLocalService #C_LINK

PluginEvent +- - PluginEventType
PluginEvent *- - "1" PluginEventType #C_LINK

ObservableReader +- - NotificationMode
ObservableReader ..> NotificationMode #C_USE : use >
ObservableReader +- - PollingMode
ObservableReader ..> PollingMode #C_USE : use >

ReaderEvent +- - ReaderEventType
ReaderEvent *- - "1" ReaderEventType #C_LINK

CardSelectionServiceFactory ..> CardSelectionService #C_USE : create >

CardSelectionService *- - "1" MultiSelectionProcessing #C_LINK
CardSelectionService *- - "1..N" CardSelection #C_LINK

CardSelectionResult *- - "1..N" SmartCard #C_LINK

CardResource *- - "1" SmartCard #C_LINK
CardResource *- - "1" Reader #C_LINK

CardSelector +- - CardSelectorBuilder
CardSelector +- - AtrFilter
CardSelector *- - "0..1" AtrFilter #C_LINK
CardSelector +- - AidSelector
CardSelector *- - "0..1" AidSelector #C_LINK

AidSelector +- - AidSelectorBuilder
AidSelector +- - FileOccurrence
AidSelector *- - "0..1" FileOccurrence  #C_LINK
AidSelector +- - FileControlInformation
AidSelector *- - "0..1" FileControlInformation  #C_LINK


Plugin ..> Reader #C_USE : provide >

CardSelectionService ..> Reader #C_USE : use >
CardSelectionService ..> CardSelectionResult #C_USE : provide >


ObservablePlugin ..> PluginObserverSpi #C_USE : use >
ObservablePlugin ..> PluginObservationExceptionHandlerSpi #C_USE : use >

PluginObserverSpi ..> PluginEvent #C_USE : use >

ObservableReader ..> ReaderObserverSpi #C_USE : use >
ObservableReader ..> ReaderObservationExceptionHandlerSpi #C_USE : use >

ReaderObserverSpi ..> ReaderEvent #C_USE : use >

CardSelection .left.> CardSelector #C_USE : provide >

' == LAYOUT ==

AidSelectorBuilder -[hidden]- KeyplePluginInstantiationException

' == STYLE ==

package service #C_GREY1 {}
package spi #C_GREY2 {}
package selection #C_GREY2 {}
package selectionSpi #C_GREY3 {}

@enduml

@startuml
title
    Keyple 2.0 - keyple-java-service - 2.0.0 (08/03/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.core.service" as service {
    package spi {
        +interface PluginObserverSpi {
            +void onPluginEvent (PluginEvent pluginEvent)
        }
        +interface PluginObservationExceptionHandlerSpi {
            +void onPluginObservationError (String pluginName,
                \tThrowable e)
        }
        +interface ReaderObserverSpi {
            +void onReaderEvent (ReaderEvent readerEvent)
        }
        +interface ReaderObservationExceptionHandlerSpi {
            +void onReaderObservationError (String pluginName,
                \tString readerName, Throwable e)
        }
    }
    together {
        +class "**final** ServiceApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +class "**final** SmartCardServiceProvider" as SmartCardServiceProvider {
            +{static} SmartCardService getService ()
        }
        +interface SmartCardService {
            - -
            +Plugin registerPlugin (<back:cyan>KeyplePluginExtensionFactory</back> pluginFactory)
            +void unregisterPlugin (String pluginName)
            +boolean isPluginRegistered (String pluginName)
            ..
            +Map<String, Plugin> getPlugins ()
            +Plugin getPlugin (String pluginName)
            ..
            +void checkCardExtension (<back:cyan>KeypleCardExtension</back> cardExtension)
            ..
            +DistributedLocalService registerDistributedLocalService (
                \t<back:cyan>KeypleDistributedLocalServiceExtensionFactory</back> distributedLocalServiceFactory)
            +void unregisterDistributedLocalService (String distributedLocalServiceName)
            +void getDistributedLocalService (String distributedLocalServiceName)
        }
        +interface Plugin {
            - -
            +String getName ()
            +<T extends <back:cyan>KeyplePluginExtension</back>> T getExtension (Class<T> pluginType)
            ..
            +Set<String> getReadersNames ()
            +Map<String, Reader> getReaders ()
            +Reader getReader (String readerName)
        }
        +interface DistributedLocalService {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleDistributedLocalServiceExtension</back>> T getExtension (
                \tClass<T> distributedLocalServiceType)
        }
        +interface ObservablePlugin extends Plugin {
            - -
            +void addObserver (PluginObserverSpi observer)
            +void removeObserver (PluginObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
            ..
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setPluginObservationExceptionHandler (
                \tPluginObservationExceptionHandlerSpi exceptionHandler)
        }
        +interface PoolPlugin extends Plugin {
            - -
            +SortedSet<String> getReaderGroupReferences ()
            ..
            +Reader allocateReader (String readerGroupReference)
            +void releaseReader (Reader reader)
        }
        +interface Reader {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleReaderExtension</back>> T getExtension (Class<T> readerType)
            ..
            +boolean isContactless ()
            +boolean isCardPresent ()
            ..
            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableReader extends Reader {
            - -
            +void addObserver (ReaderObserverSpi observer)
            +void removeObserver (ReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
            ..
            +void startCardDetection (PollingMode pollingMode)
            +void stopCardDetection ()
            ..
            +void finalizeCardProcessing ()
            ..
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setReaderObservationExceptionHandler (
                \tReaderObservationExceptionHandlerSpi exceptionHandler)
        }
    }
    +enum NotificationMode {
        ALWAYS
        MATCHED_ONLY
    }
    +enum PollingMode {
        REPEATING
        SINGLESHOT
    }
    +class "<<<back:cyan>KeyplePluginEvent</back>>>\n**final** PluginEvent" as PluginEvent {
        - -
        +PluginEvent (String pluginName,
            \tString readerName,
            \tEventType eventType)
        +PluginEvent (String pluginName,
            \tSet<String> readersNames,
            \tEventType eventType)
        ..
        +String getPluginName ()
        +SortedSet<String> getReadersNames ()
        +EventType getEventType ()
    }
    +enum "EventType" as PluginEventType {
        READER_CONNECTED
        READER_DISCONNECTED
        UNREGISTERED
    }
    +class "<<<back:cyan>KeypleReaderEvent</back>>>\n**final** ReaderEvent" as ReaderEvent {
        - -
        +ReaderEvent (String pluginName,
            \tString readerName,
            \tEventType eventType,
            \tList<<back:cyan>KeypleCardSelectionResponse</back>> cardSelectionResponses)
        ..
        +String getPluginName ()
        +String getReaderName ()
        +EventType getEventType ()
        +List<<back:cyan>KeypleCardSelectionResponse</back>> getCardSelectionResponses ()
    }
    +enum "EventType" as ReaderEventType {
        CARD_INSERTED
        CARD_MATCHED
        CARD_REMOVED
        UNREGISTERED
    }
    +class "**final** CardSelectionServiceFactory" as CardSelectionServiceFactory {
        +{static} CardSelectionService getService ()
        +{static} CardSelectionService getService (MultiSelectionProcessing multiSelectionProcessing)
    }
    package selection {
        +interface CardSelectionService {
            - -
            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()
            ..
            +CardSelectionResult processCardSelectionScenario (
                \tReader reader)
            ..
            +void scheduleCardSelectionScenario (
                \tObservableReader observableReader,
                \tNotificationMode notificationMode)
            +void scheduleCardSelectionScenario (
                \tObservableReader observableReader,
                \tNotificationMode notificationMode,
                \tPollingMode pollingMode)
            ..
            +CardSelectionResult processCardSelectionResponses (
                \tList<<back:cyan>KeypleCardSelectionResponse</back>> cardSelectionResponses)
        }
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        package "spi" as selectionSpi {
            +interface CardSelection {
                +CardSelector getCardSelector ()
            }
            +interface "<<<back:cyan>KeypleSmartCard</back>>>\nSmartCard" as SmartCard {
                - -
                +boolean hasFci ()
                +byte[] getFciBytes ()
                ..
                +boolean hasAtr ()
                +byte[] getAtrBytes ()
            }
            +class "<<<back:cyan>KeypleCardSelector</back>>>\nCardSelector" as CardSelector {
                - -
                #CardSelector (CardSelectorBuilder builder)
                ..
                +{static} CardSelectorBuilder builder ()
                +String getCardProtocol ()
                +AtrFilter getAtrFilter ()
                +AidSelector getAidSelector ()
            }
            +class CardSelectorBuilder <<static>> {
                - -
                #CardSelectorBuilder ()
                ..
                +CardSelectorBuilder cardProtocol (String cardProtocol)
                +CardSelectorBuilder atrFilter (AtrFilter atrFilter)
                +CardSelectorBuilder aidSelector (AidSelector aidSelector)
                +CardSelector build ()
            }
            +class "**final** AidSelector" as AidSelector <<static>> {
                +{static} **final** int AID_MIN_LENGTH
                +{static} **final** int AID_MAX_LENGTH
                +{static} AidSelectorBuilder builder ()
                +byte[] getAidToSelect ()
                +FileOccurrence getFileOccurrence ()
                +FileControlInformation getFileControlInformation ()
                +Set<Integer> getSuccessfulSelectionStatusCodes ()
                +void addSuccessfulStatusCode (int statusCode)
            }
            +class "**final** AidSelectorBuilder" as AidSelectorBuilder <<static>> {
                +AidSelectorBuilder aidToSelect (byte[] aid)
                +AidSelectorBuilder aidToSelect (String aid)
                +AidSelectorBuilder fileOccurrence (FileOccurrence fileOccurrence)
                +AidSelectorBuilder fileControlInformation (FileControlInformation fileControlInformation)
                +AidSelector build ()
            }
            +enum FileOccurrence {
                FIRST
                LAST
                NEXT
                PREVIOUS
                +byte getIsoBitMask ()
            }
            +enum FileControlInformation {
                FCI
                FCP
                FMD
                NO_RESPONSE
                +byte getIsoBitMask ()
            }
            +class "**final** AtrFilter" as AtrFilter <<static>> {
                - -
                +AtrFilter (String atrRegex)
                ..
                +void setAtrRegex (String atrRegex)
                +String getAtrRegex ()
                +boolean atrMatches (byte[] atr)
            }
        }
        +interface CardSelectionResult {
            - -
            +boolean hasActiveSelection ()
            +int getActiveSelectionIndex ()
            +boolean hasSelectionMatched (int selectionIndex)
            ..
            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getSmartCard (int selectionIndex)
            +SmartCard getActiveSmartCard ()
        }
        +class "**final** CardResource" as CardResource<T extends SmartCard> {
            - -
            +CardResource (Reader reader, T smartCard)
            ..
            +Reader getReader ()
            +T getSmartCard ()
        }
    }
    together {
        +class "<<RuntimeException>>\nKeyplePluginInstantiationException" as KeyplePluginInstantiationException {
            +KeyplePluginInstantiationException (
                \tString message)
            +KeyplePluginInstantiationException (
                \tString message, Throwable cause)
        }
        +class "<<RuntimeException>>\nKeyplePluginNotFoundException" as KeyplePluginNotFoundException {
            +KeyplePluginNotFoundException (
                \tString message)
        }
        +class "<<RuntimeException>>\nKeypleReaderCommunicationException" as KeypleReaderCommunicationException {
            +KeypleReaderCommunicationException (
                \tString message)
            +KeypleReaderCommunicationException (
                \tString message, Throwable cause)
        }
        +class "<<RuntimeException>>\nKeypleReaderNotFoundException" as KeypleReaderNotFoundException {
            +KeypleReaderNotFoundException (
                \tString message)
            +KeypleReaderNotFoundException (
                \tString message, Throwable cause)
        }
        +class "<<RuntimeException>>\nKeypleReaderProtocolNotSupportedException" as KeypleReaderProtocolNotSupportedException {
            +KeypleReaderProtocolNotSupportedException (
                \tString cardProtocol)
        }
        +class "<<RuntimeException>>\nKeypleCardCommunicationException" as KeypleCardCommunicationException {
            +KeypleCardCommunicationException (
                \tString message)
            +KeypleCardCommunicationException (
                \tString message, Throwable cause)
        }
    }
}


SmartCardServiceProvider ..> SmartCardService #27AE60 : provide >

SmartCardService *- - "0..N" Plugin #3498DB
SmartCardService *- - "0..N" DistributedLocalService #3498DB

PluginEvent +- - PluginEventType
PluginEvent *- - "1" PluginEventType #3498DB

ObservableReader +- - NotificationMode
ObservableReader ..> NotificationMode #27AE60 : use >
ObservableReader +- - PollingMode
ObservableReader ..> PollingMode #27AE60 : use >

ReaderEvent +- - ReaderEventType
ReaderEvent *- - "1" ReaderEventType #3498DB

CardSelectionServiceFactory ..> CardSelectionService #27AE60 : create >

CardSelectionService *- - "1" MultiSelectionProcessing #3498DB
CardSelectionService *- - "1..N" CardSelection #3498DB

CardSelectionResult *- - "1..N" SmartCard #3498DB

CardResource *- - "1" SmartCard #3498DB
CardResource *- - "1" Reader #3498DB

CardSelector +- - CardSelectorBuilder
CardSelector +- - AtrFilter
CardSelector *- - "0..1" AtrFilter #3498DB
CardSelector +- - AidSelector
CardSelector *- - "0..1" AidSelector #3498DB

AidSelector +- - AidSelectorBuilder
AidSelector +- - FileOccurrence
AidSelector *- - "0..1" FileOccurrence  #3498DB
AidSelector +- - FileControlInformation
AidSelector *- - "0..1" FileControlInformation  #3498DB


Plugin ..> Reader #27AE60 : provide >

CardSelectionService ..> Reader #27AE60 : use >
CardSelectionService ..> CardSelectionResult #27AE60 : provide >


ObservablePlugin ..> PluginObserverSpi #27AE60 : use >
ObservablePlugin ..> PluginObservationExceptionHandlerSpi #27AE60 : use >

PluginObserverSpi ..> PluginEvent #27AE60 : use >

ObservableReader ..> ReaderObserverSpi #27AE60 : use >
ObservableReader ..> ReaderObservationExceptionHandlerSpi #27AE60 : use >

ReaderObserverSpi ..> ReaderEvent #27AE60 : use >

CardSelection .left.> CardSelector #27AE60 : provide >


AidSelectorBuilder -[hidden]- KeyplePluginInstantiationException


package service #F8F9F9 {}
package spi #F2F3F4 {}
package selection #F2F3F4 {}
package selectionSpi #E5E7E9 {}

@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>