<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1282.5px" preserveAspectRatio="none" style="width:2535px;height:1282px;" version="1.1" viewBox="0 0 2535 1282" width="2535px" zoomAndPan="magnify"><defs><filter height="1" id="b1jd0j4vb4sqqg0" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1157.5" x="672.5" y="46.7139">Keyple 2.0 - keyple-distributed-local-api - 2.0 (05/02/2021)</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="40,71.6016,672.5,71.6016,690,130.625,2492.5,130.625,2492.5,1266.6016,40,1266.6016,40,71.6016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="690" y1="130.625" y2="130.625"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="617.5" x="50" y="112.9346">org.eclipse.keyple.distributed.local</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="1187.5,181.6016,1255,181.6016,1272.5,240.625,2432.5,240.625,2432.5,1127.8516,1187.5,1127.8516,1187.5,181.6016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="1187.5" x2="1272.5" y1="240.625" y2="240.625"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="1197.5" y="222.9346">spi</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="48" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="585" x="562.5" y="306.6016"/><ellipse cx="600" cy="346.6016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M605,337.8516 Q605.5078,336.6016 606.0938,335.9766 Q606.6797,335.3516 607.3438,335.3516 Q608.5156,335.3516 609.2578,336.0547 Q610,336.7578 610,338.3984 L610,342.3047 Q610,343.9453 609.2969,344.6484 Q608.5938,345.3516 607.5,345.3516 Q606.5234,345.3516 605.8984,344.9219 Q605.2734,344.4922 605,343.3594 Q604.8828,342.5781 604.4531,342.1484 Q603.6719,341.3281 602.2656,340.8594 Q600.8594,340.3516 599.4531,340.3516 Q597.6953,340.3516 596.2109,341.0547 Q594.7656,341.7578 593.6328,343.3203 Q592.5,344.8828 592.5,347.0313 L592.5,349.3359 Q592.5,351.9141 594.6094,353.6328 Q596.7188,355.3516 600.4688,355.3516 Q602.6953,355.3516 604.2578,354.8438 Q605.1563,354.5703 606.1719,353.6719 Q606.8359,353.1641 607.1875,353.0078 Q607.5391,352.8516 607.9688,352.8516 Q608.7891,352.8516 609.375,353.5156 Q610,354.1406 610,355.0391 Q610,355.8984 609.1406,356.9141 Q607.8906,358.3984 605.8984,359.2188 Q603.2813,360.3516 600.0781,360.3516 Q596.3281,360.3516 593.3203,358.8672 Q590.8984,357.6953 589.1797,355.1563 Q587.5,352.6172 587.5,349.6094 L587.5,346.875 Q587.5,343.75 588.9844,341.0156 Q590.5078,338.2813 593.125,336.8359 Q595.7813,335.3516 598.75,335.3516 Q600.5469,335.3516 602.1094,335.9766 Q603.6719,336.6016 605,337.8516 Z " fill="#000000"/><ellipse cx="647.5" cy="345.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="662.5" y="358.877">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="410" x="730" y="358.877">DistributedLocalApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="565" x2="1145" y1="386.6016" y2="386.6016"/><ellipse cx="590" cy="414.1016" fill="none" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="612.5" y="425.1489">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="677.5" y="425.1489">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="565" x2="1145" y1="441.1914" y2="441.1914"/><!--MD5=[a13c0cf38349583a7e8de9bb2d456b2e]
class LocalServiceManager--><rect codeLine="51" fill="#FEFECE" height="535.0781" id="LocalServiceManager" style="stroke:#D4AC0D;stroke-width:3.75;" width="970" x="80" y="691.6016"/><ellipse cx="391.875" cy="731.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M394.375,724.1016 L394.375,739.1016 L399.375,739.1016 L400.5859,739.1016 L401.875,740.6641 L401.875,741.6016 L401.875,742.5391 L400.5859,744.1016 L399.375,744.1016 L384.375,744.1016 L383.1641,744.1016 L381.875,742.5391 L381.875,741.6016 L381.875,740.6641 L383.1641,739.1016 L384.375,739.1016 L389.375,739.1016 L389.375,724.1016 L384.375,724.1016 L383.1641,724.1016 L381.875,722.5391 L381.875,721.6016 L381.875,720.6641 L383.1641,719.1016 L384.375,719.1016 L399.375,719.1016 L400.5859,719.1016 L401.875,720.6641 L401.875,721.6016 L401.875,722.5391 L400.5859,724.1016 L399.375,724.1016 L394.375,724.1016 Z " fill="#000000"/><ellipse cx="455.625" cy="730.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="297.5" x="470.625" y="743.877">LocalServiceManager</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="82.5" x2="1047.5" y1="771.6016" y2="771.6016"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="82.5" x2="1047.5" y1="791.6016" y2="791.6016"/><ellipse cx="107.5" cy="819.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="680" x="130" y="830.1489">Map&lt;String, Boolean&gt; getObservabilityByReaderName ()</text><ellipse cx="107.5" cy="853.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="622.5" x="130" y="864.7388">String transmit (String readerName, String jsonData)</text><ellipse cx="107.5" cy="888.2813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="905" x="130" y="899.3286">String transmitCardSelectionRequests (String readerName, String jsonData)</text><ellipse cx="107.5" cy="922.8711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="740" x="130" y="933.9185">void setDefaultSelection (String readerName, String jsonData)</text><ellipse cx="107.5" cy="957.4609" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="525" x="130" y="968.5083">boolean isCardPresent (String readerName)</text><ellipse cx="107.5" cy="992.0508" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="517.5" x="130" y="1003.0981">boolean isContactless (String readerName)</text><ellipse cx="107.5" cy="1026.6406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="732.5" x="130" y="1037.688">void startCardDetection (String readerName, String jsonData)</text><ellipse cx="107.5" cy="1061.2305" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="532.5" x="130" y="1072.2778">void stopCardDetection (String readerName)</text><ellipse cx="107.5" cy="1095.8203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="587.5" x="130" y="1106.8677">void finalizeCardProcessing (String readerName)</text><ellipse cx="107.5" cy="1130.4102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="497.5" x="130" y="1141.4575">void releaseChannel (String readerName)</text><ellipse cx="107.5" cy="1165" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="130" y="1176.0474">void activatePluginObservation ()</text><ellipse cx="107.5" cy="1199.5898" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="415" x="130" y="1210.6372">void activateReaderObservation ()</text><!--MD5=[ba23ee47f0072bc0aa0f26e4f66e8703]
class LocalServiceFactorySpi--><rect codeLine="66" fill="#FEFECE" height="223.7695" id="LocalServiceFactorySpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="535" x="1462.5" y="271.6016"/><ellipse cx="1547.25" cy="311.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1549.75,304.1016 L1549.75,319.1016 L1554.75,319.1016 L1555.9609,319.1016 L1557.25,320.6641 L1557.25,321.6016 L1557.25,322.5391 L1555.9609,324.1016 L1554.75,324.1016 L1539.75,324.1016 L1538.5391,324.1016 L1537.25,322.5391 L1537.25,321.6016 L1537.25,320.6641 L1538.5391,319.1016 L1539.75,319.1016 L1544.75,319.1016 L1544.75,304.1016 L1539.75,304.1016 L1538.5391,304.1016 L1537.25,302.5391 L1537.25,301.6016 L1537.25,300.6641 L1538.5391,299.1016 L1539.75,299.1016 L1554.75,299.1016 L1555.9609,299.1016 L1557.25,300.6641 L1557.25,301.6016 L1557.25,302.5391 L1555.9609,304.1016 L1554.75,304.1016 L1549.75,304.1016 Z " fill="#000000"/><ellipse cx="1605.25" cy="310.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="1620.25" y="323.877">LocalServiceFactorySpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1465" x2="1995" y1="351.6016" y2="351.6016"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1465" x2="1995" y1="371.6016" y2="371.6016"/><ellipse cx="1490" cy="399.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="470" x="1512.5" y="410.1489">String getDistributedLocalApiVersion ()</text><ellipse cx="1490" cy="433.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="395" x="1512.5" y="444.7388">String getCommonsApiVersion ()</text><ellipse cx="1490" cy="468.2813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1512.5" y="479.3286">LocalServiceSpi getLocalService ()</text><!--MD5=[a6e181576af5f47505adeb022c95499b]
class LocalServiceSpi--><rect codeLine="71" fill="#FEFECE" height="258.3594" id="LocalServiceSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="1165" x="1227.5" y="830.3516"/><ellipse cx="1674.375" cy="870.3516" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1676.875,862.8516 L1676.875,877.8516 L1681.875,877.8516 L1683.0859,877.8516 L1684.375,879.4141 L1684.375,880.3516 L1684.375,881.2891 L1683.0859,882.8516 L1681.875,882.8516 L1666.875,882.8516 L1665.6641,882.8516 L1664.375,881.2891 L1664.375,880.3516 L1664.375,879.4141 L1665.6641,877.8516 L1666.875,877.8516 L1671.875,877.8516 L1671.875,862.8516 L1666.875,862.8516 L1665.6641,862.8516 L1664.375,861.2891 L1664.375,860.3516 L1664.375,859.4141 L1665.6641,857.8516 L1666.875,857.8516 L1681.875,857.8516 L1683.0859,857.8516 L1684.375,859.4141 L1684.375,860.3516 L1684.375,861.2891 L1683.0859,862.8516 L1681.875,862.8516 L1676.875,862.8516 Z " fill="#000000"/><ellipse cx="1738.125" cy="869.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="222.5" x="1753.125" y="882.627">LocalServiceSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1230" x2="2390" y1="910.3516" y2="910.3516"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1230" x2="2390" y1="930.3516" y2="930.3516"/><ellipse cx="1255" cy="957.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="602.5" x="1277.5" y="968.8989">void setManager (LocalServiceManager manager)</text><ellipse cx="1255" cy="992.4414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1277.5" y="1003.4888">String getName ()</text><ellipse cx="1255" cy="1027.0313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="662.5" x="1277.5" y="1038.0786">void onPluginEvent (String pluginName, String jsonData,</text><text fill="#000000" filter="url(#b1jd0j4vb4sqqg0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="220" x="1947.5" y="1038.0786">KeyplePluginEvent</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="147.5" x="2175" y="1038.0786">pluginEvent)</text><ellipse cx="1255" cy="1061.6211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="690" x="1277.5" y="1072.6685">void onReaderEvent (String readerName, String jsonData,</text><text fill="#000000" filter="url(#b1jd0j4vb4sqqg0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="1975" y="1072.6685">KeypleReaderEvent</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="157.5" x="2220" y="1072.6685">readerEvent)</text><!--MD5=[e074787443691281e6486459aba16e12]
reverse link ApiProperties to LocalServiceFactorySpi--><path codeLine="82" d="M1160.7375,384.1016 C1258.8925,384.1016 1366.8075,384.1016 1462.04,384.1016 " fill="none" id="ApiProperties-backto-LocalServiceFactorySpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1147.58,384.1016,1170.08,394.1016,1160.08,384.1016,1170.08,374.1016,1147.58,384.1016" style="stroke:#27AE60;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1255" y="327.8394">provide</text><polygon fill="#000000" points="1207.5,355.4199,1230.1127,362.7672,1230.1127,348.0726,1207.5,355.4199" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="162.5" x="1240" y="368.7183">API version</text><!--MD5=[618e7031c65a5cf122f68545294b0993]
link LocalServiceFactorySpi to LocalServiceSpi--><path codeLine="83" d="M1745.52,497.1791 C1758.305,588.2716 1776.51,717.9916 1790.3175,816.3716 " fill="none" id="LocalServiceFactorySpi-to-LocalServiceSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1792.15,829.4291,1798.9288,805.7584,1790.4142,817.0502,1779.1225,808.5357,1792.15,829.4291" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1774.2373,606.9197,1778.3705,583.5053,1763.8185,585.5476,1774.2373,606.9197" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1795" y="607.8394">provide</text><!--MD5=[ac6fd69cf75591a3f31bcf7696da0e56]
reverse link LocalServiceManager to LocalServiceSpi--><path codeLine="85" d="M1063.6725,959.1016 C1117.27,959.1016 1172.1425,959.1016 1226.615,959.1016 " fill="none" id="LocalServiceManager-backto-LocalServiceSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1050.8075,959.1016,1073.3075,969.1016,1063.3075,959.1016,1073.3075,949.1016,1050.8075,959.1016" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1093.75,929.541,1116.3627,936.8883,1116.3627,922.1937,1093.75,929.541" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1128.75" y="942.8394">use</text><!--MD5=[f6b619204e9ef2f9fd1093d86937ef29]
@startuml
title
    Keyple 2.0 - keyple-distributed-local-api - 2.0 (05/02/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

package "org.eclipse.keyple.distributed.local" as api {
    +class "**final** DistributedLocalApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface LocalServiceManager {
        +Map<String, Boolean> getObservabilityByReaderName ()
        +String transmit (String readerName, String jsonData)
        +String transmitCardSelectionRequests (String readerName, String jsonData)
        +void setDefaultSelection (String readerName, String jsonData)
        +boolean isCardPresent (String readerName)
        +boolean isContactless (String readerName)
        +void startCardDetection (String readerName, String jsonData)
        +void stopCardDetection (String readerName)
        +void finalizeCardProcessing (String readerName)
        +void releaseChannel (String readerName)
        +void activatePluginObservation ()
        +void activateReaderObservation ()
    }
    package spi {
        +interface LocalServiceFactorySpi {
            +String getDistributedLocalApiVersion ()
            +String getCommonsApiVersion ()
            +LocalServiceSpi getLocalService ()
        }
        +interface LocalServiceSpi {
            +void setManager (LocalServiceManager manager)
            +String getName ()
            +void onPluginEvent (String pluginName, String jsonData, <back:cyan>KeyplePluginEvent</back> pluginEvent)
            +void onReaderEvent (String readerName, String jsonData, <back:cyan>KeypleReaderEvent</back> readerEvent)
        }
    }
}

' Associations

LocalServiceFactorySpi .left.> ApiProperties #C_USE : provide\nAPI version <
LocalServiceFactorySpi ..> LocalServiceSpi #C_USE : provide >

LocalServiceSpi .left.> LocalServiceManager #C_USE : use >

' == LAYOUT ==

'PoolRemotePluginSpi -[hidden]- ObservableRemotePluginSpi

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}

@enduml

@startuml
title
    Keyple 2.0 - keyple-distributed-local-api - 2.0 (05/02/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


package "org.eclipse.keyple.distributed.local" as api {
    +class "**final** DistributedLocalApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface LocalServiceManager {
        +Map<String, Boolean> getObservabilityByReaderName ()
        +String transmit (String readerName, String jsonData)
        +String transmitCardSelectionRequests (String readerName, String jsonData)
        +void setDefaultSelection (String readerName, String jsonData)
        +boolean isCardPresent (String readerName)
        +boolean isContactless (String readerName)
        +void startCardDetection (String readerName, String jsonData)
        +void stopCardDetection (String readerName)
        +void finalizeCardProcessing (String readerName)
        +void releaseChannel (String readerName)
        +void activatePluginObservation ()
        +void activateReaderObservation ()
    }
    package spi {
        +interface LocalServiceFactorySpi {
            +String getDistributedLocalApiVersion ()
            +String getCommonsApiVersion ()
            +LocalServiceSpi getLocalService ()
        }
        +interface LocalServiceSpi {
            +void setManager (LocalServiceManager manager)
            +String getName ()
            +void onPluginEvent (String pluginName, String jsonData, <back:cyan>KeyplePluginEvent</back> pluginEvent)
            +void onReaderEvent (String readerName, String jsonData, <back:cyan>KeypleReaderEvent</back> readerEvent)
        }
    }
}


LocalServiceFactorySpi .left.> ApiProperties #27AE60 : provide\nAPI version <
LocalServiceFactorySpi ..> LocalServiceSpi #27AE60 : provide >

LocalServiceSpi .left.> LocalServiceManager #27AE60 : use >




package api #F8F9F9 {}
package spi #F2F3F4 {}

@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>