<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1212.5px" preserveAspectRatio="none" style="width:2535px;height:1212px;" version="1.1" viewBox="0 0 2535 1212" width="2535px" zoomAndPan="magnify"><defs><filter height="1" id="b1hmgkzpn6t0020" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1092.5" x="705" y="46.7139">Keyple 2.0 - keyple-local-service-api - 2.0 (01/02/2021)</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="40,71.6016,602.5,71.6016,620,130.625,2492.5,130.625,2492.5,1196.6016,40,1196.6016,40,71.6016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="620" y1="130.625" y2="130.625"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="547.5" x="50" y="112.9346">org.eclipse.keyple.localservice</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="1187.5,181.6016,1255,181.6016,1272.5,240.625,2432.5,240.625,2432.5,1057.8516,1187.5,1057.8516,1187.5,181.6016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="1187.5" x2="1272.5" y1="240.625" y2="240.625"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="1197.5" y="222.9346">spi</text><!--MD5=[a13c0cf38349583a7e8de9bb2d456b2e]
class LocalServiceManager--><rect codeLine="48" fill="#FEFECE" height="535.0781" id="LocalServiceManager" style="stroke:#D4AC0D;stroke-width:3.75;" width="970" x="80" y="621.6016"/><ellipse cx="391.875" cy="661.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M394.375,654.1016 L394.375,669.1016 L399.375,669.1016 L400.5859,669.1016 L401.875,670.6641 L401.875,671.6016 L401.875,672.5391 L400.5859,674.1016 L399.375,674.1016 L384.375,674.1016 L383.1641,674.1016 L381.875,672.5391 L381.875,671.6016 L381.875,670.6641 L383.1641,669.1016 L384.375,669.1016 L389.375,669.1016 L389.375,654.1016 L384.375,654.1016 L383.1641,654.1016 L381.875,652.5391 L381.875,651.6016 L381.875,650.6641 L383.1641,649.1016 L384.375,649.1016 L399.375,649.1016 L400.5859,649.1016 L401.875,650.6641 L401.875,651.6016 L401.875,652.5391 L400.5859,654.1016 L399.375,654.1016 L394.375,654.1016 Z " fill="#000000"/><ellipse cx="455.625" cy="660.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="297.5" x="470.625" y="673.877">LocalServiceManager</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="82.5" x2="1047.5" y1="701.6016" y2="701.6016"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="82.5" x2="1047.5" y1="721.6016" y2="721.6016"/><ellipse cx="107.5" cy="749.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="680" x="130" y="760.1489">Map&lt;String, Boolean&gt; getObservabilityByReaderName ()</text><ellipse cx="107.5" cy="783.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="622.5" x="130" y="794.7388">String transmit (String readerName, String jsonData)</text><ellipse cx="107.5" cy="818.2813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="905" x="130" y="829.3286">String transmitCardSelectionRequests (String readerName, String jsonData)</text><ellipse cx="107.5" cy="852.8711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="740" x="130" y="863.9185">void setDefaultSelection (String readerName, String jsonData)</text><ellipse cx="107.5" cy="887.4609" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="525" x="130" y="898.5083">boolean isCardPresent (String readerName)</text><ellipse cx="107.5" cy="922.0508" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="517.5" x="130" y="933.0981">boolean isContactless (String readerName)</text><ellipse cx="107.5" cy="956.6406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="732.5" x="130" y="967.688">void startCardDetection (String readerName, String jsonData)</text><ellipse cx="107.5" cy="991.2305" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="532.5" x="130" y="1002.2778">void stopCardDetection (String readerName)</text><ellipse cx="107.5" cy="1025.8203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="587.5" x="130" y="1036.8677">void finalizeCardProcessing (String readerName)</text><ellipse cx="107.5" cy="1060.4102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="497.5" x="130" y="1071.4575">void releaseChannel (String readerName)</text><ellipse cx="107.5" cy="1095" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="130" y="1106.0474">void activatePluginObservation ()</text><ellipse cx="107.5" cy="1129.5898" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="415" x="130" y="1140.6372">void activateReaderObservation ()</text><!--MD5=[ba23ee47f0072bc0aa0f26e4f66e8703]
class LocalServiceFactorySpi--><rect codeLine="63" fill="#FEFECE" height="154.5898" id="LocalServiceFactorySpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="490" x="1565" y="271.6016"/><ellipse cx="1629.5" cy="311.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1632,304.1016 L1632,319.1016 L1637,319.1016 L1638.2109,319.1016 L1639.5,320.6641 L1639.5,321.6016 L1639.5,322.5391 L1638.2109,324.1016 L1637,324.1016 L1622,324.1016 L1620.7891,324.1016 L1619.5,322.5391 L1619.5,321.6016 L1619.5,320.6641 L1620.7891,319.1016 L1622,319.1016 L1627,319.1016 L1627,304.1016 L1622,304.1016 L1620.7891,304.1016 L1619.5,302.5391 L1619.5,301.6016 L1619.5,300.6641 L1620.7891,299.1016 L1622,299.1016 L1637,299.1016 L1638.2109,299.1016 L1639.5,300.6641 L1639.5,301.6016 L1639.5,302.5391 L1638.2109,304.1016 L1637,304.1016 L1632,304.1016 Z " fill="#000000"/><ellipse cx="1683" cy="310.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="1698" y="323.877">LocalServiceFactorySpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1567.5" x2="2052.5" y1="351.6016" y2="351.6016"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1567.5" x2="2052.5" y1="371.6016" y2="371.6016"/><ellipse cx="1592.5" cy="399.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1615" y="410.1489">LocalServiceSpi getLocalService ()</text><!--MD5=[a6e181576af5f47505adeb022c95499b]
class LocalServiceSpi--><rect codeLine="66" fill="#FEFECE" height="258.3594" id="LocalServiceSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="1165" x="1227.5" y="760.3516"/><ellipse cx="1674.375" cy="800.3516" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1676.875,792.8516 L1676.875,807.8516 L1681.875,807.8516 L1683.0859,807.8516 L1684.375,809.4141 L1684.375,810.3516 L1684.375,811.2891 L1683.0859,812.8516 L1681.875,812.8516 L1666.875,812.8516 L1665.6641,812.8516 L1664.375,811.2891 L1664.375,810.3516 L1664.375,809.4141 L1665.6641,807.8516 L1666.875,807.8516 L1671.875,807.8516 L1671.875,792.8516 L1666.875,792.8516 L1665.6641,792.8516 L1664.375,791.2891 L1664.375,790.3516 L1664.375,789.4141 L1665.6641,787.8516 L1666.875,787.8516 L1681.875,787.8516 L1683.0859,787.8516 L1684.375,789.4141 L1684.375,790.3516 L1684.375,791.2891 L1683.0859,792.8516 L1681.875,792.8516 L1676.875,792.8516 Z " fill="#000000"/><ellipse cx="1738.125" cy="799.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="222.5" x="1753.125" y="812.627">LocalServiceSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1230" x2="2390" y1="840.3516" y2="840.3516"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1230" x2="2390" y1="860.3516" y2="860.3516"/><ellipse cx="1255" cy="887.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="602.5" x="1277.5" y="898.8989">void setManager (LocalServiceManager manager)</text><ellipse cx="1255" cy="922.4414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1277.5" y="933.4888">String getName ()</text><ellipse cx="1255" cy="957.0313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="662.5" x="1277.5" y="968.0786">void onPluginEvent (String pluginName, String jsonData,</text><text fill="#000000" filter="url(#b1hmgkzpn6t0020)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="220" x="1947.5" y="968.0786">KeyplePluginEvent</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="147.5" x="2175" y="968.0786">pluginEvent)</text><ellipse cx="1255" cy="991.6211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="690" x="1277.5" y="1002.6685">void onReaderEvent (String readerName, String jsonData,</text><text fill="#000000" filter="url(#b1hmgkzpn6t0020)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="1975" y="1002.6685">KeypleReaderEvent</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="157.5" x="2220" y="1002.6685">readerEvent)</text><!--MD5=[618e7031c65a5cf122f68545294b0993]
link LocalServiceFactorySpi to LocalServiceSpi--><path codeLine="77" d="M1810,427.1191 C1810,509.8166 1810,644.2516 1810,746.3966 " fill="none" id="LocalServiceFactorySpi-to-LocalServiceSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1810,759.9516,1820,737.4516,1810,747.4516,1800,737.4516,1810,759.9516" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1822.5,537.041,1829.8473,514.4283,1815.1527,514.4283,1822.5,537.041" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1845" y="537.8394">provide</text><!--MD5=[ac6fd69cf75591a3f31bcf7696da0e56]
reverse link LocalServiceManager to LocalServiceSpi--><path codeLine="79" d="M1063.6725,889.1016 C1117.27,889.1016 1172.1425,889.1016 1226.615,889.1016 " fill="none" id="LocalServiceManager-backto-LocalServiceSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1050.8075,889.1016,1073.3075,899.1016,1063.3075,889.1016,1073.3075,879.1016,1050.8075,889.1016" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1093.75,859.541,1116.3627,866.8883,1116.3627,852.1937,1093.75,859.541" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1128.75" y="872.8394">use</text><!--MD5=[732c34de30d468aa61c5d691f17c5132]
@startuml
title
    Keyple 2.0 - keyple-local-service-api - 2.0 (01/02/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

package "org.eclipse.keyple.localservice" as api {
    +interface LocalServiceManager {
        +Map<String, Boolean> getObservabilityByReaderName ()
        +String transmit (String readerName, String jsonData)
        +String transmitCardSelectionRequests (String readerName, String jsonData)
        +void setDefaultSelection (String readerName, String jsonData)
        +boolean isCardPresent (String readerName)
        +boolean isContactless (String readerName)
        +void startCardDetection (String readerName, String jsonData)
        +void stopCardDetection (String readerName)
        +void finalizeCardProcessing (String readerName)
        +void releaseChannel (String readerName)
        +void activatePluginObservation ()
        +void activateReaderObservation ()
    }
    package spi {
        +interface LocalServiceFactorySpi {
            +LocalServiceSpi getLocalService ()
        }
        +interface LocalServiceSpi {
            +void setManager (LocalServiceManager manager)
            +String getName ()
            +void onPluginEvent (String pluginName, String jsonData, <back:cyan>KeyplePluginEvent</back> pluginEvent)
            +void onReaderEvent (String readerName, String jsonData, <back:cyan>KeypleReaderEvent</back> readerEvent)
        }
    }
}

' Associations

LocalServiceFactorySpi ..> LocalServiceSpi #C_USE : provide >

LocalServiceSpi .left.> LocalServiceManager #C_USE : use >

' == LAYOUT ==

'PoolRemotePluginSpi -[hidden]- ObservableRemotePluginSpi

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}

@enduml

@startuml
title
    Keyple 2.0 - keyple-local-service-api - 2.0 (01/02/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


package "org.eclipse.keyple.localservice" as api {
    +interface LocalServiceManager {
        +Map<String, Boolean> getObservabilityByReaderName ()
        +String transmit (String readerName, String jsonData)
        +String transmitCardSelectionRequests (String readerName, String jsonData)
        +void setDefaultSelection (String readerName, String jsonData)
        +boolean isCardPresent (String readerName)
        +boolean isContactless (String readerName)
        +void startCardDetection (String readerName, String jsonData)
        +void stopCardDetection (String readerName)
        +void finalizeCardProcessing (String readerName)
        +void releaseChannel (String readerName)
        +void activatePluginObservation ()
        +void activateReaderObservation ()
    }
    package spi {
        +interface LocalServiceFactorySpi {
            +LocalServiceSpi getLocalService ()
        }
        +interface LocalServiceSpi {
            +void setManager (LocalServiceManager manager)
            +String getName ()
            +void onPluginEvent (String pluginName, String jsonData, <back:cyan>KeyplePluginEvent</back> pluginEvent)
            +void onReaderEvent (String readerName, String jsonData, <back:cyan>KeypleReaderEvent</back> readerEvent)
        }
    }
}


LocalServiceFactorySpi ..> LocalServiceSpi #27AE60 : provide >

LocalServiceSpi .left.> LocalServiceManager #27AE60 : use >




package api #F8F9F9 {}
package spi #F2F3F4 {}

@enduml

PlantUML version 1.2021.00(Sun Jan 10 11:25:05 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>