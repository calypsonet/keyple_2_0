<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3665px" preserveAspectRatio="none" style="width:4022px;height:3665px;" version="1.1" viewBox="0 0 4022 3665" width="4022.5px" zoomAndPan="magnify"><defs><filter height="1" id="biimhmgvwyymz0" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1027.5" x="1481.25" y="46.7139">Keyple 2.0 - keyple-java-card-api - 2.0 (04/03/2021)</text><rect fill="#DDDDDD" height="69.0234" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:2.5;" width="497.5" x="1745" y="76.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="140" x="1760" y="125.4346">Legend :</text><text fill="#000000" filter="url(#biimhmgvwyymz0)" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="70" x="1910" y="125.4346">from</text><text fill="#000000" filter="url(#biimhmgvwyymz0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="237.5" x="1990" y="125.4346">Commons API</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="40,183.125,555,183.125,572.5,242.1484,3980,242.1484,3980,3648.125,40,3648.125,40,183.125" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="572.5" y1="242.1484" y2="242.1484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="500" x="50" y="224.458">org.eclipse.keyple.core.card</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="1737.5,313.125,1805,313.125,1822.5,372.1484,3765,372.1484,3765,708.125,1737.5,708.125,1737.5,313.125" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="1737.5" x2="1822.5" y1="372.1484" y2="372.1484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="1747.5" y="354.458">spi</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="52" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="427.5" x="3261.25" y="1046.875"/><ellipse cx="3298.75" cy="1086.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3303.75,1078.125 Q3304.2578,1076.875 3304.8438,1076.25 Q3305.4297,1075.625 3306.0938,1075.625 Q3307.2656,1075.625 3308.0078,1076.3281 Q3308.75,1077.0313 3308.75,1078.6719 L3308.75,1082.5781 Q3308.75,1084.2188 3308.0469,1084.9219 Q3307.3438,1085.625 3306.25,1085.625 Q3305.2734,1085.625 3304.6484,1085.1953 Q3304.0234,1084.7656 3303.75,1083.6328 Q3303.6328,1082.8516 3303.2031,1082.4219 Q3302.4219,1081.6016 3301.0156,1081.1328 Q3299.6094,1080.625 3298.2031,1080.625 Q3296.4453,1080.625 3294.9609,1081.3281 Q3293.5156,1082.0313 3292.3828,1083.5938 Q3291.25,1085.1563 3291.25,1087.3047 L3291.25,1089.6094 Q3291.25,1092.1875 3293.3594,1093.9063 Q3295.4688,1095.625 3299.2188,1095.625 Q3301.4453,1095.625 3303.0078,1095.1172 Q3303.9063,1094.8438 3304.9219,1093.9453 Q3305.5859,1093.4375 3305.9375,1093.2813 Q3306.2891,1093.125 3306.7188,1093.125 Q3307.5391,1093.125 3308.125,1093.7891 Q3308.75,1094.4141 3308.75,1095.3125 Q3308.75,1096.1719 3307.8906,1097.1875 Q3306.6406,1098.6719 3304.6484,1099.4922 Q3302.0313,1100.625 3298.8281,1100.625 Q3295.0781,1100.625 3292.0703,1099.1406 Q3289.6484,1097.9688 3287.9297,1095.4297 Q3286.25,1092.8906 3286.25,1089.8828 L3286.25,1087.1484 Q3286.25,1084.0234 3287.7344,1081.2891 Q3289.2578,1078.5547 3291.875,1077.1094 Q3294.5313,1075.625 3297.5,1075.625 Q3299.2969,1075.625 3300.8594,1076.25 Q3302.4219,1076.875 3303.75,1078.125 Z " fill="#000000"/><ellipse cx="3346.25" cy="1085.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3361.25" y="1099.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="3428.75" y="1099.1504">CardApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3263.75" x2="3686.25" y1="1126.875" y2="1126.875"/><ellipse cx="3288.75" cy="1154.375" fill="none" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="3311.25" y="1165.4224">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="3376.25" y="1165.4224">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3263.75" x2="3686.25" y1="1181.4648" y2="1181.4648"/><!--MD5=[96a4004012a1c08588eb87adf87ec875]
class ProxyReader--><rect codeLine="55" fill="#FEFECE" height="278.3594" id="ProxyReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="522.5" x="1936.25" y="2053.125"/><ellipse cx="2083.125" cy="2093.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2085.625,2085.625 L2085.625,2100.625 L2090.625,2100.625 L2091.8359,2100.625 L2093.125,2102.1875 L2093.125,2103.125 L2093.125,2104.0625 L2091.8359,2105.625 L2090.625,2105.625 L2075.625,2105.625 L2074.4141,2105.625 L2073.125,2104.0625 L2073.125,2103.125 L2073.125,2102.1875 L2074.4141,2100.625 L2075.625,2100.625 L2080.625,2100.625 L2080.625,2085.625 L2075.625,2085.625 L2074.4141,2085.625 L2073.125,2084.0625 L2073.125,2083.125 L2073.125,2082.1875 L2074.4141,2080.625 L2075.625,2080.625 L2090.625,2080.625 L2091.8359,2080.625 L2093.125,2082.1875 L2093.125,2083.125 L2093.125,2084.0625 L2091.8359,2085.625 L2090.625,2085.625 L2085.625,2085.625 Z " fill="#000000"/><ellipse cx="2146.875" cy="2091.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="2161.875" y="2105.4004">ProxyReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1938.75" x2="2456.25" y1="2133.125" y2="2133.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1938.75" x2="2456.25" y1="2153.125" y2="2153.125"/><ellipse cx="1963.75" cy="2180.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="457.5" x="1986.25" y="2191.6724">CardResponse transmitCardRequest (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="2046.25" y="2226.2622">CardRequest cardRequest,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="2046.25" y="2260.8521">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1938.75" x2="2456.25" y1="2276.8945" y2="2276.8945"/><ellipse cx="1963.75" cy="2304.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="1986.25" y="2315.4419">void releaseChannel ()</text><!--MD5=[74186dfc070fdcd425f3f969c4ef0c47]
class AbstractCommunicationException--><rect codeLine="265" fill="#F4ECF7" height="402.5977" id="AbstractCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="575" x="1980" y="2649.375"/><ellipse cx="2017.5" cy="2699.6094" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M2021.875,2703.3594 L2013.6328,2703.3594 L2012.5391,2705.8594 L2012.5391,2705.8594 L2013.7109,2705.8594 L2015,2707.4219 L2015,2708.3594 L2015,2709.2969 L2013.7109,2710.8594 L2012.5391,2710.8594 L2007.8125,2710.8594 L2006.2891,2710.8594 L2005,2709.2969 L2005,2708.3594 L2005,2707.4219 L2006.2891,2705.8594 L2007.8125,2705.8594 L2013.5938,2690.8594 L2011.4063,2690.8594 L2008.7891,2690.8594 L2007.5,2689.2969 L2007.5,2688.3594 L2007.5,2687.4219 L2008.7891,2685.8594 L2011.4063,2685.8594 L2020.5859,2685.8594 L2027.3047,2705.8594 L2028.7109,2705.8594 L2028.7109,2705.8594 L2030,2707.4219 L2030,2708.3594 L2030,2709.2969 L2028.7109,2710.8594 L2027.3047,2710.8594 L2022.5781,2710.8594 L2021.2891,2710.8594 L2020,2709.2969 L2020,2708.3594 L2020,2707.4219 L2021.2891,2705.8594 L2022.5781,2705.8594 L2022.5781,2705.8594 L2021.875,2703.3594 Z M2020.5078,2698.3594 L2017.5,2689.4141 L2014.9219,2698.3594 L2020.5078,2698.3594 Z " fill="#000000"/><ellipse cx="2065" cy="2698.3594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="205" x="2211.25" y="2693.0176">&lt;&lt;Exception&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="467.5" x="2080" y="2730.752">AbstractCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1982.5" x2="2552.5" y1="2749.8438" y2="2749.8438"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="1982.5" x2="2552.5" y1="2769.8438" y2="2769.8438"/><polygon fill="#FFFF44" points="2007.5,2784.8438,2017.5,2794.8438,2007.5,2804.8438,1997.5,2794.8438" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="2030" y="2808.3911">AbstractCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2090" y="2842.981">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="2090" y="2877.5708">String message)</text><polygon fill="#FFFF44" points="2007.5,2888.6133,2017.5,2898.6133,2007.5,2908.6133,1997.5,2898.6133" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="2030" y="2912.1606">AbstractCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2090" y="2946.7505">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="2090" y="2981.3403">String message, Throwable cause)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1982.5" x2="2552.5" y1="2997.3828" y2="2997.3828"/><ellipse cx="2007.5" cy="3024.8828" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="2030" y="3035.9302">CardResponse getCardResponse ()</text><!--MD5=[0dee1c75f9ece47f254a0a355731a0bb]
class ReaderCommunicationException--><rect codeLine="266" fill="#F4ECF7" height="327.5391" id="ReaderCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="632.5" x="1771.25" y="3280.625"/><ellipse cx="1808.75" cy="3320.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1813.75,3311.875 Q1814.2578,3310.625 1814.8438,3310 Q1815.4297,3309.375 1816.0938,3309.375 Q1817.2656,3309.375 1818.0078,3310.0781 Q1818.75,3310.7813 1818.75,3312.4219 L1818.75,3316.3281 Q1818.75,3317.9688 1818.0469,3318.6719 Q1817.3438,3319.375 1816.25,3319.375 Q1815.2734,3319.375 1814.6484,3318.9453 Q1814.0234,3318.5156 1813.75,3317.3828 Q1813.6328,3316.6016 1813.2031,3316.1719 Q1812.4219,3315.3516 1811.0156,3314.8828 Q1809.6094,3314.375 1808.2031,3314.375 Q1806.4453,3314.375 1804.9609,3315.0781 Q1803.5156,3315.7813 1802.3828,3317.3438 Q1801.25,3318.9063 1801.25,3321.0547 L1801.25,3323.3594 Q1801.25,3325.9375 1803.3594,3327.6563 Q1805.4688,3329.375 1809.2188,3329.375 Q1811.4453,3329.375 1813.0078,3328.8672 Q1813.9063,3328.5938 1814.9219,3327.6953 Q1815.5859,3327.1875 1815.9375,3327.0313 Q1816.2891,3326.875 1816.7188,3326.875 Q1817.5391,3326.875 1818.125,3327.5391 Q1818.75,3328.1641 1818.75,3329.0625 Q1818.75,3329.9219 1817.8906,3330.9375 Q1816.6406,3332.4219 1814.6484,3333.2422 Q1812.0313,3334.375 1808.8281,3334.375 Q1805.0781,3334.375 1802.0703,3332.8906 Q1799.6484,3331.7188 1797.9297,3329.1797 Q1796.25,3326.6406 1796.25,3323.6328 L1796.25,3320.8984 Q1796.25,3317.7734 1797.7344,3315.0391 Q1799.2578,3312.3047 1801.875,3310.8594 Q1804.5313,3309.375 1807.5,3309.375 Q1809.2969,3309.375 1810.8594,3310 Q1812.4219,3310.625 1813.75,3311.875 Z " fill="#000000"/><ellipse cx="1856.25" cy="3319.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1871.25" y="3332.9004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="457.5" x="1938.75" y="3332.9004">ReaderCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1773.75" x2="2401.25" y1="3360.625" y2="3360.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="1773.75" x2="2401.25" y1="3380.625" y2="3380.625"/><ellipse cx="1798.75" cy="3408.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="1821.25" y="3419.1724">ReaderCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="1881.25" y="3453.7622">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="1881.25" y="3488.3521">String message)</text><ellipse cx="1798.75" cy="3511.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="1821.25" y="3522.9419">ReaderCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="1881.25" y="3557.5317">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1881.25" y="3592.1216">String message, Throwable cause)</text><!--MD5=[32fc7b65f340d78e9416d68a58b55b2e]
class CardCommunicationException--><rect codeLine="267" fill="#F4ECF7" height="327.5391" id="CardCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="597.5" x="2491.25" y="3280.625"/><ellipse cx="2528.75" cy="3320.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2533.75,3311.875 Q2534.2578,3310.625 2534.8438,3310 Q2535.4297,3309.375 2536.0938,3309.375 Q2537.2656,3309.375 2538.0078,3310.0781 Q2538.75,3310.7813 2538.75,3312.4219 L2538.75,3316.3281 Q2538.75,3317.9688 2538.0469,3318.6719 Q2537.3438,3319.375 2536.25,3319.375 Q2535.2734,3319.375 2534.6484,3318.9453 Q2534.0234,3318.5156 2533.75,3317.3828 Q2533.6328,3316.6016 2533.2031,3316.1719 Q2532.4219,3315.3516 2531.0156,3314.8828 Q2529.6094,3314.375 2528.2031,3314.375 Q2526.4453,3314.375 2524.9609,3315.0781 Q2523.5156,3315.7813 2522.3828,3317.3438 Q2521.25,3318.9063 2521.25,3321.0547 L2521.25,3323.3594 Q2521.25,3325.9375 2523.3594,3327.6563 Q2525.4688,3329.375 2529.2188,3329.375 Q2531.4453,3329.375 2533.0078,3328.8672 Q2533.9063,3328.5938 2534.9219,3327.6953 Q2535.5859,3327.1875 2535.9375,3327.0313 Q2536.2891,3326.875 2536.7188,3326.875 Q2537.5391,3326.875 2538.125,3327.5391 Q2538.75,3328.1641 2538.75,3329.0625 Q2538.75,3329.9219 2537.8906,3330.9375 Q2536.6406,3332.4219 2534.6484,3333.2422 Q2532.0313,3334.375 2528.8281,3334.375 Q2525.0781,3334.375 2522.0703,3332.8906 Q2519.6484,3331.7188 2517.9297,3329.1797 Q2516.25,3326.6406 2516.25,3323.6328 L2516.25,3320.8984 Q2516.25,3317.7734 2517.7344,3315.0391 Q2519.2578,3312.3047 2521.875,3310.8594 Q2524.5313,3309.375 2527.5,3309.375 Q2529.2969,3309.375 2530.8594,3310 Q2532.4219,3310.625 2533.75,3311.875 Z " fill="#000000"/><ellipse cx="2576.25" cy="3319.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2591.25" y="3332.9004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="422.5" x="2658.75" y="3332.9004">CardCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2493.75" x2="3086.25" y1="3360.625" y2="3360.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2493.75" x2="3086.25" y1="3380.625" y2="3380.625"/><ellipse cx="2518.75" cy="3408.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2541.25" y="3419.1724">CardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2601.25" y="3453.7622">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="2601.25" y="3488.3521">String message)</text><ellipse cx="2518.75" cy="3511.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2541.25" y="3522.9419">CardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2601.25" y="3557.5317">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="2601.25" y="3592.1216">String message, Throwable cause)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect codeLine="255" fill="#E9F7EF" height="189.1797" id="MultiSelectionProcessing" style="stroke:#27AE60;stroke-width:3.75;" width="450" x="1405" y="1544.375"/><ellipse cx="1442.5" cy="1584.375" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1438.75,1586.875 L1438.75,1591.875 L1448.75,1591.875 L1448.75,1589.375 L1448.75,1588.1641 L1450.3125,1586.875 L1451.25,1586.875 L1452.1875,1586.875 L1453.75,1588.1641 L1453.75,1589.375 L1453.75,1596.875 L1433.75,1596.875 L1432.5391,1596.875 L1431.25,1595.3125 L1431.25,1594.375 L1431.25,1593.4375 L1432.5391,1591.875 L1433.75,1591.875 L1433.75,1591.875 L1433.75,1576.875 L1433.75,1576.875 L1432.5391,1576.875 L1431.25,1575.3125 L1431.25,1574.375 L1431.25,1573.4375 L1432.5391,1571.875 L1433.75,1571.875 L1453.75,1571.875 L1453.75,1579.375 L1453.75,1580.5859 L1452.1875,1581.875 L1451.25,1581.875 L1450.3125,1581.875 L1448.75,1580.5859 L1448.75,1579.375 L1448.75,1576.875 L1438.75,1576.875 L1438.75,1581.875 L1441.25,1581.875 L1441.25,1580.6641 L1441.25,1580.6641 L1442.8125,1579.375 L1443.75,1579.375 L1444.6875,1579.375 L1446.25,1580.6641 L1446.25,1581.875 L1446.25,1586.875 L1446.25,1588.0859 L1444.6875,1589.375 L1444.6875,1589.375 L1443.75,1589.375 L1442.8125,1589.375 L1441.25,1588.0859 L1441.25,1588.0859 L1441.25,1586.875 L1438.75,1586.875 Z " fill="#000000"/><ellipse cx="1490" cy="1583.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="342.5" x="1505" y="1596.6504">MultiSelectionProcessing</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1407.5" x2="1852.5" y1="1624.375" y2="1624.375"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="175" x="1420" y="1662.9224">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="185" x="1420" y="1697.5122">PROCESS_ALL</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1407.5" x2="1852.5" y1="1713.5547" y2="1713.5547"/><!--MD5=[ee0d3336d8d2c9dd88a5ad188defe636]
class ChannelControl--><rect codeLine="256" fill="#E9F7EF" height="189.1797" id="ChannelControl" style="stroke:#27AE60;stroke-width:3.75;" width="325" x="992.5" y="1544.375"/><ellipse cx="1030" cy="1584.375" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1026.25,1586.875 L1026.25,1591.875 L1036.25,1591.875 L1036.25,1589.375 L1036.25,1588.1641 L1037.8125,1586.875 L1038.75,1586.875 L1039.6875,1586.875 L1041.25,1588.1641 L1041.25,1589.375 L1041.25,1596.875 L1021.25,1596.875 L1020.0391,1596.875 L1018.75,1595.3125 L1018.75,1594.375 L1018.75,1593.4375 L1020.0391,1591.875 L1021.25,1591.875 L1021.25,1591.875 L1021.25,1576.875 L1021.25,1576.875 L1020.0391,1576.875 L1018.75,1575.3125 L1018.75,1574.375 L1018.75,1573.4375 L1020.0391,1571.875 L1021.25,1571.875 L1041.25,1571.875 L1041.25,1579.375 L1041.25,1580.5859 L1039.6875,1581.875 L1038.75,1581.875 L1037.8125,1581.875 L1036.25,1580.5859 L1036.25,1579.375 L1036.25,1576.875 L1026.25,1576.875 L1026.25,1581.875 L1028.75,1581.875 L1028.75,1580.6641 L1028.75,1580.6641 L1030.3125,1579.375 L1031.25,1579.375 L1032.1875,1579.375 L1033.75,1580.6641 L1033.75,1581.875 L1033.75,1586.875 L1033.75,1588.0859 L1032.1875,1589.375 L1032.1875,1589.375 L1031.25,1589.375 L1030.3125,1589.375 L1028.75,1588.0859 L1028.75,1588.0859 L1028.75,1586.875 L1026.25,1586.875 Z " fill="#000000"/><ellipse cx="1077.5" cy="1583.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="217.5" x="1092.5" y="1596.6504">ChannelControl</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="995" x2="1315" y1="1624.375" y2="1624.375"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="145" x="1007.5" y="1662.9224">KEEP_OPEN</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="1007.5" y="1697.5122">CLOSE_AFTER</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="995" x2="1315" y1="1713.5547" y2="1713.5547"/><!--MD5=[d7ab57eb2840e7832714f3f9db0d2391]
class CardSelectionRequest--><rect codeLine="254" fill="#E9F7EF" height="312.9492" id="CardSelectionRequest" style="stroke:#27AE60;stroke-width:3.75;" width="762.5" x="141.25" y="1483.125"/><ellipse cx="309.375" cy="1523.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M314.375,1514.375 Q314.8828,1513.125 315.4688,1512.5 Q316.0547,1511.875 316.7188,1511.875 Q317.8906,1511.875 318.6328,1512.5781 Q319.375,1513.2813 319.375,1514.9219 L319.375,1518.8281 Q319.375,1520.4688 318.6719,1521.1719 Q317.9688,1521.875 316.875,1521.875 Q315.8984,1521.875 315.2734,1521.4453 Q314.6484,1521.0156 314.375,1519.8828 Q314.2578,1519.1016 313.8281,1518.6719 Q313.0469,1517.8516 311.6406,1517.3828 Q310.2344,1516.875 308.8281,1516.875 Q307.0703,1516.875 305.5859,1517.5781 Q304.1406,1518.2813 303.0078,1519.8438 Q301.875,1521.4063 301.875,1523.5547 L301.875,1525.8594 Q301.875,1528.4375 303.9844,1530.1563 Q306.0938,1531.875 309.8438,1531.875 Q312.0703,1531.875 313.6328,1531.3672 Q314.5313,1531.0938 315.5469,1530.1953 Q316.2109,1529.6875 316.5625,1529.5313 Q316.9141,1529.375 317.3438,1529.375 Q318.1641,1529.375 318.75,1530.0391 Q319.375,1530.6641 319.375,1531.5625 Q319.375,1532.4219 318.5156,1533.4375 Q317.2656,1534.9219 315.2734,1535.7422 Q312.6563,1536.875 309.4531,1536.875 Q305.7031,1536.875 302.6953,1535.3906 Q300.2734,1534.2188 298.5547,1531.6797 Q296.875,1529.1406 296.875,1526.1328 L296.875,1523.3984 Q296.875,1520.2734 298.3594,1517.5391 Q299.8828,1514.8047 302.5,1513.3594 Q305.1563,1511.875 308.125,1511.875 Q309.9219,1511.875 311.4844,1512.5 Q313.0469,1513.125 314.375,1514.375 Z " fill="#000000"/><ellipse cx="373.125" cy="1521.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="388.125" y="1535.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="310" x="455.625" y="1535.4004">CardSelectionRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="143.75" x2="901.25" y1="1563.125" y2="1563.125"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="143.75" x2="901.25" y1="1583.125" y2="1583.125"/><ellipse cx="168.75" cy="1610.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="191.25" y="1621.6724">CardSelectionRequest (</text><text fill="#000000" filter="url(#biimhmgvwyymz0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="476.25" y="1621.6724">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="165" x="723.75" y="1621.6724">cardSelector)</text><ellipse cx="168.75" cy="1645.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="191.25" y="1656.2622">CardSelectionRequest (</text><text fill="#000000" filter="url(#biimhmgvwyymz0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="476.25" y="1656.2622">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="162.5" x="723.75" y="1656.2622">cardSelector,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="330" x="251.25" y="1690.8521">CardRequest cardRequest)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="143.75" x2="901.25" y1="1706.8945" y2="1706.8945"/><ellipse cx="168.75" cy="1734.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#biimhmgvwyymz0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="191.25" y="1745.4419">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="438.75" y="1745.4419">getCardSelector ()</text><ellipse cx="168.75" cy="1768.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="191.25" y="1780.0317">CardRequest getCardRequest ()</text><!--MD5=[d4546fa1b310652d2e612bec588497f1]
class CardRequest--><rect codeLine="257" fill="#E9F7EF" height="278.3594" id="CardRequest" style="stroke:#27AE60;stroke-width:3.75;" width="667.5" x="863.75" y="2053.125"/><ellipse cx="1048.125" cy="2093.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1053.125,2084.375 Q1053.6328,2083.125 1054.2188,2082.5 Q1054.8047,2081.875 1055.4688,2081.875 Q1056.6406,2081.875 1057.3828,2082.5781 Q1058.125,2083.2813 1058.125,2084.9219 L1058.125,2088.8281 Q1058.125,2090.4688 1057.4219,2091.1719 Q1056.7188,2091.875 1055.625,2091.875 Q1054.6484,2091.875 1054.0234,2091.4453 Q1053.3984,2091.0156 1053.125,2089.8828 Q1053.0078,2089.1016 1052.5781,2088.6719 Q1051.7969,2087.8516 1050.3906,2087.3828 Q1048.9844,2086.875 1047.5781,2086.875 Q1045.8203,2086.875 1044.3359,2087.5781 Q1042.8906,2088.2813 1041.7578,2089.8438 Q1040.625,2091.4063 1040.625,2093.5547 L1040.625,2095.8594 Q1040.625,2098.4375 1042.7344,2100.1563 Q1044.8438,2101.875 1048.5938,2101.875 Q1050.8203,2101.875 1052.3828,2101.3672 Q1053.2813,2101.0938 1054.2969,2100.1953 Q1054.9609,2099.6875 1055.3125,2099.5313 Q1055.6641,2099.375 1056.0938,2099.375 Q1056.9141,2099.375 1057.5,2100.0391 Q1058.125,2100.6641 1058.125,2101.5625 Q1058.125,2102.4219 1057.2656,2103.4375 Q1056.0156,2104.9219 1054.0234,2105.7422 Q1051.4063,2106.875 1048.2031,2106.875 Q1044.4531,2106.875 1041.4453,2105.3906 Q1039.0234,2104.2188 1037.3047,2101.6797 Q1035.625,2099.1406 1035.625,2096.1328 L1035.625,2093.3984 Q1035.625,2090.2734 1037.1094,2087.5391 Q1038.6328,2084.8047 1041.25,2083.3594 Q1043.9063,2081.875 1046.875,2081.875 Q1048.6719,2081.875 1050.2344,2082.5 Q1051.7969,2083.125 1053.125,2084.375 Z " fill="#000000"/><ellipse cx="1111.875" cy="2091.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1126.875" y="2105.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="182.5" x="1194.375" y="2105.4004">CardRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="866.25" x2="1528.75" y1="2133.125" y2="2133.125"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="866.25" x2="1528.75" y1="2153.125" y2="2153.125"/><ellipse cx="891.25" cy="2180.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="602.5" x="913.75" y="2191.6724">CardRequest (List&lt;ApduRequest&gt; apduRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="973.75" y="2226.2622">boolean isStatusCodesVerificationEnabled)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="866.25" x2="1528.75" y1="2242.3047" y2="2242.3047"/><ellipse cx="891.25" cy="2269.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="490" x="913.75" y="2280.8521">List&lt;ApduRequest&gt; getApduRequests ()</text><ellipse cx="891.25" cy="2304.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="537.5" x="913.75" y="2315.4419">boolean isStatusCodesVerificationEnabled ()</text><!--MD5=[8d2debdbb32bf9c83697f345c4529e73]
class ApduRequest--><rect codeLine="258" fill="#E9F7EF" height="545.8984" id="ApduRequest" style="stroke:#27AE60;stroke-width:3.75;" width="592.5" x="901.25" y="2578.125"/><ellipse cx="1045.625" cy="2618.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1050.625,2609.375 Q1051.1328,2608.125 1051.7188,2607.5 Q1052.3047,2606.875 1052.9688,2606.875 Q1054.1406,2606.875 1054.8828,2607.5781 Q1055.625,2608.2813 1055.625,2609.9219 L1055.625,2613.8281 Q1055.625,2615.4688 1054.9219,2616.1719 Q1054.2188,2616.875 1053.125,2616.875 Q1052.1484,2616.875 1051.5234,2616.4453 Q1050.8984,2616.0156 1050.625,2614.8828 Q1050.5078,2614.1016 1050.0781,2613.6719 Q1049.2969,2612.8516 1047.8906,2612.3828 Q1046.4844,2611.875 1045.0781,2611.875 Q1043.3203,2611.875 1041.8359,2612.5781 Q1040.3906,2613.2813 1039.2578,2614.8438 Q1038.125,2616.4063 1038.125,2618.5547 L1038.125,2620.8594 Q1038.125,2623.4375 1040.2344,2625.1563 Q1042.3438,2626.875 1046.0938,2626.875 Q1048.3203,2626.875 1049.8828,2626.3672 Q1050.7813,2626.0938 1051.7969,2625.1953 Q1052.4609,2624.6875 1052.8125,2624.5313 Q1053.1641,2624.375 1053.5938,2624.375 Q1054.4141,2624.375 1055,2625.0391 Q1055.625,2625.6641 1055.625,2626.5625 Q1055.625,2627.4219 1054.7656,2628.4375 Q1053.5156,2629.9219 1051.5234,2630.7422 Q1048.9063,2631.875 1045.7031,2631.875 Q1041.9531,2631.875 1038.9453,2630.3906 Q1036.5234,2629.2188 1034.8047,2626.6797 Q1033.125,2624.1406 1033.125,2621.1328 L1033.125,2618.3984 Q1033.125,2615.2734 1034.6094,2612.5391 Q1036.1328,2609.8047 1038.75,2608.3594 Q1041.4063,2606.875 1044.375,2606.875 Q1046.1719,2606.875 1047.7344,2607.5 Q1049.2969,2608.125 1050.625,2609.375 Z " fill="#000000"/><ellipse cx="1109.375" cy="2616.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1124.375" y="2630.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="187.5" x="1191.875" y="2630.4004">ApduRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="903.75" x2="1491.25" y1="2658.125" y2="2658.125"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="903.75" x2="1491.25" y1="2678.125" y2="2678.125"/><ellipse cx="928.75" cy="2705.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="527.5" x="951.25" y="2716.6724">ApduRequest (byte[] bytes, boolean case4)</text><ellipse cx="928.75" cy="2740.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="951.25" y="2751.2622">ApduRequest (byte cla, byte instruction,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="465" x="1011.25" y="2785.8521">byte p1, byte p2, byte[] dataIn, Byte le)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="903.75" x2="1491.25" y1="2801.8945" y2="2801.8945"/><ellipse cx="928.75" cy="2829.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="951.25" y="2840.4419">ApduRequest setSuccessfulStatusCodes (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="460" x="1011.25" y="2875.0317">Set&lt;Integer&gt; successfulStatusCodes)</text><ellipse cx="928.75" cy="2898.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="517.5" x="951.25" y="2909.6216">Set&lt;Integer&gt; getSuccessfulStatusCodes ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="903.75" x2="1491.25" y1="2925.6641" y2="2925.6641"/><ellipse cx="928.75" cy="2953.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="951.25" y="2964.2114">ApduRequest setName (String name)</text><ellipse cx="928.75" cy="2987.7539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="951.25" y="2998.8013">String getName ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="903.75" x2="1491.25" y1="3014.8438" y2="3014.8438"/><ellipse cx="928.75" cy="3042.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="951.25" y="3053.3911">byte[] getBytes ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="903.75" x2="1491.25" y1="3069.4336" y2="3069.4336"/><ellipse cx="928.75" cy="3096.9336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="227.5" x="951.25" y="3107.981">boolean isCase4 ()</text><!--MD5=[dbd8c161f500c947422961202b070083]
class CardSelectionScenario--><rect codeLine="253" fill="#E9F7EF" height="382.1289" id="CardSelectionScenario" style="stroke:#27AE60;stroke-width:3.75;" width="760" x="977.5" y="933.125"/><ellipse cx="1140.625" cy="973.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1145.625,964.375 Q1146.1328,963.125 1146.7188,962.5 Q1147.3047,961.875 1147.9688,961.875 Q1149.1406,961.875 1149.8828,962.5781 Q1150.625,963.2813 1150.625,964.9219 L1150.625,968.8281 Q1150.625,970.4688 1149.9219,971.1719 Q1149.2188,971.875 1148.125,971.875 Q1147.1484,971.875 1146.5234,971.4453 Q1145.8984,971.0156 1145.625,969.8828 Q1145.5078,969.1016 1145.0781,968.6719 Q1144.2969,967.8516 1142.8906,967.3828 Q1141.4844,966.875 1140.0781,966.875 Q1138.3203,966.875 1136.8359,967.5781 Q1135.3906,968.2813 1134.2578,969.8438 Q1133.125,971.4063 1133.125,973.5547 L1133.125,975.8594 Q1133.125,978.4375 1135.2344,980.1563 Q1137.3438,981.875 1141.0938,981.875 Q1143.3203,981.875 1144.8828,981.3672 Q1145.7813,981.0938 1146.7969,980.1953 Q1147.4609,979.6875 1147.8125,979.5313 Q1148.1641,979.375 1148.5938,979.375 Q1149.4141,979.375 1150,980.0391 Q1150.625,980.6641 1150.625,981.5625 Q1150.625,982.4219 1149.7656,983.4375 Q1148.5156,984.9219 1146.5234,985.7422 Q1143.9063,986.875 1140.7031,986.875 Q1136.9531,986.875 1133.9453,985.3906 Q1131.5234,984.2188 1129.8047,981.6797 Q1128.125,979.1406 1128.125,976.1328 L1128.125,973.3984 Q1128.125,970.2734 1129.6094,967.5391 Q1131.1328,964.8047 1133.75,963.3594 Q1136.4063,961.875 1139.375,961.875 Q1141.1719,961.875 1142.7344,962.5 Q1144.2969,963.125 1145.625,964.375 Z " fill="#000000"/><ellipse cx="1204.375" cy="971.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1219.375" y="985.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="317.5" x="1286.875" y="985.4004">CardSelectionScenario</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="980" x2="1735" y1="1013.125" y2="1013.125"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="980" x2="1735" y1="1033.125" y2="1033.125"/><ellipse cx="1005" cy="1060.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="292.5" x="1027.5" y="1071.6724">CardSelectionScenario (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="635" x="1087.5" y="1106.2622">List&lt;CardSelectionRequest&gt; cardSelectionRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="1087.5" y="1140.8521">MultiSelectionProcessing multiSelectionProcessing,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="1087.5" y="1175.4419">ChannelControl channelControl)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="980" x2="1735" y1="1191.4844" y2="1191.4844"/><ellipse cx="1005" cy="1218.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="667.5" x="1027.5" y="1230.0317">MultiSelectionProcessing getMultiSelectionProcessing ()</text><ellipse cx="1005" cy="1253.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="1027.5" y="1264.6216">ChannelControl getChannelControl ()</text><ellipse cx="1005" cy="1288.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="695" x="1027.5" y="1299.2114">List&lt;CardSelectionRequest&gt; getCardSelectionRequests ()</text><!--MD5=[ad88d8106adc0f21766a2a077a674dda]
class CardSelectionResponse--><rect codeLine="260" fill="#F4ECF7" height="333.418" id="CardSelectionResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="607.5" x="2713.75" y="1473.125"/><ellipse cx="2751.25" cy="1523.3594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2756.25,1514.6094 Q2756.7578,1513.3594 2757.3438,1512.7344 Q2757.9297,1512.1094 2758.5938,1512.1094 Q2759.7656,1512.1094 2760.5078,1512.8125 Q2761.25,1513.5156 2761.25,1515.1563 L2761.25,1519.0625 Q2761.25,1520.7031 2760.5469,1521.4063 Q2759.8438,1522.1094 2758.75,1522.1094 Q2757.7734,1522.1094 2757.1484,1521.6797 Q2756.5234,1521.25 2756.25,1520.1172 Q2756.1328,1519.3359 2755.7031,1518.9063 Q2754.9219,1518.0859 2753.5156,1517.6172 Q2752.1094,1517.1094 2750.7031,1517.1094 Q2748.9453,1517.1094 2747.4609,1517.8125 Q2746.0156,1518.5156 2744.8828,1520.0781 Q2743.75,1521.6406 2743.75,1523.7891 L2743.75,1526.0938 Q2743.75,1528.6719 2745.8594,1530.3906 Q2747.9688,1532.1094 2751.7188,1532.1094 Q2753.9453,1532.1094 2755.5078,1531.6016 Q2756.4063,1531.3281 2757.4219,1530.4297 Q2758.0859,1529.9219 2758.4375,1529.7656 Q2758.7891,1529.6094 2759.2188,1529.6094 Q2760.0391,1529.6094 2760.625,1530.2734 Q2761.25,1530.8984 2761.25,1531.7969 Q2761.25,1532.6563 2760.3906,1533.6719 Q2759.1406,1535.1563 2757.1484,1535.9766 Q2754.5313,1537.1094 2751.3281,1537.1094 Q2747.5781,1537.1094 2744.5703,1535.625 Q2742.1484,1534.4531 2740.4297,1531.9141 Q2738.75,1529.375 2738.75,1526.3672 L2738.75,1523.6328 Q2738.75,1520.5078 2740.2344,1517.7734 Q2741.7578,1515.0391 2744.375,1513.5938 Q2747.0313,1512.1094 2750,1512.1094 Q2751.7969,1512.1094 2753.3594,1512.7344 Q2754.9219,1513.3594 2756.25,1514.6094 Z " fill="#000000"/><ellipse cx="2798.75" cy="1522.1094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2813.75" y="1516.7676">&lt;&lt;</text><text fill="#000000" filter="url(#biimhmgvwyymz0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="430" x="2848.75" y="1516.7676">KeypleCardSelectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3278.75" y="1516.7676">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2862.5" y="1554.502">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="335" x="2930" y="1554.502">CardSelectionResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2716.25" x2="3318.75" y1="1573.5938" y2="1573.5938"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2716.25" x2="3318.75" y1="1593.5938" y2="1593.5938"/><ellipse cx="2741.25" cy="1621.0938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="307.5" x="2763.75" y="1632.1411">CardSelectionResponse (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="2823.75" y="1666.731">SelectionStatus selectionStatus,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="2823.75" y="1701.3208">CardResponse cardResponse)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2716.25" x2="3318.75" y1="1717.3633" y2="1717.3633"/><ellipse cx="2741.25" cy="1744.8633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="2763.75" y="1755.9106">SelectionStatus getSelectionStatus ()</text><ellipse cx="2741.25" cy="1779.4531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="2763.75" y="1790.5005">CardResponse getCardResponse ()</text><!--MD5=[62519695b550f8cbf5b64cbd0e08e475]
class CardResponse--><rect codeLine="261" fill="#F4ECF7" height="367.5391" id="CardResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="735" x="2682.5" y="2008.125"/><ellipse cx="2888.125" cy="2048.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2893.125,2039.375 Q2893.6328,2038.125 2894.2188,2037.5 Q2894.8047,2036.875 2895.4688,2036.875 Q2896.6406,2036.875 2897.3828,2037.5781 Q2898.125,2038.2813 2898.125,2039.9219 L2898.125,2043.8281 Q2898.125,2045.4688 2897.4219,2046.1719 Q2896.7188,2046.875 2895.625,2046.875 Q2894.6484,2046.875 2894.0234,2046.4453 Q2893.3984,2046.0156 2893.125,2044.8828 Q2893.0078,2044.1016 2892.5781,2043.6719 Q2891.7969,2042.8516 2890.3906,2042.3828 Q2888.9844,2041.875 2887.5781,2041.875 Q2885.8203,2041.875 2884.3359,2042.5781 Q2882.8906,2043.2813 2881.7578,2044.8438 Q2880.625,2046.4063 2880.625,2048.5547 L2880.625,2050.8594 Q2880.625,2053.4375 2882.7344,2055.1563 Q2884.8438,2056.875 2888.5938,2056.875 Q2890.8203,2056.875 2892.3828,2056.3672 Q2893.2813,2056.0938 2894.2969,2055.1953 Q2894.9609,2054.6875 2895.3125,2054.5313 Q2895.6641,2054.375 2896.0938,2054.375 Q2896.9141,2054.375 2897.5,2055.0391 Q2898.125,2055.6641 2898.125,2056.5625 Q2898.125,2057.4219 2897.2656,2058.4375 Q2896.0156,2059.9219 2894.0234,2060.7422 Q2891.4063,2061.875 2888.2031,2061.875 Q2884.4531,2061.875 2881.4453,2060.3906 Q2879.0234,2059.2188 2877.3047,2056.6797 Q2875.625,2054.1406 2875.625,2051.1328 L2875.625,2048.3984 Q2875.625,2045.2734 2877.1094,2042.5391 Q2878.6328,2039.8047 2881.25,2038.3594 Q2883.9063,2036.875 2886.875,2036.875 Q2888.6719,2036.875 2890.2344,2037.5 Q2891.7969,2038.125 2893.125,2039.375 Z " fill="#000000"/><ellipse cx="2951.875" cy="2046.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2966.875" y="2060.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="207.5" x="3034.375" y="2060.4004">CardResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2685" x2="3415" y1="2088.125" y2="2088.125"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2685" x2="3415" y1="2108.125" y2="2108.125"/><ellipse cx="2710" cy="2135.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="670" x="2732.5" y="2146.6724">CardResponse (List&lt;ApduResponse&gt; apduResponses,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="377.5" x="2792.5" y="2181.2622">boolean isLogicalChannelOpen,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="242.5" x="2792.5" y="2215.8521">boolean isComplete)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2685" x2="3415" y1="2231.8945" y2="2231.8945"/><ellipse cx="2710" cy="2259.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="2732.5" y="2270.4419">List&lt;ApduResponse&gt; getApduResponses ()</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2685" x2="3415" y1="2286.4844" y2="2286.4844"/><ellipse cx="2710" cy="2313.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="2732.5" y="2325.0317">boolean isLogicalChannelOpen ()</text><ellipse cx="2710" cy="2348.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="2732.5" y="2359.6216">boolean isComplete ()</text><!--MD5=[020bc233d237158d8be37d9dae17a65e]
class ApduResponse--><rect codeLine="262" fill="#F4ECF7" height="278.3594" id="ApduResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="422.5" x="2883.75" y="2711.875"/><ellipse cx="2937" cy="2751.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2942,2743.125 Q2942.5078,2741.875 2943.0938,2741.25 Q2943.6797,2740.625 2944.3438,2740.625 Q2945.5156,2740.625 2946.2578,2741.3281 Q2947,2742.0313 2947,2743.6719 L2947,2747.5781 Q2947,2749.2188 2946.2969,2749.9219 Q2945.5938,2750.625 2944.5,2750.625 Q2943.5234,2750.625 2942.8984,2750.1953 Q2942.2734,2749.7656 2942,2748.6328 Q2941.8828,2747.8516 2941.4531,2747.4219 Q2940.6719,2746.6016 2939.2656,2746.1328 Q2937.8594,2745.625 2936.4531,2745.625 Q2934.6953,2745.625 2933.2109,2746.3281 Q2931.7656,2747.0313 2930.6328,2748.5938 Q2929.5,2750.1563 2929.5,2752.3047 L2929.5,2754.6094 Q2929.5,2757.1875 2931.6094,2758.9063 Q2933.7188,2760.625 2937.4688,2760.625 Q2939.6953,2760.625 2941.2578,2760.1172 Q2942.1563,2759.8438 2943.1719,2758.9453 Q2943.8359,2758.4375 2944.1875,2758.2813 Q2944.5391,2758.125 2944.9688,2758.125 Q2945.7891,2758.125 2946.375,2758.7891 Q2947,2759.4141 2947,2760.3125 Q2947,2761.1719 2946.1406,2762.1875 Q2944.8906,2763.6719 2942.8984,2764.4922 Q2940.2813,2765.625 2937.0781,2765.625 Q2933.3281,2765.625 2930.3203,2764.1406 Q2927.8984,2762.9688 2926.1797,2760.4297 Q2924.5,2757.8906 2924.5,2754.8828 L2924.5,2752.1484 Q2924.5,2749.0234 2925.9844,2746.2891 Q2927.5078,2743.5547 2930.125,2742.1094 Q2932.7813,2740.625 2935.75,2740.625 Q2937.5469,2740.625 2939.1094,2741.25 Q2940.6719,2741.875 2942,2743.125 Z " fill="#000000"/><ellipse cx="2988" cy="2750.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3003" y="2764.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="3070.5" y="2764.1504">ApduResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2886.25" x2="3303.75" y1="2791.875" y2="2791.875"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2886.25" x2="3303.75" y1="2811.875" y2="2811.875"/><ellipse cx="2911.25" cy="2839.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="357.5" x="2933.75" y="2850.4224">ApduResponse (byte[] bytes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2886.25" x2="3303.75" y1="2866.4648" y2="2866.4648"/><ellipse cx="2911.25" cy="2893.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2933.75" y="2905.0122">byte[] getBytes ()</text><ellipse cx="2911.25" cy="2928.5547" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="2933.75" y="2939.6021">byte[] getDataOut ()</text><ellipse cx="2911.25" cy="2963.1445" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="2933.75" y="2974.1919">int getStatusCode ()</text><!--MD5=[17146a741b3becbcb08fff440a5eba97]
class SelectionStatus--><rect codeLine="263" fill="#F4ECF7" height="382.1289" id="SelectionStatus" style="stroke:#8E44AD;stroke-width:3.75;" width="375" x="3505" y="2000.625"/><ellipse cx="3567.25" cy="2040.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3572.25,2031.875 Q3572.7578,2030.625 3573.3438,2030 Q3573.9297,2029.375 3574.5938,2029.375 Q3575.7656,2029.375 3576.5078,2030.0781 Q3577.25,2030.7813 3577.25,2032.4219 L3577.25,2036.3281 Q3577.25,2037.9688 3576.5469,2038.6719 Q3575.8438,2039.375 3574.75,2039.375 Q3573.7734,2039.375 3573.1484,2038.9453 Q3572.5234,2038.5156 3572.25,2037.3828 Q3572.1328,2036.6016 3571.7031,2036.1719 Q3570.9219,2035.3516 3569.5156,2034.8828 Q3568.1094,2034.375 3566.7031,2034.375 Q3564.9453,2034.375 3563.4609,2035.0781 Q3562.0156,2035.7813 3560.8828,2037.3438 Q3559.75,2038.9063 3559.75,2041.0547 L3559.75,2043.3594 Q3559.75,2045.9375 3561.8594,2047.6563 Q3563.9688,2049.375 3567.7188,2049.375 Q3569.9453,2049.375 3571.5078,2048.8672 Q3572.4063,2048.5938 3573.4219,2047.6953 Q3574.0859,2047.1875 3574.4375,2047.0313 Q3574.7891,2046.875 3575.2188,2046.875 Q3576.0391,2046.875 3576.625,2047.5391 Q3577.25,2048.1641 3577.25,2049.0625 Q3577.25,2049.9219 3576.3906,2050.9375 Q3575.1406,2052.4219 3573.1484,2053.2422 Q3570.5313,2054.375 3567.3281,2054.375 Q3563.5781,2054.375 3560.5703,2052.8906 Q3558.1484,2051.7188 3556.4297,2049.1797 Q3554.75,2046.6406 3554.75,2043.6328 L3554.75,2040.8984 Q3554.75,2037.7734 3556.2344,2035.0391 Q3557.7578,2032.3047 3560.375,2030.8594 Q3563.0313,2029.375 3566,2029.375 Q3567.7969,2029.375 3569.3594,2030 Q3570.9219,2030.625 3572.25,2031.875 Z " fill="#000000"/><ellipse cx="3620.25" cy="2039.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="3635.25" y="2052.9004">SelectionStatus</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3507.5" x2="3877.5" y1="2080.625" y2="2080.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3507.5" x2="3877.5" y1="2100.625" y2="2100.625"/><ellipse cx="3532.5" cy="2128.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="205" x="3555" y="2139.1724">SelectionStatus (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="3615" y="2173.7622">AnswerToReset atr,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="3615" y="2208.3521">ApduResponse fci,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="3615" y="2242.9419">boolean isMatching)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3507.5" x2="3877.5" y1="2258.9844" y2="2258.9844"/><ellipse cx="3532.5" cy="2286.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="3555" y="2297.5317">AnswerToReset getAtr ()</text><ellipse cx="3532.5" cy="2321.0742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="295" x="3555" y="2332.1216">ApduResponse getFci ()</text><ellipse cx="3532.5" cy="2355.6641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="277.5" x="3555" y="2366.7114">boolean hasMatched ()</text><!--MD5=[08697d5c41fb59880dad310582db5b30]
class AnswerToReset--><rect codeLine="264" fill="#F4ECF7" height="209.1797" id="AnswerToReset" style="stroke:#8E44AD;stroke-width:3.75;" width="470" x="3410" y="2745.625"/><ellipse cx="3513.875" cy="2785.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3518.875,2776.875 Q3519.3828,2775.625 3519.9688,2775 Q3520.5547,2774.375 3521.2188,2774.375 Q3522.3906,2774.375 3523.1328,2775.0781 Q3523.875,2775.7813 3523.875,2777.4219 L3523.875,2781.3281 Q3523.875,2782.9688 3523.1719,2783.6719 Q3522.4688,2784.375 3521.375,2784.375 Q3520.3984,2784.375 3519.7734,2783.9453 Q3519.1484,2783.5156 3518.875,2782.3828 Q3518.7578,2781.6016 3518.3281,2781.1719 Q3517.5469,2780.3516 3516.1406,2779.8828 Q3514.7344,2779.375 3513.3281,2779.375 Q3511.5703,2779.375 3510.0859,2780.0781 Q3508.6406,2780.7813 3507.5078,2782.3438 Q3506.375,2783.9063 3506.375,2786.0547 L3506.375,2788.3594 Q3506.375,2790.9375 3508.4844,2792.6563 Q3510.5938,2794.375 3514.3438,2794.375 Q3516.5703,2794.375 3518.1328,2793.8672 Q3519.0313,2793.5938 3520.0469,2792.6953 Q3520.7109,2792.1875 3521.0625,2792.0313 Q3521.4141,2791.875 3521.8438,2791.875 Q3522.6641,2791.875 3523.25,2792.5391 Q3523.875,2793.1641 3523.875,2794.0625 Q3523.875,2794.9219 3523.0156,2795.9375 Q3521.7656,2797.4219 3519.7734,2798.2422 Q3517.1563,2799.375 3513.9531,2799.375 Q3510.2031,2799.375 3507.1953,2797.8906 Q3504.7734,2796.7188 3503.0547,2794.1797 Q3501.375,2791.6406 3501.375,2788.6328 L3501.375,2785.8984 Q3501.375,2782.7734 3502.8594,2780.0391 Q3504.3828,2777.3047 3507,2775.8594 Q3509.6563,2774.375 3512.625,2774.375 Q3514.4219,2774.375 3515.9844,2775 Q3517.5469,2775.625 3518.875,2776.875 Z " fill="#000000"/><ellipse cx="3576.125" cy="2784.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="215" x="3591.125" y="2797.9004">AnswerToReset</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3412.5" x2="3877.5" y1="2825.625" y2="2825.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3412.5" x2="3877.5" y1="2845.625" y2="2845.625"/><ellipse cx="3437.5" cy="2873.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="3460" y="2884.1724">AnswerToReset (byte[] atrBytes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3412.5" x2="3877.5" y1="2900.2148" y2="2900.2148"/><ellipse cx="3437.5" cy="2927.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3460" y="2938.7622">byte[] getBytes ()</text><!--MD5=[266955a256f69cd9e8835259646fbe13]
class CardExtensionSpi--><rect codeLine="169" fill="#FEFECE" height="223.7695" id="CardExtensionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="460" x="3245" y="423.125"/><ellipse cx="3329.75" cy="463.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3332.25,455.625 L3332.25,470.625 L3337.25,470.625 L3338.4609,470.625 L3339.75,472.1875 L3339.75,473.125 L3339.75,474.0625 L3338.4609,475.625 L3337.25,475.625 L3322.25,475.625 L3321.0391,475.625 L3319.75,474.0625 L3319.75,473.125 L3319.75,472.1875 L3321.0391,470.625 L3322.25,470.625 L3327.25,470.625 L3327.25,455.625 L3322.25,455.625 L3321.0391,455.625 L3319.75,454.0625 L3319.75,453.125 L3319.75,452.1875 L3321.0391,450.625 L3322.25,450.625 L3337.25,450.625 L3338.4609,450.625 L3339.75,452.1875 L3339.75,453.125 L3339.75,454.0625 L3338.4609,455.625 L3337.25,455.625 L3332.25,455.625 Z " fill="#000000"/><ellipse cx="3387.75" cy="461.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="247.5" x="3402.75" y="475.4004">CardExtensionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3247.5" x2="3702.5" y1="503.125" y2="503.125"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3247.5" x2="3702.5" y1="523.125" y2="523.125"/><ellipse cx="3272.5" cy="550.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="3295" y="561.6724">String getCardApiVersion ()</text><ellipse cx="3272.5" cy="585.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="370" x="3295" y="596.2622">String getServiceApiVersion ()</text><ellipse cx="3272.5" cy="619.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="395" x="3295" y="630.8521">String getCommonsApiVersion ()</text><!--MD5=[e210ee7b55cb4fcef849a017d68619f7]
class CardSelectionSpi--><rect codeLine="174" fill="#FEFECE" height="189.1797" id="CardSelectionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="920" x="2237.5" y="440.625"/><ellipse cx="2553.125" cy="480.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2555.625,473.125 L2555.625,488.125 L2560.625,488.125 L2561.8359,488.125 L2563.125,489.6875 L2563.125,490.625 L2563.125,491.5625 L2561.8359,493.125 L2560.625,493.125 L2545.625,493.125 L2544.4141,493.125 L2543.125,491.5625 L2543.125,490.625 L2543.125,489.6875 L2544.4141,488.125 L2545.625,488.125 L2550.625,488.125 L2550.625,473.125 L2545.625,473.125 L2544.4141,473.125 L2543.125,471.5625 L2543.125,470.625 L2543.125,469.6875 L2544.4141,468.125 L2545.625,468.125 L2560.625,468.125 L2561.8359,468.125 L2563.125,469.6875 L2563.125,470.625 L2563.125,471.5625 L2561.8359,473.125 L2560.625,473.125 L2555.625,473.125 Z " fill="#000000"/><ellipse cx="2616.875" cy="479.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="240" x="2631.875" y="492.9004">CardSelectionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2240" x2="3155" y1="520.625" y2="520.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2240" x2="3155" y1="540.625" y2="540.625"/><ellipse cx="2265" cy="568.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="2287.5" y="579.1724">CardSelectionRequest getCardSelectionRequest ()</text><ellipse cx="2265" cy="602.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="855" x="2287.5" y="613.7622">SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)</text><!--MD5=[c089e258773b765d812cd5d8bc232f90]
class SmartCardSpi--><rect codeLine="178" fill="#FEFECE" height="120" id="SmartCardSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="302.5" x="1846.25" y="475.625"/><ellipse cx="1883.75" cy="515.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1886.25,508.125 L1886.25,523.125 L1891.25,523.125 L1892.4609,523.125 L1893.75,524.6875 L1893.75,525.625 L1893.75,526.5625 L1892.4609,528.125 L1891.25,528.125 L1876.25,528.125 L1875.0391,528.125 L1873.75,526.5625 L1873.75,525.625 L1873.75,524.6875 L1875.0391,523.125 L1876.25,523.125 L1881.25,523.125 L1881.25,508.125 L1876.25,508.125 L1875.0391,508.125 L1873.75,506.5625 L1873.75,505.625 L1873.75,504.6875 L1875.0391,503.125 L1876.25,503.125 L1891.25,503.125 L1892.4609,503.125 L1893.75,504.6875 L1893.75,505.625 L1893.75,506.5625 L1892.4609,508.125 L1891.25,508.125 L1886.25,508.125 Z " fill="#000000"/><ellipse cx="1931.25" cy="514.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="1946.25" y="527.9004">SmartCardSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1848.75" x2="2146.25" y1="555.625" y2="555.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1848.75" x2="2146.25" y1="575.625" y2="575.625"/><!--MD5=[695000fa4fcaf49ec1bb096676d9e4f7]
reverse link AbstractCommunicationException to ReaderCommunicationException--><path d="M2191.9275,3100.31 C2173.38,3160.9775 2153.9925,3224.39 2137.0275,3279.8775 " fill="none" id="AbstractCommunicationException-backto-ReaderCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2175.205,3095.1475,2206.56,3052.45,2208.6775,3105.38,2175.205,3095.1475" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[30e8d21bd42c49f90ab21ceb84ec5489]
reverse link AbstractCommunicationException to CardCommunicationException--><path d="M2478.0975,3090.425 C2534.55,3154.0475 2594.3,3221.3675 2646.225,3279.8775 " fill="none" id="AbstractCommunicationException-backto-CardCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2464.495,3101.4625,2444.395,3052.45,2490.6725,3078.23,2464.495,3101.4625" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[2c1181f18c9077767c8cf6e4eb9d66e3]
link CardExtensionSpi to ApiProperties--><path codeLine="214" d="M3475,648.6 C3475,760.175 3475,930.35 3475,1033.35 " fill="none" id="CardExtensionSpi-to-ApiProperties" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3475,1046.2,3485,1023.7,3475,1033.7,3465,1023.7,3475,1046.2" style="stroke:#27AE60;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3525" y="804.3628">provide</text><polygon fill="#000000" points="3490,844.4434,3497.3473,821.8306,3482.6527,821.8306,3490,844.4434" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="162.5" x="3510" y="845.2417">API version</text><!--MD5=[604555a7fe74e2d4d4d93159c1afacf3]
reverse link CardSelectionScenario to CardSelectionRequest--><path codeLine="216" d="M1019.055,1333.59 C937.34,1383.5 851.43,1435.97 774.475,1482.975 " fill="none" id="CardSelectionScenario-backto-CardSelectionRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1047.7625,1316.055,1029.7489,1315.3407,1022.1613,1331.694,1040.1749,1332.4082,1047.7625,1316.055" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="740.1409" y="1456.3414">1..N</text><!--MD5=[df15868aa9ec96f8eb2ebc9a80d2b047]
reverse link CardSelectionScenario to MultiSelectionProcessing--><path codeLine="217" d="M1474.33,1345.53 C1511.4375,1414.975 1550.5025,1488.0925 1580.2175,1543.705 " fill="none" id="CardSelectionScenario-backto-MultiSelectionProcessing" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1458.5825,1316.055,1456.8308,1333.9974,1472.7193,1342.5154,1474.471,1324.5729,1458.5825,1316.055" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1552.2914" y="1516.9904">1</text><!--MD5=[31fb94af43f4c6a6a97051dc9281be30]
reverse link CardSelectionScenario to ChannelControl--><path codeLine="218" d="M1270.3125,1346.4625 C1242.8475,1415.6275 1213.9775,1488.34 1191.9925,1543.705 " fill="none" id="CardSelectionScenario-backto-ChannelControl" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1282.385,1316.055,1267.5546,1326.3049,1271.3121,1343.9367,1286.1425,1333.6868,1282.385,1316.055" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1179.5232" y="1516.9904">1</text><!--MD5=[9835af9204c9210f827ba24cc91945f0]
reverse link CardSelectionRequest to CardRequest--><path codeLine="220" d="M657.27,1821.41 C688.875,1858.01 723.925,1894.73 760,1925.625 C814.2275,1972.065 877.61,2015.38 939.03,2052.94 " fill="none" id="CardSelectionRequest-backto-CardRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="635.97,1796.1625,637.9997,1814.0756,655.3156,1819.0917,653.2859,1801.1786,635.97,1796.1625" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="847.3901" y="2026.3155">0..1</text><!--MD5=[d401507d432a199d6c8d10fa177dfeb2]
reverse link CardRequest to ApduRequest--><path codeLine="222" d="M1197.5,2363.7025 C1197.5,2429.0225 1197.5,2505.3775 1197.5,2577.8975 " fill="none" id="CardRequest-backto-ApduRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1197.5,2330.6275,1187.5,2345.6275,1197.5,2360.6275,1207.5,2345.6275,1197.5,2330.6275" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="1135.3906" y="2551.0522">1..N</text><!--MD5=[77f859707804abe419614d0e91d95dfe]
reverse link CardSelectionResponse to CardResponse--><path codeLine="224" d="M3029.2,1838.9225 C3032.475,1894.0925 3036.025,1953.7875 3039.225,2008.005 " fill="none" id="CardSelectionResponse-backto-CardResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3027.25,1806.1425,3018.1564,1821.7087,3029.0277,1836.0898,3038.1213,1820.5236,3027.25,1806.1425" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3019.7115" y="1980.762">1</text><!--MD5=[4905b2efbeb6b377be21c40fb1d79f57]
reverse link CardSelectionResponse to SelectionStatus--><path codeLine="225" d="M3247.75,1826.8675 C3316.9,1882.5925 3392.875,1943.99 3462.5,2000.625 C3476.125,2011.7075 3490.175,2023.175 3504.325,2034.73 " fill="none" id="CardSelectionResponse-backto-SelectionStatus" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3221.6,1805.81,3227.0053,1823.0083,3244.9597,1824.6336,3239.5543,1807.4352,3221.6,1805.81" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3467.4402" y="2011.0916">1</text><!--MD5=[9424ef5399bf3a67a4952b2f5019cc6d]
reverse link CardResponse to ApduResponse--><path codeLine="227" d="M3064.775,2408.9075 C3071.625,2508.54 3079.575,2624.0275 3085.6,2711.57 " fill="none" id="CardResponse-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3062.525,2376.48,3053.5787,2392.1313,3064.5851,2406.4092,3073.5314,2390.7579,3062.525,2376.48" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="3020.5519" y="2684.9301">1..N</text><!--MD5=[1cd47721a07c040e565e1a09c1eba3b5]
reverse link SelectionStatus to ApduResponse--><path codeLine="229" d="M3497.45,2407.8 C3406.225,2507.6075 3300.275,2623.5225 3220,2711.3625 " fill="none" id="SelectionStatus-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3519.675,2383.4675,3502.1749,2387.7973,3499.4409,2405.6166,3516.941,2401.2867,3519.675,2383.4675" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3177.4922" y="2684.696">0..1</text><!--MD5=[24cbd97995d68a7170e91f5c730befab]
reverse link SelectionStatus to AnswerToReset--><path codeLine="230" d="M3676.4,2415.9325 C3668.3,2527.5725 3658.85,2657.5625 3652.45,2745.6 " fill="none" id="SelectionStatus-backto-AnswerToReset" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3678.75,2383.4675,3667.6904,2397.7043,3676.5784,2413.3888,3687.638,2399.152,3678.75,2383.4675" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3594.1292" y="2718.7712">0..1</text><!--MD5=[c43bae1df4c6233cf7d1823fce18a071]
link CardResponse to AbstractCommunicationException--><path codeLine="232" d="M2832.025,2376.48 C2738.825,2454.3425 2629.2,2545.935 2531.475,2627.5925 " fill="none" id="CardResponse-to-AbstractCommunicationException" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2505.575,2649.23,2523.4984,2647.293,2528.6041,2630.0034,2510.6807,2631.9403,2505.575,2649.23" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="2754.3953" y="2429.1185">0..1</text><!--MD5=[c545f7e69e1fd10e93a83a4930be8cac]
reverse link CardSelectionRequest to ProxyReader--><path codeLine="234" d="M916.3375,1795.47 C926.81,1798.9575 937.21,1802.35 947.5,1805.625 C1153.955,1871.3575 1207.7675,1882.015 1420,1925.625 C1629.3525,1968.6425 1694.765,1925.89 1895,2000.625 C1931.8275,2014.37 1968.995,2032.91 2004.0725,2053.02 " fill="none" id="CardSelectionRequest-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="904.015,1791.3325,922.1681,1807.9673,915.8664,1795.3068,928.5269,1789.0051,904.015,1791.3325" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1420.3363,1900.6844,1440.6478,1913.0441,1444.0335,1898.7448,1420.3363,1900.6844" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1455" y="1916.8628">use</text><!--MD5=[2442a7d7f46532290415533a60537508]
link ProxyReader to CardRequest--><path codeLine="235" d="M1936.21,2191.875 C1816.7225,2191.875 1673.47,2191.875 1545.0525,2191.875 " fill="none" id="ProxyReader-to-CardRequest" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1531.875,2191.875,1554.375,2201.875,1544.375,2191.875,1554.375,2181.875,1531.875,2191.875" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1688.75,2162.3145,1711.3627,2169.6618,1711.3627,2154.9671,1688.75,2162.3145" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1723.75" y="2175.6128">use</text><!--MD5=[cea258861a101b37c0092aa2c73adb0e]
reverse link MultiSelectionProcessing to ProxyReader--><path codeLine="236" d="M1735.975,1744.115 C1826.2625,1831.22 1956.765,1957.1225 2055.9775,2052.84 " fill="none" id="MultiSelectionProcessing-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1726.2675,1734.75,1735.5136,1757.5702,1735.2621,1743.4303,1749.402,1743.1788,1726.2675,1734.75" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1918.5041,1894.8856,1929.6765,1915.8735,1939.8792,1905.2982,1918.5041,1894.8856" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1950" y="1916.8628">use</text><!--MD5=[86fbc7b023257ef37098cf7570a66f83]
reverse link ChannelControl to ProxyReader--><path codeLine="237" d="M1268.1975,1742.9675 C1296.88,1765.5125 1328.52,1787.9425 1360,1805.625 C1580.6575,1929.56 1667.5225,1889.705 1895,2000.625 C1926.9925,2016.225 1959.875,2034.34 1991.6325,2053.0525 " fill="none" id="ChannelControl-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1257.77,1734.665,1269.1433,1756.503,1267.549,1742.451,1281.6009,1740.8567,1257.77,1734.665" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1693.5109,1898.6399,1711.4003,1914.3016,1717.1894,1900.7954,1693.5109,1898.6399" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1727.5" y="1916.8628">use</text><!--MD5=[ef2297562df3bdaf27e19b497e1f04bc]
reverse link CardSelectionResponse to ProxyReader--><path codeLine="239" d="M2761.05,1813.1 C2645.375,1890.335 2510.65,1980.295 2401.925,2052.8825 " fill="none" id="CardSelectionResponse-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="2771.475,1806.1425,2747.2062,1810.2989,2761.0733,1813.0746,2758.2976,1826.9417,2771.475,1806.1425" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2677.8957,1896.6234,2655.0098,1903.0694,2663.1695,1915.2904,2677.8957,1896.6234" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2690" y="1916.8628">provide</text><!--MD5=[07ed8df3c1c3d85fbf148d2489e3f22f]
link ProxyReader to CardResponse--><path codeLine="240" d="M2459.0725,2191.875 C2525.425,2191.875 2598.075,2191.875 2669.025,2191.875 " fill="none" id="ProxyReader-to-CardResponse" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="2682.25,2191.875,2659.75,2181.875,2669.75,2191.875,2659.75,2201.875,2682.25,2191.875" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2526.875,2162.3145,2504.2623,2154.9671,2504.2623,2169.6618,2526.875,2162.3145" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2536.875" y="2175.6128">provide</text><!--MD5=[d8ee4aa3985d164868eed7d62e106dde]
link ProxyReader to AbstractCommunicationException--><path codeLine="241" d="M2212.09,2330.6275 C2221.5225,2418.7275 2233.9975,2535.225 2244.72,2635.3775 " fill="none" id="ProxyReader-to-AbstractCommunicationException" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="2246.1525,2648.7625,2253.6976,2625.3249,2244.8203,2636.3337,2233.8115,2627.4564,2246.1525,2648.7625" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2246.3308,2493.4934,2251.2289,2470.227,2236.6178,2471.7914,2246.3308,2493.4934" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="77.5" x="2267.5" y="2494.3628">throw</text><!--MD5=[55b39db0fd9be3bef178361b3f8e6ac6]
link spi to CardSelectionScenario--><!--MD5=[bf15129783f09dcfe1fe52433c011c69]
link spi to CardSelectionResponse--><!--MD5=[9396ec3cb63b4ae51e26562241bb89eb]
@startuml
title
        Keyple 2.0 - keyple-java-card-api - 2.0 (04/03/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.core.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +CardResponse transmitCardRequest (
        \tCardRequest cardRequest,
        \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    ' REQUEST
    together {
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
                \tCardRequest cardRequest)
            ..
            +<back:cyan>KeypleCardSelector</back> getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests,
                \tboolean isStatusCodesVerificationEnabled)
            ..
            +List<ApduRequest> getApduRequests ()
            +boolean isStatusCodesVerificationEnabled ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes, boolean case4)
            +ApduRequest (byte cla, byte instruction,
                \tbyte p1, byte p2, byte[] dataIn, Byte le)
            ..
            +ApduRequest setSuccessfulStatusCodes (
                \tSet<Integer> successfulStatusCodes)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
            ..
            +boolean isCase4 ()
        }
        +class "**final** CardSelectionScenario" as CardSelectionScenario {
            - -
            +CardSelectionScenario (
                \tList<CardSelectionRequest> cardSelectionRequests,
                \tMultiSelectionProcessing multiSelectionProcessing,
                \tChannelControl channelControl)
            ..
            +MultiSelectionProcessing getMultiSelectionProcessing ()
            +ChannelControl getChannelControl ()
            +List<CardSelectionRequest> getCardSelectionRequests ()
        }
    }
    ' RESPONSE
    together {
        +class "<<<back:cyan>KeypleCardSelectionResponse</back>>>\n**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (
                \tSelectionStatus selectionStatus,
                \tCardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "**final** CardResponse" as CardResponse {
            - -
            +CardResponse (List<ApduResponse> apduResponses,
                \tboolean isLogicalChannelOpen,
                \tboolean isComplete)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
            +boolean isComplete ()
        }
        +class "**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] bytes)
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusCode ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
    }
    ' SPI
    package spi {
        +interface CardExtensionSpi {
            +String getCardApiVersion ()
            +String getServiceApiVersion ()
            +String getCommonsApiVersion ()
        }
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
    }
    +abstract class "<<Exception>>\nAbstractCommunicationException" as AbstractCommunicationException {
        - -
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
        ..
        +CardResponse getCardResponse ()
    }
    +class "**final** ReaderCommunicationException" as ReaderCommunicationException extends AbstractCommunicationException {
        - -
        +ReaderCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        +ReaderCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
    }
    +class "**final** CardCommunicationException" as CardCommunicationException extends AbstractCommunicationException {
        - -
        +CardCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        +CardCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
    }
}

' Associations

CardExtensionSpi ..> ApiProperties #C_USE : provide\nAPI version >

CardSelectionScenario *- - "1..N" CardSelectionRequest #C_LINK
CardSelectionScenario *- - "1" MultiSelectionProcessing #C_LINK
CardSelectionScenario *- - "1" ChannelControl #C_LINK

CardSelectionRequest *- - "0..1" CardRequest #C_LINK

CardRequest *- - "1..N" ApduRequest #C_LINK

CardSelectionResponse *- - "1" CardResponse #C_LINK
CardSelectionResponse *- - "1" SelectionStatus #C_LINK

CardResponse *- - "1..N" ApduResponse #C_LINK

SelectionStatus *- - "0..1" ApduResponse  #C_LINK
SelectionStatus *- - "0..1" AnswerToReset  #C_LINK

AbstractCommunicationException *-up- "0..1" CardResponse #C_LINK

ProxyReader -left-> CardSelectionRequest #C_USE : use >
ProxyReader - -> CardRequest #C_USE : use >
ProxyReader -up-> MultiSelectionProcessing #C_USE : use >
ProxyReader -up-> ChannelControl #C_USE : use >

ProxyReader -up-> CardSelectionResponse #C_USE : provide >
ProxyReader -> CardResponse #C_USE : provide >
ProxyReader - -> AbstractCommunicationException #C_USE : throw >

' == LAYOUT ==

spi -[hidden]- CardSelectionScenario
spi -[hidden]- CardSelectionResponse

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}

class CardSelectionScenario <<green>>
class CardSelectionRequest <<green>>
enum MultiSelectionProcessing <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractCommunicationException <<purple>>
class ReaderCommunicationException <<purple>>
class CardCommunicationException <<purple>>

@enduml

@startuml
title
        Keyple 2.0 - keyple-java-card-api - 2.0 (04/03/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.core.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +CardResponse transmitCardRequest (
        \tCardRequest cardRequest,
        \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    together {
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
                \tCardRequest cardRequest)
            ..
            +<back:cyan>KeypleCardSelector</back> getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests,
                \tboolean isStatusCodesVerificationEnabled)
            ..
            +List<ApduRequest> getApduRequests ()
            +boolean isStatusCodesVerificationEnabled ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes, boolean case4)
            +ApduRequest (byte cla, byte instruction,
                \tbyte p1, byte p2, byte[] dataIn, Byte le)
            ..
            +ApduRequest setSuccessfulStatusCodes (
                \tSet<Integer> successfulStatusCodes)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
            ..
            +boolean isCase4 ()
        }
        +class "**final** CardSelectionScenario" as CardSelectionScenario {
            - -
            +CardSelectionScenario (
                \tList<CardSelectionRequest> cardSelectionRequests,
                \tMultiSelectionProcessing multiSelectionProcessing,
                \tChannelControl channelControl)
            ..
            +MultiSelectionProcessing getMultiSelectionProcessing ()
            +ChannelControl getChannelControl ()
            +List<CardSelectionRequest> getCardSelectionRequests ()
        }
    }
    together {
        +class "<<<back:cyan>KeypleCardSelectionResponse</back>>>\n**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (
                \tSelectionStatus selectionStatus,
                \tCardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "**final** CardResponse" as CardResponse {
            - -
            +CardResponse (List<ApduResponse> apduResponses,
                \tboolean isLogicalChannelOpen,
                \tboolean isComplete)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
            +boolean isComplete ()
        }
        +class "**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] bytes)
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusCode ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
    }
    package spi {
        +interface CardExtensionSpi {
            +String getCardApiVersion ()
            +String getServiceApiVersion ()
            +String getCommonsApiVersion ()
        }
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
    }
    +abstract class "<<Exception>>\nAbstractCommunicationException" as AbstractCommunicationException {
        - -
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
        ..
        +CardResponse getCardResponse ()
    }
    +class "**final** ReaderCommunicationException" as ReaderCommunicationException extends AbstractCommunicationException {
        - -
        +ReaderCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        +ReaderCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
    }
    +class "**final** CardCommunicationException" as CardCommunicationException extends AbstractCommunicationException {
        - -
        +CardCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        +CardCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
    }
}


CardExtensionSpi ..> ApiProperties #27AE60 : provide\nAPI version >

CardSelectionScenario *- - "1..N" CardSelectionRequest #3498DB
CardSelectionScenario *- - "1" MultiSelectionProcessing #3498DB
CardSelectionScenario *- - "1" ChannelControl #3498DB

CardSelectionRequest *- - "0..1" CardRequest #3498DB

CardRequest *- - "1..N" ApduRequest #3498DB

CardSelectionResponse *- - "1" CardResponse #3498DB
CardSelectionResponse *- - "1" SelectionStatus #3498DB

CardResponse *- - "1..N" ApduResponse #3498DB

SelectionStatus *- - "0..1" ApduResponse  #3498DB
SelectionStatus *- - "0..1" AnswerToReset  #3498DB

AbstractCommunicationException *-up- "0..1" CardResponse #3498DB

ProxyReader -left-> CardSelectionRequest #27AE60 : use >
ProxyReader - -> CardRequest #27AE60 : use >
ProxyReader -up-> MultiSelectionProcessing #27AE60 : use >
ProxyReader -up-> ChannelControl #27AE60 : use >

ProxyReader -up-> CardSelectionResponse #27AE60 : provide >
ProxyReader -> CardResponse #27AE60 : provide >
ProxyReader - -> AbstractCommunicationException #27AE60 : throw >


spi -[hidden]- CardSelectionScenario
spi -[hidden]- CardSelectionResponse


package api #F8F9F9 {}
package spi #F2F3F4 {}

class CardSelectionScenario <<green>>
class CardSelectionRequest <<green>>
enum MultiSelectionProcessing <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractCommunicationException <<purple>>
class ReaderCommunicationException <<purple>>
class CardCommunicationException <<purple>>

@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>