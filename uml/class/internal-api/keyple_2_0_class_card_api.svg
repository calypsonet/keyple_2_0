<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3515px" preserveAspectRatio="none" style="width:6195px;height:3515px;" version="1.1" viewBox="0 0 6195 3515" width="6195px" zoomAndPan="magnify"><defs><filter height="1" id="b1hnrhdrf4flre0" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1027.5" x="2567.5" y="46.7139">Keyple 2.0 - keyple-java-card-api - 2.0 (03/03/2021)</text><rect fill="#DDDDDD" height="69.0234" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:2.5;" width="497.5" x="2831.25" y="76.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="140" x="2846.25" y="125.4346">Legend :</text><text fill="#000000" filter="url(#b1hnrhdrf4flre0)" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="70" x="2996.25" y="125.4346">from</text><text fill="#000000" filter="url(#b1hnrhdrf4flre0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="237.5" x="3076.25" y="125.4346">Commons API</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="40,183.125,555,183.125,572.5,242.1484,6152.5,242.1484,6152.5,3498.125,40,3498.125,40,183.125" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="572.5" y1="242.1484" y2="242.1484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="500" x="50" y="224.458">org.eclipse.keyple.core.card</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="2445,648.125,2512.5,648.125,2530,707.1484,4472.5,707.1484,4472.5,1043.125,2445,1043.125,2445,648.125" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="2445" x2="2530" y1="707.1484" y2="707.1484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="2455" y="689.458">spi</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="52" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="427.5" x="3968.75" y="273.125"/><ellipse cx="4006.25" cy="313.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M4011.25,304.375 Q4011.7578,303.125 4012.3438,302.5 Q4012.9297,301.875 4013.5938,301.875 Q4014.7656,301.875 4015.5078,302.5781 Q4016.25,303.2813 4016.25,304.9219 L4016.25,308.8281 Q4016.25,310.4688 4015.5469,311.1719 Q4014.8438,311.875 4013.75,311.875 Q4012.7734,311.875 4012.1484,311.4453 Q4011.5234,311.0156 4011.25,309.8828 Q4011.1328,309.1016 4010.7031,308.6719 Q4009.9219,307.8516 4008.5156,307.3828 Q4007.1094,306.875 4005.7031,306.875 Q4003.9453,306.875 4002.4609,307.5781 Q4001.0156,308.2813 3999.8828,309.8438 Q3998.75,311.4063 3998.75,313.5547 L3998.75,315.8594 Q3998.75,318.4375 4000.8594,320.1563 Q4002.9688,321.875 4006.7188,321.875 Q4008.9453,321.875 4010.5078,321.3672 Q4011.4063,321.0938 4012.4219,320.1953 Q4013.0859,319.6875 4013.4375,319.5313 Q4013.7891,319.375 4014.2188,319.375 Q4015.0391,319.375 4015.625,320.0391 Q4016.25,320.6641 4016.25,321.5625 Q4016.25,322.4219 4015.3906,323.4375 Q4014.1406,324.9219 4012.1484,325.7422 Q4009.5313,326.875 4006.3281,326.875 Q4002.5781,326.875 3999.5703,325.3906 Q3997.1484,324.2188 3995.4297,321.6797 Q3993.75,319.1406 3993.75,316.1328 L3993.75,313.3984 Q3993.75,310.2734 3995.2344,307.5391 Q3996.7578,304.8047 3999.375,303.3594 Q4002.0313,301.875 4005,301.875 Q4006.7969,301.875 4008.3594,302.5 Q4009.9219,303.125 4011.25,304.375 Z " fill="#000000"/><ellipse cx="4053.75" cy="311.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="4068.75" y="325.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="4136.25" y="325.4004">CardApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3971.25" x2="4393.75" y1="353.125" y2="353.125"/><ellipse cx="3996.25" cy="380.625" fill="none" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="4018.75" y="391.6724">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="4083.75" y="391.6724">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3971.25" x2="4393.75" y1="407.7148" y2="407.7148"/><!--MD5=[96a4004012a1c08588eb87adf87ec875]
class ProxyReader--><rect codeLine="55" fill="#FEFECE" height="436.7188" id="ProxyReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="830" x="1935" y="2263.125"/><ellipse cx="2235.625" cy="2303.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2238.125,2295.625 L2238.125,2310.625 L2243.125,2310.625 L2244.3359,2310.625 L2245.625,2312.1875 L2245.625,2313.125 L2245.625,2314.0625 L2244.3359,2315.625 L2243.125,2315.625 L2228.125,2315.625 L2226.9141,2315.625 L2225.625,2314.0625 L2225.625,2313.125 L2225.625,2312.1875 L2226.9141,2310.625 L2228.125,2310.625 L2233.125,2310.625 L2233.125,2295.625 L2228.125,2295.625 L2226.9141,2295.625 L2225.625,2294.0625 L2225.625,2293.125 L2225.625,2292.1875 L2226.9141,2290.625 L2228.125,2290.625 L2243.125,2290.625 L2244.3359,2290.625 L2245.625,2292.1875 L2245.625,2293.125 L2245.625,2294.0625 L2244.3359,2295.625 L2243.125,2295.625 L2238.125,2295.625 Z " fill="#000000"/><ellipse cx="2299.375" cy="2301.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="2314.375" y="2315.4004">ProxyReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1937.5" x2="2762.5" y1="2343.125" y2="2343.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1937.5" x2="2762.5" y1="2363.125" y2="2363.125"/><ellipse cx="1962.5" cy="2390.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="765" x="1985" y="2401.6724">List&lt;CardSelectionResponse&gt; transmitCardSelectionRequests (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="635" x="2045" y="2436.2622">List&lt;CardSelectionRequest&gt; cardSelectionRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="2045" y="2470.8521">MultiSelectionProcessing multiSelectionProcessing,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="2045" y="2505.4419">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1937.5" x2="2762.5" y1="2521.4844" y2="2521.4844"/><ellipse cx="1962.5" cy="2548.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="457.5" x="1985" y="2560.0317">CardResponse transmitCardRequest (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="2045" y="2594.6216">CardRequest cardRequest,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="2045" y="2629.2114">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1937.5" x2="2762.5" y1="2645.2539" y2="2645.2539"/><ellipse cx="1962.5" cy="2672.7539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="1985" y="2683.8013">void releaseChannel ()</text><!--MD5=[74186dfc070fdcd425f3f969c4ef0c47]
class AbstractCommunicationException--><rect codeLine="271" fill="#F4ECF7" height="422.5977" id="AbstractCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="910" x="4267.5" y="1180.625"/><ellipse cx="4464.375" cy="1230.8594" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M4468.75,1234.6094 L4460.5078,1234.6094 L4459.4141,1237.1094 L4459.4141,1237.1094 L4460.5859,1237.1094 L4461.875,1238.6719 L4461.875,1239.6094 L4461.875,1240.5469 L4460.5859,1242.1094 L4459.4141,1242.1094 L4454.6875,1242.1094 L4453.1641,1242.1094 L4451.875,1240.5469 L4451.875,1239.6094 L4451.875,1238.6719 L4453.1641,1237.1094 L4454.6875,1237.1094 L4460.4688,1222.1094 L4458.2813,1222.1094 L4455.6641,1222.1094 L4454.375,1220.5469 L4454.375,1219.6094 L4454.375,1218.6719 L4455.6641,1217.1094 L4458.2813,1217.1094 L4467.4609,1217.1094 L4474.1797,1237.1094 L4475.5859,1237.1094 L4475.5859,1237.1094 L4476.875,1238.6719 L4476.875,1239.6094 L4476.875,1240.5469 L4475.5859,1242.1094 L4474.1797,1242.1094 L4469.4531,1242.1094 L4468.1641,1242.1094 L4466.875,1240.5469 L4466.875,1239.6094 L4466.875,1238.6719 L4468.1641,1237.1094 L4469.4531,1237.1094 L4469.4531,1237.1094 L4468.75,1234.6094 Z M4467.3828,1229.6094 L4464.375,1220.6641 L4461.7969,1229.6094 L4467.3828,1229.6094 Z " fill="#000000"/><ellipse cx="4528.125" cy="1229.6094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="205" x="4674.375" y="1224.2676">&lt;&lt;Exception&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="467.5" x="4543.125" y="1262.002">AbstractCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="4270" x2="5175" y1="1281.0938" y2="1281.0938"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="4270" x2="5175" y1="1301.0938" y2="1301.0938"/><polygon fill="#FFFF44" points="4295,1316.0938,4305,1326.0938,4295,1336.0938,4285,1326.0938" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="617.5" x="4317.5" y="1339.6411">AbstractCommunicationException (String message)</text><polygon fill="#FFFF44" points="4295,1350.6836,4305,1360.6836,4295,1370.6836,4285,1360.6836" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="845" x="4317.5" y="1374.231">AbstractCommunicationException (String message, Throwable cause)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4270" x2="5175" y1="1390.2734" y2="1390.2734"/><ellipse cx="4295" cy="1417.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="417.5" x="4317.5" y="1428.8208">void setCardSelectionResponses (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="682.5" x="4377.5" y="1463.4106">List&lt;CardSelectionResponse&gt; cardSelectionResponses)</text><ellipse cx="4295" cy="1486.9531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="740" x="4317.5" y="1498.0005">List&lt;CardSelectionResponse&gt; getCardSelectionResponses ()</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4270" x2="5175" y1="1514.043" y2="1514.043"/><ellipse cx="4295" cy="1541.543" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="667.5" x="4317.5" y="1552.5903">void setCardResponse (CardResponse cardResponse)</text><ellipse cx="4295" cy="1576.1328" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="4317.5" y="1587.1802">CardResponse getCardResponse ()</text><!--MD5=[0dee1c75f9ece47f254a0a355731a0bb]
class ReaderCommunicationException--><rect codeLine="272" fill="#F4ECF7" height="189.1797" id="ReaderCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="892.5" x="4268.75" y="1816.875"/><ellipse cx="4428.125" cy="1856.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M4433.125,1848.125 Q4433.6328,1846.875 4434.2188,1846.25 Q4434.8047,1845.625 4435.4688,1845.625 Q4436.6406,1845.625 4437.3828,1846.3281 Q4438.125,1847.0313 4438.125,1848.6719 L4438.125,1852.5781 Q4438.125,1854.2188 4437.4219,1854.9219 Q4436.7188,1855.625 4435.625,1855.625 Q4434.6484,1855.625 4434.0234,1855.1953 Q4433.3984,1854.7656 4433.125,1853.6328 Q4433.0078,1852.8516 4432.5781,1852.4219 Q4431.7969,1851.6016 4430.3906,1851.1328 Q4428.9844,1850.625 4427.5781,1850.625 Q4425.8203,1850.625 4424.3359,1851.3281 Q4422.8906,1852.0313 4421.7578,1853.5938 Q4420.625,1855.1563 4420.625,1857.3047 L4420.625,1859.6094 Q4420.625,1862.1875 4422.7344,1863.9063 Q4424.8438,1865.625 4428.5938,1865.625 Q4430.8203,1865.625 4432.3828,1865.1172 Q4433.2813,1864.8438 4434.2969,1863.9453 Q4434.9609,1863.4375 4435.3125,1863.2813 Q4435.6641,1863.125 4436.0938,1863.125 Q4436.9141,1863.125 4437.5,1863.7891 Q4438.125,1864.4141 4438.125,1865.3125 Q4438.125,1866.1719 4437.2656,1867.1875 Q4436.0156,1868.6719 4434.0234,1869.4922 Q4431.4063,1870.625 4428.2031,1870.625 Q4424.4531,1870.625 4421.4453,1869.1406 Q4419.0234,1867.9688 4417.3047,1865.4297 Q4415.625,1862.8906 4415.625,1859.8828 L4415.625,1857.1484 Q4415.625,1854.0234 4417.1094,1851.2891 Q4418.6328,1848.5547 4421.25,1847.1094 Q4423.9063,1845.625 4426.875,1845.625 Q4428.6719,1845.625 4430.2344,1846.25 Q4431.7969,1846.875 4433.125,1848.125 Z " fill="#000000"/><ellipse cx="4491.875" cy="1855.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="4506.875" y="1869.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="457.5" x="4574.375" y="1869.1504">ReaderCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="4271.25" x2="5158.75" y1="1896.875" y2="1896.875"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="4271.25" x2="5158.75" y1="1916.875" y2="1916.875"/><ellipse cx="4296.25" cy="1944.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="600" x="4318.75" y="1955.4224">ReaderCommunicationException (String message)</text><ellipse cx="4296.25" cy="1978.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="827.5" x="4318.75" y="1990.0122">ReaderCommunicationException (String message, Throwable cause)</text><!--MD5=[32fc7b65f340d78e9416d68a58b55b2e]
class CardCommunicationException--><rect codeLine="273" fill="#F4ECF7" height="189.1797" id="CardCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="862.5" x="5248.75" y="1816.875"/><ellipse cx="5410.625" cy="1856.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M5415.625,1848.125 Q5416.1328,1846.875 5416.7188,1846.25 Q5417.3047,1845.625 5417.9688,1845.625 Q5419.1406,1845.625 5419.8828,1846.3281 Q5420.625,1847.0313 5420.625,1848.6719 L5420.625,1852.5781 Q5420.625,1854.2188 5419.9219,1854.9219 Q5419.2188,1855.625 5418.125,1855.625 Q5417.1484,1855.625 5416.5234,1855.1953 Q5415.8984,1854.7656 5415.625,1853.6328 Q5415.5078,1852.8516 5415.0781,1852.4219 Q5414.2969,1851.6016 5412.8906,1851.1328 Q5411.4844,1850.625 5410.0781,1850.625 Q5408.3203,1850.625 5406.8359,1851.3281 Q5405.3906,1852.0313 5404.2578,1853.5938 Q5403.125,1855.1563 5403.125,1857.3047 L5403.125,1859.6094 Q5403.125,1862.1875 5405.2344,1863.9063 Q5407.3438,1865.625 5411.0938,1865.625 Q5413.3203,1865.625 5414.8828,1865.1172 Q5415.7813,1864.8438 5416.7969,1863.9453 Q5417.4609,1863.4375 5417.8125,1863.2813 Q5418.1641,1863.125 5418.5938,1863.125 Q5419.4141,1863.125 5420,1863.7891 Q5420.625,1864.4141 5420.625,1865.3125 Q5420.625,1866.1719 5419.7656,1867.1875 Q5418.5156,1868.6719 5416.5234,1869.4922 Q5413.9063,1870.625 5410.7031,1870.625 Q5406.9531,1870.625 5403.9453,1869.1406 Q5401.5234,1867.9688 5399.8047,1865.4297 Q5398.125,1862.8906 5398.125,1859.8828 L5398.125,1857.1484 Q5398.125,1854.0234 5399.6094,1851.2891 Q5401.1328,1848.5547 5403.75,1847.1094 Q5406.4063,1845.625 5409.375,1845.625 Q5411.1719,1845.625 5412.7344,1846.25 Q5414.2969,1846.875 5415.625,1848.125 Z " fill="#000000"/><ellipse cx="5474.375" cy="1855.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="5489.375" y="1869.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="422.5" x="5556.875" y="1869.1504">CardCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="5251.25" x2="6108.75" y1="1896.875" y2="1896.875"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="5251.25" x2="6108.75" y1="1916.875" y2="1916.875"/><ellipse cx="5276.25" cy="1944.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="570" x="5298.75" y="1955.4224">CardCommunicationException (String message)</text><ellipse cx="5276.25" cy="1978.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="797.5" x="5298.75" y="1990.0122">CardCommunicationException (String message, Throwable cause)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect codeLine="260" fill="#E9F7EF" height="189.1797" id="MultiSelectionProcessing" style="stroke:#27AE60;stroke-width:3.75;" width="450" x="140" y="1816.875"/><ellipse cx="177.5" cy="1856.875" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M173.75,1859.375 L173.75,1864.375 L183.75,1864.375 L183.75,1861.875 L183.75,1860.6641 L185.3125,1859.375 L186.25,1859.375 L187.1875,1859.375 L188.75,1860.6641 L188.75,1861.875 L188.75,1869.375 L168.75,1869.375 L167.5391,1869.375 L166.25,1867.8125 L166.25,1866.875 L166.25,1865.9375 L167.5391,1864.375 L168.75,1864.375 L168.75,1864.375 L168.75,1849.375 L168.75,1849.375 L167.5391,1849.375 L166.25,1847.8125 L166.25,1846.875 L166.25,1845.9375 L167.5391,1844.375 L168.75,1844.375 L188.75,1844.375 L188.75,1851.875 L188.75,1853.0859 L187.1875,1854.375 L186.25,1854.375 L185.3125,1854.375 L183.75,1853.0859 L183.75,1851.875 L183.75,1849.375 L173.75,1849.375 L173.75,1854.375 L176.25,1854.375 L176.25,1853.1641 L176.25,1853.1641 L177.8125,1851.875 L178.75,1851.875 L179.6875,1851.875 L181.25,1853.1641 L181.25,1854.375 L181.25,1859.375 L181.25,1860.5859 L179.6875,1861.875 L179.6875,1861.875 L178.75,1861.875 L177.8125,1861.875 L176.25,1860.5859 L176.25,1860.5859 L176.25,1859.375 L173.75,1859.375 Z " fill="#000000"/><ellipse cx="225" cy="1855.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="342.5" x="240" y="1869.1504">MultiSelectionProcessing</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="142.5" x2="587.5" y1="1896.875" y2="1896.875"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="175" x="155" y="1935.4224">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="185" x="155" y="1970.0122">PROCESS_ALL</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="142.5" x2="587.5" y1="1986.0547" y2="1986.0547"/><!--MD5=[ee0d3336d8d2c9dd88a5ad188defe636]
class ChannelControl--><rect codeLine="261" fill="#E9F7EF" height="189.1797" id="ChannelControl" style="stroke:#27AE60;stroke-width:3.75;" width="325" x="1530" y="1816.875"/><ellipse cx="1567.5" cy="1856.875" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1563.75,1859.375 L1563.75,1864.375 L1573.75,1864.375 L1573.75,1861.875 L1573.75,1860.6641 L1575.3125,1859.375 L1576.25,1859.375 L1577.1875,1859.375 L1578.75,1860.6641 L1578.75,1861.875 L1578.75,1869.375 L1558.75,1869.375 L1557.5391,1869.375 L1556.25,1867.8125 L1556.25,1866.875 L1556.25,1865.9375 L1557.5391,1864.375 L1558.75,1864.375 L1558.75,1864.375 L1558.75,1849.375 L1558.75,1849.375 L1557.5391,1849.375 L1556.25,1847.8125 L1556.25,1846.875 L1556.25,1845.9375 L1557.5391,1844.375 L1558.75,1844.375 L1578.75,1844.375 L1578.75,1851.875 L1578.75,1853.0859 L1577.1875,1854.375 L1576.25,1854.375 L1575.3125,1854.375 L1573.75,1853.0859 L1573.75,1851.875 L1573.75,1849.375 L1563.75,1849.375 L1563.75,1854.375 L1566.25,1854.375 L1566.25,1853.1641 L1566.25,1853.1641 L1567.8125,1851.875 L1568.75,1851.875 L1569.6875,1851.875 L1571.25,1853.1641 L1571.25,1854.375 L1571.25,1859.375 L1571.25,1860.5859 L1569.6875,1861.875 L1569.6875,1861.875 L1568.75,1861.875 L1567.8125,1861.875 L1566.25,1860.5859 L1566.25,1860.5859 L1566.25,1859.375 L1563.75,1859.375 Z " fill="#000000"/><ellipse cx="1615" cy="1855.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="217.5" x="1630" y="1869.1504">ChannelControl</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1532.5" x2="1852.5" y1="1896.875" y2="1896.875"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="145" x="1545" y="1935.4224">KEEP_OPEN</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="1545" y="1970.0122">CLOSE_AFTER</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1532.5" x2="1852.5" y1="1986.0547" y2="1986.0547"/><!--MD5=[d7ab57eb2840e7832714f3f9db0d2391]
class CardSelectionRequest--><rect codeLine="259" fill="#E9F7EF" height="312.9492" id="CardSelectionRequest" style="stroke:#27AE60;stroke-width:3.75;" width="762.5" x="678.75" y="1755.625"/><ellipse cx="846.875" cy="1795.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M851.875,1786.875 Q852.3828,1785.625 852.9688,1785 Q853.5547,1784.375 854.2188,1784.375 Q855.3906,1784.375 856.1328,1785.0781 Q856.875,1785.7813 856.875,1787.4219 L856.875,1791.3281 Q856.875,1792.9688 856.1719,1793.6719 Q855.4688,1794.375 854.375,1794.375 Q853.3984,1794.375 852.7734,1793.9453 Q852.1484,1793.5156 851.875,1792.3828 Q851.7578,1791.6016 851.3281,1791.1719 Q850.5469,1790.3516 849.1406,1789.8828 Q847.7344,1789.375 846.3281,1789.375 Q844.5703,1789.375 843.0859,1790.0781 Q841.6406,1790.7813 840.5078,1792.3438 Q839.375,1793.9063 839.375,1796.0547 L839.375,1798.3594 Q839.375,1800.9375 841.4844,1802.6563 Q843.5938,1804.375 847.3438,1804.375 Q849.5703,1804.375 851.1328,1803.8672 Q852.0313,1803.5938 853.0469,1802.6953 Q853.7109,1802.1875 854.0625,1802.0313 Q854.4141,1801.875 854.8438,1801.875 Q855.6641,1801.875 856.25,1802.5391 Q856.875,1803.1641 856.875,1804.0625 Q856.875,1804.9219 856.0156,1805.9375 Q854.7656,1807.4219 852.7734,1808.2422 Q850.1563,1809.375 846.9531,1809.375 Q843.2031,1809.375 840.1953,1807.8906 Q837.7734,1806.7188 836.0547,1804.1797 Q834.375,1801.6406 834.375,1798.6328 L834.375,1795.8984 Q834.375,1792.7734 835.8594,1790.0391 Q837.3828,1787.3047 840,1785.8594 Q842.6563,1784.375 845.625,1784.375 Q847.4219,1784.375 848.9844,1785 Q850.5469,1785.625 851.875,1786.875 Z " fill="#000000"/><ellipse cx="910.625" cy="1794.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="925.625" y="1807.9004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="310" x="993.125" y="1807.9004">CardSelectionRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="681.25" x2="1438.75" y1="1835.625" y2="1835.625"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="681.25" x2="1438.75" y1="1855.625" y2="1855.625"/><ellipse cx="706.25" cy="1883.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="728.75" y="1894.1724">CardSelectionRequest (</text><text fill="#000000" filter="url(#b1hnrhdrf4flre0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="1013.75" y="1894.1724">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="165" x="1261.25" y="1894.1724">cardSelector)</text><ellipse cx="706.25" cy="1917.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="728.75" y="1928.7622">CardSelectionRequest (</text><text fill="#000000" filter="url(#b1hnrhdrf4flre0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="1013.75" y="1928.7622">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="162.5" x="1261.25" y="1928.7622">cardSelector,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="330" x="788.75" y="1963.3521">CardRequest cardRequest)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="681.25" x2="1438.75" y1="1979.3945" y2="1979.3945"/><ellipse cx="706.25" cy="2006.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#b1hnrhdrf4flre0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="728.75" y="2017.9419">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="976.25" y="2017.9419">getCardSelector ()</text><ellipse cx="706.25" cy="2041.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="728.75" y="2052.5317">CardRequest getCardRequest ()</text><!--MD5=[d4546fa1b310652d2e612bec588497f1]
class CardRequest--><rect codeLine="262" fill="#E9F7EF" height="278.3594" id="CardRequest" style="stroke:#27AE60;stroke-width:3.75;" width="667.5" x="998.75" y="2343.125"/><ellipse cx="1183.125" cy="2383.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1188.125,2374.375 Q1188.6328,2373.125 1189.2188,2372.5 Q1189.8047,2371.875 1190.4688,2371.875 Q1191.6406,2371.875 1192.3828,2372.5781 Q1193.125,2373.2813 1193.125,2374.9219 L1193.125,2378.8281 Q1193.125,2380.4688 1192.4219,2381.1719 Q1191.7188,2381.875 1190.625,2381.875 Q1189.6484,2381.875 1189.0234,2381.4453 Q1188.3984,2381.0156 1188.125,2379.8828 Q1188.0078,2379.1016 1187.5781,2378.6719 Q1186.7969,2377.8516 1185.3906,2377.3828 Q1183.9844,2376.875 1182.5781,2376.875 Q1180.8203,2376.875 1179.3359,2377.5781 Q1177.8906,2378.2813 1176.7578,2379.8438 Q1175.625,2381.4063 1175.625,2383.5547 L1175.625,2385.8594 Q1175.625,2388.4375 1177.7344,2390.1563 Q1179.8438,2391.875 1183.5938,2391.875 Q1185.8203,2391.875 1187.3828,2391.3672 Q1188.2813,2391.0938 1189.2969,2390.1953 Q1189.9609,2389.6875 1190.3125,2389.5313 Q1190.6641,2389.375 1191.0938,2389.375 Q1191.9141,2389.375 1192.5,2390.0391 Q1193.125,2390.6641 1193.125,2391.5625 Q1193.125,2392.4219 1192.2656,2393.4375 Q1191.0156,2394.9219 1189.0234,2395.7422 Q1186.4063,2396.875 1183.2031,2396.875 Q1179.4531,2396.875 1176.4453,2395.3906 Q1174.0234,2394.2188 1172.3047,2391.6797 Q1170.625,2389.1406 1170.625,2386.1328 L1170.625,2383.3984 Q1170.625,2380.2734 1172.1094,2377.5391 Q1173.6328,2374.8047 1176.25,2373.3594 Q1178.9063,2371.875 1181.875,2371.875 Q1183.6719,2371.875 1185.2344,2372.5 Q1186.7969,2373.125 1188.125,2374.375 Z " fill="#000000"/><ellipse cx="1246.875" cy="2381.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1261.875" y="2395.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="182.5" x="1329.375" y="2395.4004">CardRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1001.25" x2="1663.75" y1="2423.125" y2="2423.125"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="1001.25" x2="1663.75" y1="2443.125" y2="2443.125"/><ellipse cx="1026.25" cy="2470.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="602.5" x="1048.75" y="2481.6724">CardRequest (List&lt;ApduRequest&gt; apduRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="1108.75" y="2516.2622">boolean isStatusCodesVerificationEnabled)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1001.25" x2="1663.75" y1="2532.3047" y2="2532.3047"/><ellipse cx="1026.25" cy="2559.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="490" x="1048.75" y="2570.8521">List&lt;ApduRequest&gt; getApduRequests ()</text><ellipse cx="1026.25" cy="2594.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="537.5" x="1048.75" y="2605.4419">boolean isStatusCodesVerificationEnabled ()</text><!--MD5=[8d2debdbb32bf9c83697f345c4529e73]
class ApduRequest--><rect codeLine="263" fill="#E9F7EF" height="545.8984" id="ApduRequest" style="stroke:#27AE60;stroke-width:3.75;" width="592.5" x="1036.25" y="2853.125"/><ellipse cx="1180.625" cy="2893.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1185.625,2884.375 Q1186.1328,2883.125 1186.7188,2882.5 Q1187.3047,2881.875 1187.9688,2881.875 Q1189.1406,2881.875 1189.8828,2882.5781 Q1190.625,2883.2813 1190.625,2884.9219 L1190.625,2888.8281 Q1190.625,2890.4688 1189.9219,2891.1719 Q1189.2188,2891.875 1188.125,2891.875 Q1187.1484,2891.875 1186.5234,2891.4453 Q1185.8984,2891.0156 1185.625,2889.8828 Q1185.5078,2889.1016 1185.0781,2888.6719 Q1184.2969,2887.8516 1182.8906,2887.3828 Q1181.4844,2886.875 1180.0781,2886.875 Q1178.3203,2886.875 1176.8359,2887.5781 Q1175.3906,2888.2813 1174.2578,2889.8438 Q1173.125,2891.4063 1173.125,2893.5547 L1173.125,2895.8594 Q1173.125,2898.4375 1175.2344,2900.1563 Q1177.3438,2901.875 1181.0938,2901.875 Q1183.3203,2901.875 1184.8828,2901.3672 Q1185.7813,2901.0938 1186.7969,2900.1953 Q1187.4609,2899.6875 1187.8125,2899.5313 Q1188.1641,2899.375 1188.5938,2899.375 Q1189.4141,2899.375 1190,2900.0391 Q1190.625,2900.6641 1190.625,2901.5625 Q1190.625,2902.4219 1189.7656,2903.4375 Q1188.5156,2904.9219 1186.5234,2905.7422 Q1183.9063,2906.875 1180.7031,2906.875 Q1176.9531,2906.875 1173.9453,2905.3906 Q1171.5234,2904.2188 1169.8047,2901.6797 Q1168.125,2899.1406 1168.125,2896.1328 L1168.125,2893.3984 Q1168.125,2890.2734 1169.6094,2887.5391 Q1171.1328,2884.8047 1173.75,2883.3594 Q1176.4063,2881.875 1179.375,2881.875 Q1181.1719,2881.875 1182.7344,2882.5 Q1184.2969,2883.125 1185.625,2884.375 Z " fill="#000000"/><ellipse cx="1244.375" cy="2891.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1259.375" y="2905.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="187.5" x="1326.875" y="2905.4004">ApduRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1038.75" x2="1626.25" y1="2933.125" y2="2933.125"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="1038.75" x2="1626.25" y1="2953.125" y2="2953.125"/><ellipse cx="1063.75" cy="2980.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="527.5" x="1086.25" y="2991.6724">ApduRequest (byte[] bytes, boolean case4)</text><ellipse cx="1063.75" cy="3015.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="1086.25" y="3026.2622">ApduRequest (byte cla, byte instruction,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="465" x="1146.25" y="3060.8521">byte p1, byte p2, byte[] dataIn, Byte le)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1038.75" x2="1626.25" y1="3076.8945" y2="3076.8945"/><ellipse cx="1063.75" cy="3104.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="1086.25" y="3115.4419">ApduRequest setSuccessfulStatusCodes (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="460" x="1146.25" y="3150.0317">Set&lt;Integer&gt; successfulStatusCodes)</text><ellipse cx="1063.75" cy="3173.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="517.5" x="1086.25" y="3184.6216">Set&lt;Integer&gt; getSuccessfulStatusCodes ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1038.75" x2="1626.25" y1="3200.6641" y2="3200.6641"/><ellipse cx="1063.75" cy="3228.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="1086.25" y="3239.2114">ApduRequest setName (String name)</text><ellipse cx="1063.75" cy="3262.7539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1086.25" y="3273.8013">String getName ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1038.75" x2="1626.25" y1="3289.8438" y2="3289.8438"/><ellipse cx="1063.75" cy="3317.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1086.25" y="3328.3911">byte[] getBytes ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1038.75" x2="1626.25" y1="3344.4336" y2="3344.4336"/><ellipse cx="1063.75" cy="3371.9336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="227.5" x="1086.25" y="3382.981">boolean isCase4 ()</text><!--MD5=[81bdd127dee3d48e66ef7f85d7892fe8]
class DefaultSelectionsRequest--><rect codeLine="258" fill="#E9F7EF" height="402.5977" id="DefaultSelectionsRequest" style="stroke:#27AE60;stroke-width:3.75;" width="760" x="967.5" y="1190.625"/><ellipse cx="1064.625" cy="1240.8594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1069.625,1232.1094 Q1070.1328,1230.8594 1070.7188,1230.2344 Q1071.3047,1229.6094 1071.9688,1229.6094 Q1073.1406,1229.6094 1073.8828,1230.3125 Q1074.625,1231.0156 1074.625,1232.6563 L1074.625,1236.5625 Q1074.625,1238.2031 1073.9219,1238.9063 Q1073.2188,1239.6094 1072.125,1239.6094 Q1071.1484,1239.6094 1070.5234,1239.1797 Q1069.8984,1238.75 1069.625,1237.6172 Q1069.5078,1236.8359 1069.0781,1236.4063 Q1068.2969,1235.5859 1066.8906,1235.1172 Q1065.4844,1234.6094 1064.0781,1234.6094 Q1062.3203,1234.6094 1060.8359,1235.3125 Q1059.3906,1236.0156 1058.2578,1237.5781 Q1057.125,1239.1406 1057.125,1241.2891 L1057.125,1243.5938 Q1057.125,1246.1719 1059.2344,1247.8906 Q1061.3438,1249.6094 1065.0938,1249.6094 Q1067.3203,1249.6094 1068.8828,1249.1016 Q1069.7813,1248.8281 1070.7969,1247.9297 Q1071.4609,1247.4219 1071.8125,1247.2656 Q1072.1641,1247.1094 1072.5938,1247.1094 Q1073.4141,1247.1094 1074,1247.7734 Q1074.625,1248.3984 1074.625,1249.2969 Q1074.625,1250.1563 1073.7656,1251.1719 Q1072.5156,1252.6563 1070.5234,1253.4766 Q1067.9063,1254.6094 1064.7031,1254.6094 Q1060.9531,1254.6094 1057.9453,1253.125 Q1055.5234,1251.9531 1053.8047,1249.4141 Q1052.125,1246.875 1052.125,1243.8672 L1052.125,1241.1328 Q1052.125,1238.0078 1053.6094,1235.2734 Q1055.1328,1232.5391 1057.75,1231.0938 Q1060.4063,1229.6094 1063.375,1229.6094 Q1065.1719,1229.6094 1066.7344,1230.2344 Q1068.2969,1230.8594 1069.625,1232.1094 Z " fill="#000000"/><ellipse cx="1125.375" cy="1239.6094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1140.375" y="1234.2676">&lt;&lt;</text><text fill="#000000" filter="url(#b1hnrhdrf4flre0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="450" x="1175.375" y="1234.2676">KeypleDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1625.375" y="1234.2676">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1189.125" y="1272.002">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="355" x="1256.625" y="1272.002">DefaultSelectionsRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="970" x2="1725" y1="1291.0938" y2="1291.0938"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="970" x2="1725" y1="1311.0938" y2="1311.0938"/><ellipse cx="995" cy="1338.5938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="1017.5" y="1349.6411">DefaultSelectionsRequest (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="635" x="1077.5" y="1384.231">List&lt;CardSelectionRequest&gt; cardSelectionRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="1077.5" y="1418.8208">MultiSelectionProcessing multiSelectionProcessing,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="1077.5" y="1453.4106">ChannelControl channelControl)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="970" x2="1725" y1="1469.4531" y2="1469.4531"/><ellipse cx="995" cy="1496.9531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="667.5" x="1017.5" y="1508.0005">MultiSelectionProcessing getMultiSelectionProcessing ()</text><ellipse cx="995" cy="1531.543" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="1017.5" y="1542.5903">ChannelControl getChannelControl ()</text><ellipse cx="995" cy="1566.1328" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="695" x="1017.5" y="1577.1802">List&lt;CardSelectionRequest&gt; getCardSelectionRequests ()</text><!--MD5=[ad88d8106adc0f21766a2a077a674dda]
class CardSelectionResponse--><rect codeLine="266" fill="#F4ECF7" height="312.9492" id="CardSelectionResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="512.5" x="3668.75" y="1755.625"/><ellipse cx="3707.375" cy="1795.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3712.375,1786.875 Q3712.8828,1785.625 3713.4688,1785 Q3714.0547,1784.375 3714.7188,1784.375 Q3715.8906,1784.375 3716.6328,1785.0781 Q3717.375,1785.7813 3717.375,1787.4219 L3717.375,1791.3281 Q3717.375,1792.9688 3716.6719,1793.6719 Q3715.9688,1794.375 3714.875,1794.375 Q3713.8984,1794.375 3713.2734,1793.9453 Q3712.6484,1793.5156 3712.375,1792.3828 Q3712.2578,1791.6016 3711.8281,1791.1719 Q3711.0469,1790.3516 3709.6406,1789.8828 Q3708.2344,1789.375 3706.8281,1789.375 Q3705.0703,1789.375 3703.5859,1790.0781 Q3702.1406,1790.7813 3701.0078,1792.3438 Q3699.875,1793.9063 3699.875,1796.0547 L3699.875,1798.3594 Q3699.875,1800.9375 3701.9844,1802.6563 Q3704.0938,1804.375 3707.8438,1804.375 Q3710.0703,1804.375 3711.6328,1803.8672 Q3712.5313,1803.5938 3713.5469,1802.6953 Q3714.2109,1802.1875 3714.5625,1802.0313 Q3714.9141,1801.875 3715.3438,1801.875 Q3716.1641,1801.875 3716.75,1802.5391 Q3717.375,1803.1641 3717.375,1804.0625 Q3717.375,1804.9219 3716.5156,1805.9375 Q3715.2656,1807.4219 3713.2734,1808.2422 Q3710.6563,1809.375 3707.4531,1809.375 Q3703.7031,1809.375 3700.6953,1807.8906 Q3698.2734,1806.7188 3696.5547,1804.1797 Q3694.875,1801.6406 3694.875,1798.6328 L3694.875,1795.8984 Q3694.875,1792.7734 3696.3594,1790.0391 Q3697.8828,1787.3047 3700.5,1785.8594 Q3703.1563,1784.375 3706.125,1784.375 Q3707.9219,1784.375 3709.4844,1785 Q3711.0469,1785.625 3712.375,1786.875 Z " fill="#000000"/><ellipse cx="3755.125" cy="1794.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3770.125" y="1807.9004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="335" x="3837.625" y="1807.9004">CardSelectionResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3671.25" x2="4178.75" y1="1835.625" y2="1835.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3671.25" x2="4178.75" y1="1855.625" y2="1855.625"/><ellipse cx="3696.25" cy="1883.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="307.5" x="3718.75" y="1894.1724">CardSelectionResponse (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="3778.75" y="1928.7622">SelectionStatus selectionStatus,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="3778.75" y="1963.3521">CardResponse cardResponse)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3671.25" x2="4178.75" y1="1979.3945" y2="1979.3945"/><ellipse cx="3696.25" cy="2006.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="3718.75" y="2017.9419">SelectionStatus getSelectionStatus ()</text><ellipse cx="3696.25" cy="2041.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="3718.75" y="2052.5317">CardResponse getCardResponse ()</text><!--MD5=[62519695b550f8cbf5b64cbd0e08e475]
class CardResponse--><rect codeLine="267" fill="#F4ECF7" height="332.9492" id="CardResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="735" x="2990" y="2315.625"/><ellipse cx="3195.625" cy="2355.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3200.625,2346.875 Q3201.1328,2345.625 3201.7188,2345 Q3202.3047,2344.375 3202.9688,2344.375 Q3204.1406,2344.375 3204.8828,2345.0781 Q3205.625,2345.7813 3205.625,2347.4219 L3205.625,2351.3281 Q3205.625,2352.9688 3204.9219,2353.6719 Q3204.2188,2354.375 3203.125,2354.375 Q3202.1484,2354.375 3201.5234,2353.9453 Q3200.8984,2353.5156 3200.625,2352.3828 Q3200.5078,2351.6016 3200.0781,2351.1719 Q3199.2969,2350.3516 3197.8906,2349.8828 Q3196.4844,2349.375 3195.0781,2349.375 Q3193.3203,2349.375 3191.8359,2350.0781 Q3190.3906,2350.7813 3189.2578,2352.3438 Q3188.125,2353.9063 3188.125,2356.0547 L3188.125,2358.3594 Q3188.125,2360.9375 3190.2344,2362.6563 Q3192.3438,2364.375 3196.0938,2364.375 Q3198.3203,2364.375 3199.8828,2363.8672 Q3200.7813,2363.5938 3201.7969,2362.6953 Q3202.4609,2362.1875 3202.8125,2362.0313 Q3203.1641,2361.875 3203.5938,2361.875 Q3204.4141,2361.875 3205,2362.5391 Q3205.625,2363.1641 3205.625,2364.0625 Q3205.625,2364.9219 3204.7656,2365.9375 Q3203.5156,2367.4219 3201.5234,2368.2422 Q3198.9063,2369.375 3195.7031,2369.375 Q3191.9531,2369.375 3188.9453,2367.8906 Q3186.5234,2366.7188 3184.8047,2364.1797 Q3183.125,2361.6406 3183.125,2358.6328 L3183.125,2355.8984 Q3183.125,2352.7734 3184.6094,2350.0391 Q3186.1328,2347.3047 3188.75,2345.8594 Q3191.4063,2344.375 3194.375,2344.375 Q3196.1719,2344.375 3197.7344,2345 Q3199.2969,2345.625 3200.625,2346.875 Z " fill="#000000"/><ellipse cx="3259.375" cy="2354.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3274.375" y="2367.9004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="207.5" x="3341.875" y="2367.9004">CardResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2992.5" x2="3722.5" y1="2395.625" y2="2395.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2992.5" x2="3722.5" y1="2415.625" y2="2415.625"/><ellipse cx="3017.5" cy="2443.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="670" x="3040" y="2454.1724">CardResponse (List&lt;ApduResponse&gt; apduResponses,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="3100" y="2488.7622">boolean isLogicalChannelOpen)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2992.5" x2="3722.5" y1="2504.8047" y2="2504.8047"/><ellipse cx="3017.5" cy="2532.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="3040" y="2543.3521">List&lt;ApduResponse&gt; getApduResponses ()</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2992.5" x2="3722.5" y1="2559.3945" y2="2559.3945"/><ellipse cx="3017.5" cy="2586.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="3040" y="2597.9419">boolean isLogicalChannelOpen ()</text><ellipse cx="3017.5" cy="2621.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="3040" y="2632.5317">boolean isComplete ()</text><!--MD5=[020bc233d237158d8be37d9dae17a65e]
class ApduResponse--><rect codeLine="268" fill="#F4ECF7" height="278.3594" id="ApduResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="422.5" x="3191.25" y="2986.875"/><ellipse cx="3244.5" cy="3026.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3249.5,3018.125 Q3250.0078,3016.875 3250.5938,3016.25 Q3251.1797,3015.625 3251.8438,3015.625 Q3253.0156,3015.625 3253.7578,3016.3281 Q3254.5,3017.0313 3254.5,3018.6719 L3254.5,3022.5781 Q3254.5,3024.2188 3253.7969,3024.9219 Q3253.0938,3025.625 3252,3025.625 Q3251.0234,3025.625 3250.3984,3025.1953 Q3249.7734,3024.7656 3249.5,3023.6328 Q3249.3828,3022.8516 3248.9531,3022.4219 Q3248.1719,3021.6016 3246.7656,3021.1328 Q3245.3594,3020.625 3243.9531,3020.625 Q3242.1953,3020.625 3240.7109,3021.3281 Q3239.2656,3022.0313 3238.1328,3023.5938 Q3237,3025.1563 3237,3027.3047 L3237,3029.6094 Q3237,3032.1875 3239.1094,3033.9063 Q3241.2188,3035.625 3244.9688,3035.625 Q3247.1953,3035.625 3248.7578,3035.1172 Q3249.6563,3034.8438 3250.6719,3033.9453 Q3251.3359,3033.4375 3251.6875,3033.2813 Q3252.0391,3033.125 3252.4688,3033.125 Q3253.2891,3033.125 3253.875,3033.7891 Q3254.5,3034.4141 3254.5,3035.3125 Q3254.5,3036.1719 3253.6406,3037.1875 Q3252.3906,3038.6719 3250.3984,3039.4922 Q3247.7813,3040.625 3244.5781,3040.625 Q3240.8281,3040.625 3237.8203,3039.1406 Q3235.3984,3037.9688 3233.6797,3035.4297 Q3232,3032.8906 3232,3029.8828 L3232,3027.1484 Q3232,3024.0234 3233.4844,3021.2891 Q3235.0078,3018.5547 3237.625,3017.1094 Q3240.2813,3015.625 3243.25,3015.625 Q3245.0469,3015.625 3246.6094,3016.25 Q3248.1719,3016.875 3249.5,3018.125 Z " fill="#000000"/><ellipse cx="3295.5" cy="3025.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3310.5" y="3039.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="3378" y="3039.1504">ApduResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3193.75" x2="3611.25" y1="3066.875" y2="3066.875"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3193.75" x2="3611.25" y1="3086.875" y2="3086.875"/><ellipse cx="3218.75" cy="3114.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="357.5" x="3241.25" y="3125.4224">ApduResponse (byte[] bytes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3193.75" x2="3611.25" y1="3141.4648" y2="3141.4648"/><ellipse cx="3218.75" cy="3168.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3241.25" y="3180.0122">byte[] getBytes ()</text><ellipse cx="3218.75" cy="3203.5547" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="3241.25" y="3214.6021">byte[] getDataOut ()</text><ellipse cx="3218.75" cy="3238.1445" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="3241.25" y="3249.1919">int getStatusCode ()</text><!--MD5=[17146a741b3becbcb08fff440a5eba97]
class SelectionStatus--><rect codeLine="269" fill="#F4ECF7" height="382.1289" id="SelectionStatus" style="stroke:#8E44AD;stroke-width:3.75;" width="375" x="3812.5" y="2290.625"/><ellipse cx="3874.75" cy="2330.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3879.75,2321.875 Q3880.2578,2320.625 3880.8438,2320 Q3881.4297,2319.375 3882.0938,2319.375 Q3883.2656,2319.375 3884.0078,2320.0781 Q3884.75,2320.7813 3884.75,2322.4219 L3884.75,2326.3281 Q3884.75,2327.9688 3884.0469,2328.6719 Q3883.3438,2329.375 3882.25,2329.375 Q3881.2734,2329.375 3880.6484,2328.9453 Q3880.0234,2328.5156 3879.75,2327.3828 Q3879.6328,2326.6016 3879.2031,2326.1719 Q3878.4219,2325.3516 3877.0156,2324.8828 Q3875.6094,2324.375 3874.2031,2324.375 Q3872.4453,2324.375 3870.9609,2325.0781 Q3869.5156,2325.7813 3868.3828,2327.3438 Q3867.25,2328.9063 3867.25,2331.0547 L3867.25,2333.3594 Q3867.25,2335.9375 3869.3594,2337.6563 Q3871.4688,2339.375 3875.2188,2339.375 Q3877.4453,2339.375 3879.0078,2338.8672 Q3879.9063,2338.5938 3880.9219,2337.6953 Q3881.5859,2337.1875 3881.9375,2337.0313 Q3882.2891,2336.875 3882.7188,2336.875 Q3883.5391,2336.875 3884.125,2337.5391 Q3884.75,2338.1641 3884.75,2339.0625 Q3884.75,2339.9219 3883.8906,2340.9375 Q3882.6406,2342.4219 3880.6484,2343.2422 Q3878.0313,2344.375 3874.8281,2344.375 Q3871.0781,2344.375 3868.0703,2342.8906 Q3865.6484,2341.7188 3863.9297,2339.1797 Q3862.25,2336.6406 3862.25,2333.6328 L3862.25,2330.8984 Q3862.25,2327.7734 3863.7344,2325.0391 Q3865.2578,2322.3047 3867.875,2320.8594 Q3870.5313,2319.375 3873.5,2319.375 Q3875.2969,2319.375 3876.8594,2320 Q3878.4219,2320.625 3879.75,2321.875 Z " fill="#000000"/><ellipse cx="3927.75" cy="2329.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="3942.75" y="2342.9004">SelectionStatus</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3815" x2="4185" y1="2370.625" y2="2370.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3815" x2="4185" y1="2390.625" y2="2390.625"/><ellipse cx="3840" cy="2418.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="205" x="3862.5" y="2429.1724">SelectionStatus (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="3922.5" y="2463.7622">AnswerToReset atr,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="3922.5" y="2498.3521">ApduResponse fci,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="3922.5" y="2532.9419">boolean isMatching)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3815" x2="4185" y1="2548.9844" y2="2548.9844"/><ellipse cx="3840" cy="2576.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="3862.5" y="2587.5317">AnswerToReset getAtr ()</text><ellipse cx="3840" cy="2611.0742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="295" x="3862.5" y="2622.1216">ApduResponse getFci ()</text><ellipse cx="3840" cy="2645.6641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="277.5" x="3862.5" y="2656.7114">boolean hasMatched ()</text><!--MD5=[08697d5c41fb59880dad310582db5b30]
class AnswerToReset--><rect codeLine="270" fill="#F4ECF7" height="209.1797" id="AnswerToReset" style="stroke:#8E44AD;stroke-width:3.75;" width="470" x="3717.5" y="3020.625"/><ellipse cx="3821.375" cy="3060.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3826.375,3051.875 Q3826.8828,3050.625 3827.4688,3050 Q3828.0547,3049.375 3828.7188,3049.375 Q3829.8906,3049.375 3830.6328,3050.0781 Q3831.375,3050.7813 3831.375,3052.4219 L3831.375,3056.3281 Q3831.375,3057.9688 3830.6719,3058.6719 Q3829.9688,3059.375 3828.875,3059.375 Q3827.8984,3059.375 3827.2734,3058.9453 Q3826.6484,3058.5156 3826.375,3057.3828 Q3826.2578,3056.6016 3825.8281,3056.1719 Q3825.0469,3055.3516 3823.6406,3054.8828 Q3822.2344,3054.375 3820.8281,3054.375 Q3819.0703,3054.375 3817.5859,3055.0781 Q3816.1406,3055.7813 3815.0078,3057.3438 Q3813.875,3058.9063 3813.875,3061.0547 L3813.875,3063.3594 Q3813.875,3065.9375 3815.9844,3067.6563 Q3818.0938,3069.375 3821.8438,3069.375 Q3824.0703,3069.375 3825.6328,3068.8672 Q3826.5313,3068.5938 3827.5469,3067.6953 Q3828.2109,3067.1875 3828.5625,3067.0313 Q3828.9141,3066.875 3829.3438,3066.875 Q3830.1641,3066.875 3830.75,3067.5391 Q3831.375,3068.1641 3831.375,3069.0625 Q3831.375,3069.9219 3830.5156,3070.9375 Q3829.2656,3072.4219 3827.2734,3073.2422 Q3824.6563,3074.375 3821.4531,3074.375 Q3817.7031,3074.375 3814.6953,3072.8906 Q3812.2734,3071.7188 3810.5547,3069.1797 Q3808.875,3066.6406 3808.875,3063.6328 L3808.875,3060.8984 Q3808.875,3057.7734 3810.3594,3055.0391 Q3811.8828,3052.3047 3814.5,3050.8594 Q3817.1563,3049.375 3820.125,3049.375 Q3821.9219,3049.375 3823.4844,3050 Q3825.0469,3050.625 3826.375,3051.875 Z " fill="#000000"/><ellipse cx="3883.625" cy="3059.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="215" x="3898.625" y="3072.9004">AnswerToReset</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3720" x2="4185" y1="3100.625" y2="3100.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3720" x2="4185" y1="3120.625" y2="3120.625"/><ellipse cx="3745" cy="3148.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="3767.5" y="3159.1724">AnswerToReset (byte[] atrBytes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3720" x2="4185" y1="3175.2148" y2="3175.2148"/><ellipse cx="3745" cy="3202.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3767.5" y="3213.7622">byte[] getBytes ()</text><!--MD5=[98ba62cb7f23ffced5bd52e8cedb0b75]
class DefaultSelectionsResponse--><rect codeLine="265" fill="#F4ECF7" height="264.2383" id="DefaultSelectionsResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="807.5" x="3181.25" y="1259.375"/><ellipse cx="3288.5" cy="1309.6094" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3293.5,1300.8594 Q3294.0078,1299.6094 3294.5938,1298.9844 Q3295.1797,1298.3594 3295.8438,1298.3594 Q3297.0156,1298.3594 3297.7578,1299.0625 Q3298.5,1299.7656 3298.5,1301.4063 L3298.5,1305.3125 Q3298.5,1306.9531 3297.7969,1307.6563 Q3297.0938,1308.3594 3296,1308.3594 Q3295.0234,1308.3594 3294.3984,1307.9297 Q3293.7734,1307.5 3293.5,1306.3672 Q3293.3828,1305.5859 3292.9531,1305.1563 Q3292.1719,1304.3359 3290.7656,1303.8672 Q3289.3594,1303.3594 3287.9531,1303.3594 Q3286.1953,1303.3594 3284.7109,1304.0625 Q3283.2656,1304.7656 3282.1328,1306.3281 Q3281,1307.8906 3281,1310.0391 L3281,1312.3438 Q3281,1314.9219 3283.1094,1316.6406 Q3285.2188,1318.3594 3288.9688,1318.3594 Q3291.1953,1318.3594 3292.7578,1317.8516 Q3293.6563,1317.5781 3294.6719,1316.6797 Q3295.3359,1316.1719 3295.6875,1316.0156 Q3296.0391,1315.8594 3296.4688,1315.8594 Q3297.2891,1315.8594 3297.875,1316.5234 Q3298.5,1317.1484 3298.5,1318.0469 Q3298.5,1318.9063 3297.6406,1319.9219 Q3296.3906,1321.4063 3294.3984,1322.2266 Q3291.7813,1323.3594 3288.5781,1323.3594 Q3284.8281,1323.3594 3281.8203,1321.875 Q3279.3984,1320.7031 3277.6797,1318.1641 Q3276,1315.625 3276,1312.6172 L3276,1309.8828 Q3276,1306.7578 3277.4844,1304.0234 Q3279.0078,1301.2891 3281.625,1299.8438 Q3284.2813,1298.3594 3287.25,1298.3594 Q3289.0469,1298.3594 3290.6094,1298.9844 Q3292.1719,1299.6094 3293.5,1300.8594 Z " fill="#000000"/><ellipse cx="3351.5" cy="1308.3594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3366.5" y="1303.0176">&lt;&lt;</text><text fill="#000000" filter="url(#b1hnrhdrf4flre0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="475" x="3401.5" y="1303.0176">KeypleDefaultSelectionsResponse</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3876.5" y="1303.0176">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3415.25" y="1340.752">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="380" x="3482.75" y="1340.752">DefaultSelectionsResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3183.75" x2="3986.25" y1="1359.8438" y2="1359.8438"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3183.75" x2="3986.25" y1="1379.8438" y2="1379.8438"/><ellipse cx="3208.75" cy="1407.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="350" x="3231.25" y="1418.3911">DefaultSelectionsResponse (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="682.5" x="3291.25" y="1452.981">List&lt;CardSelectionResponse&gt; cardSelectionResponses)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3183.75" x2="3986.25" y1="1469.0234" y2="1469.0234"/><ellipse cx="3208.75" cy="1496.5234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="740" x="3231.25" y="1507.5708">List&lt;CardSelectionResponse&gt; getCardSelectionResponses ()</text><!--MD5=[266955a256f69cd9e8835259646fbe13]
class CardExtensionSpi--><rect codeLine="180" fill="#FEFECE" height="223.7695" id="CardExtensionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="460" x="3952.5" y="758.125"/><ellipse cx="4037.25" cy="798.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4039.75,790.625 L4039.75,805.625 L4044.75,805.625 L4045.9609,805.625 L4047.25,807.1875 L4047.25,808.125 L4047.25,809.0625 L4045.9609,810.625 L4044.75,810.625 L4029.75,810.625 L4028.5391,810.625 L4027.25,809.0625 L4027.25,808.125 L4027.25,807.1875 L4028.5391,805.625 L4029.75,805.625 L4034.75,805.625 L4034.75,790.625 L4029.75,790.625 L4028.5391,790.625 L4027.25,789.0625 L4027.25,788.125 L4027.25,787.1875 L4028.5391,785.625 L4029.75,785.625 L4044.75,785.625 L4045.9609,785.625 L4047.25,787.1875 L4047.25,788.125 L4047.25,789.0625 L4045.9609,790.625 L4044.75,790.625 L4039.75,790.625 Z " fill="#000000"/><ellipse cx="4095.25" cy="796.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="247.5" x="4110.25" y="810.4004">CardExtensionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3955" x2="4410" y1="838.125" y2="838.125"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3955" x2="4410" y1="858.125" y2="858.125"/><ellipse cx="3980" cy="885.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="4002.5" y="896.6724">String getCardApiVersion ()</text><ellipse cx="3980" cy="920.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="370" x="4002.5" y="931.2622">String getServiceApiVersion ()</text><ellipse cx="3980" cy="954.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="395" x="4002.5" y="965.8521">String getCommonsApiVersion ()</text><!--MD5=[e210ee7b55cb4fcef849a017d68619f7]
class CardSelectionSpi--><rect codeLine="185" fill="#FEFECE" height="189.1797" id="CardSelectionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="920" x="2945" y="775.625"/><ellipse cx="3260.625" cy="815.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3263.125,808.125 L3263.125,823.125 L3268.125,823.125 L3269.3359,823.125 L3270.625,824.6875 L3270.625,825.625 L3270.625,826.5625 L3269.3359,828.125 L3268.125,828.125 L3253.125,828.125 L3251.9141,828.125 L3250.625,826.5625 L3250.625,825.625 L3250.625,824.6875 L3251.9141,823.125 L3253.125,823.125 L3258.125,823.125 L3258.125,808.125 L3253.125,808.125 L3251.9141,808.125 L3250.625,806.5625 L3250.625,805.625 L3250.625,804.6875 L3251.9141,803.125 L3253.125,803.125 L3268.125,803.125 L3269.3359,803.125 L3270.625,804.6875 L3270.625,805.625 L3270.625,806.5625 L3269.3359,808.125 L3268.125,808.125 L3263.125,808.125 Z " fill="#000000"/><ellipse cx="3324.375" cy="814.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="240" x="3339.375" y="827.9004">CardSelectionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2947.5" x2="3862.5" y1="855.625" y2="855.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2947.5" x2="3862.5" y1="875.625" y2="875.625"/><ellipse cx="2972.5" cy="903.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="2995" y="914.1724">CardSelectionRequest getCardSelectionRequest ()</text><ellipse cx="2972.5" cy="937.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="855" x="2995" y="948.7622">SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)</text><!--MD5=[c089e258773b765d812cd5d8bc232f90]
class SmartCardSpi--><rect codeLine="189" fill="#FEFECE" height="120" id="SmartCardSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="302.5" x="2553.75" y="810.625"/><ellipse cx="2591.25" cy="850.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2593.75,843.125 L2593.75,858.125 L2598.75,858.125 L2599.9609,858.125 L2601.25,859.6875 L2601.25,860.625 L2601.25,861.5625 L2599.9609,863.125 L2598.75,863.125 L2583.75,863.125 L2582.5391,863.125 L2581.25,861.5625 L2581.25,860.625 L2581.25,859.6875 L2582.5391,858.125 L2583.75,858.125 L2588.75,858.125 L2588.75,843.125 L2583.75,843.125 L2582.5391,843.125 L2581.25,841.5625 L2581.25,840.625 L2581.25,839.6875 L2582.5391,838.125 L2583.75,838.125 L2598.75,838.125 L2599.9609,838.125 L2601.25,839.6875 L2601.25,840.625 L2601.25,841.5625 L2599.9609,843.125 L2598.75,843.125 L2593.75,843.125 Z " fill="#000000"/><ellipse cx="2638.75" cy="849.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="2653.75" y="862.9004">SmartCardSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2556.25" x2="2853.75" y1="890.625" y2="890.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2556.25" x2="2853.75" y1="910.625" y2="910.625"/><!--MD5=[695000fa4fcaf49ec1bb096676d9e4f7]
reverse link AbstractCommunicationException to ReaderCommunicationException--><path d="M4718.725,1653.86 C4717.875,1712.3525 4717.025,1770.71 4716.35,1816.8575 " fill="none" id="AbstractCommunicationException-backto-ReaderCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="4701.225,1653.585,4719.45,1603.845,4736.225,1654.095,4701.225,1653.585" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[30e8d21bd42c49f90ab21ceb84ec5489]
reverse link AbstractCommunicationException to CardCommunicationException--><path d="M5155.975,1627.52 C5280.45,1694.4775 5409.075,1763.6525 5507.725,1816.715 " fill="none" id="AbstractCommunicationException-backto-CardCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="5147,1642.57,5111.25,1603.475,5163.575,1611.7475,5147,1642.57" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[4d009e737347a7cb48153b9a74bb2f94]
reverse link ApiProperties to CardExtensionSpi--><path codeLine="216" d="M4182.5,441.675 C4182.5,529.125 4182.5,663.125 4182.5,757.55 " fill="none" id="ApiProperties-backto-CardExtensionSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4182.5,429.125,4172.5,451.625,4182.5,441.625,4192.5,451.625,4182.5,429.125" style="stroke:#27AE60;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="4232.5" y="539.3628">provide</text><polygon fill="#000000" points="4197.5,554.4434,4190.1527,577.0561,4204.8473,577.0561,4197.5,554.4434" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="162.5" x="4217.5" y="580.2417">API version</text><!--MD5=[1031604b91889377fe6bb61a55310e0d]
reverse link DefaultSelectionsRequest to CardSelectionRequest--><path codeLine="218" d="M1220.3575,1622.125 C1195.175,1667.235 1169.305,1713.5775 1145.8925,1755.5175 " fill="none" id="DefaultSelectionsRequest-backto-CardSelectionRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1236.345,1593.4875,1220.3017,1601.7102,1221.7214,1619.682,1237.7647,1611.4593,1236.345,1593.4875" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="1092.3551" y="1728.8888">1..N</text><!--MD5=[342c8eb25f8a1dd96cfbcd7f698a68c7]
reverse link DefaultSelectionsRequest to MultiSelectionProcessing--><path codeLine="219" d="M937.455,1598.0075 C837.98,1648.5825 732.275,1703.3075 635,1755.625 C599.1325,1774.915 560.9375,1796.2 524.905,1816.625 " fill="none" id="DefaultSelectionsRequest-backto-MultiSelectionProcessing" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="966.72,1583.1575,948.8185,1581.0278,939.9674,1596.7332,957.869,1598.8629,966.72,1583.1575" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="534.3295" y="1789.9852">1</text><!--MD5=[e98879906059635ebfdbd0a3108430b7]
reverse link DefaultSelectionsRequest to ChannelControl--><path codeLine="220" d="M1499.12,1620.7075 C1545.26,1689.58 1593.42,1761.4725 1630.1375,1816.2825 " fill="none" id="DefaultSelectionsRequest-backto-ChannelControl" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1480.885,1593.4875,1480.9262,1611.5152,1497.583,1618.4109,1497.5418,1600.3832,1480.885,1593.4875" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1599.9706" y="1789.5817">1</text><!--MD5=[9835af9204c9210f827ba24cc91945f0]
reverse link CardSelectionRequest to CardRequest--><path codeLine="222" d="M1124.355,2099.3475 C1136.2,2129.385 1149.09,2159.885 1162.5,2188.125 C1187.11,2239.955 1217.79,2294.785 1246.2875,2342.72 " fill="none" id="CardSelectionRequest-backto-CardRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1112.41,2068.3275,1108.4657,2085.9185,1123.1864,2096.3251,1127.1308,2078.7342,1112.41,2068.3275" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="1176.7181" y="2316.0673">0..1</text><!--MD5=[d401507d432a199d6c8d10fa177dfeb2]
reverse link CardRequest to ApduRequest--><path codeLine="224" d="M1332.5,2654.23 C1332.5,2715.195 1332.5,2785.55 1332.5,2852.915 " fill="none" id="CardRequest-backto-ApduRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1332.5,2621.4025,1322.5,2636.4025,1332.5,2651.4025,1342.5,2636.4025,1332.5,2621.4025" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="1270.3906" y="2826.0709">1..N</text><!--MD5=[3774cd7428d282f293487fb5ad02157e]
reverse link DefaultSelectionsResponse to CardSelectionResponse--><path codeLine="226" d="M3684.7,1552.9725 C3711.325,1594.6875 3740.25,1639.5125 3767.5,1680.625 C3783.475,1704.74 3800.625,1730.1175 3817.5,1754.8375 " fill="none" id="DefaultSelectionsResponse-backto-CardSelectionResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3666.7,1524.675,3666.311,1542.6986,3682.7986,1549.9897,3683.1875,1531.9662,3666.7,1524.675" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="3741.6016" y="1728.1302">1..N</text><!--MD5=[77f859707804abe419614d0e91d95dfe]
reverse link CardSelectionResponse to CardResponse--><path codeLine="228" d="M3921.2,2100.835 C3914.2,2131.8875 3902.85,2162.335 3885,2188.125 C3876.775,2200.005 3777.375,2255.8925 3667.025,2315.5825 " fill="none" id="CardSelectionResponse-backto-CardResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3927.025,2068.4275,3914.5329,2081.4255,3921.7264,2097.9559,3934.2185,2084.9579,3927.025,2068.4275" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3682.4223" y="2288.968">1</text><!--MD5=[4905b2efbeb6b377be21c40fb1d79f57]
reverse link CardSelectionResponse to SelectionStatus--><path codeLine="229" d="M3949.85,2101.6175 C3957.9,2162.1275 3966.8,2229.2425 3974.85,2289.9125 " fill="none" id="CardSelectionResponse-backto-SelectionStatus" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3945.5,2068.7625,3937.5602,2084.9477,3949.4466,2098.5018,3957.3864,2082.3166,3945.5,2068.7625" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3954.1189" y="2263.5072">1</text><!--MD5=[9424ef5399bf3a67a4952b2f5019cc6d]
reverse link CardResponse to ApduResponse--><path codeLine="231" d="M3371.4,2681.58 C3378.35,2780.3075 3386.6,2897.3725 3392.85,2986.1525 " fill="none" id="CardResponse-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3369.1,2648.87,3360.1777,2664.535,3371.206,2678.796,3380.1283,2663.131,3369.1,2648.87" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="3327.7698" y="2959.4591">1..N</text><!--MD5=[1cd47721a07c040e565e1a09c1eba3b5]
reverse link SelectionStatus to ApduResponse--><path codeLine="233" d="M3800.8,2697.3225 C3711.675,2792.61 3609.175,2902.17 3530.5,2986.2925 " fill="none" id="SelectionStatus-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3823.15,2673.4275,3805.5981,2677.5424,3802.6458,2695.3268,3820.1977,2691.2119,3823.15,2673.4275" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3488.3766" y="2959.6171">0..1</text><!--MD5=[24cbd97995d68a7170e91f5c730befab]
reverse link SelectionStatus to AnswerToReset--><path codeLine="234" d="M3983.525,2705.9325 C3975.6,2812.525 3966.475,2935.205 3960.175,3019.805 " fill="none" id="SelectionStatus-backto-AnswerToReset" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3985.95,2673.4275,3974.8655,2687.6449,3983.726,2703.3449,3994.8105,2689.1276,3985.95,2673.4275" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3902.0154" y="2993.6256">0..1</text><!--MD5=[b56d019b82b723e86845ab7127c81020]
reverse link AbstractCommunicationException to CardSelectionResponse--><path codeLine="236" d="M4399.275,1621.8575 C4369.275,1642.005 4339.2,1661.8575 4310,1680.625 C4268.8,1707.115 4224.55,1734.4175 4181.275,1760.535 " fill="none" id="AbstractCommunicationException-backto-CardSelectionResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4426.775,1603.2925,4408.7475,1603.3947,4401.9082,1620.0748,4419.9357,1619.9726,4426.775,1603.2925" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="4201.4037" y="1742.2406">0..N</text><!--MD5=[2cf391fa5274e43eb6911f1a469a3885]
reverse link AbstractCommunicationException to CardResponse--><path codeLine="237" d="M4409.175,1619.23 C4365.625,1643.11 4320.25,1664.515 4275,1680.625 C4138.025,1729.385 3739.35,1665.81 3625,1755.625 C3453.55,1890.295 3391.975,2146.2525 3369.875,2314.85 " fill="none" id="AbstractCommunicationException-backto-CardResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4437.525,1603.2125,4419.547,1601.8746,4411.3973,1617.9551,4429.3754,1619.293,4437.525,1603.2125" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3313.2207" y="2288.1554">0..1</text><!--MD5=[c545f7e69e1fd10e93a83a4930be8cac]
reverse link CardSelectionRequest to ProxyReader--><path codeLine="239" d="M1454.15,2066.9025 C1515.7675,2091.7825 1578.5375,2117.735 1637.5,2143.125 C1753.4675,2193.0625 1780.7575,2209.3575 1895,2263.125 C1908.0575,2269.27 1921.3225,2275.5225 1934.7125,2281.84 " fill="none" id="CardSelectionRequest-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1441.8425,2061.9425,1458.9715,2079.63,1453.4359,2066.6163,1466.4496,2061.0806,1441.8425,2061.9425" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1738.5893,2160.9609,1756.2316,2176.9004,1762.2312,2163.4863,1738.5893,2160.9609" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1772.5" y="2179.3628">use</text><!--MD5=[2442a7d7f46532290415533a60537508]
link ProxyReader to CardRequest--><path codeLine="240" d="M1934.74,2481.875 C1849.9575,2481.875 1761.59,2481.875 1679.4925,2481.875 " fill="none" id="ProxyReader-to-CardRequest" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1666.3725,2481.875,1688.8725,2491.875,1678.8725,2481.875,1688.8725,2471.875,1666.3725,2481.875" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1755.625,2452.3145,1778.2377,2459.6618,1778.2377,2444.9671,1755.625,2452.3145" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1790.625" y="2465.6128">use</text><!--MD5=[cea258861a101b37c0092aa2c73adb0e]
reverse link MultiSelectionProcessing to ProxyReader--><path codeLine="241" d="M516.9,2013.595 C554.2825,2034.385 595.0725,2054.2 635,2068.125 C902.5275,2161.435 1624.205,2179.77 1895,2263.125 C1908.165,2267.1775 1921.4325,2271.55 1934.74,2276.1875 " fill="none" id="MultiSelectionProcessing-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="505.4125,2007.1175,520.101,2026.8785,516.3012,2013.2564,529.9233,2009.4567,505.4125,2007.1175" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1412.709,2163.7881,1433.6056,2175.1305,1436.2816,2160.6816,1412.709,2163.7881" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1447.5" y="2179.3628">use</text><!--MD5=[86fbc7b023257ef37098cf7570a66f83]
reverse link ChannelControl to ProxyReader--><path codeLine="242" d="M1805.7275,2016.01 C1825.415,2033.4775 1845.7475,2051.3875 1865,2068.125 C1938.315,2131.865 2018.5375,2200.3775 2092.2525,2262.8525 " fill="none" id="ChannelControl-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1796.1225,2007.4775,1806.3062,2029.8949,1805.4691,2015.7776,1819.5864,2014.9405,1796.1225,2007.4775" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2000.5297,2157.9058,2012.8661,2178.2314,2022.4572,2167.0985,2000.5297,2157.9058" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2032.5" y="2179.3628">use</text><!--MD5=[ef2297562df3bdaf27e19b497e1f04bc]
reverse link CardSelectionResponse to ProxyReader--><path codeLine="244" d="M3656.875,2068.2525 C3354.025,2193.005 3256.925,2165.675 2950,2263.125 C2890.1,2282.14 2827.275,2303.3525 2765.775,2324.8525 " fill="none" id="CardSelectionResponse-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="3668.65,2063.3625,3644.0357,2062.7396,3657.1026,2068.1486,3651.6935,2081.2155,3668.65,2063.3625" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3469.5119,2162.6055,3445.7491,2161.8024,3449.8153,2175.9232,3469.5119,2162.6055" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3480" y="2179.3628">provide</text><!--MD5=[07ed8df3c1c3d85fbf148d2489e3f22f]
link ProxyReader to CardResponse--><path codeLine="245" d="M2765.6,2481.875 C2835.525,2481.875 2907.75,2481.875 2976.725,2481.875 " fill="none" id="ProxyReader-to-CardResponse" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="2989.575,2481.875,2967.075,2471.875,2977.075,2481.875,2967.075,2491.875,2989.575,2481.875" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2833.75,2452.3145,2811.1373,2444.9671,2811.1373,2459.6618,2833.75,2452.3145" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2843.75" y="2465.6128">provide</text><!--MD5=[d2ebfaeff3c1061d12dbf11fc455c182]
reverse link AbstractCommunicationException to ProxyReader--><path codeLine="246" d="M4254.625,1595.725 C4245.55,1598.3175 4236.5,1600.7875 4227.5,1603.125 C3624.9,1759.6175 3367.475,1433 2835,1755.625 C2643.875,1871.4325 2511.8,2094.645 2434.295,2262.71 " fill="none" id="AbstractCommunicationException-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="4267.025,1592.1175,4242.6253,1588.8155,4255.0247,1595.6165,4248.2237,1608.016,4267.025,1592.1175" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2859.2369,1908.0139,2835.4768,1908.8948,2840.5324,1922.6924,2859.2369,1908.0139" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="77.5" x="2870" y="1925.6128">throw</text><!--MD5=[c0a24d630d4de8bc0d10e52ccdce37c4]
link spi to DefaultSelectionsRequest--><!--MD5=[996fede72f6aa84a0ef13c93c212b0a9]
link spi to DefaultSelectionsResponse--><!--MD5=[ee1c564f7d358c5485dd272fada31836]
@startuml
title
        Keyple 2.0 - keyple-java-card-api - 2.0 (03/03/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.core.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +List<CardSelectionResponse> transmitCardSelectionRequests (
            \tList<CardSelectionRequest> cardSelectionRequests,
            \tMultiSelectionProcessing multiSelectionProcessing,
            \tChannelControl channelControl)
        ..
            +CardResponse transmitCardRequest (
            \tCardRequest cardRequest,
            \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    ' REQUEST
    together {
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
                \tCardRequest cardRequest)
            ..
            +<back:cyan>KeypleCardSelector</back> getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests,
                \tboolean isStatusCodesVerificationEnabled)
            ..
            +List<ApduRequest> getApduRequests ()
            +boolean isStatusCodesVerificationEnabled ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes, boolean case4)
            +ApduRequest (byte cla, byte instruction,
                \tbyte p1, byte p2, byte[] dataIn, Byte le)
            ..
            +ApduRequest setSuccessfulStatusCodes (
                \tSet<Integer> successfulStatusCodes)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
            ..
            +boolean isCase4 ()
        }
        +class "<<<back:cyan>KeypleDefaultSelectionsRequest</back>>>\n**final** DefaultSelectionsRequest" as DefaultSelectionsRequest {
            - -
            +DefaultSelectionsRequest (
                \tList<CardSelectionRequest> cardSelectionRequests,
                \tMultiSelectionProcessing multiSelectionProcessing,
                \tChannelControl channelControl)
            ..
            +MultiSelectionProcessing getMultiSelectionProcessing ()
            +ChannelControl getChannelControl ()
            +List<CardSelectionRequest> getCardSelectionRequests ()
        }
    }
    ' RESPONSE
    together {
        +class "**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (
                \tSelectionStatus selectionStatus,
                \tCardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "**final** CardResponse" as CardResponse {
            - -
            +CardResponse (List<ApduResponse> apduResponses,
                \tboolean isLogicalChannelOpen)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
            +boolean isComplete ()
        }
        +class "**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] bytes)
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusCode ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
        +class "<<<back:cyan>KeypleDefaultSelectionsResponse</back>>>\n**final** DefaultSelectionsResponse" as DefaultSelectionsResponse {
            - -
            +DefaultSelectionsResponse (
                \tList<CardSelectionResponse> cardSelectionResponses)
            ..
            +List<CardSelectionResponse> getCardSelectionResponses ()
        }
    }
    ' SPI
    package spi {
        +interface CardExtensionSpi {
            +String getCardApiVersion ()
            +String getServiceApiVersion ()
            +String getCommonsApiVersion ()
        }
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
    }
    +abstract class "<<Exception>>\nAbstractCommunicationException" as AbstractCommunicationException {
        - -
        #AbstractCommunicationException (String message)
        #AbstractCommunicationException (String message, Throwable cause)
        ..
        +void setCardSelectionResponses (
            \tList<CardSelectionResponse> cardSelectionResponses)
        +List<CardSelectionResponse> getCardSelectionResponses ()
        ..
        +void setCardResponse (CardResponse cardResponse)
        +CardResponse getCardResponse ()
    }
    +class "**final** ReaderCommunicationException" as ReaderCommunicationException extends AbstractCommunicationException {
        +ReaderCommunicationException (String message)
        +ReaderCommunicationException (String message, Throwable cause)
    }
    +class "**final** CardCommunicationException" as CardCommunicationException extends AbstractCommunicationException {
        +CardCommunicationException (String message)
        +CardCommunicationException (String message, Throwable cause)
    }
}

' Associations

CardExtensionSpi .up.> ApiProperties #C_USE : provide\nAPI version <

DefaultSelectionsRequest *- - "1..N" CardSelectionRequest #C_LINK
DefaultSelectionsRequest *- - "1" MultiSelectionProcessing #C_LINK
DefaultSelectionsRequest *- - "1" ChannelControl #C_LINK

CardSelectionRequest *- - "0..1" CardRequest #C_LINK

CardRequest *- - "1..N" ApduRequest #C_LINK

DefaultSelectionsResponse *- - "1..N" CardSelectionResponse #C_LINK

CardSelectionResponse *- - "1" CardResponse #C_LINK
CardSelectionResponse *- - "1" SelectionStatus #C_LINK

CardResponse *- - "1..N" ApduResponse #C_LINK

SelectionStatus *- - "0..1" ApduResponse  #C_LINK
SelectionStatus *- - "0..1" AnswerToReset  #C_LINK

AbstractCommunicationException *- - "0..N" CardSelectionResponse #C_LINK
AbstractCommunicationException *- - "0..1" CardResponse #C_LINK

ProxyReader -left-> CardSelectionRequest #C_USE : use >
ProxyReader - -> CardRequest #C_USE : use >
ProxyReader -up-> MultiSelectionProcessing #C_USE : use >
ProxyReader -up-> ChannelControl #C_USE : use >

ProxyReader -up-> CardSelectionResponse #C_USE : provide >
ProxyReader -> CardResponse #C_USE : provide >
ProxyReader -up-> AbstractCommunicationException #C_USE : throw >

' == LAYOUT ==

spi -[hidden]- DefaultSelectionsRequest
spi -[hidden]- DefaultSelectionsResponse

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}

class DefaultSelectionsRequest <<green>>
class CardSelectionRequest <<green>>
enum MultiSelectionProcessing <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class DefaultSelectionsResponse <<purple>>
class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractCommunicationException <<purple>>
class ReaderCommunicationException <<purple>>
class CardCommunicationException <<purple>>

@enduml

@startuml
title
        Keyple 2.0 - keyple-java-card-api - 2.0 (03/03/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.core.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +List<CardSelectionResponse> transmitCardSelectionRequests (
            \tList<CardSelectionRequest> cardSelectionRequests,
            \tMultiSelectionProcessing multiSelectionProcessing,
            \tChannelControl channelControl)
        ..
            +CardResponse transmitCardRequest (
            \tCardRequest cardRequest,
            \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    together {
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
                \tCardRequest cardRequest)
            ..
            +<back:cyan>KeypleCardSelector</back> getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests,
                \tboolean isStatusCodesVerificationEnabled)
            ..
            +List<ApduRequest> getApduRequests ()
            +boolean isStatusCodesVerificationEnabled ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes, boolean case4)
            +ApduRequest (byte cla, byte instruction,
                \tbyte p1, byte p2, byte[] dataIn, Byte le)
            ..
            +ApduRequest setSuccessfulStatusCodes (
                \tSet<Integer> successfulStatusCodes)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
            ..
            +boolean isCase4 ()
        }
        +class "<<<back:cyan>KeypleDefaultSelectionsRequest</back>>>\n**final** DefaultSelectionsRequest" as DefaultSelectionsRequest {
            - -
            +DefaultSelectionsRequest (
                \tList<CardSelectionRequest> cardSelectionRequests,
                \tMultiSelectionProcessing multiSelectionProcessing,
                \tChannelControl channelControl)
            ..
            +MultiSelectionProcessing getMultiSelectionProcessing ()
            +ChannelControl getChannelControl ()
            +List<CardSelectionRequest> getCardSelectionRequests ()
        }
    }
    together {
        +class "**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (
                \tSelectionStatus selectionStatus,
                \tCardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "**final** CardResponse" as CardResponse {
            - -
            +CardResponse (List<ApduResponse> apduResponses,
                \tboolean isLogicalChannelOpen)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
            +boolean isComplete ()
        }
        +class "**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] bytes)
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusCode ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
        +class "<<<back:cyan>KeypleDefaultSelectionsResponse</back>>>\n**final** DefaultSelectionsResponse" as DefaultSelectionsResponse {
            - -
            +DefaultSelectionsResponse (
                \tList<CardSelectionResponse> cardSelectionResponses)
            ..
            +List<CardSelectionResponse> getCardSelectionResponses ()
        }
    }
    package spi {
        +interface CardExtensionSpi {
            +String getCardApiVersion ()
            +String getServiceApiVersion ()
            +String getCommonsApiVersion ()
        }
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
    }
    +abstract class "<<Exception>>\nAbstractCommunicationException" as AbstractCommunicationException {
        - -
        #AbstractCommunicationException (String message)
        #AbstractCommunicationException (String message, Throwable cause)
        ..
        +void setCardSelectionResponses (
            \tList<CardSelectionResponse> cardSelectionResponses)
        +List<CardSelectionResponse> getCardSelectionResponses ()
        ..
        +void setCardResponse (CardResponse cardResponse)
        +CardResponse getCardResponse ()
    }
    +class "**final** ReaderCommunicationException" as ReaderCommunicationException extends AbstractCommunicationException {
        +ReaderCommunicationException (String message)
        +ReaderCommunicationException (String message, Throwable cause)
    }
    +class "**final** CardCommunicationException" as CardCommunicationException extends AbstractCommunicationException {
        +CardCommunicationException (String message)
        +CardCommunicationException (String message, Throwable cause)
    }
}


CardExtensionSpi .up.> ApiProperties #27AE60 : provide\nAPI version <

DefaultSelectionsRequest *- - "1..N" CardSelectionRequest #3498DB
DefaultSelectionsRequest *- - "1" MultiSelectionProcessing #3498DB
DefaultSelectionsRequest *- - "1" ChannelControl #3498DB

CardSelectionRequest *- - "0..1" CardRequest #3498DB

CardRequest *- - "1..N" ApduRequest #3498DB

DefaultSelectionsResponse *- - "1..N" CardSelectionResponse #3498DB

CardSelectionResponse *- - "1" CardResponse #3498DB
CardSelectionResponse *- - "1" SelectionStatus #3498DB

CardResponse *- - "1..N" ApduResponse #3498DB

SelectionStatus *- - "0..1" ApduResponse  #3498DB
SelectionStatus *- - "0..1" AnswerToReset  #3498DB

AbstractCommunicationException *- - "0..N" CardSelectionResponse #3498DB
AbstractCommunicationException *- - "0..1" CardResponse #3498DB

ProxyReader -left-> CardSelectionRequest #27AE60 : use >
ProxyReader - -> CardRequest #27AE60 : use >
ProxyReader -up-> MultiSelectionProcessing #27AE60 : use >
ProxyReader -up-> ChannelControl #27AE60 : use >

ProxyReader -up-> CardSelectionResponse #27AE60 : provide >
ProxyReader -> CardResponse #27AE60 : provide >
ProxyReader -up-> AbstractCommunicationException #27AE60 : throw >


spi -[hidden]- DefaultSelectionsRequest
spi -[hidden]- DefaultSelectionsResponse


package api #F8F9F9 {}
package spi #F2F3F4 {}

class DefaultSelectionsRequest <<green>>
class CardSelectionRequest <<green>>
enum MultiSelectionProcessing <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class DefaultSelectionsResponse <<purple>>
class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractCommunicationException <<purple>>
class ReaderCommunicationException <<purple>>
class CardCommunicationException <<purple>>

@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>