<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3515px" preserveAspectRatio="none" style="width:6082px;height:3515px;" version="1.1" viewBox="0 0 6082 3515" width="6082.5px" zoomAndPan="magnify"><defs><filter height="1" id="bccdozisg7oz90" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="930" x="2560" y="46.7139">Keyple 2.0 - keyple-card-api - 2.0 (09/02/2021)</text><rect fill="#DDDDDD" height="69.0234" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:2.5;" width="497.5" x="2775" y="76.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="140" x="2790" y="125.4346">Legend :</text><text fill="#000000" filter="url(#bccdozisg7oz90)" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="70" x="2940" y="125.4346">from</text><text fill="#000000" filter="url(#bccdozisg7oz90)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="237.5" x="3020" y="125.4346">Commons API</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="40,183.125,465,183.125,482.5,242.1484,6040,242.1484,6040,3498.125,40,3498.125,40,183.125" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="482.5" y1="242.1484" y2="242.1484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="410" x="50" y="224.458">org.eclipse.keyple.card</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="2402.5,648.125,2470,648.125,2487.5,707.1484,4430,707.1484,4430,1043.125,2402.5,1043.125,2402.5,648.125" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="2402.5" x2="2487.5" y1="707.1484" y2="707.1484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="2412.5" y="689.458">spi</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="52" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="427.5" x="3926.25" y="273.125"/><ellipse cx="3963.75" cy="313.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3968.75,304.375 Q3969.2578,303.125 3969.8438,302.5 Q3970.4297,301.875 3971.0938,301.875 Q3972.2656,301.875 3973.0078,302.5781 Q3973.75,303.2813 3973.75,304.9219 L3973.75,308.8281 Q3973.75,310.4688 3973.0469,311.1719 Q3972.3438,311.875 3971.25,311.875 Q3970.2734,311.875 3969.6484,311.4453 Q3969.0234,311.0156 3968.75,309.8828 Q3968.6328,309.1016 3968.2031,308.6719 Q3967.4219,307.8516 3966.0156,307.3828 Q3964.6094,306.875 3963.2031,306.875 Q3961.4453,306.875 3959.9609,307.5781 Q3958.5156,308.2813 3957.3828,309.8438 Q3956.25,311.4063 3956.25,313.5547 L3956.25,315.8594 Q3956.25,318.4375 3958.3594,320.1563 Q3960.4688,321.875 3964.2188,321.875 Q3966.4453,321.875 3968.0078,321.3672 Q3968.9063,321.0938 3969.9219,320.1953 Q3970.5859,319.6875 3970.9375,319.5313 Q3971.2891,319.375 3971.7188,319.375 Q3972.5391,319.375 3973.125,320.0391 Q3973.75,320.6641 3973.75,321.5625 Q3973.75,322.4219 3972.8906,323.4375 Q3971.6406,324.9219 3969.6484,325.7422 Q3967.0313,326.875 3963.8281,326.875 Q3960.0781,326.875 3957.0703,325.3906 Q3954.6484,324.2188 3952.9297,321.6797 Q3951.25,319.1406 3951.25,316.1328 L3951.25,313.3984 Q3951.25,310.2734 3952.7344,307.5391 Q3954.2578,304.8047 3956.875,303.3594 Q3959.5313,301.875 3962.5,301.875 Q3964.2969,301.875 3965.8594,302.5 Q3967.4219,303.125 3968.75,304.375 Z " fill="#000000"/><ellipse cx="4011.25" cy="311.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="4026.25" y="325.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="4093.75" y="325.4004">CardApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3928.75" x2="4351.25" y1="353.125" y2="353.125"/><ellipse cx="3953.75" cy="380.625" fill="none" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="3976.25" y="391.6724">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="4041.25" y="391.6724">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3928.75" x2="4351.25" y1="407.7148" y2="407.7148"/><!--MD5=[96a4004012a1c08588eb87adf87ec875]
class ProxyReader--><rect codeLine="55" fill="#FEFECE" height="436.7188" id="ProxyReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="830" x="1935" y="2263.125"/><ellipse cx="2235.625" cy="2303.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2238.125,2295.625 L2238.125,2310.625 L2243.125,2310.625 L2244.3359,2310.625 L2245.625,2312.1875 L2245.625,2313.125 L2245.625,2314.0625 L2244.3359,2315.625 L2243.125,2315.625 L2228.125,2315.625 L2226.9141,2315.625 L2225.625,2314.0625 L2225.625,2313.125 L2225.625,2312.1875 L2226.9141,2310.625 L2228.125,2310.625 L2233.125,2310.625 L2233.125,2295.625 L2228.125,2295.625 L2226.9141,2295.625 L2225.625,2294.0625 L2225.625,2293.125 L2225.625,2292.1875 L2226.9141,2290.625 L2228.125,2290.625 L2243.125,2290.625 L2244.3359,2290.625 L2245.625,2292.1875 L2245.625,2293.125 L2245.625,2294.0625 L2244.3359,2295.625 L2243.125,2295.625 L2238.125,2295.625 Z " fill="#000000"/><ellipse cx="2299.375" cy="2301.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="2314.375" y="2315.4004">ProxyReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1937.5" x2="2762.5" y1="2343.125" y2="2343.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1937.5" x2="2762.5" y1="2363.125" y2="2363.125"/><ellipse cx="1962.5" cy="2390.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="765" x="1985" y="2401.6724">List&lt;CardSelectionResponse&gt; transmitCardSelectionRequests (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="635" x="2045" y="2436.2622">List&lt;CardSelectionRequest&gt; cardSelectionRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="2045" y="2470.8521">MultiSelectionProcessing multiSelectionProcessing,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="2045" y="2505.4419">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1937.5" x2="2762.5" y1="2521.4844" y2="2521.4844"/><ellipse cx="1962.5" cy="2548.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="457.5" x="1985" y="2560.0317">CardResponse transmitCardRequest (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="2045" y="2594.6216">CardRequest cardRequest,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="2045" y="2629.2114">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1937.5" x2="2762.5" y1="2645.2539" y2="2645.2539"/><ellipse cx="1962.5" cy="2672.7539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="1985" y="2683.8013">void releaseChannel ()</text><!--MD5=[74186dfc070fdcd425f3f969c4ef0c47]
class AbstractCommunicationException--><rect codeLine="271" fill="#F4ECF7" height="422.5977" id="AbstractCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="910" x="4155" y="1180.625"/><ellipse cx="4351.875" cy="1230.8594" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M4356.25,1234.6094 L4348.0078,1234.6094 L4346.9141,1237.1094 L4346.9141,1237.1094 L4348.0859,1237.1094 L4349.375,1238.6719 L4349.375,1239.6094 L4349.375,1240.5469 L4348.0859,1242.1094 L4346.9141,1242.1094 L4342.1875,1242.1094 L4340.6641,1242.1094 L4339.375,1240.5469 L4339.375,1239.6094 L4339.375,1238.6719 L4340.6641,1237.1094 L4342.1875,1237.1094 L4347.9688,1222.1094 L4345.7813,1222.1094 L4343.1641,1222.1094 L4341.875,1220.5469 L4341.875,1219.6094 L4341.875,1218.6719 L4343.1641,1217.1094 L4345.7813,1217.1094 L4354.9609,1217.1094 L4361.6797,1237.1094 L4363.0859,1237.1094 L4363.0859,1237.1094 L4364.375,1238.6719 L4364.375,1239.6094 L4364.375,1240.5469 L4363.0859,1242.1094 L4361.6797,1242.1094 L4356.9531,1242.1094 L4355.6641,1242.1094 L4354.375,1240.5469 L4354.375,1239.6094 L4354.375,1238.6719 L4355.6641,1237.1094 L4356.9531,1237.1094 L4356.9531,1237.1094 L4356.25,1234.6094 Z M4354.8828,1229.6094 L4351.875,1220.6641 L4349.2969,1229.6094 L4354.8828,1229.6094 Z " fill="#000000"/><ellipse cx="4415.625" cy="1229.6094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="205" x="4561.875" y="1224.2676">&lt;&lt;Exception&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="467.5" x="4430.625" y="1262.002">AbstractCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="4157.5" x2="5062.5" y1="1281.0938" y2="1281.0938"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="4157.5" x2="5062.5" y1="1301.0938" y2="1301.0938"/><polygon fill="#FFFF44" points="4182.5,1316.0938,4192.5,1326.0938,4182.5,1336.0938,4172.5,1326.0938" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="617.5" x="4205" y="1339.6411">AbstractCommunicationException (String message)</text><polygon fill="#FFFF44" points="4182.5,1350.6836,4192.5,1360.6836,4182.5,1370.6836,4172.5,1360.6836" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="845" x="4205" y="1374.231">AbstractCommunicationException (String message, Throwable cause)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4157.5" x2="5062.5" y1="1390.2734" y2="1390.2734"/><ellipse cx="4182.5" cy="1417.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="417.5" x="4205" y="1428.8208">void setCardSelectionResponses (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="682.5" x="4265" y="1463.4106">List&lt;CardSelectionResponse&gt; cardSelectionResponses)</text><ellipse cx="4182.5" cy="1486.9531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="740" x="4205" y="1498.0005">List&lt;CardSelectionResponse&gt; getCardSelectionResponses ()</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4157.5" x2="5062.5" y1="1514.043" y2="1514.043"/><ellipse cx="4182.5" cy="1541.543" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="667.5" x="4205" y="1552.5903">void setCardResponse (CardResponse cardResponse)</text><ellipse cx="4182.5" cy="1576.1328" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="4205" y="1587.1802">CardResponse getCardResponse ()</text><!--MD5=[0dee1c75f9ece47f254a0a355731a0bb]
class ReaderCommunicationException--><rect codeLine="272" fill="#F4ECF7" height="189.1797" id="ReaderCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="892.5" x="4156.25" y="1816.875"/><ellipse cx="4315.625" cy="1856.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M4320.625,1848.125 Q4321.1328,1846.875 4321.7188,1846.25 Q4322.3047,1845.625 4322.9688,1845.625 Q4324.1406,1845.625 4324.8828,1846.3281 Q4325.625,1847.0313 4325.625,1848.6719 L4325.625,1852.5781 Q4325.625,1854.2188 4324.9219,1854.9219 Q4324.2188,1855.625 4323.125,1855.625 Q4322.1484,1855.625 4321.5234,1855.1953 Q4320.8984,1854.7656 4320.625,1853.6328 Q4320.5078,1852.8516 4320.0781,1852.4219 Q4319.2969,1851.6016 4317.8906,1851.1328 Q4316.4844,1850.625 4315.0781,1850.625 Q4313.3203,1850.625 4311.8359,1851.3281 Q4310.3906,1852.0313 4309.2578,1853.5938 Q4308.125,1855.1563 4308.125,1857.3047 L4308.125,1859.6094 Q4308.125,1862.1875 4310.2344,1863.9063 Q4312.3438,1865.625 4316.0938,1865.625 Q4318.3203,1865.625 4319.8828,1865.1172 Q4320.7813,1864.8438 4321.7969,1863.9453 Q4322.4609,1863.4375 4322.8125,1863.2813 Q4323.1641,1863.125 4323.5938,1863.125 Q4324.4141,1863.125 4325,1863.7891 Q4325.625,1864.4141 4325.625,1865.3125 Q4325.625,1866.1719 4324.7656,1867.1875 Q4323.5156,1868.6719 4321.5234,1869.4922 Q4318.9063,1870.625 4315.7031,1870.625 Q4311.9531,1870.625 4308.9453,1869.1406 Q4306.5234,1867.9688 4304.8047,1865.4297 Q4303.125,1862.8906 4303.125,1859.8828 L4303.125,1857.1484 Q4303.125,1854.0234 4304.6094,1851.2891 Q4306.1328,1848.5547 4308.75,1847.1094 Q4311.4063,1845.625 4314.375,1845.625 Q4316.1719,1845.625 4317.7344,1846.25 Q4319.2969,1846.875 4320.625,1848.125 Z " fill="#000000"/><ellipse cx="4379.375" cy="1855.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="4394.375" y="1869.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="457.5" x="4461.875" y="1869.1504">ReaderCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="4158.75" x2="5046.25" y1="1896.875" y2="1896.875"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="4158.75" x2="5046.25" y1="1916.875" y2="1916.875"/><ellipse cx="4183.75" cy="1944.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="600" x="4206.25" y="1955.4224">ReaderCommunicationException (String message)</text><ellipse cx="4183.75" cy="1978.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="827.5" x="4206.25" y="1990.0122">ReaderCommunicationException (String message, Throwable cause)</text><!--MD5=[32fc7b65f340d78e9416d68a58b55b2e]
class CardCommunicationException--><rect codeLine="273" fill="#F4ECF7" height="189.1797" id="CardCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="862.5" x="5136.25" y="1816.875"/><ellipse cx="5298.125" cy="1856.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M5303.125,1848.125 Q5303.6328,1846.875 5304.2188,1846.25 Q5304.8047,1845.625 5305.4688,1845.625 Q5306.6406,1845.625 5307.3828,1846.3281 Q5308.125,1847.0313 5308.125,1848.6719 L5308.125,1852.5781 Q5308.125,1854.2188 5307.4219,1854.9219 Q5306.7188,1855.625 5305.625,1855.625 Q5304.6484,1855.625 5304.0234,1855.1953 Q5303.3984,1854.7656 5303.125,1853.6328 Q5303.0078,1852.8516 5302.5781,1852.4219 Q5301.7969,1851.6016 5300.3906,1851.1328 Q5298.9844,1850.625 5297.5781,1850.625 Q5295.8203,1850.625 5294.3359,1851.3281 Q5292.8906,1852.0313 5291.7578,1853.5938 Q5290.625,1855.1563 5290.625,1857.3047 L5290.625,1859.6094 Q5290.625,1862.1875 5292.7344,1863.9063 Q5294.8438,1865.625 5298.5938,1865.625 Q5300.8203,1865.625 5302.3828,1865.1172 Q5303.2813,1864.8438 5304.2969,1863.9453 Q5304.9609,1863.4375 5305.3125,1863.2813 Q5305.6641,1863.125 5306.0938,1863.125 Q5306.9141,1863.125 5307.5,1863.7891 Q5308.125,1864.4141 5308.125,1865.3125 Q5308.125,1866.1719 5307.2656,1867.1875 Q5306.0156,1868.6719 5304.0234,1869.4922 Q5301.4063,1870.625 5298.2031,1870.625 Q5294.4531,1870.625 5291.4453,1869.1406 Q5289.0234,1867.9688 5287.3047,1865.4297 Q5285.625,1862.8906 5285.625,1859.8828 L5285.625,1857.1484 Q5285.625,1854.0234 5287.1094,1851.2891 Q5288.6328,1848.5547 5291.25,1847.1094 Q5293.9063,1845.625 5296.875,1845.625 Q5298.6719,1845.625 5300.2344,1846.25 Q5301.7969,1846.875 5303.125,1848.125 Z " fill="#000000"/><ellipse cx="5361.875" cy="1855.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="5376.875" y="1869.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="422.5" x="5444.375" y="1869.1504">CardCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="5138.75" x2="5996.25" y1="1896.875" y2="1896.875"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="5138.75" x2="5996.25" y1="1916.875" y2="1916.875"/><ellipse cx="5163.75" cy="1944.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="570" x="5186.25" y="1955.4224">CardCommunicationException (String message)</text><ellipse cx="5163.75" cy="1978.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="797.5" x="5186.25" y="1990.0122">CardCommunicationException (String message, Throwable cause)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect codeLine="260" fill="#E9F7EF" height="189.1797" id="MultiSelectionProcessing" style="stroke:#27AE60;stroke-width:3.75;" width="450" x="140" y="1816.875"/><ellipse cx="177.5" cy="1856.875" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M173.75,1859.375 L173.75,1864.375 L183.75,1864.375 L183.75,1861.875 L183.75,1860.6641 L185.3125,1859.375 L186.25,1859.375 L187.1875,1859.375 L188.75,1860.6641 L188.75,1861.875 L188.75,1869.375 L168.75,1869.375 L167.5391,1869.375 L166.25,1867.8125 L166.25,1866.875 L166.25,1865.9375 L167.5391,1864.375 L168.75,1864.375 L168.75,1864.375 L168.75,1849.375 L168.75,1849.375 L167.5391,1849.375 L166.25,1847.8125 L166.25,1846.875 L166.25,1845.9375 L167.5391,1844.375 L168.75,1844.375 L188.75,1844.375 L188.75,1851.875 L188.75,1853.0859 L187.1875,1854.375 L186.25,1854.375 L185.3125,1854.375 L183.75,1853.0859 L183.75,1851.875 L183.75,1849.375 L173.75,1849.375 L173.75,1854.375 L176.25,1854.375 L176.25,1853.1641 L176.25,1853.1641 L177.8125,1851.875 L178.75,1851.875 L179.6875,1851.875 L181.25,1853.1641 L181.25,1854.375 L181.25,1859.375 L181.25,1860.5859 L179.6875,1861.875 L179.6875,1861.875 L178.75,1861.875 L177.8125,1861.875 L176.25,1860.5859 L176.25,1860.5859 L176.25,1859.375 L173.75,1859.375 Z " fill="#000000"/><ellipse cx="225" cy="1855.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="342.5" x="240" y="1869.1504">MultiSelectionProcessing</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="142.5" x2="587.5" y1="1896.875" y2="1896.875"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="175" x="155" y="1935.4224">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="185" x="155" y="1970.0122">PROCESS_ALL</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="142.5" x2="587.5" y1="1986.0547" y2="1986.0547"/><!--MD5=[ee0d3336d8d2c9dd88a5ad188defe636]
class ChannelControl--><rect codeLine="261" fill="#E9F7EF" height="189.1797" id="ChannelControl" style="stroke:#27AE60;stroke-width:3.75;" width="325" x="1530" y="1816.875"/><ellipse cx="1567.5" cy="1856.875" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1563.75,1859.375 L1563.75,1864.375 L1573.75,1864.375 L1573.75,1861.875 L1573.75,1860.6641 L1575.3125,1859.375 L1576.25,1859.375 L1577.1875,1859.375 L1578.75,1860.6641 L1578.75,1861.875 L1578.75,1869.375 L1558.75,1869.375 L1557.5391,1869.375 L1556.25,1867.8125 L1556.25,1866.875 L1556.25,1865.9375 L1557.5391,1864.375 L1558.75,1864.375 L1558.75,1864.375 L1558.75,1849.375 L1558.75,1849.375 L1557.5391,1849.375 L1556.25,1847.8125 L1556.25,1846.875 L1556.25,1845.9375 L1557.5391,1844.375 L1558.75,1844.375 L1578.75,1844.375 L1578.75,1851.875 L1578.75,1853.0859 L1577.1875,1854.375 L1576.25,1854.375 L1575.3125,1854.375 L1573.75,1853.0859 L1573.75,1851.875 L1573.75,1849.375 L1563.75,1849.375 L1563.75,1854.375 L1566.25,1854.375 L1566.25,1853.1641 L1566.25,1853.1641 L1567.8125,1851.875 L1568.75,1851.875 L1569.6875,1851.875 L1571.25,1853.1641 L1571.25,1854.375 L1571.25,1859.375 L1571.25,1860.5859 L1569.6875,1861.875 L1569.6875,1861.875 L1568.75,1861.875 L1567.8125,1861.875 L1566.25,1860.5859 L1566.25,1860.5859 L1566.25,1859.375 L1563.75,1859.375 Z " fill="#000000"/><ellipse cx="1615" cy="1855.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="217.5" x="1630" y="1869.1504">ChannelControl</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1532.5" x2="1852.5" y1="1896.875" y2="1896.875"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="145" x="1545" y="1935.4224">KEEP_OPEN</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="1545" y="1970.0122">CLOSE_AFTER</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1532.5" x2="1852.5" y1="1986.0547" y2="1986.0547"/><!--MD5=[d7ab57eb2840e7832714f3f9db0d2391]
class CardSelectionRequest--><rect codeLine="259" fill="#E9F7EF" height="312.9492" id="CardSelectionRequest" style="stroke:#27AE60;stroke-width:3.75;" width="762.5" x="678.75" y="1755.625"/><ellipse cx="846.875" cy="1795.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M851.875,1786.875 Q852.3828,1785.625 852.9688,1785 Q853.5547,1784.375 854.2188,1784.375 Q855.3906,1784.375 856.1328,1785.0781 Q856.875,1785.7813 856.875,1787.4219 L856.875,1791.3281 Q856.875,1792.9688 856.1719,1793.6719 Q855.4688,1794.375 854.375,1794.375 Q853.3984,1794.375 852.7734,1793.9453 Q852.1484,1793.5156 851.875,1792.3828 Q851.7578,1791.6016 851.3281,1791.1719 Q850.5469,1790.3516 849.1406,1789.8828 Q847.7344,1789.375 846.3281,1789.375 Q844.5703,1789.375 843.0859,1790.0781 Q841.6406,1790.7813 840.5078,1792.3438 Q839.375,1793.9063 839.375,1796.0547 L839.375,1798.3594 Q839.375,1800.9375 841.4844,1802.6563 Q843.5938,1804.375 847.3438,1804.375 Q849.5703,1804.375 851.1328,1803.8672 Q852.0313,1803.5938 853.0469,1802.6953 Q853.7109,1802.1875 854.0625,1802.0313 Q854.4141,1801.875 854.8438,1801.875 Q855.6641,1801.875 856.25,1802.5391 Q856.875,1803.1641 856.875,1804.0625 Q856.875,1804.9219 856.0156,1805.9375 Q854.7656,1807.4219 852.7734,1808.2422 Q850.1563,1809.375 846.9531,1809.375 Q843.2031,1809.375 840.1953,1807.8906 Q837.7734,1806.7188 836.0547,1804.1797 Q834.375,1801.6406 834.375,1798.6328 L834.375,1795.8984 Q834.375,1792.7734 835.8594,1790.0391 Q837.3828,1787.3047 840,1785.8594 Q842.6563,1784.375 845.625,1784.375 Q847.4219,1784.375 848.9844,1785 Q850.5469,1785.625 851.875,1786.875 Z " fill="#000000"/><ellipse cx="910.625" cy="1794.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="925.625" y="1807.9004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="310" x="993.125" y="1807.9004">CardSelectionRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="681.25" x2="1438.75" y1="1835.625" y2="1835.625"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="681.25" x2="1438.75" y1="1855.625" y2="1855.625"/><ellipse cx="706.25" cy="1883.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="728.75" y="1894.1724">CardSelectionRequest (</text><text fill="#000000" filter="url(#bccdozisg7oz90)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="1013.75" y="1894.1724">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="165" x="1261.25" y="1894.1724">cardSelector)</text><ellipse cx="706.25" cy="1917.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="728.75" y="1928.7622">CardSelectionRequest (</text><text fill="#000000" filter="url(#bccdozisg7oz90)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="1013.75" y="1928.7622">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="162.5" x="1261.25" y="1928.7622">cardSelector,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="330" x="788.75" y="1963.3521">CardRequest cardRequest)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="681.25" x2="1438.75" y1="1979.3945" y2="1979.3945"/><ellipse cx="706.25" cy="2006.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#bccdozisg7oz90)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="728.75" y="2017.9419">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="976.25" y="2017.9419">getCardSelector ()</text><ellipse cx="706.25" cy="2041.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="728.75" y="2052.5317">CardRequest getCardRequest ()</text><!--MD5=[d4546fa1b310652d2e612bec588497f1]
class CardRequest--><rect codeLine="262" fill="#E9F7EF" height="209.1797" id="CardRequest" style="stroke:#27AE60;stroke-width:3.75;" width="670" x="995" y="2376.875"/><ellipse cx="1180.625" cy="2416.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1185.625,2408.125 Q1186.1328,2406.875 1186.7188,2406.25 Q1187.3047,2405.625 1187.9688,2405.625 Q1189.1406,2405.625 1189.8828,2406.3281 Q1190.625,2407.0313 1190.625,2408.6719 L1190.625,2412.5781 Q1190.625,2414.2188 1189.9219,2414.9219 Q1189.2188,2415.625 1188.125,2415.625 Q1187.1484,2415.625 1186.5234,2415.1953 Q1185.8984,2414.7656 1185.625,2413.6328 Q1185.5078,2412.8516 1185.0781,2412.4219 Q1184.2969,2411.6016 1182.8906,2411.1328 Q1181.4844,2410.625 1180.0781,2410.625 Q1178.3203,2410.625 1176.8359,2411.3281 Q1175.3906,2412.0313 1174.2578,2413.5938 Q1173.125,2415.1563 1173.125,2417.3047 L1173.125,2419.6094 Q1173.125,2422.1875 1175.2344,2423.9063 Q1177.3438,2425.625 1181.0938,2425.625 Q1183.3203,2425.625 1184.8828,2425.1172 Q1185.7813,2424.8438 1186.7969,2423.9453 Q1187.4609,2423.4375 1187.8125,2423.2813 Q1188.1641,2423.125 1188.5938,2423.125 Q1189.4141,2423.125 1190,2423.7891 Q1190.625,2424.4141 1190.625,2425.3125 Q1190.625,2426.1719 1189.7656,2427.1875 Q1188.5156,2428.6719 1186.5234,2429.4922 Q1183.9063,2430.625 1180.7031,2430.625 Q1176.9531,2430.625 1173.9453,2429.1406 Q1171.5234,2427.9688 1169.8047,2425.4297 Q1168.125,2422.8906 1168.125,2419.8828 L1168.125,2417.1484 Q1168.125,2414.0234 1169.6094,2411.2891 Q1171.1328,2408.5547 1173.75,2407.1094 Q1176.4063,2405.625 1179.375,2405.625 Q1181.1719,2405.625 1182.7344,2406.25 Q1184.2969,2406.875 1185.625,2408.125 Z " fill="#000000"/><ellipse cx="1244.375" cy="2415.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1259.375" y="2429.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="182.5" x="1326.875" y="2429.1504">CardRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="997.5" x2="1662.5" y1="2456.875" y2="2456.875"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="997.5" x2="1662.5" y1="2476.875" y2="2476.875"/><ellipse cx="1022.5" cy="2504.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="605" x="1045" y="2515.4224">CardRequest (List&lt;ApduRequest&gt; apduRequests)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="997.5" x2="1662.5" y1="2531.4648" y2="2531.4648"/><ellipse cx="1022.5" cy="2558.9648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="490" x="1045" y="2570.0122">List&lt;ApduRequest&gt; getApduRequests ()</text><!--MD5=[8d2debdbb32bf9c83697f345c4529e73]
class ApduRequest--><rect codeLine="263" fill="#E9F7EF" height="545.8984" id="ApduRequest" style="stroke:#27AE60;stroke-width:3.75;" width="592.5" x="1033.75" y="2853.125"/><ellipse cx="1178.125" cy="2893.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1183.125,2884.375 Q1183.6328,2883.125 1184.2188,2882.5 Q1184.8047,2881.875 1185.4688,2881.875 Q1186.6406,2881.875 1187.3828,2882.5781 Q1188.125,2883.2813 1188.125,2884.9219 L1188.125,2888.8281 Q1188.125,2890.4688 1187.4219,2891.1719 Q1186.7188,2891.875 1185.625,2891.875 Q1184.6484,2891.875 1184.0234,2891.4453 Q1183.3984,2891.0156 1183.125,2889.8828 Q1183.0078,2889.1016 1182.5781,2888.6719 Q1181.7969,2887.8516 1180.3906,2887.3828 Q1178.9844,2886.875 1177.5781,2886.875 Q1175.8203,2886.875 1174.3359,2887.5781 Q1172.8906,2888.2813 1171.7578,2889.8438 Q1170.625,2891.4063 1170.625,2893.5547 L1170.625,2895.8594 Q1170.625,2898.4375 1172.7344,2900.1563 Q1174.8438,2901.875 1178.5938,2901.875 Q1180.8203,2901.875 1182.3828,2901.3672 Q1183.2813,2901.0938 1184.2969,2900.1953 Q1184.9609,2899.6875 1185.3125,2899.5313 Q1185.6641,2899.375 1186.0938,2899.375 Q1186.9141,2899.375 1187.5,2900.0391 Q1188.125,2900.6641 1188.125,2901.5625 Q1188.125,2902.4219 1187.2656,2903.4375 Q1186.0156,2904.9219 1184.0234,2905.7422 Q1181.4063,2906.875 1178.2031,2906.875 Q1174.4531,2906.875 1171.4453,2905.3906 Q1169.0234,2904.2188 1167.3047,2901.6797 Q1165.625,2899.1406 1165.625,2896.1328 L1165.625,2893.3984 Q1165.625,2890.2734 1167.1094,2887.5391 Q1168.6328,2884.8047 1171.25,2883.3594 Q1173.9063,2881.875 1176.875,2881.875 Q1178.6719,2881.875 1180.2344,2882.5 Q1181.7969,2883.125 1183.125,2884.375 Z " fill="#000000"/><ellipse cx="1241.875" cy="2891.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1256.875" y="2905.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="187.5" x="1324.375" y="2905.4004">ApduRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1036.25" x2="1623.75" y1="2933.125" y2="2933.125"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="1036.25" x2="1623.75" y1="2953.125" y2="2953.125"/><ellipse cx="1061.25" cy="2980.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="527.5" x="1083.75" y="2991.6724">ApduRequest (byte[] bytes, boolean case4)</text><ellipse cx="1061.25" cy="3015.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="1083.75" y="3026.2622">ApduRequest (byte cla, byte instruction,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="465" x="1143.75" y="3060.8521">byte p1, byte p2, byte[] dataIn, Byte le)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1036.25" x2="1623.75" y1="3076.8945" y2="3076.8945"/><ellipse cx="1061.25" cy="3104.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="1083.75" y="3115.4419">ApduRequest setSuccessfulStatusCodes (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="460" x="1143.75" y="3150.0317">Set&lt;Integer&gt; successfulStatusCodes)</text><ellipse cx="1061.25" cy="3173.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="517.5" x="1083.75" y="3184.6216">Set&lt;Integer&gt; getSuccessfulStatusCodes ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1036.25" x2="1623.75" y1="3200.6641" y2="3200.6641"/><ellipse cx="1061.25" cy="3228.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="1083.75" y="3239.2114">ApduRequest setName (String name)</text><ellipse cx="1061.25" cy="3262.7539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1083.75" y="3273.8013">String getName ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1036.25" x2="1623.75" y1="3289.8438" y2="3289.8438"/><ellipse cx="1061.25" cy="3317.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1083.75" y="3328.3911">byte[] getBytes ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1036.25" x2="1623.75" y1="3344.4336" y2="3344.4336"/><ellipse cx="1061.25" cy="3371.9336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="227.5" x="1083.75" y="3382.981">boolean isCase4 ()</text><!--MD5=[81bdd127dee3d48e66ef7f85d7892fe8]
class DefaultSelectionsRequest--><rect codeLine="258" fill="#E9F7EF" height="402.5977" id="DefaultSelectionsRequest" style="stroke:#27AE60;stroke-width:3.75;" width="760" x="967.5" y="1190.625"/><ellipse cx="1064.625" cy="1240.8594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1069.625,1232.1094 Q1070.1328,1230.8594 1070.7188,1230.2344 Q1071.3047,1229.6094 1071.9688,1229.6094 Q1073.1406,1229.6094 1073.8828,1230.3125 Q1074.625,1231.0156 1074.625,1232.6563 L1074.625,1236.5625 Q1074.625,1238.2031 1073.9219,1238.9063 Q1073.2188,1239.6094 1072.125,1239.6094 Q1071.1484,1239.6094 1070.5234,1239.1797 Q1069.8984,1238.75 1069.625,1237.6172 Q1069.5078,1236.8359 1069.0781,1236.4063 Q1068.2969,1235.5859 1066.8906,1235.1172 Q1065.4844,1234.6094 1064.0781,1234.6094 Q1062.3203,1234.6094 1060.8359,1235.3125 Q1059.3906,1236.0156 1058.2578,1237.5781 Q1057.125,1239.1406 1057.125,1241.2891 L1057.125,1243.5938 Q1057.125,1246.1719 1059.2344,1247.8906 Q1061.3438,1249.6094 1065.0938,1249.6094 Q1067.3203,1249.6094 1068.8828,1249.1016 Q1069.7813,1248.8281 1070.7969,1247.9297 Q1071.4609,1247.4219 1071.8125,1247.2656 Q1072.1641,1247.1094 1072.5938,1247.1094 Q1073.4141,1247.1094 1074,1247.7734 Q1074.625,1248.3984 1074.625,1249.2969 Q1074.625,1250.1563 1073.7656,1251.1719 Q1072.5156,1252.6563 1070.5234,1253.4766 Q1067.9063,1254.6094 1064.7031,1254.6094 Q1060.9531,1254.6094 1057.9453,1253.125 Q1055.5234,1251.9531 1053.8047,1249.4141 Q1052.125,1246.875 1052.125,1243.8672 L1052.125,1241.1328 Q1052.125,1238.0078 1053.6094,1235.2734 Q1055.1328,1232.5391 1057.75,1231.0938 Q1060.4063,1229.6094 1063.375,1229.6094 Q1065.1719,1229.6094 1066.7344,1230.2344 Q1068.2969,1230.8594 1069.625,1232.1094 Z " fill="#000000"/><ellipse cx="1125.375" cy="1239.6094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1140.375" y="1234.2676">&lt;&lt;</text><text fill="#000000" filter="url(#bccdozisg7oz90)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="450" x="1175.375" y="1234.2676">KeypleDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1625.375" y="1234.2676">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1189.125" y="1272.002">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="355" x="1256.625" y="1272.002">DefaultSelectionsRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="970" x2="1725" y1="1291.0938" y2="1291.0938"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="970" x2="1725" y1="1311.0938" y2="1311.0938"/><ellipse cx="995" cy="1338.5938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="1017.5" y="1349.6411">DefaultSelectionsRequest (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="635" x="1077.5" y="1384.231">List&lt;CardSelectionRequest&gt; cardSelectionRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="1077.5" y="1418.8208">MultiSelectionProcessing multiSelectionProcessing,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="1077.5" y="1453.4106">ChannelControl channelControl)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="970" x2="1725" y1="1469.4531" y2="1469.4531"/><ellipse cx="995" cy="1496.9531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="667.5" x="1017.5" y="1508.0005">MultiSelectionProcessing getMultiSelectionProcessing ()</text><ellipse cx="995" cy="1531.543" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="1017.5" y="1542.5903">ChannelControl getChannelControl ()</text><ellipse cx="995" cy="1566.1328" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="695" x="1017.5" y="1577.1802">List&lt;CardSelectionRequest&gt; getCardSelectionRequests ()</text><!--MD5=[ad88d8106adc0f21766a2a077a674dda]
class CardSelectionResponse--><rect codeLine="266" fill="#F4ECF7" height="312.9492" id="CardSelectionResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="512.5" x="3556.25" y="1755.625"/><ellipse cx="3594.875" cy="1795.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3599.875,1786.875 Q3600.3828,1785.625 3600.9688,1785 Q3601.5547,1784.375 3602.2188,1784.375 Q3603.3906,1784.375 3604.1328,1785.0781 Q3604.875,1785.7813 3604.875,1787.4219 L3604.875,1791.3281 Q3604.875,1792.9688 3604.1719,1793.6719 Q3603.4688,1794.375 3602.375,1794.375 Q3601.3984,1794.375 3600.7734,1793.9453 Q3600.1484,1793.5156 3599.875,1792.3828 Q3599.7578,1791.6016 3599.3281,1791.1719 Q3598.5469,1790.3516 3597.1406,1789.8828 Q3595.7344,1789.375 3594.3281,1789.375 Q3592.5703,1789.375 3591.0859,1790.0781 Q3589.6406,1790.7813 3588.5078,1792.3438 Q3587.375,1793.9063 3587.375,1796.0547 L3587.375,1798.3594 Q3587.375,1800.9375 3589.4844,1802.6563 Q3591.5938,1804.375 3595.3438,1804.375 Q3597.5703,1804.375 3599.1328,1803.8672 Q3600.0313,1803.5938 3601.0469,1802.6953 Q3601.7109,1802.1875 3602.0625,1802.0313 Q3602.4141,1801.875 3602.8438,1801.875 Q3603.6641,1801.875 3604.25,1802.5391 Q3604.875,1803.1641 3604.875,1804.0625 Q3604.875,1804.9219 3604.0156,1805.9375 Q3602.7656,1807.4219 3600.7734,1808.2422 Q3598.1563,1809.375 3594.9531,1809.375 Q3591.2031,1809.375 3588.1953,1807.8906 Q3585.7734,1806.7188 3584.0547,1804.1797 Q3582.375,1801.6406 3582.375,1798.6328 L3582.375,1795.8984 Q3582.375,1792.7734 3583.8594,1790.0391 Q3585.3828,1787.3047 3588,1785.8594 Q3590.6563,1784.375 3593.625,1784.375 Q3595.4219,1784.375 3596.9844,1785 Q3598.5469,1785.625 3599.875,1786.875 Z " fill="#000000"/><ellipse cx="3642.625" cy="1794.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3657.625" y="1807.9004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="335" x="3725.125" y="1807.9004">CardSelectionResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3558.75" x2="4066.25" y1="1835.625" y2="1835.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3558.75" x2="4066.25" y1="1855.625" y2="1855.625"/><ellipse cx="3583.75" cy="1883.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="307.5" x="3606.25" y="1894.1724">CardSelectionResponse (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="3666.25" y="1928.7622">SelectionStatus selectionStatus,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="3666.25" y="1963.3521">CardResponse cardResponse)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3558.75" x2="4066.25" y1="1979.3945" y2="1979.3945"/><ellipse cx="3583.75" cy="2006.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="3606.25" y="2017.9419">SelectionStatus getSelectionStatus ()</text><ellipse cx="3583.75" cy="2041.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="3606.25" y="2052.5317">CardResponse getCardResponse ()</text><!--MD5=[62519695b550f8cbf5b64cbd0e08e475]
class CardResponse--><rect codeLine="267" fill="#F4ECF7" height="298.3594" id="CardResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="622.5" x="2988.75" y="2333.125"/><ellipse cx="3138.125" cy="2373.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3143.125,2364.375 Q3143.6328,2363.125 3144.2188,2362.5 Q3144.8047,2361.875 3145.4688,2361.875 Q3146.6406,2361.875 3147.3828,2362.5781 Q3148.125,2363.2813 3148.125,2364.9219 L3148.125,2368.8281 Q3148.125,2370.4688 3147.4219,2371.1719 Q3146.7188,2371.875 3145.625,2371.875 Q3144.6484,2371.875 3144.0234,2371.4453 Q3143.3984,2371.0156 3143.125,2369.8828 Q3143.0078,2369.1016 3142.5781,2368.6719 Q3141.7969,2367.8516 3140.3906,2367.3828 Q3138.9844,2366.875 3137.5781,2366.875 Q3135.8203,2366.875 3134.3359,2367.5781 Q3132.8906,2368.2813 3131.7578,2369.8438 Q3130.625,2371.4063 3130.625,2373.5547 L3130.625,2375.8594 Q3130.625,2378.4375 3132.7344,2380.1563 Q3134.8438,2381.875 3138.5938,2381.875 Q3140.8203,2381.875 3142.3828,2381.3672 Q3143.2813,2381.0938 3144.2969,2380.1953 Q3144.9609,2379.6875 3145.3125,2379.5313 Q3145.6641,2379.375 3146.0938,2379.375 Q3146.9141,2379.375 3147.5,2380.0391 Q3148.125,2380.6641 3148.125,2381.5625 Q3148.125,2382.4219 3147.2656,2383.4375 Q3146.0156,2384.9219 3144.0234,2385.7422 Q3141.4063,2386.875 3138.2031,2386.875 Q3134.4531,2386.875 3131.4453,2385.3906 Q3129.0234,2384.2188 3127.3047,2381.6797 Q3125.625,2379.1406 3125.625,2376.1328 L3125.625,2373.3984 Q3125.625,2370.2734 3127.1094,2367.5391 Q3128.6328,2364.8047 3131.25,2363.3594 Q3133.9063,2361.875 3136.875,2361.875 Q3138.6719,2361.875 3140.2344,2362.5 Q3141.7969,2363.125 3143.125,2364.375 Z " fill="#000000"/><ellipse cx="3201.875" cy="2371.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3216.875" y="2385.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="207.5" x="3284.375" y="2385.4004">CardResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2991.25" x2="3608.75" y1="2413.125" y2="2413.125"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2991.25" x2="3608.75" y1="2433.125" y2="2433.125"/><ellipse cx="3016.25" cy="2460.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="557.5" x="3038.75" y="2471.6724">CardResponse (boolean logicalChannelStatus,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="475" x="3098.75" y="2506.2622">List&lt;ApduResponse&gt; apduResponses)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2991.25" x2="3608.75" y1="2522.3047" y2="2522.3047"/><ellipse cx="3016.25" cy="2549.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="3038.75" y="2560.8521">List&lt;ApduResponse&gt; getApduResponses ()</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2991.25" x2="3608.75" y1="2576.8945" y2="2576.8945"/><ellipse cx="3016.25" cy="2604.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="3038.75" y="2615.4419">boolean isLogicalChannelOpen ()</text><!--MD5=[020bc233d237158d8be37d9dae17a65e]
class ApduResponse--><rect codeLine="268" fill="#F4ECF7" height="367.5391" id="ApduResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="585" x="2932.5" y="2941.875"/><ellipse cx="3060.625" cy="2981.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3065.625,2973.125 Q3066.1328,2971.875 3066.7188,2971.25 Q3067.3047,2970.625 3067.9688,2970.625 Q3069.1406,2970.625 3069.8828,2971.3281 Q3070.625,2972.0313 3070.625,2973.6719 L3070.625,2977.5781 Q3070.625,2979.2188 3069.9219,2979.9219 Q3069.2188,2980.625 3068.125,2980.625 Q3067.1484,2980.625 3066.5234,2980.1953 Q3065.8984,2979.7656 3065.625,2978.6328 Q3065.5078,2977.8516 3065.0781,2977.4219 Q3064.2969,2976.6016 3062.8906,2976.1328 Q3061.4844,2975.625 3060.0781,2975.625 Q3058.3203,2975.625 3056.8359,2976.3281 Q3055.3906,2977.0313 3054.2578,2978.5938 Q3053.125,2980.1563 3053.125,2982.3047 L3053.125,2984.6094 Q3053.125,2987.1875 3055.2344,2988.9063 Q3057.3438,2990.625 3061.0938,2990.625 Q3063.3203,2990.625 3064.8828,2990.1172 Q3065.7813,2989.8438 3066.7969,2988.9453 Q3067.4609,2988.4375 3067.8125,2988.2813 Q3068.1641,2988.125 3068.5938,2988.125 Q3069.4141,2988.125 3070,2988.7891 Q3070.625,2989.4141 3070.625,2990.3125 Q3070.625,2991.1719 3069.7656,2992.1875 Q3068.5156,2993.6719 3066.5234,2994.4922 Q3063.9063,2995.625 3060.7031,2995.625 Q3056.9531,2995.625 3053.9453,2994.1406 Q3051.5234,2992.9688 3049.8047,2990.4297 Q3048.125,2987.8906 3048.125,2984.8828 L3048.125,2982.1484 Q3048.125,2979.0234 3049.6094,2976.2891 Q3051.1328,2973.5547 3053.75,2972.1094 Q3056.4063,2970.625 3059.375,2970.625 Q3061.1719,2970.625 3062.7344,2971.25 Q3064.2969,2971.875 3065.625,2973.125 Z " fill="#000000"/><ellipse cx="3124.375" cy="2980.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3139.375" y="2994.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="3206.875" y="2994.1504">ApduResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2935" x2="3515" y1="3021.875" y2="3021.875"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2935" x2="3515" y1="3041.875" y2="3041.875"/><ellipse cx="2960" cy="3069.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="2982.5" y="3080.4224">ApduResponse (byte[] buffer,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="460" x="3042.5" y="3115.0122">Set&lt;Integer&gt; successfulStatusCodes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2935" x2="3515" y1="3131.0547" y2="3131.0547"/><ellipse cx="2960" cy="3158.5547" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="2982.5" y="3169.6021">boolean isSuccessful ()</text><ellipse cx="2960" cy="3193.1445" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="2982.5" y="3204.1919">int getStatusCode ()</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2935" x2="3515" y1="3220.2344" y2="3220.2344"/><ellipse cx="2960" cy="3247.7344" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2982.5" y="3258.7817">byte[] getBytes ()</text><ellipse cx="2960" cy="3282.3242" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="2982.5" y="3293.3716">byte[] getDataOut ()</text><!--MD5=[17146a741b3becbcb08fff440a5eba97]
class SelectionStatus--><rect codeLine="269" fill="#F4ECF7" height="382.1289" id="SelectionStatus" style="stroke:#8E44AD;stroke-width:3.75;" width="375" x="3700" y="2290.625"/><ellipse cx="3762.25" cy="2330.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3767.25,2321.875 Q3767.7578,2320.625 3768.3438,2320 Q3768.9297,2319.375 3769.5938,2319.375 Q3770.7656,2319.375 3771.5078,2320.0781 Q3772.25,2320.7813 3772.25,2322.4219 L3772.25,2326.3281 Q3772.25,2327.9688 3771.5469,2328.6719 Q3770.8438,2329.375 3769.75,2329.375 Q3768.7734,2329.375 3768.1484,2328.9453 Q3767.5234,2328.5156 3767.25,2327.3828 Q3767.1328,2326.6016 3766.7031,2326.1719 Q3765.9219,2325.3516 3764.5156,2324.8828 Q3763.1094,2324.375 3761.7031,2324.375 Q3759.9453,2324.375 3758.4609,2325.0781 Q3757.0156,2325.7813 3755.8828,2327.3438 Q3754.75,2328.9063 3754.75,2331.0547 L3754.75,2333.3594 Q3754.75,2335.9375 3756.8594,2337.6563 Q3758.9688,2339.375 3762.7188,2339.375 Q3764.9453,2339.375 3766.5078,2338.8672 Q3767.4063,2338.5938 3768.4219,2337.6953 Q3769.0859,2337.1875 3769.4375,2337.0313 Q3769.7891,2336.875 3770.2188,2336.875 Q3771.0391,2336.875 3771.625,2337.5391 Q3772.25,2338.1641 3772.25,2339.0625 Q3772.25,2339.9219 3771.3906,2340.9375 Q3770.1406,2342.4219 3768.1484,2343.2422 Q3765.5313,2344.375 3762.3281,2344.375 Q3758.5781,2344.375 3755.5703,2342.8906 Q3753.1484,2341.7188 3751.4297,2339.1797 Q3749.75,2336.6406 3749.75,2333.6328 L3749.75,2330.8984 Q3749.75,2327.7734 3751.2344,2325.0391 Q3752.7578,2322.3047 3755.375,2320.8594 Q3758.0313,2319.375 3761,2319.375 Q3762.7969,2319.375 3764.3594,2320 Q3765.9219,2320.625 3767.25,2321.875 Z " fill="#000000"/><ellipse cx="3815.25" cy="2329.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="3830.25" y="2342.9004">SelectionStatus</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3702.5" x2="4072.5" y1="2370.625" y2="2370.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3702.5" x2="4072.5" y1="2390.625" y2="2390.625"/><ellipse cx="3727.5" cy="2418.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="205" x="3750" y="2429.1724">SelectionStatus (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="3810" y="2463.7622">AnswerToReset atr,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="3810" y="2498.3521">ApduResponse fci,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="3810" y="2532.9419">boolean isMatching)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3702.5" x2="4072.5" y1="2548.9844" y2="2548.9844"/><ellipse cx="3727.5" cy="2576.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="3750" y="2587.5317">AnswerToReset getAtr ()</text><ellipse cx="3727.5" cy="2611.0742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="295" x="3750" y="2622.1216">ApduResponse getFci ()</text><ellipse cx="3727.5" cy="2645.6641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="277.5" x="3750" y="2656.7114">boolean hasMatched ()</text><!--MD5=[08697d5c41fb59880dad310582db5b30]
class AnswerToReset--><rect codeLine="270" fill="#F4ECF7" height="209.1797" id="AnswerToReset" style="stroke:#8E44AD;stroke-width:3.75;" width="470" x="3605" y="3020.625"/><ellipse cx="3708.875" cy="3060.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3713.875,3051.875 Q3714.3828,3050.625 3714.9688,3050 Q3715.5547,3049.375 3716.2188,3049.375 Q3717.3906,3049.375 3718.1328,3050.0781 Q3718.875,3050.7813 3718.875,3052.4219 L3718.875,3056.3281 Q3718.875,3057.9688 3718.1719,3058.6719 Q3717.4688,3059.375 3716.375,3059.375 Q3715.3984,3059.375 3714.7734,3058.9453 Q3714.1484,3058.5156 3713.875,3057.3828 Q3713.7578,3056.6016 3713.3281,3056.1719 Q3712.5469,3055.3516 3711.1406,3054.8828 Q3709.7344,3054.375 3708.3281,3054.375 Q3706.5703,3054.375 3705.0859,3055.0781 Q3703.6406,3055.7813 3702.5078,3057.3438 Q3701.375,3058.9063 3701.375,3061.0547 L3701.375,3063.3594 Q3701.375,3065.9375 3703.4844,3067.6563 Q3705.5938,3069.375 3709.3438,3069.375 Q3711.5703,3069.375 3713.1328,3068.8672 Q3714.0313,3068.5938 3715.0469,3067.6953 Q3715.7109,3067.1875 3716.0625,3067.0313 Q3716.4141,3066.875 3716.8438,3066.875 Q3717.6641,3066.875 3718.25,3067.5391 Q3718.875,3068.1641 3718.875,3069.0625 Q3718.875,3069.9219 3718.0156,3070.9375 Q3716.7656,3072.4219 3714.7734,3073.2422 Q3712.1563,3074.375 3708.9531,3074.375 Q3705.2031,3074.375 3702.1953,3072.8906 Q3699.7734,3071.7188 3698.0547,3069.1797 Q3696.375,3066.6406 3696.375,3063.6328 L3696.375,3060.8984 Q3696.375,3057.7734 3697.8594,3055.0391 Q3699.3828,3052.3047 3702,3050.8594 Q3704.6563,3049.375 3707.625,3049.375 Q3709.4219,3049.375 3710.9844,3050 Q3712.5469,3050.625 3713.875,3051.875 Z " fill="#000000"/><ellipse cx="3771.125" cy="3059.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="215" x="3786.125" y="3072.9004">AnswerToReset</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3607.5" x2="4072.5" y1="3100.625" y2="3100.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3607.5" x2="4072.5" y1="3120.625" y2="3120.625"/><ellipse cx="3632.5" cy="3148.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="3655" y="3159.1724">AnswerToReset (byte[] atrBytes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3607.5" x2="4072.5" y1="3175.2148" y2="3175.2148"/><ellipse cx="3632.5" cy="3202.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3655" y="3213.7622">byte[] getBytes ()</text><!--MD5=[98ba62cb7f23ffced5bd52e8cedb0b75]
class DefaultSelectionsResponse--><rect codeLine="265" fill="#F4ECF7" height="264.2383" id="DefaultSelectionsResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="807.5" x="3096.25" y="1259.375"/><ellipse cx="3203.5" cy="1309.6094" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3208.5,1300.8594 Q3209.0078,1299.6094 3209.5938,1298.9844 Q3210.1797,1298.3594 3210.8438,1298.3594 Q3212.0156,1298.3594 3212.7578,1299.0625 Q3213.5,1299.7656 3213.5,1301.4063 L3213.5,1305.3125 Q3213.5,1306.9531 3212.7969,1307.6563 Q3212.0938,1308.3594 3211,1308.3594 Q3210.0234,1308.3594 3209.3984,1307.9297 Q3208.7734,1307.5 3208.5,1306.3672 Q3208.3828,1305.5859 3207.9531,1305.1563 Q3207.1719,1304.3359 3205.7656,1303.8672 Q3204.3594,1303.3594 3202.9531,1303.3594 Q3201.1953,1303.3594 3199.7109,1304.0625 Q3198.2656,1304.7656 3197.1328,1306.3281 Q3196,1307.8906 3196,1310.0391 L3196,1312.3438 Q3196,1314.9219 3198.1094,1316.6406 Q3200.2188,1318.3594 3203.9688,1318.3594 Q3206.1953,1318.3594 3207.7578,1317.8516 Q3208.6563,1317.5781 3209.6719,1316.6797 Q3210.3359,1316.1719 3210.6875,1316.0156 Q3211.0391,1315.8594 3211.4688,1315.8594 Q3212.2891,1315.8594 3212.875,1316.5234 Q3213.5,1317.1484 3213.5,1318.0469 Q3213.5,1318.9063 3212.6406,1319.9219 Q3211.3906,1321.4063 3209.3984,1322.2266 Q3206.7813,1323.3594 3203.5781,1323.3594 Q3199.8281,1323.3594 3196.8203,1321.875 Q3194.3984,1320.7031 3192.6797,1318.1641 Q3191,1315.625 3191,1312.6172 L3191,1309.8828 Q3191,1306.7578 3192.4844,1304.0234 Q3194.0078,1301.2891 3196.625,1299.8438 Q3199.2813,1298.3594 3202.25,1298.3594 Q3204.0469,1298.3594 3205.6094,1298.9844 Q3207.1719,1299.6094 3208.5,1300.8594 Z " fill="#000000"/><ellipse cx="3266.5" cy="1308.3594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3281.5" y="1303.0176">&lt;&lt;</text><text fill="#000000" filter="url(#bccdozisg7oz90)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="475" x="3316.5" y="1303.0176">KeypleDefaultSelectionsResponse</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3791.5" y="1303.0176">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3330.25" y="1340.752">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="380" x="3397.75" y="1340.752">DefaultSelectionsResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3098.75" x2="3901.25" y1="1359.8438" y2="1359.8438"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3098.75" x2="3901.25" y1="1379.8438" y2="1379.8438"/><ellipse cx="3123.75" cy="1407.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="350" x="3146.25" y="1418.3911">DefaultSelectionsResponse (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="682.5" x="3206.25" y="1452.981">List&lt;CardSelectionResponse&gt; cardSelectionResponses)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3098.75" x2="3901.25" y1="1469.0234" y2="1469.0234"/><ellipse cx="3123.75" cy="1496.5234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="740" x="3146.25" y="1507.5708">List&lt;CardSelectionResponse&gt; getCardSelectionResponses ()</text><!--MD5=[266955a256f69cd9e8835259646fbe13]
class CardExtensionSpi--><rect codeLine="180" fill="#FEFECE" height="223.7695" id="CardExtensionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="460" x="3910" y="758.125"/><ellipse cx="3994.75" cy="798.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3997.25,790.625 L3997.25,805.625 L4002.25,805.625 L4003.4609,805.625 L4004.75,807.1875 L4004.75,808.125 L4004.75,809.0625 L4003.4609,810.625 L4002.25,810.625 L3987.25,810.625 L3986.0391,810.625 L3984.75,809.0625 L3984.75,808.125 L3984.75,807.1875 L3986.0391,805.625 L3987.25,805.625 L3992.25,805.625 L3992.25,790.625 L3987.25,790.625 L3986.0391,790.625 L3984.75,789.0625 L3984.75,788.125 L3984.75,787.1875 L3986.0391,785.625 L3987.25,785.625 L4002.25,785.625 L4003.4609,785.625 L4004.75,787.1875 L4004.75,788.125 L4004.75,789.0625 L4003.4609,790.625 L4002.25,790.625 L3997.25,790.625 Z " fill="#000000"/><ellipse cx="4052.75" cy="796.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="247.5" x="4067.75" y="810.4004">CardExtensionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3912.5" x2="4367.5" y1="838.125" y2="838.125"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3912.5" x2="4367.5" y1="858.125" y2="858.125"/><ellipse cx="3937.5" cy="885.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="3960" y="896.6724">String getCardApiVersion ()</text><ellipse cx="3937.5" cy="920.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="370" x="3960" y="931.2622">String getServiceApiVersion ()</text><ellipse cx="3937.5" cy="954.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="395" x="3960" y="965.8521">String getCommonsApiVersion ()</text><!--MD5=[e210ee7b55cb4fcef849a017d68619f7]
class CardSelectionSpi--><rect codeLine="185" fill="#FEFECE" height="189.1797" id="CardSelectionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="920" x="2902.5" y="775.625"/><ellipse cx="3218.125" cy="815.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3220.625,808.125 L3220.625,823.125 L3225.625,823.125 L3226.8359,823.125 L3228.125,824.6875 L3228.125,825.625 L3228.125,826.5625 L3226.8359,828.125 L3225.625,828.125 L3210.625,828.125 L3209.4141,828.125 L3208.125,826.5625 L3208.125,825.625 L3208.125,824.6875 L3209.4141,823.125 L3210.625,823.125 L3215.625,823.125 L3215.625,808.125 L3210.625,808.125 L3209.4141,808.125 L3208.125,806.5625 L3208.125,805.625 L3208.125,804.6875 L3209.4141,803.125 L3210.625,803.125 L3225.625,803.125 L3226.8359,803.125 L3228.125,804.6875 L3228.125,805.625 L3228.125,806.5625 L3226.8359,808.125 L3225.625,808.125 L3220.625,808.125 Z " fill="#000000"/><ellipse cx="3281.875" cy="814.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="240" x="3296.875" y="827.9004">CardSelectionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2905" x2="3820" y1="855.625" y2="855.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2905" x2="3820" y1="875.625" y2="875.625"/><ellipse cx="2930" cy="903.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="2952.5" y="914.1724">CardSelectionRequest getCardSelectionRequest ()</text><ellipse cx="2930" cy="937.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="855" x="2952.5" y="948.7622">SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)</text><!--MD5=[c089e258773b765d812cd5d8bc232f90]
class SmartCardSpi--><rect codeLine="189" fill="#FEFECE" height="120" id="SmartCardSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="302.5" x="2511.25" y="810.625"/><ellipse cx="2548.75" cy="850.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2551.25,843.125 L2551.25,858.125 L2556.25,858.125 L2557.4609,858.125 L2558.75,859.6875 L2558.75,860.625 L2558.75,861.5625 L2557.4609,863.125 L2556.25,863.125 L2541.25,863.125 L2540.0391,863.125 L2538.75,861.5625 L2538.75,860.625 L2538.75,859.6875 L2540.0391,858.125 L2541.25,858.125 L2546.25,858.125 L2546.25,843.125 L2541.25,843.125 L2540.0391,843.125 L2538.75,841.5625 L2538.75,840.625 L2538.75,839.6875 L2540.0391,838.125 L2541.25,838.125 L2556.25,838.125 L2557.4609,838.125 L2558.75,839.6875 L2558.75,840.625 L2558.75,841.5625 L2557.4609,843.125 L2556.25,843.125 L2551.25,843.125 Z " fill="#000000"/><ellipse cx="2596.25" cy="849.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="2611.25" y="862.9004">SmartCardSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2513.75" x2="2811.25" y1="890.625" y2="890.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2513.75" x2="2811.25" y1="910.625" y2="910.625"/><!--MD5=[695000fa4fcaf49ec1bb096676d9e4f7]
reverse link AbstractCommunicationException to ReaderCommunicationException--><path d="M4606.225,1653.86 C4605.375,1712.3525 4604.525,1770.71 4603.85,1816.8575 " fill="none" id="AbstractCommunicationException-backto-ReaderCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="4588.725,1653.585,4606.95,1603.845,4623.725,1654.095,4588.725,1653.585" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[30e8d21bd42c49f90ab21ceb84ec5489]
reverse link AbstractCommunicationException to CardCommunicationException--><path d="M5043.475,1627.52 C5167.95,1694.4775 5296.575,1763.6525 5395.225,1816.715 " fill="none" id="AbstractCommunicationException-backto-CardCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="5034.5,1642.57,4998.75,1603.475,5051.075,1611.7475,5034.5,1642.57" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[4d009e737347a7cb48153b9a74bb2f94]
reverse link ApiProperties to CardExtensionSpi--><path codeLine="216" d="M4140,441.675 C4140,529.125 4140,663.125 4140,757.55 " fill="none" id="ApiProperties-backto-CardExtensionSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4140,429.125,4130,451.625,4140,441.625,4150,451.625,4140,429.125" style="stroke:#27AE60;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="4190" y="539.3628">provide</text><polygon fill="#000000" points="4155,554.4434,4147.6527,577.0561,4162.3473,577.0561,4155,554.4434" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="162.5" x="4175" y="580.2417">API version</text><!--MD5=[1031604b91889377fe6bb61a55310e0d]
reverse link DefaultSelectionsRequest to CardSelectionRequest--><path codeLine="218" d="M1220.3575,1622.125 C1195.175,1667.235 1169.305,1713.5775 1145.8925,1755.5175 " fill="none" id="DefaultSelectionsRequest-backto-CardSelectionRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1236.345,1593.4875,1220.3017,1601.7102,1221.7214,1619.682,1237.7647,1611.4593,1236.345,1593.4875" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="1092.3551" y="1728.8888">1..N</text><!--MD5=[342c8eb25f8a1dd96cfbcd7f698a68c7]
reverse link DefaultSelectionsRequest to MultiSelectionProcessing--><path codeLine="219" d="M937.455,1598.0075 C837.98,1648.5825 732.275,1703.3075 635,1755.625 C599.1325,1774.915 560.9375,1796.2 524.905,1816.625 " fill="none" id="DefaultSelectionsRequest-backto-MultiSelectionProcessing" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="966.72,1583.1575,948.8185,1581.0278,939.9674,1596.7332,957.869,1598.8629,966.72,1583.1575" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="534.3295" y="1789.9852">1</text><!--MD5=[e98879906059635ebfdbd0a3108430b7]
reverse link DefaultSelectionsRequest to ChannelControl--><path codeLine="220" d="M1499.12,1620.7075 C1545.26,1689.58 1593.42,1761.4725 1630.1375,1816.2825 " fill="none" id="DefaultSelectionsRequest-backto-ChannelControl" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1480.885,1593.4875,1480.9262,1611.5152,1497.583,1618.4109,1497.5418,1600.3832,1480.885,1593.4875" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1599.9706" y="1789.5817">1</text><!--MD5=[9835af9204c9210f827ba24cc91945f0]
reverse link CardSelectionRequest to CardRequest--><path codeLine="222" d="M1124.5125,2099.2725 C1136.3375,2129.32 1149.1825,2159.8425 1162.5,2188.125 C1192.8175,2252.5075 1232.28,2321.67 1265.285,2376.4375 " fill="none" id="CardSelectionRequest-backto-CardRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1112.5775,2068.2475,1108.6296,2085.8377,1123.3482,2096.2474,1127.2961,2078.6572,1112.5775,2068.2475" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="1195.0119" y="2349.5404">0..1</text><!--MD5=[d401507d432a199d6c8d10fa177dfeb2]
reverse link CardRequest to ApduRequest--><path codeLine="224" d="M1330,2619.835 C1330,2687.65 1330,2772.245 1330,2852.6125 " fill="none" id="CardRequest-backto-ApduRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1330,2587,1320,2602,1330,2617,1340,2602,1330,2587" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="1267.8906" y="2825.7472">1..N</text><!--MD5=[3774cd7428d282f293487fb5ad02157e]
reverse link DefaultSelectionsResponse to CardSelectionResponse--><path codeLine="226" d="M3591.425,1552.9225 C3615.85,1594.6375 3642.425,1639.475 3667.5,1680.625 C3682.175,1704.7175 3697.95,1730.0825 3713.475,1754.8 " fill="none" id="DefaultSelectionsResponse-backto-CardSelectionResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3574.9,1524.625,3573.8237,1542.6206,3590.021,1550.5355,3591.0974,1532.5399,3574.9,1524.625" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="3638.5565" y="1728.0883">1..N</text><!--MD5=[77f859707804abe419614d0e91d95dfe]
reverse link CardSelectionResponse to CardResponse--><path codeLine="228" d="M3807.55,2100.665 C3800.65,2131.61 3789.65,2162.065 3772.5,2188.125 C3770.425,2191.295 3655.925,2261.9 3540.175,2332.79 " fill="none" id="CardSelectionResponse-backto-CardResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3813.35,2068.4075,3800.8604,2081.4079,3808.0571,2097.9369,3820.5467,2084.9365,3813.35,2068.4075" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3550.8799" y="2305.9217">1</text><!--MD5=[4905b2efbeb6b377be21c40fb1d79f57]
reverse link CardSelectionResponse to SelectionStatus--><path codeLine="229" d="M3837.35,2101.6175 C3845.4,2162.1275 3854.3,2229.2425 3862.35,2289.9125 " fill="none" id="CardSelectionResponse-backto-SelectionStatus" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3833,2068.7625,3825.0602,2084.9477,3836.9466,2098.5018,3844.8864,2082.3166,3833,2068.7625" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3841.6189" y="2263.5072">1</text><!--MD5=[9424ef5399bf3a67a4952b2f5019cc6d]
reverse link CardResponse to ApduResponse--><path codeLine="231" d="M3278.875,2664.34 C3268.725,2750.715 3256.6,2854.015 3246.425,2940.705 " fill="none" id="CardResponse-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3282.8,2630.9175,3271.1197,2644.6496,3279.303,2660.713,3290.9833,2646.9809,3282.8,2630.9175" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="3185.6077" y="2914.9514">1..N</text><!--MD5=[1cd47721a07c040e565e1a09c1eba3b5]
reverse link SelectionStatus to ApduResponse--><path codeLine="233" d="M3675.975,2688.305 C3591.675,2769.5875 3495.425,2862.3975 3413.55,2941.34 " fill="none" id="SelectionStatus-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3699.425,2665.7075,3681.6867,2668.9252,3677.8346,2686.5366,3695.5728,2683.3189,3699.425,2665.7075" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3374.4034" y="2915.0098">0..1</text><!--MD5=[24cbd97995d68a7170e91f5c730befab]
reverse link SelectionStatus to AnswerToReset--><path codeLine="234" d="M3871.025,2705.9325 C3863.1,2812.525 3853.975,2935.205 3847.675,3019.805 " fill="none" id="SelectionStatus-backto-AnswerToReset" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3873.45,2673.4275,3862.3655,2687.6449,3871.226,2703.3449,3882.3105,2689.1276,3873.45,2673.4275" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3789.5154" y="2993.6256">0..1</text><!--MD5=[b56d019b82b723e86845ab7127c81020]
reverse link AbstractCommunicationException to CardSelectionResponse--><path codeLine="236" d="M4286.775,1621.8575 C4256.775,1642.005 4226.7,1661.8575 4197.5,1680.625 C4156.3,1707.115 4112.05,1734.4175 4068.775,1760.535 " fill="none" id="AbstractCommunicationException-backto-CardSelectionResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4314.275,1603.2925,4296.2475,1603.3947,4289.4082,1620.0748,4307.4357,1619.9726,4314.275,1603.2925" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="4088.9037" y="1742.2406">0..N</text><!--MD5=[2cf391fa5274e43eb6911f1a469a3885]
reverse link AbstractCommunicationException to CardResponse--><path codeLine="237" d="M4296.675,1619.23 C4253.125,1643.11 4207.75,1664.515 4162.5,1680.625 C4025.525,1729.385 3623.7,1661.95 3512.5,1755.625 C3343.975,1897.575 3305.2,2165.56 3298.4,2332.5975 " fill="none" id="AbstractCommunicationException-backto-CardResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4325.025,1603.2125,4307.047,1601.8746,4298.8973,1617.9551,4316.8754,1619.293,4325.025,1603.2125" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3239.8534" y="2305.7058">0..1</text><!--MD5=[c545f7e69e1fd10e93a83a4930be8cac]
reverse link CardSelectionRequest to ProxyReader--><path codeLine="239" d="M1454.15,2066.9025 C1515.7675,2091.7825 1578.5375,2117.735 1637.5,2143.125 C1753.4675,2193.0625 1780.7575,2209.3575 1895,2263.125 C1908.0575,2269.27 1921.3225,2275.5225 1934.7125,2281.84 " fill="none" id="CardSelectionRequest-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1441.8425,2061.9425,1458.9715,2079.63,1453.4359,2066.6163,1466.4496,2061.0806,1441.8425,2061.9425" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1738.5893,2160.9609,1756.2316,2176.9004,1762.2312,2163.4863,1738.5893,2160.9609" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1772.5" y="2179.3628">use</text><!--MD5=[2442a7d7f46532290415533a60537508]
link ProxyReader to CardRequest--><path codeLine="240" d="M1934.2425,2481.875 C1849.335,2481.875 1760.815,2481.875 1678.5475,2481.875 " fill="none" id="ProxyReader-to-CardRequest" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1665.4,2481.875,1687.9,2491.875,1677.9,2481.875,1687.9,2471.875,1665.4,2481.875" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1755,2452.3145,1777.6127,2459.6618,1777.6127,2444.9671,1755,2452.3145" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1790" y="2465.6128">use</text><!--MD5=[cea258861a101b37c0092aa2c73adb0e]
reverse link MultiSelectionProcessing to ProxyReader--><path codeLine="241" d="M516.9,2013.595 C554.2825,2034.385 595.0725,2054.2 635,2068.125 C902.5275,2161.435 1624.205,2179.77 1895,2263.125 C1908.165,2267.1775 1921.4325,2271.55 1934.74,2276.1875 " fill="none" id="MultiSelectionProcessing-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="505.4125,2007.1175,520.101,2026.8785,516.3012,2013.2564,529.9233,2009.4567,505.4125,2007.1175" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1412.709,2163.7881,1433.6056,2175.1305,1436.2816,2160.6816,1412.709,2163.7881" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1447.5" y="2179.3628">use</text><!--MD5=[86fbc7b023257ef37098cf7570a66f83]
reverse link ChannelControl to ProxyReader--><path codeLine="242" d="M1805.7275,2016.01 C1825.415,2033.4775 1845.7475,2051.3875 1865,2068.125 C1938.315,2131.865 2018.5375,2200.3775 2092.2525,2262.8525 " fill="none" id="ChannelControl-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1796.1225,2007.4775,1806.3062,2029.8949,1805.4691,2015.7776,1819.5864,2014.9405,1796.1225,2007.4775" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2000.5297,2157.9058,2012.8661,2178.2314,2022.4572,2167.0985,2000.5297,2157.9058" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2032.5" y="2179.3628">use</text><!--MD5=[ef2297562df3bdaf27e19b497e1f04bc]
reverse link CardSelectionResponse to ProxyReader--><path codeLine="244" d="M3544.35,2068.2725 C3264.475,2187.0375 3174.45,2165.015 2892.5,2263.125 C2851.075,2277.535 2808.175,2293.25 2765.475,2309.415 " fill="none" id="CardSelectionResponse-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="3556.1,2063.2525,3531.4809,2062.8623,3544.5983,2068.1476,3539.3131,2081.265,3556.1,2063.2525" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3361.9408,2162.3675,3338.1667,2162.0367,3342.5127,2176.0739,3361.9408,2162.3675" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3372.5" y="2179.3628">provide</text><!--MD5=[07ed8df3c1c3d85fbf148d2489e3f22f]
link ProxyReader to CardResponse--><path codeLine="245" d="M2765.3,2481.875 C2835.8,2481.875 2908.1,2481.875 2975.825,2481.875 " fill="none" id="ProxyReader-to-CardResponse" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="2988.4,2481.875,2965.9,2471.875,2975.9,2481.875,2965.9,2491.875,2988.4,2481.875" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2833.125,2452.3145,2810.5123,2444.9671,2810.5123,2459.6618,2833.125,2452.3145" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2843.125" y="2465.6128">provide</text><!--MD5=[d2ebfaeff3c1061d12dbf11fc455c182]
reverse link AbstractCommunicationException to ProxyReader--><path codeLine="246" d="M4142.125,1595.67 C4133.05,1598.2775 4124,1600.7675 4115,1603.125 C3536.25,1754.8 3279.45,1430.0525 2777.5,1755.625 C2596.9,1872.7575 2482.5025,2095.18 2417.9625,2262.675 " fill="none" id="AbstractCommunicationException-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="4154.5,1592.0375,4130.0908,1588.8064,4142.5099,1595.5713,4135.7449,1607.9905,4154.5,1592.0375" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2801.658,1907.8045,2777.9175,1909.1107,2783.2194,1922.8155,2801.658,1907.8045" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="77.5" x="2812.5" y="1925.6128">throw</text><!--MD5=[c0a24d630d4de8bc0d10e52ccdce37c4]
link spi to DefaultSelectionsRequest--><!--MD5=[996fede72f6aa84a0ef13c93c212b0a9]
link spi to DefaultSelectionsResponse--><!--MD5=[2c40371f3c54ab57d9e55cd705d7188a]
@startuml
title
        Keyple 2.0 - keyple-card-api - 2.0 (09/02/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +List<CardSelectionResponse> transmitCardSelectionRequests (
            \tList<CardSelectionRequest> cardSelectionRequests,
            \tMultiSelectionProcessing multiSelectionProcessing,
            \tChannelControl channelControl)
        ..
        +CardResponse transmitCardRequest (
            \tCardRequest cardRequest,
            \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    ' REQUEST
    together {
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
                \tCardRequest cardRequest)
            ..
            +<back:cyan>KeypleCardSelector</back> getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests)
            ..
            +List<ApduRequest> getApduRequests ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes, boolean case4)
            +ApduRequest (byte cla, byte instruction,
                \tbyte p1, byte p2, byte[] dataIn, Byte le)
            ..
            +ApduRequest setSuccessfulStatusCodes (
                \tSet<Integer> successfulStatusCodes)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
            ..
            +boolean isCase4 ()
        }
        +class "<<<back:cyan>KeypleDefaultSelectionsRequest</back>>>\n**final** DefaultSelectionsRequest" as DefaultSelectionsRequest {
            - -
            +DefaultSelectionsRequest (
                \tList<CardSelectionRequest> cardSelectionRequests,
                \tMultiSelectionProcessing multiSelectionProcessing,
                \tChannelControl channelControl)
            ..
            +MultiSelectionProcessing getMultiSelectionProcessing ()
            +ChannelControl getChannelControl ()
            +List<CardSelectionRequest> getCardSelectionRequests ()
        }
    }
    ' RESPONSE
    together {
        +class "**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (
                \tSelectionStatus selectionStatus,
                \tCardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "**final** CardResponse" as CardResponse {
            - -
            +CardResponse (boolean logicalChannelStatus,
                \tList<ApduResponse> apduResponses)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
        }
        +class "**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] buffer,
                \tSet<Integer> successfulStatusCodes)
            ..
            +boolean isSuccessful ()
            +int getStatusCode ()
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
        +class "<<<back:cyan>KeypleDefaultSelectionsResponse</back>>>\n**final** DefaultSelectionsResponse" as DefaultSelectionsResponse {
            - -
            +DefaultSelectionsResponse (
                \tList<CardSelectionResponse> cardSelectionResponses)
            ..
            +List<CardSelectionResponse> getCardSelectionResponses ()
        }
    }
    ' SPI
    package spi {
        +interface CardExtensionSpi {
            +String getCardApiVersion ()
            +String getServiceApiVersion ()
            +String getCommonsApiVersion ()
        }
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
    }
    +abstract class "<<Exception>>\nAbstractCommunicationException" as AbstractCommunicationException {
        - -
        #AbstractCommunicationException (String message)
        #AbstractCommunicationException (String message, Throwable cause)
        ..
        +void setCardSelectionResponses (
            \tList<CardSelectionResponse> cardSelectionResponses)
        +List<CardSelectionResponse> getCardSelectionResponses ()
        ..
        +void setCardResponse (CardResponse cardResponse)
        +CardResponse getCardResponse ()
    }
    +class "**final** ReaderCommunicationException" as ReaderCommunicationException extends AbstractCommunicationException {
        +ReaderCommunicationException (String message)
        +ReaderCommunicationException (String message, Throwable cause)
    }
    +class "**final** CardCommunicationException" as CardCommunicationException extends AbstractCommunicationException {
        +CardCommunicationException (String message)
        +CardCommunicationException (String message, Throwable cause)
    }
}

' Associations

CardExtensionSpi .up.> ApiProperties #C_USE : provide\nAPI version <

DefaultSelectionsRequest *- - "1..N" CardSelectionRequest #C_LINK
DefaultSelectionsRequest *- - "1" MultiSelectionProcessing #C_LINK
DefaultSelectionsRequest *- - "1" ChannelControl #C_LINK

CardSelectionRequest *- - "0..1" CardRequest #C_LINK

CardRequest *- - "1..N" ApduRequest #C_LINK

DefaultSelectionsResponse *- - "1..N" CardSelectionResponse #C_LINK

CardSelectionResponse *- - "1" CardResponse #C_LINK
CardSelectionResponse *- - "1" SelectionStatus #C_LINK

CardResponse *- - "1..N" ApduResponse #C_LINK

SelectionStatus *- - "0..1" ApduResponse  #C_LINK
SelectionStatus *- - "0..1" AnswerToReset  #C_LINK

AbstractCommunicationException *- - "0..N" CardSelectionResponse #C_LINK
AbstractCommunicationException *- - "0..1" CardResponse #C_LINK

ProxyReader -left-> CardSelectionRequest #C_USE : use >
ProxyReader - -> CardRequest #C_USE : use >
ProxyReader -up-> MultiSelectionProcessing #C_USE : use >
ProxyReader -up-> ChannelControl #C_USE : use >

ProxyReader -up-> CardSelectionResponse #C_USE : provide >
ProxyReader -> CardResponse #C_USE : provide >
ProxyReader -up-> AbstractCommunicationException #C_USE : throw >

' == LAYOUT ==

spi -[hidden]- DefaultSelectionsRequest
spi -[hidden]- DefaultSelectionsResponse

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}

class DefaultSelectionsRequest <<green>>
class CardSelectionRequest <<green>>
enum MultiSelectionProcessing <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class DefaultSelectionsResponse <<purple>>
class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractCommunicationException <<purple>>
class ReaderCommunicationException <<purple>>
class CardCommunicationException <<purple>>

@enduml

@startuml
title
        Keyple 2.0 - keyple-card-api - 2.0 (09/02/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +List<CardSelectionResponse> transmitCardSelectionRequests (
            \tList<CardSelectionRequest> cardSelectionRequests,
            \tMultiSelectionProcessing multiSelectionProcessing,
            \tChannelControl channelControl)
        ..
        +CardResponse transmitCardRequest (
            \tCardRequest cardRequest,
            \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    together {
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
                \tCardRequest cardRequest)
            ..
            +<back:cyan>KeypleCardSelector</back> getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests)
            ..
            +List<ApduRequest> getApduRequests ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes, boolean case4)
            +ApduRequest (byte cla, byte instruction,
                \tbyte p1, byte p2, byte[] dataIn, Byte le)
            ..
            +ApduRequest setSuccessfulStatusCodes (
                \tSet<Integer> successfulStatusCodes)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
            ..
            +boolean isCase4 ()
        }
        +class "<<<back:cyan>KeypleDefaultSelectionsRequest</back>>>\n**final** DefaultSelectionsRequest" as DefaultSelectionsRequest {
            - -
            +DefaultSelectionsRequest (
                \tList<CardSelectionRequest> cardSelectionRequests,
                \tMultiSelectionProcessing multiSelectionProcessing,
                \tChannelControl channelControl)
            ..
            +MultiSelectionProcessing getMultiSelectionProcessing ()
            +ChannelControl getChannelControl ()
            +List<CardSelectionRequest> getCardSelectionRequests ()
        }
    }
    together {
        +class "**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (
                \tSelectionStatus selectionStatus,
                \tCardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "**final** CardResponse" as CardResponse {
            - -
            +CardResponse (boolean logicalChannelStatus,
                \tList<ApduResponse> apduResponses)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
        }
        +class "**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] buffer,
                \tSet<Integer> successfulStatusCodes)
            ..
            +boolean isSuccessful ()
            +int getStatusCode ()
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
        +class "<<<back:cyan>KeypleDefaultSelectionsResponse</back>>>\n**final** DefaultSelectionsResponse" as DefaultSelectionsResponse {
            - -
            +DefaultSelectionsResponse (
                \tList<CardSelectionResponse> cardSelectionResponses)
            ..
            +List<CardSelectionResponse> getCardSelectionResponses ()
        }
    }
    package spi {
        +interface CardExtensionSpi {
            +String getCardApiVersion ()
            +String getServiceApiVersion ()
            +String getCommonsApiVersion ()
        }
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
    }
    +abstract class "<<Exception>>\nAbstractCommunicationException" as AbstractCommunicationException {
        - -
        #AbstractCommunicationException (String message)
        #AbstractCommunicationException (String message, Throwable cause)
        ..
        +void setCardSelectionResponses (
            \tList<CardSelectionResponse> cardSelectionResponses)
        +List<CardSelectionResponse> getCardSelectionResponses ()
        ..
        +void setCardResponse (CardResponse cardResponse)
        +CardResponse getCardResponse ()
    }
    +class "**final** ReaderCommunicationException" as ReaderCommunicationException extends AbstractCommunicationException {
        +ReaderCommunicationException (String message)
        +ReaderCommunicationException (String message, Throwable cause)
    }
    +class "**final** CardCommunicationException" as CardCommunicationException extends AbstractCommunicationException {
        +CardCommunicationException (String message)
        +CardCommunicationException (String message, Throwable cause)
    }
}


CardExtensionSpi .up.> ApiProperties #27AE60 : provide\nAPI version <

DefaultSelectionsRequest *- - "1..N" CardSelectionRequest #3498DB
DefaultSelectionsRequest *- - "1" MultiSelectionProcessing #3498DB
DefaultSelectionsRequest *- - "1" ChannelControl #3498DB

CardSelectionRequest *- - "0..1" CardRequest #3498DB

CardRequest *- - "1..N" ApduRequest #3498DB

DefaultSelectionsResponse *- - "1..N" CardSelectionResponse #3498DB

CardSelectionResponse *- - "1" CardResponse #3498DB
CardSelectionResponse *- - "1" SelectionStatus #3498DB

CardResponse *- - "1..N" ApduResponse #3498DB

SelectionStatus *- - "0..1" ApduResponse  #3498DB
SelectionStatus *- - "0..1" AnswerToReset  #3498DB

AbstractCommunicationException *- - "0..N" CardSelectionResponse #3498DB
AbstractCommunicationException *- - "0..1" CardResponse #3498DB

ProxyReader -left-> CardSelectionRequest #27AE60 : use >
ProxyReader - -> CardRequest #27AE60 : use >
ProxyReader -up-> MultiSelectionProcessing #27AE60 : use >
ProxyReader -up-> ChannelControl #27AE60 : use >

ProxyReader -up-> CardSelectionResponse #27AE60 : provide >
ProxyReader -> CardResponse #27AE60 : provide >
ProxyReader -up-> AbstractCommunicationException #27AE60 : throw >


spi -[hidden]- DefaultSelectionsRequest
spi -[hidden]- DefaultSelectionsResponse


package api #F8F9F9 {}
package spi #F2F3F4 {}

class DefaultSelectionsRequest <<green>>
class CardSelectionRequest <<green>>
enum MultiSelectionProcessing <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class DefaultSelectionsResponse <<purple>>
class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractCommunicationException <<purple>>
class ReaderCommunicationException <<purple>>
class CardCommunicationException <<purple>>

@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>