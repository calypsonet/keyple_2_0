<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3655px" preserveAspectRatio="none" style="width:5922px;height:3655px;" version="1.1" viewBox="0 0 5922 3655" width="5922.5px" zoomAndPan="magnify"><defs><filter height="1" id="bk6b1yxy2ipas0" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="930" x="2480" y="46.7139">Keyple 2.0 - keyple-card-api - 2.0 (18/01/2021)</text><rect fill="#DDDDDD" height="69.0234" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:2.5;" width="497.5" x="2695" y="76.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="140" x="2710" y="125.4346">Legend :</text><text fill="#000000" filter="url(#bk6b1yxy2ipas0)" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="70" x="2860" y="125.4346">from</text><text fill="#000000" filter="url(#bk6b1yxy2ipas0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="237.5" x="2940" y="125.4346">Commons API</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="40,365.625,465,365.625,482.5,424.6484,5880,424.6484,5880,3638.125,40,3638.125,40,365.625" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="482.5" y1="424.6484" y2="424.6484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="410" x="50" y="406.958">org.eclipse.keyple.card</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="3010,1505.625,3077.5,1505.625,3095,1564.6484,5820,1564.6484,5820,3504.375,3010,3504.375,3010,1505.625" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="3010" x2="3095" y1="1564.6484" y2="1564.6484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="3020" y="1546.958">spi</text><!--MD5=[96a4004012a1c08588eb87adf87ec875]
class ProxyReader--><rect codeLine="54" fill="#FEFECE" height="436.7188" id="ProxyReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="830" x="3620" y="455.625"/><ellipse cx="3920.625" cy="495.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3923.125,488.125 L3923.125,503.125 L3928.125,503.125 L3929.3359,503.125 L3930.625,504.6875 L3930.625,505.625 L3930.625,506.5625 L3929.3359,508.125 L3928.125,508.125 L3913.125,508.125 L3911.9141,508.125 L3910.625,506.5625 L3910.625,505.625 L3910.625,504.6875 L3911.9141,503.125 L3913.125,503.125 L3918.125,503.125 L3918.125,488.125 L3913.125,488.125 L3911.9141,488.125 L3910.625,486.5625 L3910.625,485.625 L3910.625,484.6875 L3911.9141,483.125 L3913.125,483.125 L3928.125,483.125 L3929.3359,483.125 L3930.625,484.6875 L3930.625,485.625 L3930.625,486.5625 L3929.3359,488.125 L3928.125,488.125 L3923.125,488.125 Z " fill="#000000"/><ellipse cx="3984.375" cy="494.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="3999.375" y="507.9004">ProxyReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3622.5" x2="4447.5" y1="535.625" y2="535.625"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3622.5" x2="4447.5" y1="555.625" y2="555.625"/><ellipse cx="3647.5" cy="583.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="765" x="3670" y="594.1724">List&lt;CardSelectionResponse&gt; transmitCardSelectionRequests (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="635" x="3730" y="628.7622">List&lt;CardSelectionRequest&gt; cardSelectionRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="3730" y="663.3521">MultiSelectionProcessing multiSelectionProcessing,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="3730" y="697.9419">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3622.5" x2="4447.5" y1="713.9844" y2="713.9844"/><ellipse cx="3647.5" cy="741.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="457.5" x="3670" y="752.5317">CardResponse transmitCardRequest (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="3730" y="787.1216">CardRequest cardRequest,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="3730" y="821.7114">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3622.5" x2="4447.5" y1="837.7539" y2="837.7539"/><ellipse cx="3647.5" cy="865.2539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="3670" y="876.3013">void releaseChannel ()</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect codeLine="67" fill="#FEFECE" height="189.1797" id="MultiSelectionProcessing" style="stroke:#D4AC0D;stroke-width:3.75;" width="450" x="2520" y="1870.625"/><ellipse cx="2557.5" cy="1910.625" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M2553.75,1913.125 L2553.75,1918.125 L2563.75,1918.125 L2563.75,1915.625 L2563.75,1914.4141 L2565.3125,1913.125 L2566.25,1913.125 L2567.1875,1913.125 L2568.75,1914.4141 L2568.75,1915.625 L2568.75,1923.125 L2548.75,1923.125 L2547.5391,1923.125 L2546.25,1921.5625 L2546.25,1920.625 L2546.25,1919.6875 L2547.5391,1918.125 L2548.75,1918.125 L2548.75,1918.125 L2548.75,1903.125 L2548.75,1903.125 L2547.5391,1903.125 L2546.25,1901.5625 L2546.25,1900.625 L2546.25,1899.6875 L2547.5391,1898.125 L2548.75,1898.125 L2568.75,1898.125 L2568.75,1905.625 L2568.75,1906.8359 L2567.1875,1908.125 L2566.25,1908.125 L2565.3125,1908.125 L2563.75,1906.8359 L2563.75,1905.625 L2563.75,1903.125 L2553.75,1903.125 L2553.75,1908.125 L2556.25,1908.125 L2556.25,1906.9141 L2556.25,1906.9141 L2557.8125,1905.625 L2558.75,1905.625 L2559.6875,1905.625 L2561.25,1906.9141 L2561.25,1908.125 L2561.25,1913.125 L2561.25,1914.3359 L2559.6875,1915.625 L2559.6875,1915.625 L2558.75,1915.625 L2557.8125,1915.625 L2556.25,1914.3359 L2556.25,1914.3359 L2556.25,1913.125 L2553.75,1913.125 Z " fill="#000000"/><ellipse cx="2605" cy="1909.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="342.5" x="2620" y="1922.9004">MultiSelectionProcessing</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2522.5" x2="2967.5" y1="1950.625" y2="1950.625"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="175" x="2535" y="1989.1724">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="185" x="2535" y="2023.7622">PROCESS_ALL</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2522.5" x2="2967.5" y1="2039.8047" y2="2039.8047"/><!--MD5=[ee0d3336d8d2c9dd88a5ad188defe636]
class ChannelControl--><rect codeLine="71" fill="#FEFECE" height="189.1797" id="ChannelControl" style="stroke:#D4AC0D;stroke-width:3.75;" width="325" x="1255" y="1870.625"/><ellipse cx="1292.5" cy="1910.625" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1288.75,1913.125 L1288.75,1918.125 L1298.75,1918.125 L1298.75,1915.625 L1298.75,1914.4141 L1300.3125,1913.125 L1301.25,1913.125 L1302.1875,1913.125 L1303.75,1914.4141 L1303.75,1915.625 L1303.75,1923.125 L1283.75,1923.125 L1282.5391,1923.125 L1281.25,1921.5625 L1281.25,1920.625 L1281.25,1919.6875 L1282.5391,1918.125 L1283.75,1918.125 L1283.75,1918.125 L1283.75,1903.125 L1283.75,1903.125 L1282.5391,1903.125 L1281.25,1901.5625 L1281.25,1900.625 L1281.25,1899.6875 L1282.5391,1898.125 L1283.75,1898.125 L1303.75,1898.125 L1303.75,1905.625 L1303.75,1906.8359 L1302.1875,1908.125 L1301.25,1908.125 L1300.3125,1908.125 L1298.75,1906.8359 L1298.75,1905.625 L1298.75,1903.125 L1288.75,1903.125 L1288.75,1908.125 L1291.25,1908.125 L1291.25,1906.9141 L1291.25,1906.9141 L1292.8125,1905.625 L1293.75,1905.625 L1294.6875,1905.625 L1296.25,1906.9141 L1296.25,1908.125 L1296.25,1913.125 L1296.25,1914.3359 L1294.6875,1915.625 L1294.6875,1915.625 L1293.75,1915.625 L1292.8125,1915.625 L1291.25,1914.3359 L1291.25,1914.3359 L1291.25,1913.125 L1288.75,1913.125 Z " fill="#000000"/><ellipse cx="1340" cy="1909.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="217.5" x="1355" y="1922.9004">ChannelControl</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1257.5" x2="1577.5" y1="1950.625" y2="1950.625"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="145" x="1270" y="1989.1724">KEEP_OPEN</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="1270" y="2023.7622">CLOSE_AFTER</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1257.5" x2="1577.5" y1="2039.8047" y2="2039.8047"/><!--MD5=[d7ab57eb2840e7832714f3f9db0d2391]
class CardSelectionRequest--><rect codeLine="76" fill="#FEFECE" height="312.9492" id="CardSelectionRequest" style="stroke:#D4AC0D;stroke-width:3.75;" width="762.5" x="1668.75" y="1809.375"/><ellipse cx="1836.875" cy="1849.375" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1841.875,1840.625 Q1842.3828,1839.375 1842.9688,1838.75 Q1843.5547,1838.125 1844.2188,1838.125 Q1845.3906,1838.125 1846.1328,1838.8281 Q1846.875,1839.5313 1846.875,1841.1719 L1846.875,1845.0781 Q1846.875,1846.7188 1846.1719,1847.4219 Q1845.4688,1848.125 1844.375,1848.125 Q1843.3984,1848.125 1842.7734,1847.6953 Q1842.1484,1847.2656 1841.875,1846.1328 Q1841.7578,1845.3516 1841.3281,1844.9219 Q1840.5469,1844.1016 1839.1406,1843.6328 Q1837.7344,1843.125 1836.3281,1843.125 Q1834.5703,1843.125 1833.0859,1843.8281 Q1831.6406,1844.5313 1830.5078,1846.0938 Q1829.375,1847.6563 1829.375,1849.8047 L1829.375,1852.1094 Q1829.375,1854.6875 1831.4844,1856.4063 Q1833.5938,1858.125 1837.3438,1858.125 Q1839.5703,1858.125 1841.1328,1857.6172 Q1842.0313,1857.3438 1843.0469,1856.4453 Q1843.7109,1855.9375 1844.0625,1855.7813 Q1844.4141,1855.625 1844.8438,1855.625 Q1845.6641,1855.625 1846.25,1856.2891 Q1846.875,1856.9141 1846.875,1857.8125 Q1846.875,1858.6719 1846.0156,1859.6875 Q1844.7656,1861.1719 1842.7734,1861.9922 Q1840.1563,1863.125 1836.9531,1863.125 Q1833.2031,1863.125 1830.1953,1861.6406 Q1827.7734,1860.4688 1826.0547,1857.9297 Q1824.375,1855.3906 1824.375,1852.3828 L1824.375,1849.6484 Q1824.375,1846.5234 1825.8594,1843.7891 Q1827.3828,1841.0547 1830,1839.6094 Q1832.6563,1838.125 1835.625,1838.125 Q1837.4219,1838.125 1838.9844,1838.75 Q1840.5469,1839.375 1841.875,1840.625 Z " fill="#000000"/><ellipse cx="1900.625" cy="1848.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1915.625" y="1861.6504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="310" x="1983.125" y="1861.6504">CardSelectionRequest</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1671.25" x2="2428.75" y1="1889.375" y2="1889.375"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1671.25" x2="2428.75" y1="1909.375" y2="1909.375"/><ellipse cx="1696.25" cy="1936.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="1718.75" y="1947.9224">CardSelectionRequest (</text><text fill="#000000" filter="url(#bk6b1yxy2ipas0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="2003.75" y="1947.9224">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="165" x="2251.25" y="1947.9224">cardSelector)</text><ellipse cx="1696.25" cy="1971.4648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="1718.75" y="1982.5122">CardSelectionRequest (</text><text fill="#000000" filter="url(#bk6b1yxy2ipas0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="2003.75" y="1982.5122">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="162.5" x="2251.25" y="1982.5122">cardSelector,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="330" x="1778.75" y="2017.1021">CardRequest cardRequest)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1671.25" x2="2428.75" y1="2033.1445" y2="2033.1445"/><ellipse cx="1696.25" cy="2060.6445" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#bk6b1yxy2ipas0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="1718.75" y="2071.6919">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="1966.25" y="2071.6919">getCardSelector ()</text><ellipse cx="1696.25" cy="2095.2344" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="1718.75" y="2106.2817">CardRequest getCardRequest ()</text><!--MD5=[d4546fa1b310652d2e612bec588497f1]
class CardRequest--><rect codeLine="85" fill="#FEFECE" height="209.1797" id="CardRequest" style="stroke:#D4AC0D;stroke-width:3.75;" width="670" x="1667.5" y="2589.375"/><ellipse cx="1853.125" cy="2629.375" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1858.125,2620.625 Q1858.6328,2619.375 1859.2188,2618.75 Q1859.8047,2618.125 1860.4688,2618.125 Q1861.6406,2618.125 1862.3828,2618.8281 Q1863.125,2619.5313 1863.125,2621.1719 L1863.125,2625.0781 Q1863.125,2626.7188 1862.4219,2627.4219 Q1861.7188,2628.125 1860.625,2628.125 Q1859.6484,2628.125 1859.0234,2627.6953 Q1858.3984,2627.2656 1858.125,2626.1328 Q1858.0078,2625.3516 1857.5781,2624.9219 Q1856.7969,2624.1016 1855.3906,2623.6328 Q1853.9844,2623.125 1852.5781,2623.125 Q1850.8203,2623.125 1849.3359,2623.8281 Q1847.8906,2624.5313 1846.7578,2626.0938 Q1845.625,2627.6563 1845.625,2629.8047 L1845.625,2632.1094 Q1845.625,2634.6875 1847.7344,2636.4063 Q1849.8438,2638.125 1853.5938,2638.125 Q1855.8203,2638.125 1857.3828,2637.6172 Q1858.2813,2637.3438 1859.2969,2636.4453 Q1859.9609,2635.9375 1860.3125,2635.7813 Q1860.6641,2635.625 1861.0938,2635.625 Q1861.9141,2635.625 1862.5,2636.2891 Q1863.125,2636.9141 1863.125,2637.8125 Q1863.125,2638.6719 1862.2656,2639.6875 Q1861.0156,2641.1719 1859.0234,2641.9922 Q1856.4063,2643.125 1853.2031,2643.125 Q1849.4531,2643.125 1846.4453,2641.6406 Q1844.0234,2640.4688 1842.3047,2637.9297 Q1840.625,2635.3906 1840.625,2632.3828 L1840.625,2629.6484 Q1840.625,2626.5234 1842.1094,2623.7891 Q1843.6328,2621.0547 1846.25,2619.6094 Q1848.9063,2618.125 1851.875,2618.125 Q1853.6719,2618.125 1855.2344,2618.75 Q1856.7969,2619.375 1858.125,2620.625 Z " fill="#000000"/><ellipse cx="1916.875" cy="2628.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1931.875" y="2641.6504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="182.5" x="1999.375" y="2641.6504">CardRequest</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1670" x2="2335" y1="2669.375" y2="2669.375"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1670" x2="2335" y1="2689.375" y2="2689.375"/><ellipse cx="1695" cy="2716.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="605" x="1717.5" y="2727.9224">CardRequest (List&lt;ApduRequest&gt; apduRequests)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1670" x2="2335" y1="2743.9648" y2="2743.9648"/><ellipse cx="1695" cy="2771.4648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="490" x="1717.5" y="2782.5122">List&lt;ApduRequest&gt; getApduRequests ()</text><!--MD5=[8d2debdbb32bf9c83697f345c4529e73]
class ApduRequest--><rect codeLine="91" fill="#FEFECE" height="545.8984" id="ApduRequest" style="stroke:#D4AC0D;stroke-width:3.75;" width="592.5" x="1411.25" y="3053.125"/><ellipse cx="1555.625" cy="3093.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1560.625,3084.375 Q1561.1328,3083.125 1561.7188,3082.5 Q1562.3047,3081.875 1562.9688,3081.875 Q1564.1406,3081.875 1564.8828,3082.5781 Q1565.625,3083.2813 1565.625,3084.9219 L1565.625,3088.8281 Q1565.625,3090.4688 1564.9219,3091.1719 Q1564.2188,3091.875 1563.125,3091.875 Q1562.1484,3091.875 1561.5234,3091.4453 Q1560.8984,3091.0156 1560.625,3089.8828 Q1560.5078,3089.1016 1560.0781,3088.6719 Q1559.2969,3087.8516 1557.8906,3087.3828 Q1556.4844,3086.875 1555.0781,3086.875 Q1553.3203,3086.875 1551.8359,3087.5781 Q1550.3906,3088.2813 1549.2578,3089.8438 Q1548.125,3091.4063 1548.125,3093.5547 L1548.125,3095.8594 Q1548.125,3098.4375 1550.2344,3100.1563 Q1552.3438,3101.875 1556.0938,3101.875 Q1558.3203,3101.875 1559.8828,3101.3672 Q1560.7813,3101.0938 1561.7969,3100.1953 Q1562.4609,3099.6875 1562.8125,3099.5313 Q1563.1641,3099.375 1563.5938,3099.375 Q1564.4141,3099.375 1565,3100.0391 Q1565.625,3100.6641 1565.625,3101.5625 Q1565.625,3102.4219 1564.7656,3103.4375 Q1563.5156,3104.9219 1561.5234,3105.7422 Q1558.9063,3106.875 1555.7031,3106.875 Q1551.9531,3106.875 1548.9453,3105.3906 Q1546.5234,3104.2188 1544.8047,3101.6797 Q1543.125,3099.1406 1543.125,3096.1328 L1543.125,3093.3984 Q1543.125,3090.2734 1544.6094,3087.5391 Q1546.1328,3084.8047 1548.75,3083.3594 Q1551.4063,3081.875 1554.375,3081.875 Q1556.1719,3081.875 1557.7344,3082.5 Q1559.2969,3083.125 1560.625,3084.375 Z " fill="#000000"/><ellipse cx="1619.375" cy="3091.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1634.375" y="3105.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="187.5" x="1701.875" y="3105.4004">ApduRequest</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1413.75" x2="2001.25" y1="3133.125" y2="3133.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1413.75" x2="2001.25" y1="3153.125" y2="3153.125"/><ellipse cx="1438.75" cy="3180.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="527.5" x="1461.25" y="3191.6724">ApduRequest (byte[] bytes, boolean case4)</text><ellipse cx="1438.75" cy="3215.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="1461.25" y="3226.2622">ApduRequest (byte cla, byte instruction,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="465" x="1521.25" y="3260.8521">byte p1, byte p2, byte[] dataIn, Byte le)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1413.75" x2="2001.25" y1="3276.8945" y2="3276.8945"/><ellipse cx="1438.75" cy="3304.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="1461.25" y="3315.4419">ApduRequest setSuccessfulStatusCodes (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="460" x="1521.25" y="3350.0317">Set&lt;Integer&gt; successfulStatusCodes)</text><ellipse cx="1438.75" cy="3373.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="517.5" x="1461.25" y="3384.6216">Set&lt;Integer&gt; getSuccessfulStatusCodes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1413.75" x2="2001.25" y1="3400.6641" y2="3400.6641"/><ellipse cx="1438.75" cy="3428.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="1461.25" y="3439.2114">ApduRequest setName (String name)</text><ellipse cx="1438.75" cy="3462.7539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1461.25" y="3473.8013">String getName ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1413.75" x2="2001.25" y1="3489.8438" y2="3489.8438"/><ellipse cx="1438.75" cy="3517.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1461.25" y="3528.3911">byte[] getBytes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1413.75" x2="2001.25" y1="3544.4336" y2="3544.4336"/><ellipse cx="1438.75" cy="3571.9336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="227.5" x="1461.25" y="3582.981">boolean isCase4 ()</text><!--MD5=[81bdd127dee3d48e66ef7f85d7892fe8]
class DefaultSelectionsRequest--><rect codeLine="108" fill="#FEFECE" height="402.5977" id="DefaultSelectionsRequest" style="stroke:#D4AC0D;stroke-width:3.75;" width="760" x="1670" y="1043.125"/><ellipse cx="1767.125" cy="1093.3594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1772.125,1084.6094 Q1772.6328,1083.3594 1773.2188,1082.7344 Q1773.8047,1082.1094 1774.4688,1082.1094 Q1775.6406,1082.1094 1776.3828,1082.8125 Q1777.125,1083.5156 1777.125,1085.1563 L1777.125,1089.0625 Q1777.125,1090.7031 1776.4219,1091.4063 Q1775.7188,1092.1094 1774.625,1092.1094 Q1773.6484,1092.1094 1773.0234,1091.6797 Q1772.3984,1091.25 1772.125,1090.1172 Q1772.0078,1089.3359 1771.5781,1088.9063 Q1770.7969,1088.0859 1769.3906,1087.6172 Q1767.9844,1087.1094 1766.5781,1087.1094 Q1764.8203,1087.1094 1763.3359,1087.8125 Q1761.8906,1088.5156 1760.7578,1090.0781 Q1759.625,1091.6406 1759.625,1093.7891 L1759.625,1096.0938 Q1759.625,1098.6719 1761.7344,1100.3906 Q1763.8438,1102.1094 1767.5938,1102.1094 Q1769.8203,1102.1094 1771.3828,1101.6016 Q1772.2813,1101.3281 1773.2969,1100.4297 Q1773.9609,1099.9219 1774.3125,1099.7656 Q1774.6641,1099.6094 1775.0938,1099.6094 Q1775.9141,1099.6094 1776.5,1100.2734 Q1777.125,1100.8984 1777.125,1101.7969 Q1777.125,1102.6563 1776.2656,1103.6719 Q1775.0156,1105.1563 1773.0234,1105.9766 Q1770.4063,1107.1094 1767.2031,1107.1094 Q1763.4531,1107.1094 1760.4453,1105.625 Q1758.0234,1104.4531 1756.3047,1101.9141 Q1754.625,1099.375 1754.625,1096.3672 L1754.625,1093.6328 Q1754.625,1090.5078 1756.1094,1087.7734 Q1757.6328,1085.0391 1760.25,1083.5938 Q1762.9063,1082.1094 1765.875,1082.1094 Q1767.6719,1082.1094 1769.2344,1082.7344 Q1770.7969,1083.3594 1772.125,1084.6094 Z " fill="#000000"/><ellipse cx="1827.875" cy="1092.1094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1842.875" y="1086.7676">&lt;&lt;</text><text fill="#000000" filter="url(#bk6b1yxy2ipas0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="450" x="1877.875" y="1086.7676">KeypleDefaultSelectionsRequest</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2327.875" y="1086.7676">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1891.625" y="1124.502">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="355" x="1959.125" y="1124.502">DefaultSelectionsRequest</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1672.5" x2="2427.5" y1="1143.5938" y2="1143.5938"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1672.5" x2="2427.5" y1="1163.5938" y2="1163.5938"/><ellipse cx="1697.5" cy="1191.0938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="1720" y="1202.1411">DefaultSelectionsRequest (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="635" x="1780" y="1236.731">List&lt;CardSelectionRequest&gt; cardSelectionRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="1780" y="1271.3208">MultiSelectionProcessing multiSelectionProcessing,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="1780" y="1305.9106">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1672.5" x2="2427.5" y1="1321.9531" y2="1321.9531"/><ellipse cx="1697.5" cy="1349.4531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="667.5" x="1720" y="1360.5005">MultiSelectionProcessing getMultiSelectionProcessing ()</text><ellipse cx="1697.5" cy="1384.043" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="1720" y="1395.0903">ChannelControl getChannelControl ()</text><ellipse cx="1697.5" cy="1418.6328" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="695" x="1720" y="1429.6802">List&lt;CardSelectionRequest&gt; getCardSelectionRequests ()</text><!--MD5=[ad88d8106adc0f21766a2a077a674dda]
class CardSelectionResponse--><rect codeLine="120" fill="#FEFECE" height="312.9492" id="CardSelectionResponse" style="stroke:#D4AC0D;stroke-width:3.75;" width="512.5" x="413.75" y="1088.125"/><ellipse cx="452.375" cy="1128.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M457.375,1119.375 Q457.8828,1118.125 458.4688,1117.5 Q459.0547,1116.875 459.7188,1116.875 Q460.8906,1116.875 461.6328,1117.5781 Q462.375,1118.2813 462.375,1119.9219 L462.375,1123.8281 Q462.375,1125.4688 461.6719,1126.1719 Q460.9688,1126.875 459.875,1126.875 Q458.8984,1126.875 458.2734,1126.4453 Q457.6484,1126.0156 457.375,1124.8828 Q457.2578,1124.1016 456.8281,1123.6719 Q456.0469,1122.8516 454.6406,1122.3828 Q453.2344,1121.875 451.8281,1121.875 Q450.0703,1121.875 448.5859,1122.5781 Q447.1406,1123.2813 446.0078,1124.8438 Q444.875,1126.4063 444.875,1128.5547 L444.875,1130.8594 Q444.875,1133.4375 446.9844,1135.1563 Q449.0938,1136.875 452.8438,1136.875 Q455.0703,1136.875 456.6328,1136.3672 Q457.5313,1136.0938 458.5469,1135.1953 Q459.2109,1134.6875 459.5625,1134.5313 Q459.9141,1134.375 460.3438,1134.375 Q461.1641,1134.375 461.75,1135.0391 Q462.375,1135.6641 462.375,1136.5625 Q462.375,1137.4219 461.5156,1138.4375 Q460.2656,1139.9219 458.2734,1140.7422 Q455.6563,1141.875 452.4531,1141.875 Q448.7031,1141.875 445.6953,1140.3906 Q443.2734,1139.2188 441.5547,1136.6797 Q439.875,1134.1406 439.875,1131.1328 L439.875,1128.3984 Q439.875,1125.2734 441.3594,1122.5391 Q442.8828,1119.8047 445.5,1118.3594 Q448.1563,1116.875 451.125,1116.875 Q452.9219,1116.875 454.4844,1117.5 Q456.0469,1118.125 457.375,1119.375 Z " fill="#000000"/><ellipse cx="500.125" cy="1126.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="515.125" y="1140.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="335" x="582.625" y="1140.4004">CardSelectionResponse</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="416.25" x2="923.75" y1="1168.125" y2="1168.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="416.25" x2="923.75" y1="1188.125" y2="1188.125"/><ellipse cx="441.25" cy="1215.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="307.5" x="463.75" y="1226.6724">CardSelectionResponse (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="523.75" y="1261.2622">SelectionStatus selectionStatus,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="523.75" y="1295.8521">CardResponse cardResponse)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="416.25" x2="923.75" y1="1311.8945" y2="1311.8945"/><ellipse cx="441.25" cy="1339.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="463.75" y="1350.4419">SelectionStatus getSelectionStatus ()</text><ellipse cx="441.25" cy="1373.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="463.75" y="1385.0317">CardResponse getCardResponse ()</text><!--MD5=[62519695b550f8cbf5b64cbd0e08e475]
class CardResponse--><rect codeLine="129" fill="#FEFECE" height="298.3594" id="CardResponse" style="stroke:#D4AC0D;stroke-width:3.75;" width="622.5" x="543.75" y="1816.875"/><ellipse cx="693.125" cy="1856.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M698.125,1848.125 Q698.6328,1846.875 699.2188,1846.25 Q699.8047,1845.625 700.4688,1845.625 Q701.6406,1845.625 702.3828,1846.3281 Q703.125,1847.0313 703.125,1848.6719 L703.125,1852.5781 Q703.125,1854.2188 702.4219,1854.9219 Q701.7188,1855.625 700.625,1855.625 Q699.6484,1855.625 699.0234,1855.1953 Q698.3984,1854.7656 698.125,1853.6328 Q698.0078,1852.8516 697.5781,1852.4219 Q696.7969,1851.6016 695.3906,1851.1328 Q693.9844,1850.625 692.5781,1850.625 Q690.8203,1850.625 689.3359,1851.3281 Q687.8906,1852.0313 686.7578,1853.5938 Q685.625,1855.1563 685.625,1857.3047 L685.625,1859.6094 Q685.625,1862.1875 687.7344,1863.9063 Q689.8438,1865.625 693.5938,1865.625 Q695.8203,1865.625 697.3828,1865.1172 Q698.2813,1864.8438 699.2969,1863.9453 Q699.9609,1863.4375 700.3125,1863.2813 Q700.6641,1863.125 701.0938,1863.125 Q701.9141,1863.125 702.5,1863.7891 Q703.125,1864.4141 703.125,1865.3125 Q703.125,1866.1719 702.2656,1867.1875 Q701.0156,1868.6719 699.0234,1869.4922 Q696.4063,1870.625 693.2031,1870.625 Q689.4531,1870.625 686.4453,1869.1406 Q684.0234,1867.9688 682.3047,1865.4297 Q680.625,1862.8906 680.625,1859.8828 L680.625,1857.1484 Q680.625,1854.0234 682.1094,1851.2891 Q683.6328,1848.5547 686.25,1847.1094 Q688.9063,1845.625 691.875,1845.625 Q693.6719,1845.625 695.2344,1846.25 Q696.7969,1846.875 698.125,1848.125 Z " fill="#000000"/><ellipse cx="756.875" cy="1855.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="771.875" y="1869.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="207.5" x="839.375" y="1869.1504">CardResponse</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="546.25" x2="1163.75" y1="1896.875" y2="1896.875"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="546.25" x2="1163.75" y1="1916.875" y2="1916.875"/><ellipse cx="571.25" cy="1944.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="557.5" x="593.75" y="1955.4224">CardResponse (boolean logicalChannelStatus,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="475" x="653.75" y="1990.0122">List&lt;ApduResponse&gt; apduResponses)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="546.25" x2="1163.75" y1="2006.0547" y2="2006.0547"/><ellipse cx="571.25" cy="2033.5547" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="593.75" y="2044.6021">List&lt;ApduResponse&gt; getApduResponses ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="546.25" x2="1163.75" y1="2060.6445" y2="2060.6445"/><ellipse cx="571.25" cy="2088.1445" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="593.75" y="2099.1919">boolean isLogicalChannelOpen ()</text><!--MD5=[020bc233d237158d8be37d9dae17a65e]
class ApduResponse--><rect codeLine="138" fill="#FEFECE" height="332.9492" id="ApduResponse" style="stroke:#D4AC0D;stroke-width:3.75;" width="895" x="637.5" y="2528.125"/><ellipse cx="920.625" cy="2568.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M925.625,2559.375 Q926.1328,2558.125 926.7188,2557.5 Q927.3047,2556.875 927.9688,2556.875 Q929.1406,2556.875 929.8828,2557.5781 Q930.625,2558.2813 930.625,2559.9219 L930.625,2563.8281 Q930.625,2565.4688 929.9219,2566.1719 Q929.2188,2566.875 928.125,2566.875 Q927.1484,2566.875 926.5234,2566.4453 Q925.8984,2566.0156 925.625,2564.8828 Q925.5078,2564.1016 925.0781,2563.6719 Q924.2969,2562.8516 922.8906,2562.3828 Q921.4844,2561.875 920.0781,2561.875 Q918.3203,2561.875 916.8359,2562.5781 Q915.3906,2563.2813 914.2578,2564.8438 Q913.125,2566.4063 913.125,2568.5547 L913.125,2570.8594 Q913.125,2573.4375 915.2344,2575.1563 Q917.3438,2576.875 921.0938,2576.875 Q923.3203,2576.875 924.8828,2576.3672 Q925.7813,2576.0938 926.7969,2575.1953 Q927.4609,2574.6875 927.8125,2574.5313 Q928.1641,2574.375 928.5938,2574.375 Q929.4141,2574.375 930,2575.0391 Q930.625,2575.6641 930.625,2576.5625 Q930.625,2577.4219 929.7656,2578.4375 Q928.5156,2579.9219 926.5234,2580.7422 Q923.9063,2581.875 920.7031,2581.875 Q916.9531,2581.875 913.9453,2580.3906 Q911.5234,2579.2188 909.8047,2576.6797 Q908.125,2574.1406 908.125,2571.1328 L908.125,2568.3984 Q908.125,2565.2734 909.6094,2562.5391 Q911.1328,2559.8047 913.75,2558.3594 Q916.4063,2556.875 919.375,2556.875 Q921.1719,2556.875 922.7344,2557.5 Q924.2969,2558.125 925.625,2559.375 Z " fill="#000000"/><ellipse cx="984.375" cy="2566.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="999.375" y="2580.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="1066.875" y="2580.4004">ApduResponse</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="640" x2="1530" y1="2608.125" y2="2608.125"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="640" x2="1530" y1="2628.125" y2="2628.125"/><ellipse cx="665" cy="2655.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="830" x="687.5" y="2666.6724">ApduResponse (byte[] buffer, Set&lt;Integer&gt; successfulStatusCodes)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="640" x2="1530" y1="2682.7148" y2="2682.7148"/><ellipse cx="665" cy="2710.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="687.5" y="2721.2622">boolean isSuccessful ()</text><ellipse cx="665" cy="2744.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="687.5" y="2755.8521">int getStatusCode ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="640" x2="1530" y1="2771.8945" y2="2771.8945"/><ellipse cx="665" cy="2799.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="687.5" y="2810.4419">byte[] getBytes ()</text><ellipse cx="665" cy="2833.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="687.5" y="2845.0317">byte[] getDataOut ()</text><!--MD5=[17146a741b3becbcb08fff440a5eba97]
class SelectionStatus--><rect codeLine="148" fill="#FEFECE" height="382.1289" id="SelectionStatus" style="stroke:#D4AC0D;stroke-width:3.75;" width="375" x="80" y="1774.375"/><ellipse cx="142.25" cy="1814.375" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M147.25,1805.625 Q147.7578,1804.375 148.3438,1803.75 Q148.9297,1803.125 149.5938,1803.125 Q150.7656,1803.125 151.5078,1803.8281 Q152.25,1804.5313 152.25,1806.1719 L152.25,1810.0781 Q152.25,1811.7188 151.5469,1812.4219 Q150.8438,1813.125 149.75,1813.125 Q148.7734,1813.125 148.1484,1812.6953 Q147.5234,1812.2656 147.25,1811.1328 Q147.1328,1810.3516 146.7031,1809.9219 Q145.9219,1809.1016 144.5156,1808.6328 Q143.1094,1808.125 141.7031,1808.125 Q139.9453,1808.125 138.4609,1808.8281 Q137.0156,1809.5313 135.8828,1811.0938 Q134.75,1812.6563 134.75,1814.8047 L134.75,1817.1094 Q134.75,1819.6875 136.8594,1821.4063 Q138.9688,1823.125 142.7188,1823.125 Q144.9453,1823.125 146.5078,1822.6172 Q147.4063,1822.3438 148.4219,1821.4453 Q149.0859,1820.9375 149.4375,1820.7813 Q149.7891,1820.625 150.2188,1820.625 Q151.0391,1820.625 151.625,1821.2891 Q152.25,1821.9141 152.25,1822.8125 Q152.25,1823.6719 151.3906,1824.6875 Q150.1406,1826.1719 148.1484,1826.9922 Q145.5313,1828.125 142.3281,1828.125 Q138.5781,1828.125 135.5703,1826.6406 Q133.1484,1825.4688 131.4297,1822.9297 Q129.75,1820.3906 129.75,1817.3828 L129.75,1814.6484 Q129.75,1811.5234 131.2344,1808.7891 Q132.7578,1806.0547 135.375,1804.6094 Q138.0313,1803.125 141,1803.125 Q142.7969,1803.125 144.3594,1803.75 Q145.9219,1804.375 147.25,1805.625 Z " fill="#000000"/><ellipse cx="195.25" cy="1813.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="210.25" y="1826.6504">SelectionStatus</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="82.5" x2="452.5" y1="1854.375" y2="1854.375"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="82.5" x2="452.5" y1="1874.375" y2="1874.375"/><ellipse cx="107.5" cy="1901.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="205" x="130" y="1912.9224">SelectionStatus (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="190" y="1947.5122">AnswerToReset atr,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="190" y="1982.1021">ApduResponse fci,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="190" y="2016.6919">boolean isMatching)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="82.5" x2="452.5" y1="2032.7344" y2="2032.7344"/><ellipse cx="107.5" cy="2060.2344" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="130" y="2071.2817">AnswerToReset getAtr ()</text><ellipse cx="107.5" cy="2094.8242" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="295" x="130" y="2105.8716">ApduResponse getFci ()</text><ellipse cx="107.5" cy="2129.4141" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="277.5" x="130" y="2140.4614">boolean hasMatched ()</text><!--MD5=[08697d5c41fb59880dad310582db5b30]
class AnswerToReset--><rect codeLine="159" fill="#FEFECE" height="209.1797" id="AnswerToReset" style="stroke:#D4AC0D;stroke-width:3.75;" width="470" x="80" y="2589.375"/><ellipse cx="183.875" cy="2629.375" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M188.875,2620.625 Q189.3828,2619.375 189.9688,2618.75 Q190.5547,2618.125 191.2188,2618.125 Q192.3906,2618.125 193.1328,2618.8281 Q193.875,2619.5313 193.875,2621.1719 L193.875,2625.0781 Q193.875,2626.7188 193.1719,2627.4219 Q192.4688,2628.125 191.375,2628.125 Q190.3984,2628.125 189.7734,2627.6953 Q189.1484,2627.2656 188.875,2626.1328 Q188.7578,2625.3516 188.3281,2624.9219 Q187.5469,2624.1016 186.1406,2623.6328 Q184.7344,2623.125 183.3281,2623.125 Q181.5703,2623.125 180.0859,2623.8281 Q178.6406,2624.5313 177.5078,2626.0938 Q176.375,2627.6563 176.375,2629.8047 L176.375,2632.1094 Q176.375,2634.6875 178.4844,2636.4063 Q180.5938,2638.125 184.3438,2638.125 Q186.5703,2638.125 188.1328,2637.6172 Q189.0313,2637.3438 190.0469,2636.4453 Q190.7109,2635.9375 191.0625,2635.7813 Q191.4141,2635.625 191.8438,2635.625 Q192.6641,2635.625 193.25,2636.2891 Q193.875,2636.9141 193.875,2637.8125 Q193.875,2638.6719 193.0156,2639.6875 Q191.7656,2641.1719 189.7734,2641.9922 Q187.1563,2643.125 183.9531,2643.125 Q180.2031,2643.125 177.1953,2641.6406 Q174.7734,2640.4688 173.0547,2637.9297 Q171.375,2635.3906 171.375,2632.3828 L171.375,2629.6484 Q171.375,2626.5234 172.8594,2623.7891 Q174.3828,2621.0547 177,2619.6094 Q179.6563,2618.125 182.625,2618.125 Q184.4219,2618.125 185.9844,2618.75 Q187.5469,2619.375 188.875,2620.625 Z " fill="#000000"/><ellipse cx="246.125" cy="2628.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="215" x="261.125" y="2641.6504">AnswerToReset</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="82.5" x2="547.5" y1="2669.375" y2="2669.375"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="82.5" x2="547.5" y1="2689.375" y2="2689.375"/><ellipse cx="107.5" cy="2716.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="130" y="2727.9224">AnswerToReset (byte[] atrBytes)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="82.5" x2="547.5" y1="2743.9648" y2="2743.9648"/><ellipse cx="107.5" cy="2771.4648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="130" y="2782.5122">byte[] getBytes ()</text><!--MD5=[98ba62cb7f23ffced5bd52e8cedb0b75]
class DefaultSelectionsResponse--><rect codeLine="165" fill="#FEFECE" height="264.2383" id="DefaultSelectionsResponse" style="stroke:#D4AC0D;stroke-width:3.75;" width="807.5" x="81.25" y="541.875"/><ellipse cx="188.5" cy="592.1094" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M193.5,583.3594 Q194.0078,582.1094 194.5938,581.4844 Q195.1797,580.8594 195.8438,580.8594 Q197.0156,580.8594 197.7578,581.5625 Q198.5,582.2656 198.5,583.9063 L198.5,587.8125 Q198.5,589.4531 197.7969,590.1563 Q197.0938,590.8594 196,590.8594 Q195.0234,590.8594 194.3984,590.4297 Q193.7734,590 193.5,588.8672 Q193.3828,588.0859 192.9531,587.6563 Q192.1719,586.8359 190.7656,586.3672 Q189.3594,585.8594 187.9531,585.8594 Q186.1953,585.8594 184.7109,586.5625 Q183.2656,587.2656 182.1328,588.8281 Q181,590.3906 181,592.5391 L181,594.8438 Q181,597.4219 183.1094,599.1406 Q185.2188,600.8594 188.9688,600.8594 Q191.1953,600.8594 192.7578,600.3516 Q193.6563,600.0781 194.6719,599.1797 Q195.3359,598.6719 195.6875,598.5156 Q196.0391,598.3594 196.4688,598.3594 Q197.2891,598.3594 197.875,599.0234 Q198.5,599.6484 198.5,600.5469 Q198.5,601.4063 197.6406,602.4219 Q196.3906,603.9063 194.3984,604.7266 Q191.7813,605.8594 188.5781,605.8594 Q184.8281,605.8594 181.8203,604.375 Q179.3984,603.2031 177.6797,600.6641 Q176,598.125 176,595.1172 L176,592.3828 Q176,589.2578 177.4844,586.5234 Q179.0078,583.7891 181.625,582.3438 Q184.2813,580.8594 187.25,580.8594 Q189.0469,580.8594 190.6094,581.4844 Q192.1719,582.1094 193.5,583.3594 Z " fill="#000000"/><ellipse cx="251.5" cy="590.8594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="266.5" y="585.5176">&lt;&lt;</text><text fill="#000000" filter="url(#bk6b1yxy2ipas0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="475" x="301.5" y="585.5176">KeypleDefaultSelectionsResponse</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="776.5" y="585.5176">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="315.25" y="623.252">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="380" x="382.75" y="623.252">DefaultSelectionsResponse</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="83.75" x2="886.25" y1="642.3438" y2="642.3438"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="83.75" x2="886.25" y1="662.3438" y2="662.3438"/><ellipse cx="108.75" cy="689.8438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="350" x="131.25" y="700.8911">DefaultSelectionsResponse (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="682.5" x="191.25" y="735.481">List&lt;CardSelectionResponse&gt; cardSelectionResponses)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="83.75" x2="886.25" y1="751.5234" y2="751.5234"/><ellipse cx="108.75" cy="779.0234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="740" x="131.25" y="790.0708">List&lt;CardSelectionResponse&gt; getCardSelectionResponses ()</text><!--MD5=[8bb4dfb5c202638247c1d933bba136db]
class KeypleCardCommandUnknownStatusException--><rect codeLine="311" fill="#EAECEE" height="189.1797" id="KeypleCardCommandUnknownStatusException" style="stroke:#2C3E50;stroke-width:3.75;" width="877.5" x="2091.25" y="3230.625"/><ellipse cx="2178.25" cy="3270.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2183.25,3261.875 Q2183.7578,3260.625 2184.3438,3260 Q2184.9297,3259.375 2185.5938,3259.375 Q2186.7656,3259.375 2187.5078,3260.0781 Q2188.25,3260.7813 2188.25,3262.4219 L2188.25,3266.3281 Q2188.25,3267.9688 2187.5469,3268.6719 Q2186.8438,3269.375 2185.75,3269.375 Q2184.7734,3269.375 2184.1484,3268.9453 Q2183.5234,3268.5156 2183.25,3267.3828 Q2183.1328,3266.6016 2182.7031,3266.1719 Q2181.9219,3265.3516 2180.5156,3264.8828 Q2179.1094,3264.375 2177.7031,3264.375 Q2175.9453,3264.375 2174.4609,3265.0781 Q2173.0156,3265.7813 2171.8828,3267.3438 Q2170.75,3268.9063 2170.75,3271.0547 L2170.75,3273.3594 Q2170.75,3275.9375 2172.8594,3277.6563 Q2174.9688,3279.375 2178.7188,3279.375 Q2180.9453,3279.375 2182.5078,3278.8672 Q2183.4063,3278.5938 2184.4219,3277.6953 Q2185.0859,3277.1875 2185.4375,3277.0313 Q2185.7891,3276.875 2186.2188,3276.875 Q2187.0391,3276.875 2187.625,3277.5391 Q2188.25,3278.1641 2188.25,3279.0625 Q2188.25,3279.9219 2187.3906,3280.9375 Q2186.1406,3282.4219 2184.1484,3283.2422 Q2181.5313,3284.375 2178.3281,3284.375 Q2174.5781,3284.375 2171.5703,3282.8906 Q2169.1484,3281.7188 2167.4297,3279.1797 Q2165.75,3276.6406 2165.75,3273.6328 L2165.75,3270.8984 Q2165.75,3267.7734 2167.2344,3265.0391 Q2168.7578,3262.3047 2171.375,3260.8594 Q2174.0313,3259.375 2177,3259.375 Q2178.7969,3259.375 2180.3594,3260 Q2181.9219,3260.625 2183.25,3261.875 Z " fill="#000000"/><ellipse cx="2236.75" cy="3269.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="660" x="2251.75" y="3282.9004">KeypleCardCommandUnknownStatusException</text><line style="stroke:#2C3E50;stroke-width:3.75;" x1="2093.75" x2="2966.25" y1="3310.625" y2="3310.625"/><line style="stroke:#2C3E50;stroke-width:3.75;" x1="2093.75" x2="2966.25" y1="3330.625" y2="3330.625"/><ellipse cx="2118.75" cy="3358.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="585" x="2141.25" y="3369.1724">KeypleCardCommandUnknownStatusException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="752.5" x="2201.25" y="3403.7622">String message, CardCommand command, Integer statusCode)</text><!--MD5=[32fc7b65f340d78e9416d68a58b55b2e]
class CardCommunicationException--><rect codeLine="251" fill="#FEFECE" height="436.7188" id="CardCommunicationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="1165" x="977.5" y="455.625"/><ellipse cx="1324.375" cy="495.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1329.375,486.875 Q1329.8828,485.625 1330.4688,485 Q1331.0547,484.375 1331.7188,484.375 Q1332.8906,484.375 1333.6328,485.0781 Q1334.375,485.7813 1334.375,487.4219 L1334.375,491.3281 Q1334.375,492.9688 1333.6719,493.6719 Q1332.9688,494.375 1331.875,494.375 Q1330.8984,494.375 1330.2734,493.9453 Q1329.6484,493.5156 1329.375,492.3828 Q1329.2578,491.6016 1328.8281,491.1719 Q1328.0469,490.3516 1326.6406,489.8828 Q1325.2344,489.375 1323.8281,489.375 Q1322.0703,489.375 1320.5859,490.0781 Q1319.1406,490.7813 1318.0078,492.3438 Q1316.875,493.9063 1316.875,496.0547 L1316.875,498.3594 Q1316.875,500.9375 1318.9844,502.6563 Q1321.0938,504.375 1324.8438,504.375 Q1327.0703,504.375 1328.6328,503.8672 Q1329.5313,503.5938 1330.5469,502.6953 Q1331.2109,502.1875 1331.5625,502.0313 Q1331.9141,501.875 1332.3438,501.875 Q1333.1641,501.875 1333.75,502.5391 Q1334.375,503.1641 1334.375,504.0625 Q1334.375,504.9219 1333.5156,505.9375 Q1332.2656,507.4219 1330.2734,508.2422 Q1327.6563,509.375 1324.4531,509.375 Q1320.7031,509.375 1317.6953,507.8906 Q1315.2734,506.7188 1313.5547,504.1797 Q1311.875,501.6406 1311.875,498.6328 L1311.875,495.8984 Q1311.875,492.7734 1313.3594,490.0391 Q1314.8828,487.3047 1317.5,485.8594 Q1320.1563,484.375 1323.125,484.375 Q1324.9219,484.375 1326.4844,485 Q1328.0469,485.625 1329.375,486.875 Z " fill="#000000"/><ellipse cx="1388.125" cy="494.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="422.5" x="1403.125" y="507.9004">CardCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="980" x2="2140" y1="535.625" y2="535.625"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="980" x2="2140" y1="555.625" y2="555.625"/><ellipse cx="1005" cy="583.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="1027.5" y="594.1724">CardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="1087.5" y="628.7622">String message)</text><ellipse cx="1005" cy="652.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="1027.5" y="663.3521">CardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1087.5" y="697.9419">String message, Throwable cause)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="980" x2="2140" y1="713.9844" y2="713.9844"/><ellipse cx="1005" cy="741.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1100" x="1027.5" y="752.5317">void setCardSelectionResponses (List&lt;CardSelectionResponse&gt; cardSelectionResponses)</text><ellipse cx="1005" cy="776.0742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="740" x="1027.5" y="787.1216">List&lt;CardSelectionResponse&gt; getCardSelectionResponses ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="980" x2="2140" y1="803.1641" y2="803.1641"/><ellipse cx="1005" cy="830.6641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="667.5" x="1027.5" y="841.7114">void setCardResponse (CardResponse cardResponse)</text><ellipse cx="1005" cy="865.2539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="1027.5" y="876.3013">CardResponse getCardResponse ()</text><!--MD5=[e210ee7b55cb4fcef849a017d68619f7]
class CardSelectionSpi--><rect codeLine="174" fill="#FEFECE" height="189.1797" id="CardSelectionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="920" x="4860" y="1870.625"/><ellipse cx="5175.625" cy="1910.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M5178.125,1903.125 L5178.125,1918.125 L5183.125,1918.125 L5184.3359,1918.125 L5185.625,1919.6875 L5185.625,1920.625 L5185.625,1921.5625 L5184.3359,1923.125 L5183.125,1923.125 L5168.125,1923.125 L5166.9141,1923.125 L5165.625,1921.5625 L5165.625,1920.625 L5165.625,1919.6875 L5166.9141,1918.125 L5168.125,1918.125 L5173.125,1918.125 L5173.125,1903.125 L5168.125,1903.125 L5166.9141,1903.125 L5165.625,1901.5625 L5165.625,1900.625 L5165.625,1899.6875 L5166.9141,1898.125 L5168.125,1898.125 L5183.125,1898.125 L5184.3359,1898.125 L5185.625,1899.6875 L5185.625,1900.625 L5185.625,1901.5625 L5184.3359,1903.125 L5183.125,1903.125 L5178.125,1903.125 Z " fill="#000000"/><ellipse cx="5239.375" cy="1909.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="240" x="5254.375" y="1922.9004">CardSelectionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4862.5" x2="5777.5" y1="1950.625" y2="1950.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4862.5" x2="5777.5" y1="1970.625" y2="1970.625"/><ellipse cx="4887.5" cy="1998.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="4910" y="2009.1724">CardSelectionRequest getCardSelectionRequest ()</text><ellipse cx="4887.5" cy="2032.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="855" x="4910" y="2043.7622">SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)</text><!--MD5=[c089e258773b765d812cd5d8bc232f90]
class SmartCardSpi--><rect codeLine="178" fill="#FEFECE" height="120" id="SmartCardSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="302.5" x="4468.75" y="1905.625"/><ellipse cx="4506.25" cy="1945.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4508.75,1938.125 L4508.75,1953.125 L4513.75,1953.125 L4514.9609,1953.125 L4516.25,1954.6875 L4516.25,1955.625 L4516.25,1956.5625 L4514.9609,1958.125 L4513.75,1958.125 L4498.75,1958.125 L4497.5391,1958.125 L4496.25,1956.5625 L4496.25,1955.625 L4496.25,1954.6875 L4497.5391,1953.125 L4498.75,1953.125 L4503.75,1953.125 L4503.75,1938.125 L4498.75,1938.125 L4497.5391,1938.125 L4496.25,1936.5625 L4496.25,1935.625 L4496.25,1934.6875 L4497.5391,1933.125 L4498.75,1933.125 L4513.75,1933.125 L4514.9609,1933.125 L4516.25,1934.6875 L4516.25,1935.625 L4516.25,1936.5625 L4514.9609,1938.125 L4513.75,1938.125 L4508.75,1938.125 Z " fill="#000000"/><ellipse cx="4553.75" cy="1944.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="4568.75" y="1957.9004">SmartCardSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4471.25" x2="4768.75" y1="1985.625" y2="1985.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4471.25" x2="4768.75" y1="2005.625" y2="2005.625"/><!--MD5=[185e0bdf42af07c8770aff42a7482a20]
class CardCommandSpi--><rect codeLine="309" fill="#EAECEE" height="189.1797" id="CardCommandSpi" style="stroke:#2C3E50;stroke-width:3.75;" width="370" x="3280" y="3230.625"/><ellipse cx="3318.625" cy="3270.625" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M3323,3274.375 L3314.7578,3274.375 L3313.6641,3276.875 L3313.6641,3276.875 L3314.8359,3276.875 L3316.125,3278.4375 L3316.125,3279.375 L3316.125,3280.3125 L3314.8359,3281.875 L3313.6641,3281.875 L3308.9375,3281.875 L3307.4141,3281.875 L3306.125,3280.3125 L3306.125,3279.375 L3306.125,3278.4375 L3307.4141,3276.875 L3308.9375,3276.875 L3314.7188,3261.875 L3312.5313,3261.875 L3309.9141,3261.875 L3308.625,3260.3125 L3308.625,3259.375 L3308.625,3258.4375 L3309.9141,3256.875 L3312.5313,3256.875 L3321.7109,3256.875 L3328.4297,3276.875 L3329.8359,3276.875 L3329.8359,3276.875 L3331.125,3278.4375 L3331.125,3279.375 L3331.125,3280.3125 L3329.8359,3281.875 L3328.4297,3281.875 L3323.7031,3281.875 L3322.4141,3281.875 L3321.125,3280.3125 L3321.125,3279.375 L3321.125,3278.4375 L3322.4141,3276.875 L3323.7031,3276.875 L3323.7031,3276.875 L3323,3274.375 Z M3321.6328,3269.375 L3318.625,3260.4297 L3316.0469,3269.375 L3321.6328,3269.375 Z " fill="#000000"/><ellipse cx="3366.375" cy="3269.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="260" x="3381.375" y="3282.9004">CardCommandSpi</text><line style="stroke:#2C3E50;stroke-width:3.75;" x1="3282.5" x2="3647.5" y1="3310.625" y2="3310.625"/><line style="stroke:#2C3E50;stroke-width:3.75;" x1="3282.5" x2="3647.5" y1="3330.625" y2="3330.625"/><ellipse cx="3307.5" cy="3358.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3330" y="3369.1724">String getName ()</text><ellipse cx="3307.5" cy="3392.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="305" x="3330" y="3403.7622">byte getInstructionByte ()</text><!--MD5=[8b144ea336e0ed4dea5b7e610ddaed0c]
class AbstractApduCommandBuilderSpi--><rect codeLine="313" fill="#EAECEE" height="416.7188" id="AbstractApduCommandBuilderSpi" style="stroke:#2C3E50;stroke-width:3.75;" width="875" x="3852.5" y="2485.625"/><ellipse cx="4028.125" cy="2525.625" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M4032.5,2529.375 L4024.2578,2529.375 L4023.1641,2531.875 L4023.1641,2531.875 L4024.3359,2531.875 L4025.625,2533.4375 L4025.625,2534.375 L4025.625,2535.3125 L4024.3359,2536.875 L4023.1641,2536.875 L4018.4375,2536.875 L4016.9141,2536.875 L4015.625,2535.3125 L4015.625,2534.375 L4015.625,2533.4375 L4016.9141,2531.875 L4018.4375,2531.875 L4024.2188,2516.875 L4022.0313,2516.875 L4019.4141,2516.875 L4018.125,2515.3125 L4018.125,2514.375 L4018.125,2513.4375 L4019.4141,2511.875 L4022.0313,2511.875 L4031.2109,2511.875 L4037.9297,2531.875 L4039.3359,2531.875 L4039.3359,2531.875 L4040.625,2533.4375 L4040.625,2534.375 L4040.625,2535.3125 L4039.3359,2536.875 L4037.9297,2536.875 L4033.2031,2536.875 L4031.9141,2536.875 L4030.625,2535.3125 L4030.625,2534.375 L4030.625,2533.4375 L4031.9141,2531.875 L4033.2031,2531.875 L4033.2031,2531.875 L4032.5,2529.375 Z M4031.1328,2524.375 L4028.125,2515.4297 L4025.5469,2524.375 L4031.1328,2524.375 Z " fill="#000000"/><ellipse cx="4091.875" cy="2524.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="475" x="4106.875" y="2537.9004">AbstractApduCommandBuilderSpi</text><line style="stroke:#2C3E50;stroke-width:3.75;" x1="3855" x2="4725" y1="2565.625" y2="2565.625"/><polygon fill="none" points="3880,2580.625,3890,2590.625,3880,2600.625,3870,2590.625" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" textLength="57.5" x="3902.5" y="2604.1724">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="377.5" x="3967.5" y="2604.1724">CardCommandSpi commandRef</text><polygon fill="none" points="3880,2615.2148,3890,2625.2148,3880,2635.2148,3870,2625.2148" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="265" x="3902.5" y="2638.7622">ApduRequest request</text><line style="stroke:#2C3E50;stroke-width:2.5;" x1="3855" x2="4725" y1="2654.8047" y2="2654.8047"/><polygon fill="#FFFF44" points="3880,2669.8047,3890,2679.8047,3880,2689.8047,3870,2679.8047" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="810" x="3902.5" y="2693.3521">AbstractApduCommandBuilderSpi (CardCommandSpi commandRef,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="3962.5" y="2727.9419">ApduRequest request)</text><line style="stroke:#2C3E50;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3855" x2="4725" y1="2743.9844" y2="2743.9844"/><ellipse cx="3880" cy="2771.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" textLength="57.5" x="3902.5" y="2782.5317">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="435" x="3967.5" y="2782.5317">void addSubName (String subName)</text><ellipse cx="3880" cy="2806.0742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" textLength="57.5" x="3902.5" y="2817.1216">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3967.5" y="2817.1216">String getName ()</text><ellipse cx="3880" cy="2840.6641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" textLength="57.5" x="3902.5" y="2851.7114">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="3967.5" y="2851.7114">ApduRequest getApduRequest ()</text><ellipse cx="3880" cy="2875.2539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="445" x="3902.5" y="2886.3013">CardCommandSpi getCommandRef ()</text><!--MD5=[abc37d890064a17bc91a6a2798df8241]
class AbstractIso7816CommandBuilderSpi--><rect codeLine="314" fill="#EAECEE" height="278.3594" id="AbstractIso7816CommandBuilderSpi" style="stroke:#2C3E50;stroke-width:3.75;" width="990" x="3795" y="3186.875"/><ellipse cx="4008.125" cy="3226.875" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M4012.5,3230.625 L4004.2578,3230.625 L4003.1641,3233.125 L4003.1641,3233.125 L4004.3359,3233.125 L4005.625,3234.6875 L4005.625,3235.625 L4005.625,3236.5625 L4004.3359,3238.125 L4003.1641,3238.125 L3998.4375,3238.125 L3996.9141,3238.125 L3995.625,3236.5625 L3995.625,3235.625 L3995.625,3234.6875 L3996.9141,3233.125 L3998.4375,3233.125 L4004.2188,3218.125 L4002.0313,3218.125 L3999.4141,3218.125 L3998.125,3216.5625 L3998.125,3215.625 L3998.125,3214.6875 L3999.4141,3213.125 L4002.0313,3213.125 L4011.2109,3213.125 L4017.9297,3233.125 L4019.3359,3233.125 L4019.3359,3233.125 L4020.625,3234.6875 L4020.625,3235.625 L4020.625,3236.5625 L4019.3359,3238.125 L4017.9297,3238.125 L4013.2031,3238.125 L4011.9141,3238.125 L4010.625,3236.5625 L4010.625,3235.625 L4010.625,3234.6875 L4011.9141,3233.125 L4013.2031,3233.125 L4013.2031,3233.125 L4012.5,3230.625 Z M4011.1328,3225.625 L4008.125,3216.6797 L4005.5469,3225.625 L4011.1328,3225.625 Z " fill="#000000"/><ellipse cx="4071.875" cy="3225.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="515" x="4086.875" y="3239.1504">AbstractIso7816CommandBuilderSpi</text><line style="stroke:#2C3E50;stroke-width:3.75;" x1="3797.5" x2="4782.5" y1="3266.875" y2="3266.875"/><line style="stroke:#2C3E50;stroke-width:2.5;" x1="3797.5" x2="4782.5" y1="3286.875" y2="3286.875"/><polygon fill="#FFFF44" points="3822.5,3301.875,3832.5,3311.875,3822.5,3321.875,3812.5,3311.875" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="925" x="3845" y="3325.4224">AbstractIso7816CommandBuilderSpi (CardCommandSpi commandReference,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="3905" y="3360.0122">ApduRequest request)</text><line style="stroke:#2C3E50;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3797.5" x2="4782.5" y1="3376.0547" y2="3376.0547"/><polygon fill="#FFFF44" points="3822.5,3391.0547,3832.5,3401.0547,3822.5,3411.0547,3812.5,3401.0547" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="845" x="3845" y="3414.6021">ApduRequest setApduRequest (byte cla, CardCommandSpi command,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="465" x="3905" y="3449.1919">byte p1, byte p2, byte[] dataIn, Byte le)</text><!--MD5=[3ca8f812d2505053029b14b2a6967cb7]
class AbstractApduResponseParserSpi--><rect codeLine="312" fill="#EAECEE" height="738.8477" id="AbstractApduResponseParserSpi" style="stroke:#2C3E50;stroke-width:3.75;" width="962.5" x="3418.75" y="1595.625"/><ellipse cx="3645.625" cy="1635.625" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M3650,1639.375 L3641.7578,1639.375 L3640.6641,1641.875 L3640.6641,1641.875 L3641.8359,1641.875 L3643.125,1643.4375 L3643.125,1644.375 L3643.125,1645.3125 L3641.8359,1646.875 L3640.6641,1646.875 L3635.9375,1646.875 L3634.4141,1646.875 L3633.125,1645.3125 L3633.125,1644.375 L3633.125,1643.4375 L3634.4141,1641.875 L3635.9375,1641.875 L3641.7188,1626.875 L3639.5313,1626.875 L3636.9141,1626.875 L3635.625,1625.3125 L3635.625,1624.375 L3635.625,1623.4375 L3636.9141,1621.875 L3639.5313,1621.875 L3648.7109,1621.875 L3655.4297,1641.875 L3656.8359,1641.875 L3656.8359,1641.875 L3658.125,1643.4375 L3658.125,1644.375 L3658.125,1645.3125 L3656.8359,1646.875 L3655.4297,1646.875 L3650.7031,1646.875 L3649.4141,1646.875 L3648.125,1645.3125 L3648.125,1644.375 L3648.125,1643.4375 L3649.4141,1641.875 L3650.7031,1641.875 L3650.7031,1641.875 L3650,1639.375 Z M3648.6328,1634.375 L3645.625,1625.4297 L3643.0469,1634.375 L3648.6328,1634.375 Z " fill="#000000"/><ellipse cx="3709.375" cy="1634.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="460" x="3724.375" y="1647.9004">AbstractApduResponseParserSpi</text><line style="stroke:#2C3E50;stroke-width:3.75;" x1="3421.25" x2="4378.75" y1="1675.625" y2="1675.625"/><polygon fill="none" points="3446.25,1690.625,3456.25,1700.625,3446.25,1710.625,3436.25,1700.625" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="3468.75" y="1714.1724">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="585" x="3533.75" y="1714.1724">Map&lt;Integer, StatusProperties&gt; STATUS_TABLE</text><polygon fill="none" points="3446.25,1725.2148,3456.25,1735.2148,3446.25,1745.2148,3436.25,1735.2148" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" textLength="57.5" x="3468.75" y="1748.7622">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="3533.75" y="1748.7622">ApduResponse response</text><polygon fill="none" points="3446.25,1759.8047,3456.25,1769.8047,3446.25,1779.8047,3436.25,1769.8047" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" textLength="57.5" x="3468.75" y="1783.3521">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="495" x="3533.75" y="1783.3521">AbstractApduCommandBuilderSpi builder</text><line style="stroke:#2C3E50;stroke-width:2.5;" x1="3421.25" x2="4378.75" y1="1799.3945" y2="1799.3945"/><polygon fill="#FFFF44" points="3446.25,1814.3945,3456.25,1824.3945,3446.25,1834.3945,3436.25,1824.3945" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="745" x="3468.75" y="1837.9419">AbstractApduResponseParserSpi (ApduResponse response,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="467.5" x="3528.75" y="1872.5317">AbstractApduCommandBuilder builder)</text><line style="stroke:#2C3E50;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3421.25" x2="4378.75" y1="1888.5742" y2="1888.5742"/><polygon fill="#FFFF44" points="3446.25,1903.5742,3456.25,1913.5742,3446.25,1923.5742,3436.25,1913.5742" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="592.5" x="3468.75" y="1927.1216">Map&lt;Integer, StatusProperties&gt; getStatusTable ()</text><line style="stroke:#2C3E50;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3421.25" x2="4378.75" y1="1943.1641" y2="1943.1641"/><polygon fill="#FFFF44" points="3446.25,1958.1641,3456.25,1968.1641,3446.25,1978.1641,3436.25,1968.1641" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="720" x="3468.75" y="1981.7114">KeypleCardCommandExceptionSpi buildCommandException(</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="837.5" x="3528.75" y="2016.3013">Class&lt;? extends KeypleCardCommandExceptionSpi&gt; exceptionClass,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="832.5" x="3528.75" y="2050.8911">String message, CardCommandSpi commandRef, Integer statusCode)</text><line style="stroke:#2C3E50;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3421.25" x2="4378.75" y1="2066.9336" y2="2066.9336"/><polygon fill="#FFFF44" points="3446.25,2081.9336,3456.25,2091.9336,3446.25,2101.9336,3436.25,2091.9336" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="445" x="3468.75" y="2105.481">CardCommandSpi getCommandRef ()</text><line style="stroke:#2C3E50;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3421.25" x2="4378.75" y1="2121.5234" y2="2121.5234"/><ellipse cx="3446.25" cy="2149.0234" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" textLength="57.5" x="3468.75" y="2160.0708">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="3533.75" y="2160.0708">ApduResponse getApduResponse ()</text><ellipse cx="3446.25" cy="2183.6133" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" textLength="57.5" x="3468.75" y="2194.6606">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="352.5" x="3533.75" y="2194.6606">String getStatusInformation ()</text><ellipse cx="3446.25" cy="2218.2031" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="562.5" x="3468.75" y="2229.2505">AbstractApduCommandBuilderSpi getBuilder ()</text><line style="stroke:#2C3E50;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3421.25" x2="4378.75" y1="2245.293" y2="2245.293"/><ellipse cx="3446.25" cy="2272.793" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="3468.75" y="2283.8403">boolean isSuccessful ()</text><ellipse cx="3446.25" cy="2307.3828" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="235" x="3468.75" y="2318.4302">void checkStatus ()</text><!--MD5=[bbcb1a645ec3b14ac58080c217aeb5f8]
class StatusProperties--><rect codeLine="315" fill="#EAECEE" height="347.5391" id="StatusProperties" style="stroke:#2C3E50;stroke-width:3.75;" width="965" x="4815" y="2520.625"/><ellipse cx="5160.625" cy="2560.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M5165.625,2551.875 Q5166.1328,2550.625 5166.7188,2550 Q5167.3047,2549.375 5167.9688,2549.375 Q5169.1406,2549.375 5169.8828,2550.0781 Q5170.625,2550.7813 5170.625,2552.4219 L5170.625,2556.3281 Q5170.625,2557.9688 5169.9219,2558.6719 Q5169.2188,2559.375 5168.125,2559.375 Q5167.1484,2559.375 5166.5234,2558.9453 Q5165.8984,2558.5156 5165.625,2557.3828 Q5165.5078,2556.6016 5165.0781,2556.1719 Q5164.2969,2555.3516 5162.8906,2554.8828 Q5161.4844,2554.375 5160.0781,2554.375 Q5158.3203,2554.375 5156.8359,2555.0781 Q5155.3906,2555.7813 5154.2578,2557.3438 Q5153.125,2558.9063 5153.125,2561.0547 L5153.125,2563.3594 Q5153.125,2565.9375 5155.2344,2567.6563 Q5157.3438,2569.375 5161.0938,2569.375 Q5163.3203,2569.375 5164.8828,2568.8672 Q5165.7813,2568.5938 5166.7969,2567.6953 Q5167.4609,2567.1875 5167.8125,2567.0313 Q5168.1641,2566.875 5168.5938,2566.875 Q5169.4141,2566.875 5170,2567.5391 Q5170.625,2568.1641 5170.625,2569.0625 Q5170.625,2569.9219 5169.7656,2570.9375 Q5168.5156,2572.4219 5166.5234,2573.2422 Q5163.9063,2574.375 5160.7031,2574.375 Q5156.9531,2574.375 5153.9453,2572.8906 Q5151.5234,2571.7188 5149.8047,2569.1797 Q5148.125,2566.6406 5148.125,2563.6328 L5148.125,2560.8984 Q5148.125,2557.7734 5149.6094,2555.0391 Q5151.1328,2552.3047 5153.75,2550.8594 Q5156.4063,2549.375 5159.375,2549.375 Q5161.1719,2549.375 5162.7344,2550 Q5164.2969,2550.625 5165.625,2551.875 Z " fill="#000000"/><polygon fill="#FFFF44" points="5224.375,2546.875,5234.375,2556.875,5224.375,2566.875,5214.375,2556.875" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="225" x="5239.375" y="2572.9004">StatusProperties</text><line style="stroke:#2C3E50;stroke-width:3.75;" x1="4817.5" x2="5777.5" y1="2600.625" y2="2600.625"/><line style="stroke:#2C3E50;stroke-width:2.5;" x1="4817.5" x2="5777.5" y1="2620.625" y2="2620.625"/><ellipse cx="4842.5" cy="2648.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="4865" y="2659.1724">StatusProperties (String information)</text><ellipse cx="4842.5" cy="2682.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="435" x="4865" y="2693.7622">StatusProperties (String information,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="840" x="4925" y="2728.3521">Class&lt;? extends KeypleCardCommandExceptionSpi&gt; exceptionClass)</text><line style="stroke:#2C3E50;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4817.5" x2="5777.5" y1="2744.3945" y2="2744.3945"/><ellipse cx="4842.5" cy="2771.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="4865" y="2782.9419">String getInformation ()</text><ellipse cx="4842.5" cy="2806.4844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="4865" y="2817.5317">boolean isSuccessful ()</text><ellipse cx="4842.5" cy="2841.0742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="895" x="4865" y="2852.1216">Class&lt;? extends KeypleCardCommandExceptionSpi&gt; getExceptionClass ()</text><!--MD5=[3732ff8d7bc906f189dffe8aaede2be0]
class KeypleCardCommandExceptionSpi--><rect codeLine="310" fill="#EAECEE" height="278.3594" id="KeypleCardCommandExceptionSpi" style="stroke:#2C3E50;stroke-width:3.75;" width="712.5" x="3051.25" y="2555.625"/><ellipse cx="3140.5" cy="2595.625" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M3144.875,2599.375 L3136.6328,2599.375 L3135.5391,2601.875 L3135.5391,2601.875 L3136.7109,2601.875 L3138,2603.4375 L3138,2604.375 L3138,2605.3125 L3136.7109,2606.875 L3135.5391,2606.875 L3130.8125,2606.875 L3129.2891,2606.875 L3128,2605.3125 L3128,2604.375 L3128,2603.4375 L3129.2891,2601.875 L3130.8125,2601.875 L3136.5938,2586.875 L3134.4063,2586.875 L3131.7891,2586.875 L3130.5,2585.3125 L3130.5,2584.375 L3130.5,2583.4375 L3131.7891,2581.875 L3134.4063,2581.875 L3143.5859,2581.875 L3150.3047,2601.875 L3151.7109,2601.875 L3151.7109,2601.875 L3153,2603.4375 L3153,2604.375 L3153,2605.3125 L3151.7109,2606.875 L3150.3047,2606.875 L3145.5781,2606.875 L3144.2891,2606.875 L3143,2605.3125 L3143,2604.375 L3143,2603.4375 L3144.2891,2601.875 L3145.5781,2601.875 L3145.5781,2601.875 L3144.875,2599.375 Z M3143.5078,2594.375 L3140.5,2585.4297 L3137.9219,2594.375 L3143.5078,2594.375 Z " fill="#000000"/><ellipse cx="3199.5" cy="2594.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="490" x="3214.5" y="2607.9004">KeypleCardCommandExceptionSpi</text><line style="stroke:#2C3E50;stroke-width:3.75;" x1="3053.75" x2="3761.25" y1="2635.625" y2="2635.625"/><line style="stroke:#2C3E50;stroke-width:2.5;" x1="3053.75" x2="3761.25" y1="2655.625" y2="2655.625"/><polygon fill="#FFFF44" points="3078.75,2670.625,3088.75,2680.625,3078.75,2690.625,3068.75,2680.625" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="625" x="3101.25" y="2694.1724">KeypleCardCommandExceptionSpi (String message,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="587.5" x="3161.25" y="2728.7622">CardCommandSpi command, Integer statusCode)</text><line style="stroke:#2C3E50;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3053.75" x2="3761.25" y1="2744.8047" y2="2744.8047"/><ellipse cx="3078.75" cy="2772.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="3101.25" y="2783.3521">CardCommandSpi getCommand ()</text><ellipse cx="3078.75" cy="2806.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="295" x="3101.25" y="2817.9419">Integer getStatusCode ()</text><!--MD5=[5c6c7d52e42032554528404b62c1d271]
class RuntimeException--><rect codeLine="51" fill="#FEFECE" height="120" id="RuntimeException" style="stroke:#D4AC0D;stroke-width:3.75;" width="360" x="1380" y="185.625"/><ellipse cx="1417.5" cy="225.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1422.5,216.875 Q1423.0078,215.625 1423.5938,215 Q1424.1797,214.375 1424.8438,214.375 Q1426.0156,214.375 1426.7578,215.0781 Q1427.5,215.7813 1427.5,217.4219 L1427.5,221.3281 Q1427.5,222.9688 1426.7969,223.6719 Q1426.0938,224.375 1425,224.375 Q1424.0234,224.375 1423.3984,223.9453 Q1422.7734,223.5156 1422.5,222.3828 Q1422.3828,221.6016 1421.9531,221.1719 Q1421.1719,220.3516 1419.7656,219.8828 Q1418.3594,219.375 1416.9531,219.375 Q1415.1953,219.375 1413.7109,220.0781 Q1412.2656,220.7813 1411.1328,222.3438 Q1410,223.9063 1410,226.0547 L1410,228.3594 Q1410,230.9375 1412.1094,232.6563 Q1414.2188,234.375 1417.9688,234.375 Q1420.1953,234.375 1421.7578,233.8672 Q1422.6563,233.5938 1423.6719,232.6953 Q1424.3359,232.1875 1424.6875,232.0313 Q1425.0391,231.875 1425.4688,231.875 Q1426.2891,231.875 1426.875,232.5391 Q1427.5,233.1641 1427.5,234.0625 Q1427.5,234.9219 1426.6406,235.9375 Q1425.3906,237.4219 1423.3984,238.2422 Q1420.7813,239.375 1417.5781,239.375 Q1413.8281,239.375 1410.8203,237.8906 Q1408.3984,236.7188 1406.6797,234.1797 Q1405,231.6406 1405,228.6328 L1405,225.8984 Q1405,222.7734 1406.4844,220.0391 Q1408.0078,217.3047 1410.625,215.8594 Q1413.2813,214.375 1416.25,214.375 Q1418.0469,214.375 1419.6094,215 Q1421.1719,215.625 1422.5,216.875 Z " fill="#000000"/><ellipse cx="1465" cy="224.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="1480" y="237.9004">RuntimeException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1382.5" x2="1737.5" y1="265.625" y2="265.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1382.5" x2="1737.5" y1="285.625" y2="285.625"/><!--MD5=[bd71ce62b9b33d301addb63ac6f728ac]
reverse link AbstractApduCommandBuilderSpi to AbstractIso7816CommandBuilderSpi--><path d="M4290,2953.81 C4290,3033.5825 4290,3118.385 4290,3186.5825 " fill="none" id="AbstractApduCommandBuilderSpi-backto-AbstractIso7816CommandBuilderSpi" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="4272.5,2953.6675,4290,2903.6675,4307.5,2953.6675,4272.5,2953.6675" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[3b2b63954490d740963682378daca434]
reverse link KeypleCardCommandExceptionSpi to KeypleCardCommandUnknownStatusException--><path d="M3175.3,2862.595 C3010.55,2980.1625 2795.475,3133.655 2660.025,3230.3325 " fill="none" id="KeypleCardCommandExceptionSpi-backto-KeypleCardCommandUnknownStatusException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="3165.15,2848.335,3216.025,2833.535,3185.475,2876.825,3165.15,2848.335" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[cdf69fa7f1cfead213d001e3d8dc600a]
reverse link RuntimeException to CardCommunicationException--><path d="M1560,357.075 C1560,387.15 1560,420.875 1560,454.775 " fill="none" id="RuntimeException-backto-CardCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1542.5,356.15,1560,306.15,1577.5,356.15,1542.5,356.15" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[1031604b91889377fe6bb61a55310e0d]
reverse link DefaultSelectionsRequest to CardSelectionRequest--><path codeLine="268" d="M2050,1479.3025 C2050,1587.33 2050,1712.8325 2050,1808.9425 " fill="none" id="DefaultSelectionsRequest-backto-CardSelectionRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2050,1446.39,2040,1461.39,2050,1476.39,2060,1461.39,2050,1446.39" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="1986.5313" y="1782.2762">1..N</text><!--MD5=[342c8eb25f8a1dd96cfbcd7f698a68c7]
reverse link DefaultSelectionsRequest to MultiSelectionProcessing--><path codeLine="269" d="M2455.27,1466.885 C2462.0325,1473.015 2468.62,1479.2625 2475,1485.625 C2587.275,1597.59 2667.725,1765.9 2710.25,1869.9 " fill="none" id="DefaultSelectionsRequest-backto-MultiSelectionProcessing" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2430.065,1445.2075,2434.9174,1462.5699,2452.8106,1464.7687,2447.9582,1447.4062,2430.065,1445.2075" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="2685.0016" y="1843.1756">1</text><!--MD5=[e98879906059635ebfdbd0a3108430b7]
reverse link DefaultSelectionsRequest to ChannelControl--><path codeLine="270" d="M1644.8875,1464.905 C1638.0225,1471.6525 1631.38,1478.5575 1625,1485.625 C1524.14,1597.3225 1466.7025,1765.7125 1438.87,1869.8025 " fill="none" id="DefaultSelectionsRequest-backto-ChannelControl" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1669.045,1442.58,1651.2418,1445.4163,1647.0125,1462.941,1664.8158,1460.1047,1669.045,1442.58" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1423.5391" y="1843.7793">1</text><!--MD5=[9835af9204c9210f827ba24cc91945f0]
reverse link CardSelectionRequest to CardRequest--><path codeLine="272" d="M2037.69,2155.6975 C2028.6225,2293.835 2016.635,2476.49 2009.2525,2588.9925 " fill="none" id="CardSelectionRequest-backto-CardRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2039.8675,2122.5,2028.9065,2136.8128,2037.9026,2152.4356,2048.8636,2138.1228,2039.8675,2122.5" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="1950.8162" y="2562.1045">0..1</text><!--MD5=[d401507d432a199d6c8d10fa177dfeb2]
reverse link CardRequest to ApduRequest--><path codeLine="274" d="M1940.14,2829.2575 C1909.4625,2894.38 1871.315,2975.365 1834.8425,3052.795 " fill="none" id="CardRequest-backto-ApduRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1954.1175,2799.585,1938.6785,2808.893,1941.3325,2826.7243,1956.7714,2817.4163,1954.1175,2799.585" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="1781.6869" y="3025.9425">1..N</text><!--MD5=[3774cd7428d282f293487fb5ad02157e]
reverse link DefaultSelectionsResponse to CardSelectionResponse--><path codeLine="276" d="M537.935,838.55 C563.51,916.65 594.055,1009.925 619.325,1087.125 " fill="none" id="DefaultSelectionsResponse-backto-CardSelectionResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="527.675,807.2,522.8362,824.5662,537.0054,835.7122,541.8443,818.3459,527.675,807.2" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="550.5012" y="1061.4996">1..N</text><!--MD5=[77f859707804abe419614d0e91d95dfe]
reverse link CardSelectionResponse to CardResponse--><path codeLine="278" d="M718.1625,1433.345 C748.9975,1552.7275 788.4425,1705.44 817.0525,1816.2075 " fill="none" id="CardSelectionResponse-backto-CardResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="709.915,1401.41,703.983,1418.4339,717.4158,1430.4572,723.3478,1413.4333,709.915,1401.41" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="793.8612" y="1789.2987">1</text><!--MD5=[4905b2efbeb6b377be21c40fb1d79f57]
reverse link CardSelectionResponse to SelectionStatus--><path codeLine="279" d="M535.9825,1428.61 C523.39,1447.585 511.1725,1466.8125 500,1485.625 C445.3825,1577.585 392.525,1684.2475 351.045,1773.4075 " fill="none" id="CardSelectionResponse-backto-SelectionStatus" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="554.625,1401.07,537.9356,1407.8864,537.8087,1425.9137,554.4981,1419.0973,554.625,1401.07" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="340.6739" y="1746.9779">1</text><!--MD5=[9424ef5399bf3a67a4952b2f5019cc6d]
reverse link CardResponse to ApduResponse--><path codeLine="281" d="M911.45,2145.7575 C948.545,2262.49 996.7275,2414.105 1032.9075,2527.955 " fill="none" id="CardResponse-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="901.545,2114.5875,896.5579,2131.9117,910.6313,2143.1784,915.6185,2125.8542,901.545,2114.5875" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="963.9286" y="2501.3266">1..N</text><!--MD5=[1cd47721a07c040e565e1a09c1eba3b5]
reverse link SelectionStatus to ApduResponse--><path codeLine="283" d="M381.7375,2185.275 C415.505,2238.08 455.5025,2291.8825 500,2335.625 C574.6225,2408.985 667.07,2474.005 756.2675,2527.75 " fill="none" id="SelectionStatus-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="364.145,2156.9625,363.5686,2174.981,379.9794,2182.4433,380.5558,2164.4248,364.145,2156.9625" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="662.3046" y="2501.0992">0..1</text><!--MD5=[24cbd97995d68a7170e91f5c730befab]
reverse link SelectionStatus to AnswerToReset--><path codeLine="284" d="M282.0875,2190.3775 C290.795,2323.055 301.4425,2485.31 308.225,2588.6375 " fill="none" id="SelectionStatus-backto-AnswerToReset" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="279.9175,2157.3375,270.9213,2172.9602,281.8822,2187.2731,290.8784,2171.6504,279.9175,2157.3375" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="247.7624" y="2562.4713">0..1</text><!--MD5=[1cbc4609f789692cb6746e44380bebe2]
reverse link AbstractApduCommandBuilderSpi to CardCommandSpi--><path codeLine="286" d="M3930.1,2921.585 C3868.675,2963.5 3806.525,3008.275 3750,3053.125 C3681.125,3107.7775 3609.3,3175.91 3554.975,3230.0575 " fill="none" id="AbstractApduCommandBuilderSpi-backto-CardCommandSpi" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3957.275,2903.175,3939.2477,2903.3014,3932.4308,2919.9906,3950.4581,2919.8642,3957.275,2903.175" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3551.9432" y="3203.3612">1</text><!--MD5=[dd129be4a9a703ce6469fde63cbee66b]
reverse link AbstractApduCommandBuilderSpi to ApduRequest--><path codeLine="287" d="M3820.725,2899.7325 C3816.3,2900.8975 3811.9,2902.0275 3807.5,2903.125 C3045.8,3093.155 2777.125,2763.33 2047.5,3053.125 C2032.79,3058.9675 2018.2025,3065.67 2003.8225,3073.05 " fill="none" id="AbstractApduCommandBuilderSpi-backto-ApduRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3852.225,2890.9125,3835.0805,2885.3388,3823.3415,2899.0208,3840.486,2904.5945,3852.225,2890.9125" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="2023.5554" y="3050.1772">0..1</text><!--MD5=[4b1725aa4d4efbbcbf95da00402c9647]
reverse link AbstractApduResponseParserSpi to StatusProperties--><path codeLine="289" d="M4416.575,2352.0225 C4493.3,2386.8525 4659.6,2454.505 4827.475,2520.3825 " fill="none" id="AbstractApduResponseParserSpi-backto-StatusProperties" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="4399.7823" cy="2343.9278" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4417.7896" x2="4381.775" y1="2352.6305" y2="2335.225"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4391.0795" x2="4408.485" y1="2361.935" y2="2325.9205"/><!--MD5=[4b1725aa4d4efbbcbf95da00402c9647]
reverse link AbstractApduResponseParserSpi to StatusProperties--><path codeLine="290" d="M4409.9,2301.405 C4430,2313.3025 4450.075,2324.765 4470,2335.625 C4513.725,2359.465 4713.2,2441.2075 4905.55,2520.3825 " fill="none" id="AbstractApduResponseParserSpi-backto-StatusProperties-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4381.475,2284.31,4389.1906,2300.6032,4407.198,2299.7478,4399.4824,2283.4545,4381.475,2284.31" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="4799.3992" y="2492.9483">1..N</text><!--MD5=[815b6535cfa0c425e50c8e68acbb5459]
reverse link AbstractApduResponseParserSpi to AbstractApduCommandBuilderSpi--><path codeLine="291" d="M4113.85,2364.995 C4136.1,2406.2525 4158,2446.8975 4178.4,2484.7575 " fill="none" id="AbstractApduResponseParserSpi-backto-AbstractApduCommandBuilderSpi" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4098.425,2336.36,4096.7386,2354.3087,4112.658,2362.7687,4114.3444,2344.82,4098.425,2336.36" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="4150.5574" y="2458.8339">1</text><!--MD5=[4ab76803893162a2930e65efd2fed50a]
reverse link AbstractApduResponseParserSpi to ApduResponse--><path codeLine="292" d="M3388,2342.685 C2655.775,2609.52 2387.9325,2310.3425 1622.5,2485.625 C1573.5425,2496.835 1523.095,2511.5925 1473.6275,2528.07 " fill="none" id="AbstractApduResponseParserSpi-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3418.7,2331.26,3401.1516,2327.1304,3390.5903,2341.7406,3408.1387,2345.8702,3418.7,2331.26" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1497.6766" y="2501.4542">1</text><!--MD5=[ad182aa62c276437729bb07f4636b6e9]
reverse link KeypleCardCommandExceptionSpi to CardCommandSpi--><path codeLine="294" d="M3423.05,2866.3425 C3433.8,2983.41 3447.7,3134.6775 3456.475,3230.3325 " fill="none" id="KeypleCardCommandExceptionSpi-backto-CardCommandSpi" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3420.05,2833.535,3411.4636,2849.3866,3422.7934,2863.4093,3431.3798,2847.5577,3420.05,2833.535" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3435.8979" y="3203.6852">1</text><!--MD5=[97bd1603d76c8045fe45bc32a47575e7]
reverse link CardCommunicationException to CardSelectionResponse--><path codeLine="296" d="M1191.35,910.9 C1097.175,970.7 998.3,1033.45 912.2775,1088.075 " fill="none" id="CardCommunicationException-backto-CardSelectionResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1219.085,893.3,1201.0617,892.8993,1193.7598,909.3821,1211.7831,909.7828,1219.085,893.3" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="876.8221" y="1061.4529">0..N</text><!--MD5=[ba52be1ac34b0ecf3f60b166d9e6ca29]
reverse link CardCommunicationException to CardResponse--><path codeLine="297" d="M1425.2525,922.725 C1280.31,1187.16 1054.6175,1598.93 935.27,1816.6725 " fill="none" id="CardCommunicationException-backto-CardResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1441.2025,893.625,1425.2268,901.9783,1426.7931,919.9379,1442.7687,911.5846,1441.2025,893.625" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="886.7013" y="1789.8204">0..1</text><!--MD5=[682060752ebf9f3398d4063e7a3beb4d]
@startuml
title
    Keyple 2.0 - keyple-card-api - 2.0 (18/01/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

+class RuntimeException {
}
package "org.eclipse.keyple.card" as api {
    +interface ProxyReader {
        - -
        +List<CardSelectionResponse> transmitCardSelectionRequests (
            \tList<CardSelectionRequest> cardSelectionRequests,
            \tMultiSelectionProcessing multiSelectionProcessing,
            \tChannelControl channelControl)
        ..
        +CardResponse transmitCardRequest (
            \tCardRequest cardRequest,
            \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    +enum MultiSelectionProcessing {
        FIRST_MATCH
        PROCESS_ALL
    }
    +enum ChannelControl {
        KEEP_OPEN
        CLOSE_AFTER
    }
    ' REQUEST
    +class "**final** CardSelectionRequest" as CardSelectionRequest {
        - -
        +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
        +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
            \tCardRequest cardRequest)
        ..
        +<back:cyan>KeypleCardSelector</back> getCardSelector ()
        +CardRequest getCardRequest ()
    }
    +class "**final** CardRequest" as CardRequest {
        - -
        +CardRequest (List<ApduRequest> apduRequests)
        ..
        +List<ApduRequest> getApduRequests ()
    }
    +class "**final** ApduRequest" as ApduRequest {
        - -
        +ApduRequest (byte[] bytes, boolean case4)
        +ApduRequest (byte cla, byte instruction,
            \tbyte p1, byte p2, byte[] dataIn, Byte le)
        ..
        +ApduRequest setSuccessfulStatusCodes (
            \tSet<Integer> successfulStatusCodes)
        +Set<Integer> getSuccessfulStatusCodes ()
        ..
        +ApduRequest setName (String name)
        +String getName ()
        ..
        +byte[] getBytes ()
        ..
        +boolean isCase4 ()
    }
    +class "<<<back:cyan>KeypleDefaultSelectionsRequest</back>>>\n**final** DefaultSelectionsRequest" as DefaultSelectionsRequest {
        - -
        +DefaultSelectionsRequest (
            \tList<CardSelectionRequest> cardSelectionRequests,
            \tMultiSelectionProcessing multiSelectionProcessing,
            \tChannelControl channelControl)
        ..
        +MultiSelectionProcessing getMultiSelectionProcessing ()
        +ChannelControl getChannelControl ()
        +List<CardSelectionRequest> getCardSelectionRequests ()
    }
    ' RESPONSE
    +class "**final** CardSelectionResponse" as CardSelectionResponse {
        - -
        +CardSelectionResponse (
            \tSelectionStatus selectionStatus,
            \tCardResponse cardResponse)
        ..
        +SelectionStatus getSelectionStatus ()
        +CardResponse getCardResponse ()
    }
    +class "**final** CardResponse" as CardResponse {
        - -
        +CardResponse (boolean logicalChannelStatus,
            \tList<ApduResponse> apduResponses)
        ..
        +List<ApduResponse> getApduResponses ()
        ..
        +boolean isLogicalChannelOpen ()
    }
    +class "**final** ApduResponse" as ApduResponse {
        - -
        +ApduResponse (byte[] buffer, Set<Integer> successfulStatusCodes)
        ..
        +boolean isSuccessful ()
        +int getStatusCode ()
        ..
        +byte[] getBytes ()
        +byte[] getDataOut ()
    }
    +class SelectionStatus {
        - -
        +SelectionStatus (
            \tAnswerToReset atr,
            \tApduResponse fci,
            \tboolean isMatching)
        ..
        +AnswerToReset getAtr ()
        +ApduResponse getFci ()
        +boolean hasMatched ()
    }
    +class AnswerToReset {
        - -
        +AnswerToReset (byte[] atrBytes)
        ..
        +byte[] getBytes ()
    }
    +class "<<<back:cyan>KeypleDefaultSelectionsResponse</back>>>\n**final** DefaultSelectionsResponse" as DefaultSelectionsResponse {
        - -
        +DefaultSelectionsResponse (
            \tList<CardSelectionResponse> cardSelectionResponses)
        ..
        +List<CardSelectionResponse> getCardSelectionResponses ()
    }
    ' SPI
    package spi {
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
        ' COMMAND
        +interface CardCommandSpi {
            +String getName ()
            +byte getInstructionByte ()
        }
        +abstract class AbstractApduCommandBuilderSpi {
            #**final** CardCommandSpi commandRef
            #ApduRequest request
            - -
            #AbstractApduCommandBuilderSpi (CardCommandSpi commandRef,
                \tApduRequest request)
            ..
            +**final** void addSubName (String subName)
            +**final** String getName ()
            +**final** ApduRequest getApduRequest ()
            +CardCommandSpi getCommandRef ()
        }
        +abstract class AbstractIso7816CommandBuilderSpi extends AbstractApduCommandBuilderSpi {
            - -
            #AbstractIso7816CommandBuilderSpi (CardCommandSpi commandReference,
                \tApduRequest request)
            ..
            #ApduRequest setApduRequest (byte cla, CardCommandSpi command,
                \tbyte p1, byte p2, byte[] dataIn, Byte le)
        }
        +abstract class AbstractApduResponseParserSpi {
            #{static} **final** Map<Integer, StatusProperties> STATUS_TABLE
            #**final** ApduResponse response
            #**final** AbstractApduCommandBuilderSpi builder
            - -
            #AbstractApduResponseParserSpi (ApduResponse response,
                \tAbstractApduCommandBuilder builder)
            ..
            #Map<Integer, StatusProperties> getStatusTable ()
            ..
            #KeypleCardCommandExceptionSpi buildCommandException(
                \tClass<? extends KeypleCardCommandExceptionSpi> exceptionClass,
                \tString message, CardCommandSpi commandRef, Integer statusCode)
            ..
            #CardCommandSpi getCommandRef ()
            ..
            +**final** ApduResponse getApduResponse ()
            +**final** String getStatusInformation ()
            +AbstractApduCommandBuilderSpi getBuilder ()
            ..
            +boolean isSuccessful ()
            +void checkStatus ()
        }
        #class StatusProperties <<static>> {
            - -
            +StatusProperties (String information)
            +StatusProperties (String information,
                \tClass<? extends KeypleCardCommandExceptionSpi> exceptionClass)
            ..
            +String getInformation ()
            +boolean isSuccessful ()
            +Class<? extends KeypleCardCommandExceptionSpi> getExceptionClass ()
        }
        +abstract class KeypleCardCommandExceptionSpi {
            - -
            #KeypleCardCommandExceptionSpi (String message,
                \tCardCommandSpi command, Integer statusCode)
            ..
            +CardCommandSpi getCommand ()
            +Integer getStatusCode ()
        }
    }
    +class KeypleCardCommandUnknownStatusException extends KeypleCardCommandExceptionSpi {
        +KeypleCardCommandUnknownStatusException (
            \tString message, CardCommand command, Integer statusCode)
    }
    +class CardCommunicationException extends RuntimeException {
        - -
        +CardCommunicationException (
            \tString message)
        +CardCommunicationException (
            \tString message, Throwable cause)
        ..
        +void setCardSelectionResponses (List<CardSelectionResponse> cardSelectionResponses)
        +List<CardSelectionResponse> getCardSelectionResponses ()
        ..
        +void setCardResponse (CardResponse cardResponse)
        +CardResponse getCardResponse ()
    }
}

' Associations

DefaultSelectionsRequest *- - "1..N" CardSelectionRequest #C_LINK
DefaultSelectionsRequest *- - "1" MultiSelectionProcessing #C_LINK
DefaultSelectionsRequest *- - "1" ChannelControl #C_LINK

CardSelectionRequest *- - "0..1" CardRequest #C_LINK

CardRequest *- - "1..N" ApduRequest #C_LINK

DefaultSelectionsResponse *- - "1..N" CardSelectionResponse #C_LINK

CardSelectionResponse *- - "1" CardResponse #C_LINK
CardSelectionResponse *- - "1" SelectionStatus #C_LINK

CardResponse *- - "1..N" ApduResponse #C_LINK

SelectionStatus *- - "0..1" ApduResponse  #C_LINK
SelectionStatus *- - "0..1" AnswerToReset  #C_LINK

AbstractApduCommandBuilderSpi *- - "1" CardCommandSpi  #C_LINK
AbstractApduCommandBuilderSpi *- - "0..1" ApduRequest  #C_LINK

AbstractApduResponseParserSpi +- - StatusProperties
AbstractApduResponseParserSpi *- - "1..N" StatusProperties #C_LINK
AbstractApduResponseParserSpi *- - "1" AbstractApduCommandBuilderSpi #C_LINK
AbstractApduResponseParserSpi *- - "1" ApduResponse #C_LINK

KeypleCardCommandExceptionSpi *- - "1" CardCommandSpi #C_LINK

CardCommunicationException *- - "0..N" CardSelectionResponse #C_LINK
CardCommunicationException *- - "0..1" CardResponse #C_LINK


' == LAYOUT ==

'serverApi -[hidden]- LocalServiceClient

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}

abstract class CardCommandSpi <<grey>>
abstract class KeypleCardCommandExceptionSpi <<grey>>
class KeypleCardCommandUnknownStatusException <<grey>>
abstract class AbstractApduResponseParserSpi <<grey>>
abstract class AbstractApduCommandBuilderSpi <<grey>>
abstract class AbstractIso7816CommandBuilderSpi <<grey>>
class StatusProperties <<grey>>

@enduml

@startuml
title
    Keyple 2.0 - keyple-card-api - 2.0 (18/01/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

+class RuntimeException {
}
package "org.eclipse.keyple.card" as api {
    +interface ProxyReader {
        - -
        +List<CardSelectionResponse> transmitCardSelectionRequests (
            \tList<CardSelectionRequest> cardSelectionRequests,
            \tMultiSelectionProcessing multiSelectionProcessing,
            \tChannelControl channelControl)
        ..
        +CardResponse transmitCardRequest (
            \tCardRequest cardRequest,
            \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    +enum MultiSelectionProcessing {
        FIRST_MATCH
        PROCESS_ALL
    }
    +enum ChannelControl {
        KEEP_OPEN
        CLOSE_AFTER
    }
    +class "**final** CardSelectionRequest" as CardSelectionRequest {
        - -
        +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
        +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
            \tCardRequest cardRequest)
        ..
        +<back:cyan>KeypleCardSelector</back> getCardSelector ()
        +CardRequest getCardRequest ()
    }
    +class "**final** CardRequest" as CardRequest {
        - -
        +CardRequest (List<ApduRequest> apduRequests)
        ..
        +List<ApduRequest> getApduRequests ()
    }
    +class "**final** ApduRequest" as ApduRequest {
        - -
        +ApduRequest (byte[] bytes, boolean case4)
        +ApduRequest (byte cla, byte instruction,
            \tbyte p1, byte p2, byte[] dataIn, Byte le)
        ..
        +ApduRequest setSuccessfulStatusCodes (
            \tSet<Integer> successfulStatusCodes)
        +Set<Integer> getSuccessfulStatusCodes ()
        ..
        +ApduRequest setName (String name)
        +String getName ()
        ..
        +byte[] getBytes ()
        ..
        +boolean isCase4 ()
    }
    +class "<<<back:cyan>KeypleDefaultSelectionsRequest</back>>>\n**final** DefaultSelectionsRequest" as DefaultSelectionsRequest {
        - -
        +DefaultSelectionsRequest (
            \tList<CardSelectionRequest> cardSelectionRequests,
            \tMultiSelectionProcessing multiSelectionProcessing,
            \tChannelControl channelControl)
        ..
        +MultiSelectionProcessing getMultiSelectionProcessing ()
        +ChannelControl getChannelControl ()
        +List<CardSelectionRequest> getCardSelectionRequests ()
    }
    +class "**final** CardSelectionResponse" as CardSelectionResponse {
        - -
        +CardSelectionResponse (
            \tSelectionStatus selectionStatus,
            \tCardResponse cardResponse)
        ..
        +SelectionStatus getSelectionStatus ()
        +CardResponse getCardResponse ()
    }
    +class "**final** CardResponse" as CardResponse {
        - -
        +CardResponse (boolean logicalChannelStatus,
            \tList<ApduResponse> apduResponses)
        ..
        +List<ApduResponse> getApduResponses ()
        ..
        +boolean isLogicalChannelOpen ()
    }
    +class "**final** ApduResponse" as ApduResponse {
        - -
        +ApduResponse (byte[] buffer, Set<Integer> successfulStatusCodes)
        ..
        +boolean isSuccessful ()
        +int getStatusCode ()
        ..
        +byte[] getBytes ()
        +byte[] getDataOut ()
    }
    +class SelectionStatus {
        - -
        +SelectionStatus (
            \tAnswerToReset atr,
            \tApduResponse fci,
            \tboolean isMatching)
        ..
        +AnswerToReset getAtr ()
        +ApduResponse getFci ()
        +boolean hasMatched ()
    }
    +class AnswerToReset {
        - -
        +AnswerToReset (byte[] atrBytes)
        ..
        +byte[] getBytes ()
    }
    +class "<<<back:cyan>KeypleDefaultSelectionsResponse</back>>>\n**final** DefaultSelectionsResponse" as DefaultSelectionsResponse {
        - -
        +DefaultSelectionsResponse (
            \tList<CardSelectionResponse> cardSelectionResponses)
        ..
        +List<CardSelectionResponse> getCardSelectionResponses ()
    }
    package spi {
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
        +interface CardCommandSpi {
            +String getName ()
            +byte getInstructionByte ()
        }
        +abstract class AbstractApduCommandBuilderSpi {
            #**final** CardCommandSpi commandRef
            #ApduRequest request
            - -
            #AbstractApduCommandBuilderSpi (CardCommandSpi commandRef,
                \tApduRequest request)
            ..
            +**final** void addSubName (String subName)
            +**final** String getName ()
            +**final** ApduRequest getApduRequest ()
            +CardCommandSpi getCommandRef ()
        }
        +abstract class AbstractIso7816CommandBuilderSpi extends AbstractApduCommandBuilderSpi {
            - -
            #AbstractIso7816CommandBuilderSpi (CardCommandSpi commandReference,
                \tApduRequest request)
            ..
            #ApduRequest setApduRequest (byte cla, CardCommandSpi command,
                \tbyte p1, byte p2, byte[] dataIn, Byte le)
        }
        +abstract class AbstractApduResponseParserSpi {
            #{static} **final** Map<Integer, StatusProperties> STATUS_TABLE
            #**final** ApduResponse response
            #**final** AbstractApduCommandBuilderSpi builder
            - -
            #AbstractApduResponseParserSpi (ApduResponse response,
                \tAbstractApduCommandBuilder builder)
            ..
            #Map<Integer, StatusProperties> getStatusTable ()
            ..
            #KeypleCardCommandExceptionSpi buildCommandException(
                \tClass<? extends KeypleCardCommandExceptionSpi> exceptionClass,
                \tString message, CardCommandSpi commandRef, Integer statusCode)
            ..
            #CardCommandSpi getCommandRef ()
            ..
            +**final** ApduResponse getApduResponse ()
            +**final** String getStatusInformation ()
            +AbstractApduCommandBuilderSpi getBuilder ()
            ..
            +boolean isSuccessful ()
            +void checkStatus ()
        }
        #class StatusProperties <<static>> {
            - -
            +StatusProperties (String information)
            +StatusProperties (String information,
                \tClass<? extends KeypleCardCommandExceptionSpi> exceptionClass)
            ..
            +String getInformation ()
            +boolean isSuccessful ()
            +Class<? extends KeypleCardCommandExceptionSpi> getExceptionClass ()
        }
        +abstract class KeypleCardCommandExceptionSpi {
            - -
            #KeypleCardCommandExceptionSpi (String message,
                \tCardCommandSpi command, Integer statusCode)
            ..
            +CardCommandSpi getCommand ()
            +Integer getStatusCode ()
        }
    }
    +class KeypleCardCommandUnknownStatusException extends KeypleCardCommandExceptionSpi {
        +KeypleCardCommandUnknownStatusException (
            \tString message, CardCommand command, Integer statusCode)
    }
    +class CardCommunicationException extends RuntimeException {
        - -
        +CardCommunicationException (
            \tString message)
        +CardCommunicationException (
            \tString message, Throwable cause)
        ..
        +void setCardSelectionResponses (List<CardSelectionResponse> cardSelectionResponses)
        +List<CardSelectionResponse> getCardSelectionResponses ()
        ..
        +void setCardResponse (CardResponse cardResponse)
        +CardResponse getCardResponse ()
    }
}


DefaultSelectionsRequest *- - "1..N" CardSelectionRequest #3498DB
DefaultSelectionsRequest *- - "1" MultiSelectionProcessing #3498DB
DefaultSelectionsRequest *- - "1" ChannelControl #3498DB

CardSelectionRequest *- - "0..1" CardRequest #3498DB

CardRequest *- - "1..N" ApduRequest #3498DB

DefaultSelectionsResponse *- - "1..N" CardSelectionResponse #3498DB

CardSelectionResponse *- - "1" CardResponse #3498DB
CardSelectionResponse *- - "1" SelectionStatus #3498DB

CardResponse *- - "1..N" ApduResponse #3498DB

SelectionStatus *- - "0..1" ApduResponse  #3498DB
SelectionStatus *- - "0..1" AnswerToReset  #3498DB

AbstractApduCommandBuilderSpi *- - "1" CardCommandSpi  #3498DB
AbstractApduCommandBuilderSpi *- - "0..1" ApduRequest  #3498DB

AbstractApduResponseParserSpi +- - StatusProperties
AbstractApduResponseParserSpi *- - "1..N" StatusProperties #3498DB
AbstractApduResponseParserSpi *- - "1" AbstractApduCommandBuilderSpi #3498DB
AbstractApduResponseParserSpi *- - "1" ApduResponse #3498DB

KeypleCardCommandExceptionSpi *- - "1" CardCommandSpi #3498DB

CardCommunicationException *- - "0..N" CardSelectionResponse #3498DB
CardCommunicationException *- - "0..1" CardResponse #3498DB





package api #F8F9F9 {}
package spi #F2F3F4 {}

abstract class CardCommandSpi <<grey>>
abstract class KeypleCardCommandExceptionSpi <<grey>>
class KeypleCardCommandUnknownStatusException <<grey>>
abstract class AbstractApduResponseParserSpi <<grey>>
abstract class AbstractApduCommandBuilderSpi <<grey>>
abstract class AbstractIso7816CommandBuilderSpi <<grey>>
class StatusProperties <<grey>>

@enduml

PlantUML version 1.2021.00(Sun Jan 10 11:25:05 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>