<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3670px" preserveAspectRatio="none" style="width:4022px;height:3670px;" version="1.1" viewBox="0 0 4022 3670" width="4022.5px" zoomAndPan="magnify"><defs><filter height="1" id="b17gl6b25fgsxk0" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1027.5" x="1481.25" y="46.7139">Keyple 2.0 - keyple-java-card-api - 2.0 (12/03/2021)</text><rect fill="#DDDDDD" height="69.0234" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:2.5;" width="497.5" x="1745" y="76.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="140" x="1760" y="125.4346">Legend :</text><text fill="#000000" filter="url(#b17gl6b25fgsxk0)" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="70" x="1910" y="125.4346">from</text><text fill="#000000" filter="url(#b17gl6b25fgsxk0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="237.5" x="1990" y="125.4346">Commons API</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="40,183.125,555,183.125,572.5,242.1484,3980,242.1484,3980,3653.125,40,3653.125,40,183.125" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="572.5" y1="242.1484" y2="242.1484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="500" x="50" y="224.458">org.eclipse.keyple.core.card</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="1737.5,313.125,1805,313.125,1822.5,372.1484,3765,372.1484,3765,708.125,1737.5,708.125,1737.5,313.125" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="1737.5" x2="1822.5" y1="372.1484" y2="372.1484"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="1747.5" y="354.458">spi</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="52" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="427.5" x="3261.25" y="1046.875"/><ellipse cx="3298.75" cy="1086.875" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3303.75,1078.125 Q3304.2578,1076.875 3304.8438,1076.25 Q3305.4297,1075.625 3306.0938,1075.625 Q3307.2656,1075.625 3308.0078,1076.3281 Q3308.75,1077.0313 3308.75,1078.6719 L3308.75,1082.5781 Q3308.75,1084.2188 3308.0469,1084.9219 Q3307.3438,1085.625 3306.25,1085.625 Q3305.2734,1085.625 3304.6484,1085.1953 Q3304.0234,1084.7656 3303.75,1083.6328 Q3303.6328,1082.8516 3303.2031,1082.4219 Q3302.4219,1081.6016 3301.0156,1081.1328 Q3299.6094,1080.625 3298.2031,1080.625 Q3296.4453,1080.625 3294.9609,1081.3281 Q3293.5156,1082.0313 3292.3828,1083.5938 Q3291.25,1085.1563 3291.25,1087.3047 L3291.25,1089.6094 Q3291.25,1092.1875 3293.3594,1093.9063 Q3295.4688,1095.625 3299.2188,1095.625 Q3301.4453,1095.625 3303.0078,1095.1172 Q3303.9063,1094.8438 3304.9219,1093.9453 Q3305.5859,1093.4375 3305.9375,1093.2813 Q3306.2891,1093.125 3306.7188,1093.125 Q3307.5391,1093.125 3308.125,1093.7891 Q3308.75,1094.4141 3308.75,1095.3125 Q3308.75,1096.1719 3307.8906,1097.1875 Q3306.6406,1098.6719 3304.6484,1099.4922 Q3302.0313,1100.625 3298.8281,1100.625 Q3295.0781,1100.625 3292.0703,1099.1406 Q3289.6484,1097.9688 3287.9297,1095.4297 Q3286.25,1092.8906 3286.25,1089.8828 L3286.25,1087.1484 Q3286.25,1084.0234 3287.7344,1081.2891 Q3289.2578,1078.5547 3291.875,1077.1094 Q3294.5313,1075.625 3297.5,1075.625 Q3299.2969,1075.625 3300.8594,1076.25 Q3302.4219,1076.875 3303.75,1078.125 Z " fill="#000000"/><ellipse cx="3346.25" cy="1085.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3361.25" y="1099.1504">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="3428.75" y="1099.1504">CardApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3263.75" x2="3686.25" y1="1126.875" y2="1126.875"/><ellipse cx="3288.75" cy="1154.375" fill="none" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="3311.25" y="1165.4224">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="3376.25" y="1165.4224">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3263.75" x2="3686.25" y1="1181.4648" y2="1181.4648"/><!--MD5=[96a4004012a1c08588eb87adf87ec875]
class ProxyReader--><rect codeLine="55" fill="#FEFECE" height="278.3594" id="ProxyReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="522.5" x="1936.25" y="2055.625"/><ellipse cx="2083.125" cy="2095.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2085.625,2088.125 L2085.625,2103.125 L2090.625,2103.125 L2091.8359,2103.125 L2093.125,2104.6875 L2093.125,2105.625 L2093.125,2106.5625 L2091.8359,2108.125 L2090.625,2108.125 L2075.625,2108.125 L2074.4141,2108.125 L2073.125,2106.5625 L2073.125,2105.625 L2073.125,2104.6875 L2074.4141,2103.125 L2075.625,2103.125 L2080.625,2103.125 L2080.625,2088.125 L2075.625,2088.125 L2074.4141,2088.125 L2073.125,2086.5625 L2073.125,2085.625 L2073.125,2084.6875 L2074.4141,2083.125 L2075.625,2083.125 L2090.625,2083.125 L2091.8359,2083.125 L2093.125,2084.6875 L2093.125,2085.625 L2093.125,2086.5625 L2091.8359,2088.125 L2090.625,2088.125 L2085.625,2088.125 Z " fill="#000000"/><ellipse cx="2146.875" cy="2094.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="2161.875" y="2107.9004">ProxyReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1938.75" x2="2456.25" y1="2135.625" y2="2135.625"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1938.75" x2="2456.25" y1="2155.625" y2="2155.625"/><ellipse cx="1963.75" cy="2183.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="457.5" x="1986.25" y="2194.1724">CardResponse transmitCardRequest (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="2046.25" y="2228.7622">CardRequest cardRequest,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="2046.25" y="2263.3521">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1938.75" x2="2456.25" y1="2279.3945" y2="2279.3945"/><ellipse cx="1963.75" cy="2306.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="1986.25" y="2317.9419">void releaseChannel ()</text><!--MD5=[74186dfc070fdcd425f3f969c4ef0c47]
class AbstractCommunicationException--><rect codeLine="265" fill="#F4ECF7" height="402.5977" id="AbstractCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="575" x="1980" y="2654.375"/><ellipse cx="2017.5" cy="2704.6094" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M2021.875,2708.3594 L2013.6328,2708.3594 L2012.5391,2710.8594 L2012.5391,2710.8594 L2013.7109,2710.8594 L2015,2712.4219 L2015,2713.3594 L2015,2714.2969 L2013.7109,2715.8594 L2012.5391,2715.8594 L2007.8125,2715.8594 L2006.2891,2715.8594 L2005,2714.2969 L2005,2713.3594 L2005,2712.4219 L2006.2891,2710.8594 L2007.8125,2710.8594 L2013.5938,2695.8594 L2011.4063,2695.8594 L2008.7891,2695.8594 L2007.5,2694.2969 L2007.5,2693.3594 L2007.5,2692.4219 L2008.7891,2690.8594 L2011.4063,2690.8594 L2020.5859,2690.8594 L2027.3047,2710.8594 L2028.7109,2710.8594 L2028.7109,2710.8594 L2030,2712.4219 L2030,2713.3594 L2030,2714.2969 L2028.7109,2715.8594 L2027.3047,2715.8594 L2022.5781,2715.8594 L2021.2891,2715.8594 L2020,2714.2969 L2020,2713.3594 L2020,2712.4219 L2021.2891,2710.8594 L2022.5781,2710.8594 L2022.5781,2710.8594 L2021.875,2708.3594 Z M2020.5078,2703.3594 L2017.5,2694.4141 L2014.9219,2703.3594 L2020.5078,2703.3594 Z " fill="#000000"/><ellipse cx="2065" cy="2703.3594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="205" x="2211.25" y="2698.0176">&lt;&lt;Exception&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="467.5" x="2080" y="2735.752">AbstractCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1982.5" x2="2552.5" y1="2754.8438" y2="2754.8438"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="1982.5" x2="2552.5" y1="2774.8438" y2="2774.8438"/><polygon fill="#FFFF44" points="2007.5,2789.8438,2017.5,2799.8438,2007.5,2809.8438,1997.5,2799.8438" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="2030" y="2813.3911">AbstractCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2090" y="2847.981">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="2090" y="2882.5708">String message)</text><polygon fill="#FFFF44" points="2007.5,2893.6133,2017.5,2903.6133,2007.5,2913.6133,1997.5,2903.6133" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="2030" y="2917.1606">AbstractCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2090" y="2951.7505">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="2090" y="2986.3403">String message, Throwable cause)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1982.5" x2="2552.5" y1="3002.3828" y2="3002.3828"/><ellipse cx="2007.5" cy="3029.8828" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="2030" y="3040.9302">CardResponse getCardResponse ()</text><!--MD5=[0dee1c75f9ece47f254a0a355731a0bb]
class ReaderCommunicationException--><rect codeLine="266" fill="#F4ECF7" height="327.5391" id="ReaderCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="632.5" x="1771.25" y="3285.625"/><ellipse cx="1808.75" cy="3325.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1813.75,3316.875 Q1814.2578,3315.625 1814.8438,3315 Q1815.4297,3314.375 1816.0938,3314.375 Q1817.2656,3314.375 1818.0078,3315.0781 Q1818.75,3315.7813 1818.75,3317.4219 L1818.75,3321.3281 Q1818.75,3322.9688 1818.0469,3323.6719 Q1817.3438,3324.375 1816.25,3324.375 Q1815.2734,3324.375 1814.6484,3323.9453 Q1814.0234,3323.5156 1813.75,3322.3828 Q1813.6328,3321.6016 1813.2031,3321.1719 Q1812.4219,3320.3516 1811.0156,3319.8828 Q1809.6094,3319.375 1808.2031,3319.375 Q1806.4453,3319.375 1804.9609,3320.0781 Q1803.5156,3320.7813 1802.3828,3322.3438 Q1801.25,3323.9063 1801.25,3326.0547 L1801.25,3328.3594 Q1801.25,3330.9375 1803.3594,3332.6563 Q1805.4688,3334.375 1809.2188,3334.375 Q1811.4453,3334.375 1813.0078,3333.8672 Q1813.9063,3333.5938 1814.9219,3332.6953 Q1815.5859,3332.1875 1815.9375,3332.0313 Q1816.2891,3331.875 1816.7188,3331.875 Q1817.5391,3331.875 1818.125,3332.5391 Q1818.75,3333.1641 1818.75,3334.0625 Q1818.75,3334.9219 1817.8906,3335.9375 Q1816.6406,3337.4219 1814.6484,3338.2422 Q1812.0313,3339.375 1808.8281,3339.375 Q1805.0781,3339.375 1802.0703,3337.8906 Q1799.6484,3336.7188 1797.9297,3334.1797 Q1796.25,3331.6406 1796.25,3328.6328 L1796.25,3325.8984 Q1796.25,3322.7734 1797.7344,3320.0391 Q1799.2578,3317.3047 1801.875,3315.8594 Q1804.5313,3314.375 1807.5,3314.375 Q1809.2969,3314.375 1810.8594,3315 Q1812.4219,3315.625 1813.75,3316.875 Z " fill="#000000"/><ellipse cx="1856.25" cy="3324.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1871.25" y="3337.9004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="457.5" x="1938.75" y="3337.9004">ReaderCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1773.75" x2="2401.25" y1="3365.625" y2="3365.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="1773.75" x2="2401.25" y1="3385.625" y2="3385.625"/><ellipse cx="1798.75" cy="3413.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="1821.25" y="3424.1724">ReaderCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="1881.25" y="3458.7622">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="1881.25" y="3493.3521">String message)</text><ellipse cx="1798.75" cy="3516.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="1821.25" y="3527.9419">ReaderCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="1881.25" y="3562.5317">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1881.25" y="3597.1216">String message, Throwable cause)</text><!--MD5=[32fc7b65f340d78e9416d68a58b55b2e]
class CardCommunicationException--><rect codeLine="267" fill="#F4ECF7" height="327.5391" id="CardCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="597.5" x="2491.25" y="3285.625"/><ellipse cx="2528.75" cy="3325.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2533.75,3316.875 Q2534.2578,3315.625 2534.8438,3315 Q2535.4297,3314.375 2536.0938,3314.375 Q2537.2656,3314.375 2538.0078,3315.0781 Q2538.75,3315.7813 2538.75,3317.4219 L2538.75,3321.3281 Q2538.75,3322.9688 2538.0469,3323.6719 Q2537.3438,3324.375 2536.25,3324.375 Q2535.2734,3324.375 2534.6484,3323.9453 Q2534.0234,3323.5156 2533.75,3322.3828 Q2533.6328,3321.6016 2533.2031,3321.1719 Q2532.4219,3320.3516 2531.0156,3319.8828 Q2529.6094,3319.375 2528.2031,3319.375 Q2526.4453,3319.375 2524.9609,3320.0781 Q2523.5156,3320.7813 2522.3828,3322.3438 Q2521.25,3323.9063 2521.25,3326.0547 L2521.25,3328.3594 Q2521.25,3330.9375 2523.3594,3332.6563 Q2525.4688,3334.375 2529.2188,3334.375 Q2531.4453,3334.375 2533.0078,3333.8672 Q2533.9063,3333.5938 2534.9219,3332.6953 Q2535.5859,3332.1875 2535.9375,3332.0313 Q2536.2891,3331.875 2536.7188,3331.875 Q2537.5391,3331.875 2538.125,3332.5391 Q2538.75,3333.1641 2538.75,3334.0625 Q2538.75,3334.9219 2537.8906,3335.9375 Q2536.6406,3337.4219 2534.6484,3338.2422 Q2532.0313,3339.375 2528.8281,3339.375 Q2525.0781,3339.375 2522.0703,3337.8906 Q2519.6484,3336.7188 2517.9297,3334.1797 Q2516.25,3331.6406 2516.25,3328.6328 L2516.25,3325.8984 Q2516.25,3322.7734 2517.7344,3320.0391 Q2519.2578,3317.3047 2521.875,3315.8594 Q2524.5313,3314.375 2527.5,3314.375 Q2529.2969,3314.375 2530.8594,3315 Q2532.4219,3315.625 2533.75,3316.875 Z " fill="#000000"/><ellipse cx="2576.25" cy="3324.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2591.25" y="3337.9004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="422.5" x="2658.75" y="3337.9004">CardCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2493.75" x2="3086.25" y1="3365.625" y2="3365.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2493.75" x2="3086.25" y1="3385.625" y2="3385.625"/><ellipse cx="2518.75" cy="3413.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2541.25" y="3424.1724">CardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2601.25" y="3458.7622">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="2601.25" y="3493.3521">String message)</text><ellipse cx="2518.75" cy="3516.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2541.25" y="3527.9419">CardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2601.25" y="3562.5317">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="2601.25" y="3597.1216">String message, Throwable cause)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect codeLine="255" fill="#E9F7EF" height="189.1797" id="MultiSelectionProcessing" style="stroke:#27AE60;stroke-width:3.75;" width="450" x="1405" y="1544.375"/><ellipse cx="1442.5" cy="1584.375" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1438.75,1586.875 L1438.75,1591.875 L1448.75,1591.875 L1448.75,1589.375 L1448.75,1588.1641 L1450.3125,1586.875 L1451.25,1586.875 L1452.1875,1586.875 L1453.75,1588.1641 L1453.75,1589.375 L1453.75,1596.875 L1433.75,1596.875 L1432.5391,1596.875 L1431.25,1595.3125 L1431.25,1594.375 L1431.25,1593.4375 L1432.5391,1591.875 L1433.75,1591.875 L1433.75,1591.875 L1433.75,1576.875 L1433.75,1576.875 L1432.5391,1576.875 L1431.25,1575.3125 L1431.25,1574.375 L1431.25,1573.4375 L1432.5391,1571.875 L1433.75,1571.875 L1453.75,1571.875 L1453.75,1579.375 L1453.75,1580.5859 L1452.1875,1581.875 L1451.25,1581.875 L1450.3125,1581.875 L1448.75,1580.5859 L1448.75,1579.375 L1448.75,1576.875 L1438.75,1576.875 L1438.75,1581.875 L1441.25,1581.875 L1441.25,1580.6641 L1441.25,1580.6641 L1442.8125,1579.375 L1443.75,1579.375 L1444.6875,1579.375 L1446.25,1580.6641 L1446.25,1581.875 L1446.25,1586.875 L1446.25,1588.0859 L1444.6875,1589.375 L1444.6875,1589.375 L1443.75,1589.375 L1442.8125,1589.375 L1441.25,1588.0859 L1441.25,1588.0859 L1441.25,1586.875 L1438.75,1586.875 Z " fill="#000000"/><ellipse cx="1490" cy="1583.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="342.5" x="1505" y="1596.6504">MultiSelectionProcessing</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1407.5" x2="1852.5" y1="1624.375" y2="1624.375"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="175" x="1420" y="1662.9224">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="185" x="1420" y="1697.5122">PROCESS_ALL</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1407.5" x2="1852.5" y1="1713.5547" y2="1713.5547"/><!--MD5=[ee0d3336d8d2c9dd88a5ad188defe636]
class ChannelControl--><rect codeLine="256" fill="#E9F7EF" height="189.1797" id="ChannelControl" style="stroke:#27AE60;stroke-width:3.75;" width="325" x="992.5" y="1544.375"/><ellipse cx="1030" cy="1584.375" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1026.25,1586.875 L1026.25,1591.875 L1036.25,1591.875 L1036.25,1589.375 L1036.25,1588.1641 L1037.8125,1586.875 L1038.75,1586.875 L1039.6875,1586.875 L1041.25,1588.1641 L1041.25,1589.375 L1041.25,1596.875 L1021.25,1596.875 L1020.0391,1596.875 L1018.75,1595.3125 L1018.75,1594.375 L1018.75,1593.4375 L1020.0391,1591.875 L1021.25,1591.875 L1021.25,1591.875 L1021.25,1576.875 L1021.25,1576.875 L1020.0391,1576.875 L1018.75,1575.3125 L1018.75,1574.375 L1018.75,1573.4375 L1020.0391,1571.875 L1021.25,1571.875 L1041.25,1571.875 L1041.25,1579.375 L1041.25,1580.5859 L1039.6875,1581.875 L1038.75,1581.875 L1037.8125,1581.875 L1036.25,1580.5859 L1036.25,1579.375 L1036.25,1576.875 L1026.25,1576.875 L1026.25,1581.875 L1028.75,1581.875 L1028.75,1580.6641 L1028.75,1580.6641 L1030.3125,1579.375 L1031.25,1579.375 L1032.1875,1579.375 L1033.75,1580.6641 L1033.75,1581.875 L1033.75,1586.875 L1033.75,1588.0859 L1032.1875,1589.375 L1032.1875,1589.375 L1031.25,1589.375 L1030.3125,1589.375 L1028.75,1588.0859 L1028.75,1588.0859 L1028.75,1586.875 L1026.25,1586.875 Z " fill="#000000"/><ellipse cx="1077.5" cy="1583.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="217.5" x="1092.5" y="1596.6504">ChannelControl</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="995" x2="1315" y1="1624.375" y2="1624.375"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="145" x="1007.5" y="1662.9224">KEEP_OPEN</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="1007.5" y="1697.5122">CLOSE_AFTER</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="995" x2="1315" y1="1713.5547" y2="1713.5547"/><!--MD5=[d7ab57eb2840e7832714f3f9db0d2391]
class CardSelectionRequest--><rect codeLine="254" fill="#E9F7EF" height="312.9492" id="CardSelectionRequest" style="stroke:#27AE60;stroke-width:3.75;" width="762.5" x="141.25" y="1483.125"/><ellipse cx="309.375" cy="1523.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M314.375,1514.375 Q314.8828,1513.125 315.4688,1512.5 Q316.0547,1511.875 316.7188,1511.875 Q317.8906,1511.875 318.6328,1512.5781 Q319.375,1513.2813 319.375,1514.9219 L319.375,1518.8281 Q319.375,1520.4688 318.6719,1521.1719 Q317.9688,1521.875 316.875,1521.875 Q315.8984,1521.875 315.2734,1521.4453 Q314.6484,1521.0156 314.375,1519.8828 Q314.2578,1519.1016 313.8281,1518.6719 Q313.0469,1517.8516 311.6406,1517.3828 Q310.2344,1516.875 308.8281,1516.875 Q307.0703,1516.875 305.5859,1517.5781 Q304.1406,1518.2813 303.0078,1519.8438 Q301.875,1521.4063 301.875,1523.5547 L301.875,1525.8594 Q301.875,1528.4375 303.9844,1530.1563 Q306.0938,1531.875 309.8438,1531.875 Q312.0703,1531.875 313.6328,1531.3672 Q314.5313,1531.0938 315.5469,1530.1953 Q316.2109,1529.6875 316.5625,1529.5313 Q316.9141,1529.375 317.3438,1529.375 Q318.1641,1529.375 318.75,1530.0391 Q319.375,1530.6641 319.375,1531.5625 Q319.375,1532.4219 318.5156,1533.4375 Q317.2656,1534.9219 315.2734,1535.7422 Q312.6563,1536.875 309.4531,1536.875 Q305.7031,1536.875 302.6953,1535.3906 Q300.2734,1534.2188 298.5547,1531.6797 Q296.875,1529.1406 296.875,1526.1328 L296.875,1523.3984 Q296.875,1520.2734 298.3594,1517.5391 Q299.8828,1514.8047 302.5,1513.3594 Q305.1563,1511.875 308.125,1511.875 Q309.9219,1511.875 311.4844,1512.5 Q313.0469,1513.125 314.375,1514.375 Z " fill="#000000"/><ellipse cx="373.125" cy="1521.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="388.125" y="1535.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="310" x="455.625" y="1535.4004">CardSelectionRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="143.75" x2="901.25" y1="1563.125" y2="1563.125"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="143.75" x2="901.25" y1="1583.125" y2="1583.125"/><ellipse cx="168.75" cy="1610.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="191.25" y="1621.6724">CardSelectionRequest (</text><text fill="#000000" filter="url(#b17gl6b25fgsxk0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="476.25" y="1621.6724">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="165" x="723.75" y="1621.6724">cardSelector)</text><ellipse cx="168.75" cy="1645.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="191.25" y="1656.2622">CardSelectionRequest (</text><text fill="#000000" filter="url(#b17gl6b25fgsxk0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="476.25" y="1656.2622">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="162.5" x="723.75" y="1656.2622">cardSelector,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="330" x="251.25" y="1690.8521">CardRequest cardRequest)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="143.75" x2="901.25" y1="1706.8945" y2="1706.8945"/><ellipse cx="168.75" cy="1734.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#b17gl6b25fgsxk0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="191.25" y="1745.4419">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="438.75" y="1745.4419">getCardSelector ()</text><ellipse cx="168.75" cy="1768.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="191.25" y="1780.0317">CardRequest getCardRequest ()</text><!--MD5=[d4546fa1b310652d2e612bec588497f1]
class CardRequest--><rect codeLine="257" fill="#E9F7EF" height="278.3594" id="CardRequest" style="stroke:#27AE60;stroke-width:3.75;" width="667.5" x="863.75" y="2055.625"/><ellipse cx="1048.125" cy="2095.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1053.125,2086.875 Q1053.6328,2085.625 1054.2188,2085 Q1054.8047,2084.375 1055.4688,2084.375 Q1056.6406,2084.375 1057.3828,2085.0781 Q1058.125,2085.7813 1058.125,2087.4219 L1058.125,2091.3281 Q1058.125,2092.9688 1057.4219,2093.6719 Q1056.7188,2094.375 1055.625,2094.375 Q1054.6484,2094.375 1054.0234,2093.9453 Q1053.3984,2093.5156 1053.125,2092.3828 Q1053.0078,2091.6016 1052.5781,2091.1719 Q1051.7969,2090.3516 1050.3906,2089.8828 Q1048.9844,2089.375 1047.5781,2089.375 Q1045.8203,2089.375 1044.3359,2090.0781 Q1042.8906,2090.7813 1041.7578,2092.3438 Q1040.625,2093.9063 1040.625,2096.0547 L1040.625,2098.3594 Q1040.625,2100.9375 1042.7344,2102.6563 Q1044.8438,2104.375 1048.5938,2104.375 Q1050.8203,2104.375 1052.3828,2103.8672 Q1053.2813,2103.5938 1054.2969,2102.6953 Q1054.9609,2102.1875 1055.3125,2102.0313 Q1055.6641,2101.875 1056.0938,2101.875 Q1056.9141,2101.875 1057.5,2102.5391 Q1058.125,2103.1641 1058.125,2104.0625 Q1058.125,2104.9219 1057.2656,2105.9375 Q1056.0156,2107.4219 1054.0234,2108.2422 Q1051.4063,2109.375 1048.2031,2109.375 Q1044.4531,2109.375 1041.4453,2107.8906 Q1039.0234,2106.7188 1037.3047,2104.1797 Q1035.625,2101.6406 1035.625,2098.6328 L1035.625,2095.8984 Q1035.625,2092.7734 1037.1094,2090.0391 Q1038.6328,2087.3047 1041.25,2085.8594 Q1043.9063,2084.375 1046.875,2084.375 Q1048.6719,2084.375 1050.2344,2085 Q1051.7969,2085.625 1053.125,2086.875 Z " fill="#000000"/><ellipse cx="1111.875" cy="2094.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1126.875" y="2107.9004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="182.5" x="1194.375" y="2107.9004">CardRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="866.25" x2="1528.75" y1="2135.625" y2="2135.625"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="866.25" x2="1528.75" y1="2155.625" y2="2155.625"/><ellipse cx="891.25" cy="2183.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="602.5" x="913.75" y="2194.1724">CardRequest (List&lt;ApduRequest&gt; apduRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="973.75" y="2228.7622">boolean isStatusCodesVerificationEnabled)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="866.25" x2="1528.75" y1="2244.8047" y2="2244.8047"/><ellipse cx="891.25" cy="2272.3047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="490" x="913.75" y="2283.3521">List&lt;ApduRequest&gt; getApduRequests ()</text><ellipse cx="891.25" cy="2306.8945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="537.5" x="913.75" y="2317.9419">boolean isStatusCodesVerificationEnabled ()</text><!--MD5=[8d2debdbb32bf9c83697f345c4529e73]
class ApduRequest--><rect codeLine="258" fill="#E9F7EF" height="545.8984" id="ApduRequest" style="stroke:#27AE60;stroke-width:3.75;" width="615" x="890" y="2583.125"/><ellipse cx="1045.625" cy="2623.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1050.625,2614.375 Q1051.1328,2613.125 1051.7188,2612.5 Q1052.3047,2611.875 1052.9688,2611.875 Q1054.1406,2611.875 1054.8828,2612.5781 Q1055.625,2613.2813 1055.625,2614.9219 L1055.625,2618.8281 Q1055.625,2620.4688 1054.9219,2621.1719 Q1054.2188,2621.875 1053.125,2621.875 Q1052.1484,2621.875 1051.5234,2621.4453 Q1050.8984,2621.0156 1050.625,2619.8828 Q1050.5078,2619.1016 1050.0781,2618.6719 Q1049.2969,2617.8516 1047.8906,2617.3828 Q1046.4844,2616.875 1045.0781,2616.875 Q1043.3203,2616.875 1041.8359,2617.5781 Q1040.3906,2618.2813 1039.2578,2619.8438 Q1038.125,2621.4063 1038.125,2623.5547 L1038.125,2625.8594 Q1038.125,2628.4375 1040.2344,2630.1563 Q1042.3438,2631.875 1046.0938,2631.875 Q1048.3203,2631.875 1049.8828,2631.3672 Q1050.7813,2631.0938 1051.7969,2630.1953 Q1052.4609,2629.6875 1052.8125,2629.5313 Q1053.1641,2629.375 1053.5938,2629.375 Q1054.4141,2629.375 1055,2630.0391 Q1055.625,2630.6641 1055.625,2631.5625 Q1055.625,2632.4219 1054.7656,2633.4375 Q1053.5156,2634.9219 1051.5234,2635.7422 Q1048.9063,2636.875 1045.7031,2636.875 Q1041.9531,2636.875 1038.9453,2635.3906 Q1036.5234,2634.2188 1034.8047,2631.6797 Q1033.125,2629.1406 1033.125,2626.1328 L1033.125,2623.3984 Q1033.125,2620.2734 1034.6094,2617.5391 Q1036.1328,2614.8047 1038.75,2613.3594 Q1041.4063,2611.875 1044.375,2611.875 Q1046.1719,2611.875 1047.7344,2612.5 Q1049.2969,2613.125 1050.625,2614.375 Z " fill="#000000"/><ellipse cx="1109.375" cy="2621.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1124.375" y="2635.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="187.5" x="1191.875" y="2635.4004">ApduRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="892.5" x2="1502.5" y1="2663.125" y2="2663.125"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="892.5" x2="1502.5" y1="2683.125" y2="2683.125"/><ellipse cx="917.5" cy="2710.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="550" x="940" y="2721.6724">ApduRequest (byte[] bytes, boolean isCase4)</text><ellipse cx="917.5" cy="2745.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="940" y="2756.2622">ApduRequest (byte cla, byte instruction,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="465" x="1000" y="2790.8521">byte p1, byte p2, byte[] dataIn, Byte le)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="892.5" x2="1502.5" y1="2806.8945" y2="2806.8945"/><ellipse cx="917.5" cy="2834.3945" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="940" y="2845.4419">ApduRequest setSuccessfulStatusCodes (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="460" x="1000" y="2880.0317">Set&lt;Integer&gt; successfulStatusCodes)</text><ellipse cx="917.5" cy="2903.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="517.5" x="940" y="2914.6216">Set&lt;Integer&gt; getSuccessfulStatusCodes ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="892.5" x2="1502.5" y1="2930.6641" y2="2930.6641"/><ellipse cx="917.5" cy="2958.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="940" y="2969.2114">ApduRequest setName (String name)</text><ellipse cx="917.5" cy="2992.7539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="940" y="3003.8013">String getName ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="892.5" x2="1502.5" y1="3019.8438" y2="3019.8438"/><ellipse cx="917.5" cy="3047.3438" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="940" y="3058.3911">byte[] getBytes ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="892.5" x2="1502.5" y1="3074.4336" y2="3074.4336"/><ellipse cx="917.5" cy="3101.9336" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="227.5" x="940" y="3112.981">boolean isCase4 ()</text><!--MD5=[dbd8c161f500c947422961202b070083]
class CardSelectionScenario--><rect codeLine="253" fill="#E9F7EF" height="382.1289" id="CardSelectionScenario" style="stroke:#27AE60;stroke-width:3.75;" width="760" x="977.5" y="933.125"/><ellipse cx="1140.625" cy="973.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1145.625,964.375 Q1146.1328,963.125 1146.7188,962.5 Q1147.3047,961.875 1147.9688,961.875 Q1149.1406,961.875 1149.8828,962.5781 Q1150.625,963.2813 1150.625,964.9219 L1150.625,968.8281 Q1150.625,970.4688 1149.9219,971.1719 Q1149.2188,971.875 1148.125,971.875 Q1147.1484,971.875 1146.5234,971.4453 Q1145.8984,971.0156 1145.625,969.8828 Q1145.5078,969.1016 1145.0781,968.6719 Q1144.2969,967.8516 1142.8906,967.3828 Q1141.4844,966.875 1140.0781,966.875 Q1138.3203,966.875 1136.8359,967.5781 Q1135.3906,968.2813 1134.2578,969.8438 Q1133.125,971.4063 1133.125,973.5547 L1133.125,975.8594 Q1133.125,978.4375 1135.2344,980.1563 Q1137.3438,981.875 1141.0938,981.875 Q1143.3203,981.875 1144.8828,981.3672 Q1145.7813,981.0938 1146.7969,980.1953 Q1147.4609,979.6875 1147.8125,979.5313 Q1148.1641,979.375 1148.5938,979.375 Q1149.4141,979.375 1150,980.0391 Q1150.625,980.6641 1150.625,981.5625 Q1150.625,982.4219 1149.7656,983.4375 Q1148.5156,984.9219 1146.5234,985.7422 Q1143.9063,986.875 1140.7031,986.875 Q1136.9531,986.875 1133.9453,985.3906 Q1131.5234,984.2188 1129.8047,981.6797 Q1128.125,979.1406 1128.125,976.1328 L1128.125,973.3984 Q1128.125,970.2734 1129.6094,967.5391 Q1131.1328,964.8047 1133.75,963.3594 Q1136.4063,961.875 1139.375,961.875 Q1141.1719,961.875 1142.7344,962.5 Q1144.2969,963.125 1145.625,964.375 Z " fill="#000000"/><ellipse cx="1204.375" cy="971.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1219.375" y="985.4004">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="317.5" x="1286.875" y="985.4004">CardSelectionScenario</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="980" x2="1735" y1="1013.125" y2="1013.125"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="980" x2="1735" y1="1033.125" y2="1033.125"/><ellipse cx="1005" cy="1060.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="292.5" x="1027.5" y="1071.6724">CardSelectionScenario (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="635" x="1087.5" y="1106.2622">List&lt;CardSelectionRequest&gt; cardSelectionRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="1087.5" y="1140.8521">MultiSelectionProcessing multiSelectionProcessing,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="1087.5" y="1175.4419">ChannelControl channelControl)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="980" x2="1735" y1="1191.4844" y2="1191.4844"/><ellipse cx="1005" cy="1218.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="667.5" x="1027.5" y="1230.0317">MultiSelectionProcessing getMultiSelectionProcessing ()</text><ellipse cx="1005" cy="1253.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="1027.5" y="1264.6216">ChannelControl getChannelControl ()</text><ellipse cx="1005" cy="1288.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="695" x="1027.5" y="1299.2114">List&lt;CardSelectionRequest&gt; getCardSelectionRequests ()</text><!--MD5=[ad88d8106adc0f21766a2a077a674dda]
class CardSelectionResponse--><rect codeLine="260" fill="#F4ECF7" height="333.418" id="CardSelectionResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="607.5" x="2713.75" y="1473.125"/><ellipse cx="2751.25" cy="1523.3594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2756.25,1514.6094 Q2756.7578,1513.3594 2757.3438,1512.7344 Q2757.9297,1512.1094 2758.5938,1512.1094 Q2759.7656,1512.1094 2760.5078,1512.8125 Q2761.25,1513.5156 2761.25,1515.1563 L2761.25,1519.0625 Q2761.25,1520.7031 2760.5469,1521.4063 Q2759.8438,1522.1094 2758.75,1522.1094 Q2757.7734,1522.1094 2757.1484,1521.6797 Q2756.5234,1521.25 2756.25,1520.1172 Q2756.1328,1519.3359 2755.7031,1518.9063 Q2754.9219,1518.0859 2753.5156,1517.6172 Q2752.1094,1517.1094 2750.7031,1517.1094 Q2748.9453,1517.1094 2747.4609,1517.8125 Q2746.0156,1518.5156 2744.8828,1520.0781 Q2743.75,1521.6406 2743.75,1523.7891 L2743.75,1526.0938 Q2743.75,1528.6719 2745.8594,1530.3906 Q2747.9688,1532.1094 2751.7188,1532.1094 Q2753.9453,1532.1094 2755.5078,1531.6016 Q2756.4063,1531.3281 2757.4219,1530.4297 Q2758.0859,1529.9219 2758.4375,1529.7656 Q2758.7891,1529.6094 2759.2188,1529.6094 Q2760.0391,1529.6094 2760.625,1530.2734 Q2761.25,1530.8984 2761.25,1531.7969 Q2761.25,1532.6563 2760.3906,1533.6719 Q2759.1406,1535.1563 2757.1484,1535.9766 Q2754.5313,1537.1094 2751.3281,1537.1094 Q2747.5781,1537.1094 2744.5703,1535.625 Q2742.1484,1534.4531 2740.4297,1531.9141 Q2738.75,1529.375 2738.75,1526.3672 L2738.75,1523.6328 Q2738.75,1520.5078 2740.2344,1517.7734 Q2741.7578,1515.0391 2744.375,1513.5938 Q2747.0313,1512.1094 2750,1512.1094 Q2751.7969,1512.1094 2753.3594,1512.7344 Q2754.9219,1513.3594 2756.25,1514.6094 Z " fill="#000000"/><ellipse cx="2798.75" cy="1522.1094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2813.75" y="1516.7676">&lt;&lt;</text><text fill="#000000" filter="url(#b17gl6b25fgsxk0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="430" x="2848.75" y="1516.7676">KeypleCardSelectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3278.75" y="1516.7676">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2862.5" y="1554.502">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="335" x="2930" y="1554.502">CardSelectionResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2716.25" x2="3318.75" y1="1573.5938" y2="1573.5938"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2716.25" x2="3318.75" y1="1593.5938" y2="1593.5938"/><ellipse cx="2741.25" cy="1621.0938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="307.5" x="2763.75" y="1632.1411">CardSelectionResponse (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="2823.75" y="1666.731">SelectionStatus selectionStatus,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="2823.75" y="1701.3208">CardResponse cardResponse)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2716.25" x2="3318.75" y1="1717.3633" y2="1717.3633"/><ellipse cx="2741.25" cy="1744.8633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="2763.75" y="1755.9106">SelectionStatus getSelectionStatus ()</text><ellipse cx="2741.25" cy="1779.4531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="2763.75" y="1790.5005">CardResponse getCardResponse ()</text><!--MD5=[62519695b550f8cbf5b64cbd0e08e475]
class CardResponse--><rect codeLine="261" fill="#F4ECF7" height="388.0078" id="CardResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="735" x="2682.5" y="2000.625"/><ellipse cx="2888.125" cy="2050.8594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2893.125,2042.1094 Q2893.6328,2040.8594 2894.2188,2040.2344 Q2894.8047,2039.6094 2895.4688,2039.6094 Q2896.6406,2039.6094 2897.3828,2040.3125 Q2898.125,2041.0156 2898.125,2042.6563 L2898.125,2046.5625 Q2898.125,2048.2031 2897.4219,2048.9063 Q2896.7188,2049.6094 2895.625,2049.6094 Q2894.6484,2049.6094 2894.0234,2049.1797 Q2893.3984,2048.75 2893.125,2047.6172 Q2893.0078,2046.8359 2892.5781,2046.4063 Q2891.7969,2045.5859 2890.3906,2045.1172 Q2888.9844,2044.6094 2887.5781,2044.6094 Q2885.8203,2044.6094 2884.3359,2045.3125 Q2882.8906,2046.0156 2881.7578,2047.5781 Q2880.625,2049.1406 2880.625,2051.2891 L2880.625,2053.5938 Q2880.625,2056.1719 2882.7344,2057.8906 Q2884.8438,2059.6094 2888.5938,2059.6094 Q2890.8203,2059.6094 2892.3828,2059.1016 Q2893.2813,2058.8281 2894.2969,2057.9297 Q2894.9609,2057.4219 2895.3125,2057.2656 Q2895.6641,2057.1094 2896.0938,2057.1094 Q2896.9141,2057.1094 2897.5,2057.7734 Q2898.125,2058.3984 2898.125,2059.2969 Q2898.125,2060.1563 2897.2656,2061.1719 Q2896.0156,2062.6563 2894.0234,2063.4766 Q2891.4063,2064.6094 2888.2031,2064.6094 Q2884.4531,2064.6094 2881.4453,2063.125 Q2879.0234,2061.9531 2877.3047,2059.4141 Q2875.625,2056.875 2875.625,2053.8672 L2875.625,2051.1328 Q2875.625,2048.0078 2877.1094,2045.2734 Q2878.6328,2042.5391 2881.25,2041.0938 Q2883.9063,2039.6094 2886.875,2039.6094 Q2888.6719,2039.6094 2890.2344,2040.2344 Q2891.7969,2040.8594 2893.125,2042.1094 Z " fill="#000000"/><ellipse cx="2951.875" cy="2049.6094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="237.5" x="2985.625" y="2044.2676">&lt;&lt;Serializable&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2966.875" y="2082.002">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="207.5" x="3034.375" y="2082.002">CardResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2685" x2="3415" y1="2101.0938" y2="2101.0938"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2685" x2="3415" y1="2121.0938" y2="2121.0938"/><ellipse cx="2710" cy="2148.5938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="670" x="2732.5" y="2159.6411">CardResponse (List&lt;ApduResponse&gt; apduResponses,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="377.5" x="2792.5" y="2194.231">boolean isLogicalChannelOpen,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="242.5" x="2792.5" y="2228.8208">boolean isComplete)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2685" x2="3415" y1="2244.8633" y2="2244.8633"/><ellipse cx="2710" cy="2272.3633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="2732.5" y="2283.4106">List&lt;ApduResponse&gt; getApduResponses ()</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2685" x2="3415" y1="2299.4531" y2="2299.4531"/><ellipse cx="2710" cy="2326.9531" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="2732.5" y="2338.0005">boolean isLogicalChannelOpen ()</text><ellipse cx="2710" cy="2361.543" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="2732.5" y="2372.5903">boolean isComplete ()</text><!--MD5=[020bc233d237158d8be37d9dae17a65e]
class ApduResponse--><rect codeLine="262" fill="#F4ECF7" height="298.8281" id="ApduResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="422.5" x="2883.75" y="2705.625"/><ellipse cx="2937" cy="2755.8594" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2942,2747.1094 Q2942.5078,2745.8594 2943.0938,2745.2344 Q2943.6797,2744.6094 2944.3438,2744.6094 Q2945.5156,2744.6094 2946.2578,2745.3125 Q2947,2746.0156 2947,2747.6563 L2947,2751.5625 Q2947,2753.2031 2946.2969,2753.9063 Q2945.5938,2754.6094 2944.5,2754.6094 Q2943.5234,2754.6094 2942.8984,2754.1797 Q2942.2734,2753.75 2942,2752.6172 Q2941.8828,2751.8359 2941.4531,2751.4063 Q2940.6719,2750.5859 2939.2656,2750.1172 Q2937.8594,2749.6094 2936.4531,2749.6094 Q2934.6953,2749.6094 2933.2109,2750.3125 Q2931.7656,2751.0156 2930.6328,2752.5781 Q2929.5,2754.1406 2929.5,2756.2891 L2929.5,2758.5938 Q2929.5,2761.1719 2931.6094,2762.8906 Q2933.7188,2764.6094 2937.4688,2764.6094 Q2939.6953,2764.6094 2941.2578,2764.1016 Q2942.1563,2763.8281 2943.1719,2762.9297 Q2943.8359,2762.4219 2944.1875,2762.2656 Q2944.5391,2762.1094 2944.9688,2762.1094 Q2945.7891,2762.1094 2946.375,2762.7734 Q2947,2763.3984 2947,2764.2969 Q2947,2765.1563 2946.1406,2766.1719 Q2944.8906,2767.6563 2942.8984,2768.4766 Q2940.2813,2769.6094 2937.0781,2769.6094 Q2933.3281,2769.6094 2930.3203,2768.125 Q2927.8984,2766.9531 2926.1797,2764.4141 Q2924.5,2761.875 2924.5,2758.8672 L2924.5,2756.1328 Q2924.5,2753.0078 2925.9844,2750.2734 Q2927.5078,2747.5391 2930.125,2746.0938 Q2932.7813,2744.6094 2935.75,2744.6094 Q2937.5469,2744.6094 2939.1094,2745.2344 Q2940.6719,2745.8594 2942,2747.1094 Z " fill="#000000"/><ellipse cx="2988" cy="2754.6094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="237.5" x="3024.25" y="2749.2676">&lt;&lt;Serializable&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3003" y="2787.002">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="3070.5" y="2787.002">ApduResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2886.25" x2="3303.75" y1="2806.0938" y2="2806.0938"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2886.25" x2="3303.75" y1="2826.0938" y2="2826.0938"/><ellipse cx="2911.25" cy="2853.5938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="357.5" x="2933.75" y="2864.6411">ApduResponse (byte[] bytes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2886.25" x2="3303.75" y1="2880.6836" y2="2880.6836"/><ellipse cx="2911.25" cy="2908.1836" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2933.75" y="2919.231">byte[] getBytes ()</text><ellipse cx="2911.25" cy="2942.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="2933.75" y="2953.8208">byte[] getDataOut ()</text><ellipse cx="2911.25" cy="2977.3633" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="2933.75" y="2988.4106">int getStatusCode ()</text><!--MD5=[17146a741b3becbcb08fff440a5eba97]
class SelectionStatus--><rect codeLine="263" fill="#F4ECF7" height="382.1289" id="SelectionStatus" style="stroke:#8E44AD;stroke-width:3.75;" width="375" x="3505" y="2003.125"/><ellipse cx="3567.25" cy="2043.125" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3572.25,2034.375 Q3572.7578,2033.125 3573.3438,2032.5 Q3573.9297,2031.875 3574.5938,2031.875 Q3575.7656,2031.875 3576.5078,2032.5781 Q3577.25,2033.2813 3577.25,2034.9219 L3577.25,2038.8281 Q3577.25,2040.4688 3576.5469,2041.1719 Q3575.8438,2041.875 3574.75,2041.875 Q3573.7734,2041.875 3573.1484,2041.4453 Q3572.5234,2041.0156 3572.25,2039.8828 Q3572.1328,2039.1016 3571.7031,2038.6719 Q3570.9219,2037.8516 3569.5156,2037.3828 Q3568.1094,2036.875 3566.7031,2036.875 Q3564.9453,2036.875 3563.4609,2037.5781 Q3562.0156,2038.2813 3560.8828,2039.8438 Q3559.75,2041.4063 3559.75,2043.5547 L3559.75,2045.8594 Q3559.75,2048.4375 3561.8594,2050.1563 Q3563.9688,2051.875 3567.7188,2051.875 Q3569.9453,2051.875 3571.5078,2051.3672 Q3572.4063,2051.0938 3573.4219,2050.1953 Q3574.0859,2049.6875 3574.4375,2049.5313 Q3574.7891,2049.375 3575.2188,2049.375 Q3576.0391,2049.375 3576.625,2050.0391 Q3577.25,2050.6641 3577.25,2051.5625 Q3577.25,2052.4219 3576.3906,2053.4375 Q3575.1406,2054.9219 3573.1484,2055.7422 Q3570.5313,2056.875 3567.3281,2056.875 Q3563.5781,2056.875 3560.5703,2055.3906 Q3558.1484,2054.2188 3556.4297,2051.6797 Q3554.75,2049.1406 3554.75,2046.1328 L3554.75,2043.3984 Q3554.75,2040.2734 3556.2344,2037.5391 Q3557.7578,2034.8047 3560.375,2033.3594 Q3563.0313,2031.875 3566,2031.875 Q3567.7969,2031.875 3569.3594,2032.5 Q3570.9219,2033.125 3572.25,2034.375 Z " fill="#000000"/><ellipse cx="3620.25" cy="2041.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="3635.25" y="2055.4004">SelectionStatus</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3507.5" x2="3877.5" y1="2083.125" y2="2083.125"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3507.5" x2="3877.5" y1="2103.125" y2="2103.125"/><ellipse cx="3532.5" cy="2130.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="205" x="3555" y="2141.6724">SelectionStatus (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="3615" y="2176.2622">AnswerToReset atr,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="3615" y="2210.8521">ApduResponse fci,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="3615" y="2245.4419">boolean isMatching)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3507.5" x2="3877.5" y1="2261.4844" y2="2261.4844"/><ellipse cx="3532.5" cy="2288.9844" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="3555" y="2300.0317">AnswerToReset getAtr ()</text><ellipse cx="3532.5" cy="2323.5742" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="295" x="3555" y="2334.6216">ApduResponse getFci ()</text><ellipse cx="3532.5" cy="2358.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="277.5" x="3555" y="2369.2114">boolean hasMatched ()</text><!--MD5=[08697d5c41fb59880dad310582db5b30]
class AnswerToReset--><rect codeLine="264" fill="#F4ECF7" height="209.1797" id="AnswerToReset" style="stroke:#8E44AD;stroke-width:3.75;" width="470" x="3410" y="2750.625"/><ellipse cx="3513.875" cy="2790.625" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3518.875,2781.875 Q3519.3828,2780.625 3519.9688,2780 Q3520.5547,2779.375 3521.2188,2779.375 Q3522.3906,2779.375 3523.1328,2780.0781 Q3523.875,2780.7813 3523.875,2782.4219 L3523.875,2786.3281 Q3523.875,2787.9688 3523.1719,2788.6719 Q3522.4688,2789.375 3521.375,2789.375 Q3520.3984,2789.375 3519.7734,2788.9453 Q3519.1484,2788.5156 3518.875,2787.3828 Q3518.7578,2786.6016 3518.3281,2786.1719 Q3517.5469,2785.3516 3516.1406,2784.8828 Q3514.7344,2784.375 3513.3281,2784.375 Q3511.5703,2784.375 3510.0859,2785.0781 Q3508.6406,2785.7813 3507.5078,2787.3438 Q3506.375,2788.9063 3506.375,2791.0547 L3506.375,2793.3594 Q3506.375,2795.9375 3508.4844,2797.6563 Q3510.5938,2799.375 3514.3438,2799.375 Q3516.5703,2799.375 3518.1328,2798.8672 Q3519.0313,2798.5938 3520.0469,2797.6953 Q3520.7109,2797.1875 3521.0625,2797.0313 Q3521.4141,2796.875 3521.8438,2796.875 Q3522.6641,2796.875 3523.25,2797.5391 Q3523.875,2798.1641 3523.875,2799.0625 Q3523.875,2799.9219 3523.0156,2800.9375 Q3521.7656,2802.4219 3519.7734,2803.2422 Q3517.1563,2804.375 3513.9531,2804.375 Q3510.2031,2804.375 3507.1953,2802.8906 Q3504.7734,2801.7188 3503.0547,2799.1797 Q3501.375,2796.6406 3501.375,2793.6328 L3501.375,2790.8984 Q3501.375,2787.7734 3502.8594,2785.0391 Q3504.3828,2782.3047 3507,2780.8594 Q3509.6563,2779.375 3512.625,2779.375 Q3514.4219,2779.375 3515.9844,2780 Q3517.5469,2780.625 3518.875,2781.875 Z " fill="#000000"/><ellipse cx="3576.125" cy="2789.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="215" x="3591.125" y="2802.9004">AnswerToReset</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3412.5" x2="3877.5" y1="2830.625" y2="2830.625"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3412.5" x2="3877.5" y1="2850.625" y2="2850.625"/><ellipse cx="3437.5" cy="2878.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="3460" y="2889.1724">AnswerToReset (byte[] atrBytes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3412.5" x2="3877.5" y1="2905.2148" y2="2905.2148"/><ellipse cx="3437.5" cy="2932.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3460" y="2943.7622">byte[] getBytes ()</text><!--MD5=[266955a256f69cd9e8835259646fbe13]
class CardExtensionSpi--><rect codeLine="169" fill="#FEFECE" height="223.7695" id="CardExtensionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="460" x="3245" y="423.125"/><ellipse cx="3329.75" cy="463.125" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3332.25,455.625 L3332.25,470.625 L3337.25,470.625 L3338.4609,470.625 L3339.75,472.1875 L3339.75,473.125 L3339.75,474.0625 L3338.4609,475.625 L3337.25,475.625 L3322.25,475.625 L3321.0391,475.625 L3319.75,474.0625 L3319.75,473.125 L3319.75,472.1875 L3321.0391,470.625 L3322.25,470.625 L3327.25,470.625 L3327.25,455.625 L3322.25,455.625 L3321.0391,455.625 L3319.75,454.0625 L3319.75,453.125 L3319.75,452.1875 L3321.0391,450.625 L3322.25,450.625 L3337.25,450.625 L3338.4609,450.625 L3339.75,452.1875 L3339.75,453.125 L3339.75,454.0625 L3338.4609,455.625 L3337.25,455.625 L3332.25,455.625 Z " fill="#000000"/><ellipse cx="3387.75" cy="461.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="247.5" x="3402.75" y="475.4004">CardExtensionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3247.5" x2="3702.5" y1="503.125" y2="503.125"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3247.5" x2="3702.5" y1="523.125" y2="523.125"/><ellipse cx="3272.5" cy="550.625" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="3295" y="561.6724">String getCardApiVersion ()</text><ellipse cx="3272.5" cy="585.2148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="370" x="3295" y="596.2622">String getServiceApiVersion ()</text><ellipse cx="3272.5" cy="619.8047" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="395" x="3295" y="630.8521">String getCommonsApiVersion ()</text><!--MD5=[e210ee7b55cb4fcef849a017d68619f7]
class CardSelectionSpi--><rect codeLine="174" fill="#FEFECE" height="189.1797" id="CardSelectionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="920" x="2237.5" y="440.625"/><ellipse cx="2553.125" cy="480.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2555.625,473.125 L2555.625,488.125 L2560.625,488.125 L2561.8359,488.125 L2563.125,489.6875 L2563.125,490.625 L2563.125,491.5625 L2561.8359,493.125 L2560.625,493.125 L2545.625,493.125 L2544.4141,493.125 L2543.125,491.5625 L2543.125,490.625 L2543.125,489.6875 L2544.4141,488.125 L2545.625,488.125 L2550.625,488.125 L2550.625,473.125 L2545.625,473.125 L2544.4141,473.125 L2543.125,471.5625 L2543.125,470.625 L2543.125,469.6875 L2544.4141,468.125 L2545.625,468.125 L2560.625,468.125 L2561.8359,468.125 L2563.125,469.6875 L2563.125,470.625 L2563.125,471.5625 L2561.8359,473.125 L2560.625,473.125 L2555.625,473.125 Z " fill="#000000"/><ellipse cx="2616.875" cy="479.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="240" x="2631.875" y="492.9004">CardSelectionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2240" x2="3155" y1="520.625" y2="520.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2240" x2="3155" y1="540.625" y2="540.625"/><ellipse cx="2265" cy="568.125" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="2287.5" y="579.1724">CardSelectionRequest getCardSelectionRequest ()</text><ellipse cx="2265" cy="602.7148" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="855" x="2287.5" y="613.7622">SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)</text><!--MD5=[c089e258773b765d812cd5d8bc232f90]
class SmartCardSpi--><rect codeLine="178" fill="#FEFECE" height="120" id="SmartCardSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="302.5" x="1846.25" y="475.625"/><ellipse cx="1883.75" cy="515.625" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1886.25,508.125 L1886.25,523.125 L1891.25,523.125 L1892.4609,523.125 L1893.75,524.6875 L1893.75,525.625 L1893.75,526.5625 L1892.4609,528.125 L1891.25,528.125 L1876.25,528.125 L1875.0391,528.125 L1873.75,526.5625 L1873.75,525.625 L1873.75,524.6875 L1875.0391,523.125 L1876.25,523.125 L1881.25,523.125 L1881.25,508.125 L1876.25,508.125 L1875.0391,508.125 L1873.75,506.5625 L1873.75,505.625 L1873.75,504.6875 L1875.0391,503.125 L1876.25,503.125 L1891.25,503.125 L1892.4609,503.125 L1893.75,504.6875 L1893.75,505.625 L1893.75,506.5625 L1892.4609,508.125 L1891.25,508.125 L1886.25,508.125 Z " fill="#000000"/><ellipse cx="1931.25" cy="514.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="1946.25" y="527.9004">SmartCardSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1848.75" x2="2146.25" y1="555.625" y2="555.625"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1848.75" x2="2146.25" y1="575.625" y2="575.625"/><!--MD5=[695000fa4fcaf49ec1bb096676d9e4f7]
reverse link AbstractCommunicationException to ReaderCommunicationException--><path d="M2191.9275,3105.31 C2173.38,3165.9775 2153.9925,3229.39 2137.0275,3284.8775 " fill="none" id="AbstractCommunicationException-backto-ReaderCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2175.205,3100.1475,2206.56,3057.45,2208.6775,3110.38,2175.205,3100.1475" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[30e8d21bd42c49f90ab21ceb84ec5489]
reverse link AbstractCommunicationException to CardCommunicationException--><path d="M2478.0975,3095.425 C2534.55,3159.0475 2594.3,3226.3675 2646.225,3284.8775 " fill="none" id="AbstractCommunicationException-backto-CardCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2464.495,3106.4625,2444.395,3057.45,2490.6725,3083.23,2464.495,3106.4625" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[2c1181f18c9077767c8cf6e4eb9d66e3]
link CardExtensionSpi to ApiProperties--><path codeLine="214" d="M3475,648.6 C3475,760.175 3475,930.35 3475,1033.35 " fill="none" id="CardExtensionSpi-to-ApiProperties" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3475,1046.2,3485,1023.7,3475,1033.7,3465,1023.7,3475,1046.2" style="stroke:#27AE60;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3525" y="804.3628">provide</text><polygon fill="#000000" points="3490,844.4434,3497.3473,821.8306,3482.6527,821.8306,3490,844.4434" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="162.5" x="3510" y="845.2417">API version</text><!--MD5=[604555a7fe74e2d4d4d93159c1afacf3]
reverse link CardSelectionScenario to CardSelectionRequest--><path codeLine="216" d="M1019.055,1333.59 C937.34,1383.5 851.43,1435.97 774.475,1482.975 " fill="none" id="CardSelectionScenario-backto-CardSelectionRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1047.7625,1316.055,1029.7489,1315.3407,1022.1613,1331.694,1040.1749,1332.4082,1047.7625,1316.055" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="740.1409" y="1456.3414">1..N</text><!--MD5=[df15868aa9ec96f8eb2ebc9a80d2b047]
reverse link CardSelectionScenario to MultiSelectionProcessing--><path codeLine="217" d="M1474.33,1345.53 C1511.4375,1414.975 1550.5025,1488.0925 1580.2175,1543.705 " fill="none" id="CardSelectionScenario-backto-MultiSelectionProcessing" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1458.5825,1316.055,1456.8308,1333.9974,1472.7193,1342.5154,1474.471,1324.5729,1458.5825,1316.055" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1552.2914" y="1516.9904">1</text><!--MD5=[31fb94af43f4c6a6a97051dc9281be30]
reverse link CardSelectionScenario to ChannelControl--><path codeLine="218" d="M1270.3125,1346.4625 C1242.8475,1415.6275 1213.9775,1488.34 1191.9925,1543.705 " fill="none" id="CardSelectionScenario-backto-ChannelControl" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1282.385,1316.055,1267.5546,1326.3049,1271.3121,1343.9367,1286.1425,1333.6868,1282.385,1316.055" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1179.5232" y="1516.9904">1</text><!--MD5=[9835af9204c9210f827ba24cc91945f0]
reverse link CardSelectionRequest to CardRequest--><path codeLine="220" d="M657.3675,1821.295 C688.9675,1857.9025 723.9875,1894.6525 760,1925.625 C814.94,1972.8775 879.2425,2017.0275 941.375,2055.2625 " fill="none" id="CardSelectionRequest-backto-CardRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="636.0675,1796.0475,638.096,1813.9608,655.4115,1818.9781,653.383,1801.0648,636.0675,1796.0475" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="850.0355" y="2028.6153">0..1</text><!--MD5=[d401507d432a199d6c8d10fa177dfeb2]
reverse link CardRequest to ApduRequest--><path codeLine="222" d="M1197.5,2366.9375 C1197.5,2432.6925 1197.5,2509.57 1197.5,2582.5325 " fill="none" id="CardRequest-backto-ApduRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1197.5,2333.6475,1187.5,2348.6475,1197.5,2363.6475,1207.5,2348.6475,1197.5,2333.6475" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="1135.3906" y="2555.6615">1..N</text><!--MD5=[77f859707804abe419614d0e91d95dfe]
reverse link CardSelectionResponse to CardResponse--><path codeLine="224" d="M3029.15,1839.0925 C3032.25,1891.5925 3035.6,1948.2125 3038.675,2000.4 " fill="none" id="CardSelectionResponse-backto-CardResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3027.2,1806.1475,3018.103,1821.7117,3028.9711,1836.0952,3038.0681,1820.531,3027.2,1806.1475" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3019.2616" y="1973.761">1</text><!--MD5=[4905b2efbeb6b377be21c40fb1d79f57]
reverse link CardSelectionResponse to SelectionStatus--><path codeLine="225" d="M3249,1827.4075 C3317.875,1882.905 3393.4,1944.0425 3462.5,2000.625 C3476.15,2011.81 3490.25,2023.4 3504.425,2035.085 " fill="none" id="CardSelectionResponse-backto-SelectionStatus" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3222.95,1806.4325,3228.3577,1823.6301,3246.3123,1825.2528,3240.9046,1808.0552,3222.95,1806.4325" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3467.55" y="2011.2355">1</text><!--MD5=[9424ef5399bf3a67a4952b2f5019cc6d]
reverse link CardResponse to ApduResponse--><path codeLine="227" d="M3065.375,2421.0575 C3071.8,2514.89 3079.1,2621.3675 3084.85,2705.1425 " fill="none" id="CardResponse-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3063.125,2388.455,3054.1735,2404.1033,3065.1753,2418.3849,3074.1268,2402.7365,3063.125,2388.455" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="3019.9567" y="2678.2277">1..N</text><!--MD5=[1cd47721a07c040e565e1a09c1eba3b5]
reverse link SelectionStatus to ApduResponse--><path codeLine="229" d="M3498.475,2409.9675 C3410.7,2506.375 3309.125,2617.9475 3229.85,2705.025 " fill="none" id="SelectionStatus-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3520.475,2385.81,3502.9792,2390.1569,3500.2625,2407.9788,3517.7583,2403.6319,3520.475,2385.81" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3187.9333" y="2678.0959">0..1</text><!--MD5=[24cbd97995d68a7170e91f5c730befab]
reverse link SelectionStatus to AnswerToReset--><path codeLine="230" d="M3676.475,2418.415 C3668.35,2530.555 3658.875,2661.33 3652.475,2749.9275 " fill="none" id="SelectionStatus-backto-AnswerToReset" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3678.825,2385.81,3667.7686,2400.0492,3676.66,2415.7318,3687.7164,2401.4926,3678.825,2385.81" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3594.2835" y="2723.7677">0..1</text><!--MD5=[c43bae1df4c6233cf7d1823fce18a071]
link CardResponse to AbstractCommunicationException--><path codeLine="232" d="M2821.575,2388.455 C2730.25,2465.03 2624.55,2553.685 2530.1,2632.8975 " fill="none" id="CardResponse-to-AbstractCommunicationException" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2505.05,2653.8925,2522.9686,2651.9114,2528.0317,2634.6093,2510.1131,2636.5903,2505.05,2653.8925" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="2742.1821" y="2442.615">0..1</text><!--MD5=[c545f7e69e1fd10e93a83a4930be8cac]
reverse link CardSelectionRequest to ProxyReader--><path codeLine="234" d="M916.3375,1795.47 C926.81,1798.9575 937.21,1802.35 947.5,1805.625 C1153.955,1871.3575 1207.7675,1882.015 1420,1925.625 C1629.3525,1968.6425 1694.9875,1925.295 1895,2000.625 C1933.085,2014.97 1971.485,2034.4925 2007.545,2055.6075 " fill="none" id="CardSelectionRequest-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="904.015,1791.3325,922.1681,1807.9673,915.8664,1795.3068,928.5269,1789.0051,904.015,1791.3325" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1420.3407,1900.6658,1440.6332,1913.0566,1444.0409,1898.7625,1420.3407,1900.6658" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1455" y="1916.8628">use</text><!--MD5=[2442a7d7f46532290415533a60537508]
link ProxyReader to CardRequest--><path codeLine="235" d="M1936.21,2194.375 C1816.7225,2194.375 1673.47,2194.375 1545.0525,2194.375 " fill="none" id="ProxyReader-to-CardRequest" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1531.875,2194.375,1554.375,2204.375,1544.375,2194.375,1554.375,2184.375,1531.875,2194.375" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1688.75,2164.8145,1711.3627,2172.1618,1711.3627,2157.4671,1688.75,2164.8145" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1723.75" y="2178.1128">use</text><!--MD5=[cea258861a101b37c0092aa2c73adb0e]
reverse link MultiSelectionProcessing to ProxyReader--><path codeLine="236" d="M1735.3575,1743.985 C1825.8975,1831.73 1957.2025,1958.9875 2056.7325,2055.45 " fill="none" id="MultiSelectionProcessing-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1725.6275,1734.5525,1734.8273,1757.3914,1734.6045,1743.251,1748.7449,1743.0282,1725.6275,1734.5525" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1918.5239,1894.8651,1929.6485,1915.8784,1939.8752,1905.3263,1918.5239,1894.8651" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1950" y="1916.8628">use</text><!--MD5=[86fbc7b023257ef37098cf7570a66f83]
reverse link ChannelControl to ProxyReader--><path codeLine="237" d="M1268.1975,1742.9675 C1296.88,1765.5125 1328.52,1787.9425 1360,1805.625 C1580.6575,1929.56 1667.8525,1889.03 1895,2000.625 C1927.9025,2016.79 1961.705,2035.6625 1994.2475,2055.135 " fill="none" id="ChannelControl-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="1257.77,1734.665,1269.1433,1756.503,1267.549,1742.451,1281.6009,1740.8567,1257.77,1734.665" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1693.5164,1898.6271,1711.3883,1914.3088,1717.1925,1900.809,1693.5164,1898.6271" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1727.5" y="1916.8628">use</text><!--MD5=[ef2297562df3bdaf27e19b497e1f04bc]
reverse link CardSelectionResponse to ProxyReader--><path codeLine="239" d="M2762.125,1813.1675 C2645.925,1891.105 2510.3,1982.0625 2401.12,2055.3 " fill="none" id="CardSelectionResponse-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="2772.575,1806.1475,2748.3188,1810.377,2762.1942,1813.1109,2759.4603,1826.9863,2772.575,1806.1475" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2677.8812,1896.6016,2655.0088,1903.0956,2663.1941,1915.2994,2677.8812,1896.6016" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2690" y="1916.8628">provide</text><!--MD5=[07ed8df3c1c3d85fbf148d2489e3f22f]
link ProxyReader to CardResponse--><path codeLine="240" d="M2459.0725,2194.375 C2525.425,2194.375 2598.075,2194.375 2669.025,2194.375 " fill="none" id="ProxyReader-to-CardResponse" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="2682.25,2194.375,2659.75,2184.375,2669.75,2194.375,2659.75,2204.375,2682.25,2194.375" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2526.875,2164.8145,2504.2623,2157.4671,2504.2623,2172.1618,2526.875,2164.8145" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2536.875" y="2178.1128">provide</text><!--MD5=[d8ee4aa3985d164868eed7d62e106dde]
link ProxyReader to AbstractCommunicationException--><path codeLine="241" d="M2212.09,2333.6475 C2221.56,2422.445 2234.0975,2539.98 2244.85,2640.7875 " fill="none" id="ProxyReader-to-AbstractCommunicationException" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#27AE60" points="2246.2875,2654.26,2253.846,2630.8267,2244.9624,2641.8304,2233.9587,2632.9469,2246.2875,2654.26" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2246.3257,2498.4939,2251.2333,2475.2295,2236.6216,2476.788,2246.3257,2498.4939" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="77.5" x="2267.5" y="2499.3628">throw</text><!--MD5=[55b39db0fd9be3bef178361b3f8e6ac6]
link spi to CardSelectionScenario--><!--MD5=[bf15129783f09dcfe1fe52433c011c69]
link spi to CardSelectionResponse--><!--MD5=[f2241f082dad66e24e687ca3198d52ac]
@startuml
title
        Keyple 2.0 - keyple-java-card-api - 2.0 (12/03/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.core.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +CardResponse transmitCardRequest (
        \tCardRequest cardRequest,
        \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    ' REQUEST
    together {
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
                \tCardRequest cardRequest)
            ..
            +<back:cyan>KeypleCardSelector</back> getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests,
                \tboolean isStatusCodesVerificationEnabled)
            ..
            +List<ApduRequest> getApduRequests ()
            +boolean isStatusCodesVerificationEnabled ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes, boolean isCase4)
            +ApduRequest (byte cla, byte instruction,
                \tbyte p1, byte p2, byte[] dataIn, Byte le)
            ..
            +ApduRequest setSuccessfulStatusCodes (
                \tSet<Integer> successfulStatusCodes)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
            ..
            +boolean isCase4 ()
        }
        +class "**final** CardSelectionScenario" as CardSelectionScenario {
            - -
            +CardSelectionScenario (
                \tList<CardSelectionRequest> cardSelectionRequests,
                \tMultiSelectionProcessing multiSelectionProcessing,
                \tChannelControl channelControl)
            ..
            +MultiSelectionProcessing getMultiSelectionProcessing ()
            +ChannelControl getChannelControl ()
            +List<CardSelectionRequest> getCardSelectionRequests ()
        }
    }
    ' RESPONSE
    together {
        +class "<<<back:cyan>KeypleCardSelectionResponse</back>>>\n**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (
                \tSelectionStatus selectionStatus,
                \tCardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "<<Serializable>>\n**final** CardResponse" as CardResponse {
            - -
            +CardResponse (List<ApduResponse> apduResponses,
                \tboolean isLogicalChannelOpen,
                \tboolean isComplete)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
            +boolean isComplete ()
        }
        +class "<<Serializable>>\n**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] bytes)
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusCode ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
    }
    ' SPI
    package spi {
        +interface CardExtensionSpi {
            +String getCardApiVersion ()
            +String getServiceApiVersion ()
            +String getCommonsApiVersion ()
        }
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
    }
    +abstract class "<<Exception>>\nAbstractCommunicationException" as AbstractCommunicationException {
        - -
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
        ..
        +CardResponse getCardResponse ()
    }
    +class "**final** ReaderCommunicationException" as ReaderCommunicationException extends AbstractCommunicationException {
        - -
        +ReaderCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        +ReaderCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
    }
    +class "**final** CardCommunicationException" as CardCommunicationException extends AbstractCommunicationException {
        - -
        +CardCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        +CardCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
    }
}

' Associations

CardExtensionSpi ..> ApiProperties #C_USE : provide\nAPI version >

CardSelectionScenario *- - "1..N" CardSelectionRequest #C_LINK
CardSelectionScenario *- - "1" MultiSelectionProcessing #C_LINK
CardSelectionScenario *- - "1" ChannelControl #C_LINK

CardSelectionRequest *- - "0..1" CardRequest #C_LINK

CardRequest *- - "1..N" ApduRequest #C_LINK

CardSelectionResponse *- - "1" CardResponse #C_LINK
CardSelectionResponse *- - "1" SelectionStatus #C_LINK

CardResponse *- - "1..N" ApduResponse #C_LINK

SelectionStatus *- - "0..1" ApduResponse  #C_LINK
SelectionStatus *- - "0..1" AnswerToReset  #C_LINK

AbstractCommunicationException *-up- "0..1" CardResponse #C_LINK

ProxyReader -left-> CardSelectionRequest #C_USE : use >
ProxyReader - -> CardRequest #C_USE : use >
ProxyReader -up-> MultiSelectionProcessing #C_USE : use >
ProxyReader -up-> ChannelControl #C_USE : use >

ProxyReader -up-> CardSelectionResponse #C_USE : provide >
ProxyReader -> CardResponse #C_USE : provide >
ProxyReader - -> AbstractCommunicationException #C_USE : throw >

' == LAYOUT ==

spi -[hidden]- CardSelectionScenario
spi -[hidden]- CardSelectionResponse

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}

class CardSelectionScenario <<green>>
class CardSelectionRequest <<green>>
enum MultiSelectionProcessing <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractCommunicationException <<purple>>
class ReaderCommunicationException <<purple>>
class CardCommunicationException <<purple>>

@enduml

@startuml
title
        Keyple 2.0 - keyple-java-card-api - 2.0 (12/03/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    Legend : <back:cyan>from **Commons API**</back>
end legend

package "org.eclipse.keyple.core.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +CardResponse transmitCardRequest (
        \tCardRequest cardRequest,
        \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    together {
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
                \tCardRequest cardRequest)
            ..
            +<back:cyan>KeypleCardSelector</back> getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests,
                \tboolean isStatusCodesVerificationEnabled)
            ..
            +List<ApduRequest> getApduRequests ()
            +boolean isStatusCodesVerificationEnabled ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes, boolean isCase4)
            +ApduRequest (byte cla, byte instruction,
                \tbyte p1, byte p2, byte[] dataIn, Byte le)
            ..
            +ApduRequest setSuccessfulStatusCodes (
                \tSet<Integer> successfulStatusCodes)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
            ..
            +boolean isCase4 ()
        }
        +class "**final** CardSelectionScenario" as CardSelectionScenario {
            - -
            +CardSelectionScenario (
                \tList<CardSelectionRequest> cardSelectionRequests,
                \tMultiSelectionProcessing multiSelectionProcessing,
                \tChannelControl channelControl)
            ..
            +MultiSelectionProcessing getMultiSelectionProcessing ()
            +ChannelControl getChannelControl ()
            +List<CardSelectionRequest> getCardSelectionRequests ()
        }
    }
    together {
        +class "<<<back:cyan>KeypleCardSelectionResponse</back>>>\n**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (
                \tSelectionStatus selectionStatus,
                \tCardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "<<Serializable>>\n**final** CardResponse" as CardResponse {
            - -
            +CardResponse (List<ApduResponse> apduResponses,
                \tboolean isLogicalChannelOpen,
                \tboolean isComplete)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
            +boolean isComplete ()
        }
        +class "<<Serializable>>\n**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] bytes)
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusCode ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
    }
    package spi {
        +interface CardExtensionSpi {
            +String getCardApiVersion ()
            +String getServiceApiVersion ()
            +String getCommonsApiVersion ()
        }
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
    }
    +abstract class "<<Exception>>\nAbstractCommunicationException" as AbstractCommunicationException {
        - -
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
        ..
        +CardResponse getCardResponse ()
    }
    +class "**final** ReaderCommunicationException" as ReaderCommunicationException extends AbstractCommunicationException {
        - -
        +ReaderCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        +ReaderCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
    }
    +class "**final** CardCommunicationException" as CardCommunicationException extends AbstractCommunicationException {
        - -
        +CardCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        +CardCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
    }
}


CardExtensionSpi ..> ApiProperties #27AE60 : provide\nAPI version >

CardSelectionScenario *- - "1..N" CardSelectionRequest #3498DB
CardSelectionScenario *- - "1" MultiSelectionProcessing #3498DB
CardSelectionScenario *- - "1" ChannelControl #3498DB

CardSelectionRequest *- - "0..1" CardRequest #3498DB

CardRequest *- - "1..N" ApduRequest #3498DB

CardSelectionResponse *- - "1" CardResponse #3498DB
CardSelectionResponse *- - "1" SelectionStatus #3498DB

CardResponse *- - "1..N" ApduResponse #3498DB

SelectionStatus *- - "0..1" ApduResponse  #3498DB
SelectionStatus *- - "0..1" AnswerToReset  #3498DB

AbstractCommunicationException *-up- "0..1" CardResponse #3498DB

ProxyReader -left-> CardSelectionRequest #27AE60 : use >
ProxyReader - -> CardRequest #27AE60 : use >
ProxyReader -up-> MultiSelectionProcessing #27AE60 : use >
ProxyReader -up-> ChannelControl #27AE60 : use >

ProxyReader -up-> CardSelectionResponse #27AE60 : provide >
ProxyReader -> CardResponse #27AE60 : provide >
ProxyReader - -> AbstractCommunicationException #27AE60 : throw >


spi -[hidden]- CardSelectionScenario
spi -[hidden]- CardSelectionResponse


package api #F8F9F9 {}
package spi #F2F3F4 {}

class CardSelectionScenario <<green>>
class CardSelectionRequest <<green>>
enum MultiSelectionProcessing <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractCommunicationException <<purple>>
class ReaderCommunicationException <<purple>>
class CardCommunicationException <<purple>>

@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>