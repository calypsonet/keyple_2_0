<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3570px" preserveAspectRatio="none" style="width:4022px;height:3570px;" version="1.1" viewBox="0 0 4022 3570" width="4022.5px" zoomAndPan="magnify"><defs><filter height="1" id="b1i14s9fsf4km0" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1027.5" x="1481.25" y="46.7139">Keyple 2.0 - keyple-java-card-api - 2.0 (30/03/2021)</text><rect fill="#DDDDDD" height="157.0703" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:2.5;" width="555" x="1716.25" y="76.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" text-decoration="underline" textLength="220" x="1731.25" y="125.4346">Colors legend</text><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="10" x="1961.25" y="125.4346">:</text><ellipse cx="1745" cy="158.3984" fill="#000000" rx="6.25" ry="6.25" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" text-decoration="underline" textLength="472.5" x="1763.75" y="169.458">External public API references</text><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="10" x="2246.25" y="169.458">:</text><rect fill="#000000" height="8.75" style="stroke:#000000;stroke-width:0.0;" width="8.75" x="1783.75" y="201.1719"/><text fill="#000000" filter="url(#b1i14s9fsf4km0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="445" x="1796.25" y="213.4814">keyple-java-commons-api</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="40,271.1719,555,271.1719,572.5,330.1953,3980,330.1953,3980,3553.6719,40,3553.6719,40,271.1719" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="572.5" y1="330.1953" y2="330.1953"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="500" x="50" y="312.5049">org.eclipse.keyple.core.card</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="512.5,401.1719,580,401.1719,597.5,460.1953,3512.5,460.1953,3512.5,796.1719,512.5,796.1719,512.5,401.1719" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="512.5" x2="597.5" y1="460.1953" y2="460.1953"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="522.5" y="442.5049">spi</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="54" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="427.5" x="3008.75" y="1134.9219"/><ellipse cx="3046.25" cy="1174.9219" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3051.25,1166.1719 Q3051.7578,1164.9219 3052.3438,1164.2969 Q3052.9297,1163.6719 3053.5938,1163.6719 Q3054.7656,1163.6719 3055.5078,1164.375 Q3056.25,1165.0781 3056.25,1166.7188 L3056.25,1170.625 Q3056.25,1172.2656 3055.5469,1172.9688 Q3054.8438,1173.6719 3053.75,1173.6719 Q3052.7734,1173.6719 3052.1484,1173.2422 Q3051.5234,1172.8125 3051.25,1171.6797 Q3051.1328,1170.8984 3050.7031,1170.4688 Q3049.9219,1169.6484 3048.5156,1169.1797 Q3047.1094,1168.6719 3045.7031,1168.6719 Q3043.9453,1168.6719 3042.4609,1169.375 Q3041.0156,1170.0781 3039.8828,1171.6406 Q3038.75,1173.2031 3038.75,1175.3516 L3038.75,1177.6563 Q3038.75,1180.2344 3040.8594,1181.9531 Q3042.9688,1183.6719 3046.7188,1183.6719 Q3048.9453,1183.6719 3050.5078,1183.1641 Q3051.4063,1182.8906 3052.4219,1181.9922 Q3053.0859,1181.4844 3053.4375,1181.3281 Q3053.7891,1181.1719 3054.2188,1181.1719 Q3055.0391,1181.1719 3055.625,1181.8359 Q3056.25,1182.4609 3056.25,1183.3594 Q3056.25,1184.2188 3055.3906,1185.2344 Q3054.1406,1186.7188 3052.1484,1187.5391 Q3049.5313,1188.6719 3046.3281,1188.6719 Q3042.5781,1188.6719 3039.5703,1187.1875 Q3037.1484,1186.0156 3035.4297,1183.4766 Q3033.75,1180.9375 3033.75,1177.9297 L3033.75,1175.1953 Q3033.75,1172.0703 3035.2344,1169.3359 Q3036.7578,1166.6016 3039.375,1165.1563 Q3042.0313,1163.6719 3045,1163.6719 Q3046.7969,1163.6719 3048.3594,1164.2969 Q3049.9219,1164.9219 3051.25,1166.1719 Z " fill="#000000"/><ellipse cx="3093.75" cy="1173.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3108.75" y="1187.1973">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="3176.25" y="1187.1973">CardApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3011.25" x2="3433.75" y1="1214.9219" y2="1214.9219"/><ellipse cx="3036.25" cy="1242.4219" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="3058.75" y="1253.4692">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="3123.75" y="1253.4692">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3011.25" x2="3433.75" y1="1269.5117" y2="1269.5117"/><!--MD5=[96a4004012a1c08588eb87adf87ec875]
class ProxyReader--><rect codeLine="57" fill="#FEFECE" height="278.3594" id="ProxyReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="522.5" x="1936.25" y="2161.1719"/><ellipse cx="2083.125" cy="2201.1719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2085.625,2193.6719 L2085.625,2208.6719 L2090.625,2208.6719 L2091.8359,2208.6719 L2093.125,2210.2344 L2093.125,2211.1719 L2093.125,2212.1094 L2091.8359,2213.6719 L2090.625,2213.6719 L2075.625,2213.6719 L2074.4141,2213.6719 L2073.125,2212.1094 L2073.125,2211.1719 L2073.125,2210.2344 L2074.4141,2208.6719 L2075.625,2208.6719 L2080.625,2208.6719 L2080.625,2193.6719 L2075.625,2193.6719 L2074.4141,2193.6719 L2073.125,2192.1094 L2073.125,2191.1719 L2073.125,2190.2344 L2074.4141,2188.6719 L2075.625,2188.6719 L2090.625,2188.6719 L2091.8359,2188.6719 L2093.125,2190.2344 L2093.125,2191.1719 L2093.125,2192.1094 L2091.8359,2193.6719 L2090.625,2193.6719 L2085.625,2193.6719 Z " fill="#000000"/><ellipse cx="2146.875" cy="2199.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="2161.875" y="2213.4473">ProxyReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1938.75" x2="2456.25" y1="2241.1719" y2="2241.1719"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1938.75" x2="2456.25" y1="2261.1719" y2="2261.1719"/><ellipse cx="1963.75" cy="2288.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="457.5" x="1986.25" y="2299.7192">CardResponse transmitCardRequest (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="2046.25" y="2334.3091">CardRequest cardRequest,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="2046.25" y="2368.8989">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1938.75" x2="2456.25" y1="2384.9414" y2="2384.9414"/><ellipse cx="1963.75" cy="2412.4414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="1986.25" y="2423.4888">void releaseChannel ()</text><!--MD5=[74186dfc070fdcd425f3f969c4ef0c47]
class AbstractCommunicationException--><rect codeLine="265" fill="#F4ECF7" height="402.5977" id="AbstractCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="575" x="1980" y="2726.1719"/><ellipse cx="2017.5" cy="2776.4063" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M2021.875,2780.1563 L2013.6328,2780.1563 L2012.5391,2782.6563 L2012.5391,2782.6563 L2013.7109,2782.6563 L2015,2784.2188 L2015,2785.1563 L2015,2786.0938 L2013.7109,2787.6563 L2012.5391,2787.6563 L2007.8125,2787.6563 L2006.2891,2787.6563 L2005,2786.0938 L2005,2785.1563 L2005,2784.2188 L2006.2891,2782.6563 L2007.8125,2782.6563 L2013.5938,2767.6563 L2011.4063,2767.6563 L2008.7891,2767.6563 L2007.5,2766.0938 L2007.5,2765.1563 L2007.5,2764.2188 L2008.7891,2762.6563 L2011.4063,2762.6563 L2020.5859,2762.6563 L2027.3047,2782.6563 L2028.7109,2782.6563 L2028.7109,2782.6563 L2030,2784.2188 L2030,2785.1563 L2030,2786.0938 L2028.7109,2787.6563 L2027.3047,2787.6563 L2022.5781,2787.6563 L2021.2891,2787.6563 L2020,2786.0938 L2020,2785.1563 L2020,2784.2188 L2021.2891,2782.6563 L2022.5781,2782.6563 L2022.5781,2782.6563 L2021.875,2780.1563 Z M2020.5078,2775.1563 L2017.5,2766.2109 L2014.9219,2775.1563 L2020.5078,2775.1563 Z " fill="#000000"/><ellipse cx="2065" cy="2775.1563" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="205" x="2211.25" y="2769.8145">&lt;&lt;Exception&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="467.5" x="2080" y="2807.5488">AbstractCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1982.5" x2="2552.5" y1="2826.6406" y2="2826.6406"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="1982.5" x2="2552.5" y1="2846.6406" y2="2846.6406"/><polygon fill="#FFFF44" points="2007.5,2861.6406,2017.5,2871.6406,2007.5,2881.6406,1997.5,2871.6406" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="2030" y="2885.188">AbstractCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2090" y="2919.7778">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="2090" y="2954.3677">String message)</text><polygon fill="#FFFF44" points="2007.5,2965.4102,2017.5,2975.4102,2007.5,2985.4102,1997.5,2975.4102" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="2030" y="2988.9575">AbstractCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2090" y="3023.5474">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="2090" y="3058.1372">String message, Throwable cause)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1982.5" x2="2552.5" y1="3074.1797" y2="3074.1797"/><ellipse cx="2007.5" cy="3101.6797" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="2030" y="3112.7271">CardResponse getCardResponse ()</text><!--MD5=[0dee1c75f9ece47f254a0a355731a0bb]
class ReaderCommunicationException--><rect codeLine="266" fill="#F4ECF7" height="189.1797" id="ReaderCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="1272.5" x="1073.75" y="3323.6719"/><ellipse cx="1423.125" cy="3363.6719" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1428.125,3354.9219 Q1428.6328,3353.6719 1429.2188,3353.0469 Q1429.8047,3352.4219 1430.4688,3352.4219 Q1431.6406,3352.4219 1432.3828,3353.125 Q1433.125,3353.8281 1433.125,3355.4688 L1433.125,3359.375 Q1433.125,3361.0156 1432.4219,3361.7188 Q1431.7188,3362.4219 1430.625,3362.4219 Q1429.6484,3362.4219 1429.0234,3361.9922 Q1428.3984,3361.5625 1428.125,3360.4297 Q1428.0078,3359.6484 1427.5781,3359.2188 Q1426.7969,3358.3984 1425.3906,3357.9297 Q1423.9844,3357.4219 1422.5781,3357.4219 Q1420.8203,3357.4219 1419.3359,3358.125 Q1417.8906,3358.8281 1416.7578,3360.3906 Q1415.625,3361.9531 1415.625,3364.1016 L1415.625,3366.4063 Q1415.625,3368.9844 1417.7344,3370.7031 Q1419.8438,3372.4219 1423.5938,3372.4219 Q1425.8203,3372.4219 1427.3828,3371.9141 Q1428.2813,3371.6406 1429.2969,3370.7422 Q1429.9609,3370.2344 1430.3125,3370.0781 Q1430.6641,3369.9219 1431.0938,3369.9219 Q1431.9141,3369.9219 1432.5,3370.5859 Q1433.125,3371.2109 1433.125,3372.1094 Q1433.125,3372.9688 1432.2656,3373.9844 Q1431.0156,3375.4688 1429.0234,3376.2891 Q1426.4063,3377.4219 1423.2031,3377.4219 Q1419.4531,3377.4219 1416.4453,3375.9375 Q1414.0234,3374.7656 1412.3047,3372.2266 Q1410.625,3369.6875 1410.625,3366.6797 L1410.625,3363.9453 Q1410.625,3360.8203 1412.1094,3358.0859 Q1413.6328,3355.3516 1416.25,3353.9063 Q1418.9063,3352.4219 1421.875,3352.4219 Q1423.6719,3352.4219 1425.2344,3353.0469 Q1426.7969,3353.6719 1428.125,3354.9219 Z " fill="#000000"/><ellipse cx="1486.875" cy="3362.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1501.875" y="3375.9473">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="457.5" x="1569.375" y="3375.9473">ReaderCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1076.25" x2="2343.75" y1="3403.6719" y2="3403.6719"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="1076.25" x2="2343.75" y1="3423.6719" y2="3423.6719"/><ellipse cx="1101.25" cy="3451.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="980" x="1123.75" y="3462.2192">ReaderCommunicationException (CardResponse cardResponse, String message)</text><ellipse cx="1101.25" cy="3485.7617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1207.5" x="1123.75" y="3496.8091">ReaderCommunicationException (CardResponse cardResponse, String message, Throwable cause)</text><!--MD5=[32fc7b65f340d78e9416d68a58b55b2e]
class CardCommunicationException--><rect codeLine="267" fill="#F4ECF7" height="189.1797" id="CardCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="1242.5" x="2433.75" y="3323.6719"/><ellipse cx="2785.625" cy="3363.6719" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2790.625,3354.9219 Q2791.1328,3353.6719 2791.7188,3353.0469 Q2792.3047,3352.4219 2792.9688,3352.4219 Q2794.1406,3352.4219 2794.8828,3353.125 Q2795.625,3353.8281 2795.625,3355.4688 L2795.625,3359.375 Q2795.625,3361.0156 2794.9219,3361.7188 Q2794.2188,3362.4219 2793.125,3362.4219 Q2792.1484,3362.4219 2791.5234,3361.9922 Q2790.8984,3361.5625 2790.625,3360.4297 Q2790.5078,3359.6484 2790.0781,3359.2188 Q2789.2969,3358.3984 2787.8906,3357.9297 Q2786.4844,3357.4219 2785.0781,3357.4219 Q2783.3203,3357.4219 2781.8359,3358.125 Q2780.3906,3358.8281 2779.2578,3360.3906 Q2778.125,3361.9531 2778.125,3364.1016 L2778.125,3366.4063 Q2778.125,3368.9844 2780.2344,3370.7031 Q2782.3438,3372.4219 2786.0938,3372.4219 Q2788.3203,3372.4219 2789.8828,3371.9141 Q2790.7813,3371.6406 2791.7969,3370.7422 Q2792.4609,3370.2344 2792.8125,3370.0781 Q2793.1641,3369.9219 2793.5938,3369.9219 Q2794.4141,3369.9219 2795,3370.5859 Q2795.625,3371.2109 2795.625,3372.1094 Q2795.625,3372.9688 2794.7656,3373.9844 Q2793.5156,3375.4688 2791.5234,3376.2891 Q2788.9063,3377.4219 2785.7031,3377.4219 Q2781.9531,3377.4219 2778.9453,3375.9375 Q2776.5234,3374.7656 2774.8047,3372.2266 Q2773.125,3369.6875 2773.125,3366.6797 L2773.125,3363.9453 Q2773.125,3360.8203 2774.6094,3358.0859 Q2776.1328,3355.3516 2778.75,3353.9063 Q2781.4063,3352.4219 2784.375,3352.4219 Q2786.1719,3352.4219 2787.7344,3353.0469 Q2789.2969,3353.6719 2790.625,3354.9219 Z " fill="#000000"/><ellipse cx="2849.375" cy="3362.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2864.375" y="3375.9473">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="422.5" x="2931.875" y="3375.9473">CardCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2436.25" x2="3673.75" y1="3403.6719" y2="3403.6719"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2436.25" x2="3673.75" y1="3423.6719" y2="3423.6719"/><ellipse cx="2461.25" cy="3451.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="950" x="2483.75" y="3462.2192">CardCommunicationException (CardResponse cardResponse, String message)</text><ellipse cx="2461.25" cy="3485.7617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1177.5" x="2483.75" y="3496.8091">CardCommunicationException (CardResponse cardResponse, String message, Throwable cause)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect codeLine="255" fill="#E9F7EF" height="189.1797" id="MultiSelectionProcessing" style="stroke:#27AE60;stroke-width:3.75;" width="450" x="1405" y="1659.9219"/><ellipse cx="1442.5" cy="1699.9219" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1438.75,1702.4219 L1438.75,1707.4219 L1448.75,1707.4219 L1448.75,1704.9219 L1448.75,1703.7109 L1450.3125,1702.4219 L1451.25,1702.4219 L1452.1875,1702.4219 L1453.75,1703.7109 L1453.75,1704.9219 L1453.75,1712.4219 L1433.75,1712.4219 L1432.5391,1712.4219 L1431.25,1710.8594 L1431.25,1709.9219 L1431.25,1708.9844 L1432.5391,1707.4219 L1433.75,1707.4219 L1433.75,1707.4219 L1433.75,1692.4219 L1433.75,1692.4219 L1432.5391,1692.4219 L1431.25,1690.8594 L1431.25,1689.9219 L1431.25,1688.9844 L1432.5391,1687.4219 L1433.75,1687.4219 L1453.75,1687.4219 L1453.75,1694.9219 L1453.75,1696.1328 L1452.1875,1697.4219 L1451.25,1697.4219 L1450.3125,1697.4219 L1448.75,1696.1328 L1448.75,1694.9219 L1448.75,1692.4219 L1438.75,1692.4219 L1438.75,1697.4219 L1441.25,1697.4219 L1441.25,1696.2109 L1441.25,1696.2109 L1442.8125,1694.9219 L1443.75,1694.9219 L1444.6875,1694.9219 L1446.25,1696.2109 L1446.25,1697.4219 L1446.25,1702.4219 L1446.25,1703.6328 L1444.6875,1704.9219 L1444.6875,1704.9219 L1443.75,1704.9219 L1442.8125,1704.9219 L1441.25,1703.6328 L1441.25,1703.6328 L1441.25,1702.4219 L1438.75,1702.4219 Z " fill="#000000"/><ellipse cx="1490" cy="1698.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="342.5" x="1505" y="1712.1973">MultiSelectionProcessing</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1407.5" x2="1852.5" y1="1739.9219" y2="1739.9219"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="175" x="1420" y="1778.4692">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="185" x="1420" y="1813.0591">PROCESS_ALL</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1407.5" x2="1852.5" y1="1829.1016" y2="1829.1016"/><!--MD5=[ee0d3336d8d2c9dd88a5ad188defe636]
class ChannelControl--><rect codeLine="256" fill="#E9F7EF" height="189.1797" id="ChannelControl" style="stroke:#27AE60;stroke-width:3.75;" width="325" x="992.5" y="1659.9219"/><ellipse cx="1030" cy="1699.9219" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1026.25,1702.4219 L1026.25,1707.4219 L1036.25,1707.4219 L1036.25,1704.9219 L1036.25,1703.7109 L1037.8125,1702.4219 L1038.75,1702.4219 L1039.6875,1702.4219 L1041.25,1703.7109 L1041.25,1704.9219 L1041.25,1712.4219 L1021.25,1712.4219 L1020.0391,1712.4219 L1018.75,1710.8594 L1018.75,1709.9219 L1018.75,1708.9844 L1020.0391,1707.4219 L1021.25,1707.4219 L1021.25,1707.4219 L1021.25,1692.4219 L1021.25,1692.4219 L1020.0391,1692.4219 L1018.75,1690.8594 L1018.75,1689.9219 L1018.75,1688.9844 L1020.0391,1687.4219 L1021.25,1687.4219 L1041.25,1687.4219 L1041.25,1694.9219 L1041.25,1696.1328 L1039.6875,1697.4219 L1038.75,1697.4219 L1037.8125,1697.4219 L1036.25,1696.1328 L1036.25,1694.9219 L1036.25,1692.4219 L1026.25,1692.4219 L1026.25,1697.4219 L1028.75,1697.4219 L1028.75,1696.2109 L1028.75,1696.2109 L1030.3125,1694.9219 L1031.25,1694.9219 L1032.1875,1694.9219 L1033.75,1696.2109 L1033.75,1697.4219 L1033.75,1702.4219 L1033.75,1703.6328 L1032.1875,1704.9219 L1032.1875,1704.9219 L1031.25,1704.9219 L1030.3125,1704.9219 L1028.75,1703.6328 L1028.75,1703.6328 L1028.75,1702.4219 L1026.25,1702.4219 Z " fill="#000000"/><ellipse cx="1077.5" cy="1698.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="217.5" x="1092.5" y="1712.1973">ChannelControl</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="995" x2="1315" y1="1739.9219" y2="1739.9219"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="145" x="1007.5" y="1778.4692">KEEP_OPEN</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="1007.5" y="1813.0591">CLOSE_AFTER</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="995" x2="1315" y1="1829.1016" y2="1829.1016"/><!--MD5=[d7ab57eb2840e7832714f3f9db0d2391]
class CardSelectionRequest--><rect codeLine="254" fill="#E9F7EF" height="312.9492" id="CardSelectionRequest" style="stroke:#27AE60;stroke-width:3.75;" width="762.5" x="141.25" y="1598.6719"/><ellipse cx="309.375" cy="1638.6719" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M314.375,1629.9219 Q314.8828,1628.6719 315.4688,1628.0469 Q316.0547,1627.4219 316.7188,1627.4219 Q317.8906,1627.4219 318.6328,1628.125 Q319.375,1628.8281 319.375,1630.4688 L319.375,1634.375 Q319.375,1636.0156 318.6719,1636.7188 Q317.9688,1637.4219 316.875,1637.4219 Q315.8984,1637.4219 315.2734,1636.9922 Q314.6484,1636.5625 314.375,1635.4297 Q314.2578,1634.6484 313.8281,1634.2188 Q313.0469,1633.3984 311.6406,1632.9297 Q310.2344,1632.4219 308.8281,1632.4219 Q307.0703,1632.4219 305.5859,1633.125 Q304.1406,1633.8281 303.0078,1635.3906 Q301.875,1636.9531 301.875,1639.1016 L301.875,1641.4063 Q301.875,1643.9844 303.9844,1645.7031 Q306.0938,1647.4219 309.8438,1647.4219 Q312.0703,1647.4219 313.6328,1646.9141 Q314.5313,1646.6406 315.5469,1645.7422 Q316.2109,1645.2344 316.5625,1645.0781 Q316.9141,1644.9219 317.3438,1644.9219 Q318.1641,1644.9219 318.75,1645.5859 Q319.375,1646.2109 319.375,1647.1094 Q319.375,1647.9688 318.5156,1648.9844 Q317.2656,1650.4688 315.2734,1651.2891 Q312.6563,1652.4219 309.4531,1652.4219 Q305.7031,1652.4219 302.6953,1650.9375 Q300.2734,1649.7656 298.5547,1647.2266 Q296.875,1644.6875 296.875,1641.6797 L296.875,1638.9453 Q296.875,1635.8203 298.3594,1633.0859 Q299.8828,1630.3516 302.5,1628.9063 Q305.1563,1627.4219 308.125,1627.4219 Q309.9219,1627.4219 311.4844,1628.0469 Q313.0469,1628.6719 314.375,1629.9219 Z " fill="#000000"/><ellipse cx="373.125" cy="1637.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="388.125" y="1650.9473">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="310" x="455.625" y="1650.9473">CardSelectionRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="143.75" x2="901.25" y1="1678.6719" y2="1678.6719"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="143.75" x2="901.25" y1="1698.6719" y2="1698.6719"/><ellipse cx="168.75" cy="1726.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="191.25" y="1737.2192">CardSelectionRequest (</text><text fill="#000000" filter="url(#b1i14s9fsf4km0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="476.25" y="1737.2192">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="165" x="723.75" y="1737.2192">cardSelector)</text><ellipse cx="168.75" cy="1760.7617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="285" x="191.25" y="1771.8091">CardSelectionRequest (</text><text fill="#000000" filter="url(#b1i14s9fsf4km0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="476.25" y="1771.8091">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="162.5" x="723.75" y="1771.8091">cardSelector,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="330" x="251.25" y="1806.3989">CardRequest cardRequest)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="143.75" x2="901.25" y1="1822.4414" y2="1822.4414"/><ellipse cx="168.75" cy="1849.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#b1i14s9fsf4km0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="191.25" y="1860.9888">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="438.75" y="1860.9888">getCardSelector ()</text><ellipse cx="168.75" cy="1884.5313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="191.25" y="1895.5786">CardRequest getCardRequest ()</text><!--MD5=[d4546fa1b310652d2e612bec588497f1]
class CardRequest--><rect codeLine="257" fill="#E9F7EF" height="243.7695" id="CardRequest" style="stroke:#27AE60;stroke-width:3.75;" width="1195" x="352.5" y="2177.4219"/><ellipse cx="800.625" cy="2217.4219" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M805.625,2208.6719 Q806.1328,2207.4219 806.7188,2206.7969 Q807.3047,2206.1719 807.9688,2206.1719 Q809.1406,2206.1719 809.8828,2206.875 Q810.625,2207.5781 810.625,2209.2188 L810.625,2213.125 Q810.625,2214.7656 809.9219,2215.4688 Q809.2188,2216.1719 808.125,2216.1719 Q807.1484,2216.1719 806.5234,2215.7422 Q805.8984,2215.3125 805.625,2214.1797 Q805.5078,2213.3984 805.0781,2212.9688 Q804.2969,2212.1484 802.8906,2211.6797 Q801.4844,2211.1719 800.0781,2211.1719 Q798.3203,2211.1719 796.8359,2211.875 Q795.3906,2212.5781 794.2578,2214.1406 Q793.125,2215.7031 793.125,2217.8516 L793.125,2220.1563 Q793.125,2222.7344 795.2344,2224.4531 Q797.3438,2226.1719 801.0938,2226.1719 Q803.3203,2226.1719 804.8828,2225.6641 Q805.7813,2225.3906 806.7969,2224.4922 Q807.4609,2223.9844 807.8125,2223.8281 Q808.1641,2223.6719 808.5938,2223.6719 Q809.4141,2223.6719 810,2224.3359 Q810.625,2224.9609 810.625,2225.8594 Q810.625,2226.7188 809.7656,2227.7344 Q808.5156,2229.2188 806.5234,2230.0391 Q803.9063,2231.1719 800.7031,2231.1719 Q796.9531,2231.1719 793.9453,2229.6875 Q791.5234,2228.5156 789.8047,2225.9766 Q788.125,2223.4375 788.125,2220.4297 L788.125,2217.6953 Q788.125,2214.5703 789.6094,2211.8359 Q791.1328,2209.1016 793.75,2207.6563 Q796.4063,2206.1719 799.375,2206.1719 Q801.1719,2206.1719 802.7344,2206.7969 Q804.2969,2207.4219 805.625,2208.6719 Z " fill="#000000"/><ellipse cx="864.375" cy="2216.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="879.375" y="2229.6973">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="182.5" x="946.875" y="2229.6973">CardRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="355" x2="1545" y1="2257.4219" y2="2257.4219"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="355" x2="1545" y1="2277.4219" y2="2277.4219"/><ellipse cx="380" cy="2304.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1130" x="402.5" y="2315.9692">CardRequest (List&lt;ApduRequest&gt; apduRequests, boolean isStatusCodesVerificationEnabled)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="355" x2="1545" y1="2332.0117" y2="2332.0117"/><ellipse cx="380" cy="2359.5117" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="490" x="402.5" y="2370.5591">List&lt;ApduRequest&gt; getApduRequests ()</text><ellipse cx="380" cy="2394.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="537.5" x="402.5" y="2405.1489">boolean isStatusCodesVerificationEnabled ()</text><!--MD5=[8d2debdbb32bf9c83697f345c4529e73]
class ApduRequest--><rect codeLine="258" fill="#E9F7EF" height="476.7188" id="ApduRequest" style="stroke:#27AE60;stroke-width:3.75;" width="1045" x="427.5" y="2688.6719"/><ellipse cx="798.125" cy="2728.6719" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M803.125,2719.9219 Q803.6328,2718.6719 804.2188,2718.0469 Q804.8047,2717.4219 805.4688,2717.4219 Q806.6406,2717.4219 807.3828,2718.125 Q808.125,2718.8281 808.125,2720.4688 L808.125,2724.375 Q808.125,2726.0156 807.4219,2726.7188 Q806.7188,2727.4219 805.625,2727.4219 Q804.6484,2727.4219 804.0234,2726.9922 Q803.3984,2726.5625 803.125,2725.4297 Q803.0078,2724.6484 802.5781,2724.2188 Q801.7969,2723.3984 800.3906,2722.9297 Q798.9844,2722.4219 797.5781,2722.4219 Q795.8203,2722.4219 794.3359,2723.125 Q792.8906,2723.8281 791.7578,2725.3906 Q790.625,2726.9531 790.625,2729.1016 L790.625,2731.4063 Q790.625,2733.9844 792.7344,2735.7031 Q794.8438,2737.4219 798.5938,2737.4219 Q800.8203,2737.4219 802.3828,2736.9141 Q803.2813,2736.6406 804.2969,2735.7422 Q804.9609,2735.2344 805.3125,2735.0781 Q805.6641,2734.9219 806.0938,2734.9219 Q806.9141,2734.9219 807.5,2735.5859 Q808.125,2736.2109 808.125,2737.1094 Q808.125,2737.9688 807.2656,2738.9844 Q806.0156,2740.4688 804.0234,2741.2891 Q801.4063,2742.4219 798.2031,2742.4219 Q794.4531,2742.4219 791.4453,2740.9375 Q789.0234,2739.7656 787.3047,2737.2266 Q785.625,2734.6875 785.625,2731.6797 L785.625,2728.9453 Q785.625,2725.8203 787.1094,2723.0859 Q788.6328,2720.3516 791.25,2718.9063 Q793.9063,2717.4219 796.875,2717.4219 Q798.6719,2717.4219 800.2344,2718.0469 Q801.7969,2718.6719 803.125,2719.9219 Z " fill="#000000"/><ellipse cx="861.875" cy="2727.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="876.875" y="2740.9473">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="187.5" x="944.375" y="2740.9473">ApduRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="430" x2="1470" y1="2768.6719" y2="2768.6719"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="430" x2="1470" y1="2788.6719" y2="2788.6719"/><ellipse cx="455" cy="2816.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="550" x="477.5" y="2827.2192">ApduRequest (byte[] bytes, boolean isCase4)</text><ellipse cx="455" cy="2850.7617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="957.5" x="477.5" y="2861.8091">ApduRequest (byte cla, byte instruction, byte p1, byte p2, byte[] dataIn, Byte le)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="430" x2="1470" y1="2877.8516" y2="2877.8516"/><ellipse cx="455" cy="2905.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="980" x="477.5" y="2916.3989">ApduRequest setSuccessfulStatusCodes (Set&lt;Integer&gt; successfulStatusCodes)</text><ellipse cx="455" cy="2939.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="517.5" x="477.5" y="2950.9888">Set&lt;Integer&gt; getSuccessfulStatusCodes ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="430" x2="1470" y1="2967.0313" y2="2967.0313"/><ellipse cx="455" cy="2994.5313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="477.5" y="3005.5786">ApduRequest setName (String name)</text><ellipse cx="455" cy="3029.1211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="477.5" y="3040.1685">String getName ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="430" x2="1470" y1="3056.2109" y2="3056.2109"/><ellipse cx="455" cy="3083.7109" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="477.5" y="3094.7583">byte[] getBytes ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="430" x2="1470" y1="3110.8008" y2="3110.8008"/><ellipse cx="455" cy="3138.3008" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="227.5" x="477.5" y="3149.3481">boolean isCase4 ()</text><!--MD5=[dbd8c161f500c947422961202b070083]
class CardSelectionScenario--><rect codeLine="253" fill="#E9F7EF" height="382.1289" id="CardSelectionScenario" style="stroke:#27AE60;stroke-width:3.75;" width="760" x="775" y="1021.1719"/><ellipse cx="938.125" cy="1061.1719" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M943.125,1052.4219 Q943.6328,1051.1719 944.2188,1050.5469 Q944.8047,1049.9219 945.4688,1049.9219 Q946.6406,1049.9219 947.3828,1050.625 Q948.125,1051.3281 948.125,1052.9688 L948.125,1056.875 Q948.125,1058.5156 947.4219,1059.2188 Q946.7188,1059.9219 945.625,1059.9219 Q944.6484,1059.9219 944.0234,1059.4922 Q943.3984,1059.0625 943.125,1057.9297 Q943.0078,1057.1484 942.5781,1056.7188 Q941.7969,1055.8984 940.3906,1055.4297 Q938.9844,1054.9219 937.5781,1054.9219 Q935.8203,1054.9219 934.3359,1055.625 Q932.8906,1056.3281 931.7578,1057.8906 Q930.625,1059.4531 930.625,1061.6016 L930.625,1063.9063 Q930.625,1066.4844 932.7344,1068.2031 Q934.8438,1069.9219 938.5938,1069.9219 Q940.8203,1069.9219 942.3828,1069.4141 Q943.2813,1069.1406 944.2969,1068.2422 Q944.9609,1067.7344 945.3125,1067.5781 Q945.6641,1067.4219 946.0938,1067.4219 Q946.9141,1067.4219 947.5,1068.0859 Q948.125,1068.7109 948.125,1069.6094 Q948.125,1070.4688 947.2656,1071.4844 Q946.0156,1072.9688 944.0234,1073.7891 Q941.4063,1074.9219 938.2031,1074.9219 Q934.4531,1074.9219 931.4453,1073.4375 Q929.0234,1072.2656 927.3047,1069.7266 Q925.625,1067.1875 925.625,1064.1797 L925.625,1061.4453 Q925.625,1058.3203 927.1094,1055.5859 Q928.6328,1052.8516 931.25,1051.4063 Q933.9063,1049.9219 936.875,1049.9219 Q938.6719,1049.9219 940.2344,1050.5469 Q941.7969,1051.1719 943.125,1052.4219 Z " fill="#000000"/><ellipse cx="1001.875" cy="1059.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1016.875" y="1073.4473">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="317.5" x="1084.375" y="1073.4473">CardSelectionScenario</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="777.5" x2="1532.5" y1="1101.1719" y2="1101.1719"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="777.5" x2="1532.5" y1="1121.1719" y2="1121.1719"/><ellipse cx="802.5" cy="1148.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="292.5" x="825" y="1159.7192">CardSelectionScenario (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="635" x="885" y="1194.3091">List&lt;CardSelectionRequest&gt; cardSelectionRequests,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="885" y="1228.8989">MultiSelectionProcessing multiSelectionProcessing,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="885" y="1263.4888">ChannelControl channelControl)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="777.5" x2="1532.5" y1="1279.5313" y2="1279.5313"/><ellipse cx="802.5" cy="1307.0313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="667.5" x="825" y="1318.0786">MultiSelectionProcessing getMultiSelectionProcessing ()</text><ellipse cx="802.5" cy="1341.6211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="825" y="1352.6685">ChannelControl getChannelControl ()</text><ellipse cx="802.5" cy="1376.2109" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="695" x="825" y="1387.2583">List&lt;CardSelectionRequest&gt; getCardSelectionRequests ()</text><!--MD5=[ad88d8106adc0f21766a2a077a674dda]
class CardSelectionResponse--><rect codeLine="260" fill="#F4ECF7" height="264.2383" id="CardSelectionResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="1142.5" x="2683.75" y="1622.4219"/><ellipse cx="2980.625" cy="1672.6563" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2985.625,1663.9063 Q2986.1328,1662.6563 2986.7188,1662.0313 Q2987.3047,1661.4063 2987.9688,1661.4063 Q2989.1406,1661.4063 2989.8828,1662.1094 Q2990.625,1662.8125 2990.625,1664.4531 L2990.625,1668.3594 Q2990.625,1670 2989.9219,1670.7031 Q2989.2188,1671.4063 2988.125,1671.4063 Q2987.1484,1671.4063 2986.5234,1670.9766 Q2985.8984,1670.5469 2985.625,1669.4141 Q2985.5078,1668.6328 2985.0781,1668.2031 Q2984.2969,1667.3828 2982.8906,1666.9141 Q2981.4844,1666.4063 2980.0781,1666.4063 Q2978.3203,1666.4063 2976.8359,1667.1094 Q2975.3906,1667.8125 2974.2578,1669.375 Q2973.125,1670.9375 2973.125,1673.0859 L2973.125,1675.3906 Q2973.125,1677.9688 2975.2344,1679.6875 Q2977.3438,1681.4063 2981.0938,1681.4063 Q2983.3203,1681.4063 2984.8828,1680.8984 Q2985.7813,1680.625 2986.7969,1679.7266 Q2987.4609,1679.2188 2987.8125,1679.0625 Q2988.1641,1678.9063 2988.5938,1678.9063 Q2989.4141,1678.9063 2990,1679.5703 Q2990.625,1680.1953 2990.625,1681.0938 Q2990.625,1681.9531 2989.7656,1682.9688 Q2988.5156,1684.4531 2986.5234,1685.2734 Q2983.9063,1686.4063 2980.7031,1686.4063 Q2976.9531,1686.4063 2973.9453,1684.9219 Q2971.5234,1683.75 2969.8047,1681.2109 Q2968.125,1678.6719 2968.125,1675.6641 L2968.125,1672.9297 Q2968.125,1669.8047 2969.6094,1667.0703 Q2971.1328,1664.3359 2973.75,1662.8906 Q2976.4063,1661.4063 2979.375,1661.4063 Q2981.1719,1661.4063 2982.7344,1662.0313 Q2984.2969,1662.6563 2985.625,1663.9063 Z " fill="#000000"/><ellipse cx="3044.375" cy="1671.4063" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3059.375" y="1666.0645">&lt;&lt;</text><text fill="#000000" filter="url(#b1i14s9fsf4km0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="430" x="3094.375" y="1666.0645">KeypleCardSelectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3524.375" y="1666.0645">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3108.125" y="1703.7988">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="335" x="3175.625" y="1703.7988">CardSelectionResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2686.25" x2="3823.75" y1="1722.8906" y2="1722.8906"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2686.25" x2="3823.75" y1="1742.8906" y2="1742.8906"/><ellipse cx="2711.25" cy="1770.3906" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1077.5" x="2733.75" y="1781.438">CardSelectionResponse (SelectionStatus selectionStatus, CardResponse cardResponse)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2686.25" x2="3823.75" y1="1797.4805" y2="1797.4805"/><ellipse cx="2711.25" cy="1824.9805" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="2733.75" y="1836.0278">SelectionStatus getSelectionStatus ()</text><ellipse cx="2711.25" cy="1859.5703" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="2733.75" y="1870.6177">CardResponse getCardResponse ()</text><!--MD5=[62519695b550f8cbf5b64cbd0e08e475]
class CardResponse--><rect codeLine="261" fill="#F4ECF7" height="388.0078" id="CardResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="735" x="2682.5" y="2106.1719"/><ellipse cx="2888.125" cy="2156.4063" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2893.125,2147.6563 Q2893.6328,2146.4063 2894.2188,2145.7813 Q2894.8047,2145.1563 2895.4688,2145.1563 Q2896.6406,2145.1563 2897.3828,2145.8594 Q2898.125,2146.5625 2898.125,2148.2031 L2898.125,2152.1094 Q2898.125,2153.75 2897.4219,2154.4531 Q2896.7188,2155.1563 2895.625,2155.1563 Q2894.6484,2155.1563 2894.0234,2154.7266 Q2893.3984,2154.2969 2893.125,2153.1641 Q2893.0078,2152.3828 2892.5781,2151.9531 Q2891.7969,2151.1328 2890.3906,2150.6641 Q2888.9844,2150.1563 2887.5781,2150.1563 Q2885.8203,2150.1563 2884.3359,2150.8594 Q2882.8906,2151.5625 2881.7578,2153.125 Q2880.625,2154.6875 2880.625,2156.8359 L2880.625,2159.1406 Q2880.625,2161.7188 2882.7344,2163.4375 Q2884.8438,2165.1563 2888.5938,2165.1563 Q2890.8203,2165.1563 2892.3828,2164.6484 Q2893.2813,2164.375 2894.2969,2163.4766 Q2894.9609,2162.9688 2895.3125,2162.8125 Q2895.6641,2162.6563 2896.0938,2162.6563 Q2896.9141,2162.6563 2897.5,2163.3203 Q2898.125,2163.9453 2898.125,2164.8438 Q2898.125,2165.7031 2897.2656,2166.7188 Q2896.0156,2168.2031 2894.0234,2169.0234 Q2891.4063,2170.1563 2888.2031,2170.1563 Q2884.4531,2170.1563 2881.4453,2168.6719 Q2879.0234,2167.5 2877.3047,2164.9609 Q2875.625,2162.4219 2875.625,2159.4141 L2875.625,2156.6797 Q2875.625,2153.5547 2877.1094,2150.8203 Q2878.6328,2148.0859 2881.25,2146.6406 Q2883.9063,2145.1563 2886.875,2145.1563 Q2888.6719,2145.1563 2890.2344,2145.7813 Q2891.7969,2146.4063 2893.125,2147.6563 Z " fill="#000000"/><ellipse cx="2951.875" cy="2155.1563" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="237.5" x="2985.625" y="2149.8145">&lt;&lt;Serializable&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2966.875" y="2187.5488">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="207.5" x="3034.375" y="2187.5488">CardResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2685" x2="3415" y1="2206.6406" y2="2206.6406"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2685" x2="3415" y1="2226.6406" y2="2226.6406"/><ellipse cx="2710" cy="2254.1406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="670" x="2732.5" y="2265.188">CardResponse (List&lt;ApduResponse&gt; apduResponses,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="377.5" x="2792.5" y="2299.7778">boolean isLogicalChannelOpen,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="242.5" x="2792.5" y="2334.3677">boolean isComplete)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2685" x2="3415" y1="2350.4102" y2="2350.4102"/><ellipse cx="2710" cy="2377.9102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="2732.5" y="2388.9575">List&lt;ApduResponse&gt; getApduResponses ()</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2685" x2="3415" y1="2405" y2="2405"/><ellipse cx="2710" cy="2432.5" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="2732.5" y="2443.5474">boolean isLogicalChannelOpen ()</text><ellipse cx="2710" cy="2467.0898" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="2732.5" y="2478.1372">boolean isComplete ()</text><!--MD5=[020bc233d237158d8be37d9dae17a65e]
class ApduResponse--><rect codeLine="262" fill="#F4ECF7" height="298.8281" id="ApduResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="422.5" x="2883.75" y="2777.4219"/><ellipse cx="2937" cy="2827.6563" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2942,2818.9063 Q2942.5078,2817.6563 2943.0938,2817.0313 Q2943.6797,2816.4063 2944.3438,2816.4063 Q2945.5156,2816.4063 2946.2578,2817.1094 Q2947,2817.8125 2947,2819.4531 L2947,2823.3594 Q2947,2825 2946.2969,2825.7031 Q2945.5938,2826.4063 2944.5,2826.4063 Q2943.5234,2826.4063 2942.8984,2825.9766 Q2942.2734,2825.5469 2942,2824.4141 Q2941.8828,2823.6328 2941.4531,2823.2031 Q2940.6719,2822.3828 2939.2656,2821.9141 Q2937.8594,2821.4063 2936.4531,2821.4063 Q2934.6953,2821.4063 2933.2109,2822.1094 Q2931.7656,2822.8125 2930.6328,2824.375 Q2929.5,2825.9375 2929.5,2828.0859 L2929.5,2830.3906 Q2929.5,2832.9688 2931.6094,2834.6875 Q2933.7188,2836.4063 2937.4688,2836.4063 Q2939.6953,2836.4063 2941.2578,2835.8984 Q2942.1563,2835.625 2943.1719,2834.7266 Q2943.8359,2834.2188 2944.1875,2834.0625 Q2944.5391,2833.9063 2944.9688,2833.9063 Q2945.7891,2833.9063 2946.375,2834.5703 Q2947,2835.1953 2947,2836.0938 Q2947,2836.9531 2946.1406,2837.9688 Q2944.8906,2839.4531 2942.8984,2840.2734 Q2940.2813,2841.4063 2937.0781,2841.4063 Q2933.3281,2841.4063 2930.3203,2839.9219 Q2927.8984,2838.75 2926.1797,2836.2109 Q2924.5,2833.6719 2924.5,2830.6641 L2924.5,2827.9297 Q2924.5,2824.8047 2925.9844,2822.0703 Q2927.5078,2819.3359 2930.125,2817.8906 Q2932.7813,2816.4063 2935.75,2816.4063 Q2937.5469,2816.4063 2939.1094,2817.0313 Q2940.6719,2817.6563 2942,2818.9063 Z " fill="#000000"/><ellipse cx="2988" cy="2826.4063" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="237.5" x="3024.25" y="2821.0645">&lt;&lt;Serializable&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3003" y="2858.7988">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="3070.5" y="2858.7988">ApduResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2886.25" x2="3303.75" y1="2877.8906" y2="2877.8906"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2886.25" x2="3303.75" y1="2897.8906" y2="2897.8906"/><ellipse cx="2911.25" cy="2925.3906" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="357.5" x="2933.75" y="2936.438">ApduResponse (byte[] bytes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2886.25" x2="3303.75" y1="2952.4805" y2="2952.4805"/><ellipse cx="2911.25" cy="2979.9805" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2933.75" y="2991.0278">byte[] getBytes ()</text><ellipse cx="2911.25" cy="3014.5703" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="2933.75" y="3025.6177">byte[] getDataOut ()</text><ellipse cx="2911.25" cy="3049.1602" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="2933.75" y="3060.2075">int getStatusCode ()</text><!--MD5=[17146a741b3becbcb08fff440a5eba97]
class SelectionStatus--><rect codeLine="263" fill="#F4ECF7" height="382.1289" id="SelectionStatus" style="stroke:#8E44AD;stroke-width:3.75;" width="375" x="3505" y="2108.6719"/><ellipse cx="3567.25" cy="2148.6719" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3572.25,2139.9219 Q3572.7578,2138.6719 3573.3438,2138.0469 Q3573.9297,2137.4219 3574.5938,2137.4219 Q3575.7656,2137.4219 3576.5078,2138.125 Q3577.25,2138.8281 3577.25,2140.4688 L3577.25,2144.375 Q3577.25,2146.0156 3576.5469,2146.7188 Q3575.8438,2147.4219 3574.75,2147.4219 Q3573.7734,2147.4219 3573.1484,2146.9922 Q3572.5234,2146.5625 3572.25,2145.4297 Q3572.1328,2144.6484 3571.7031,2144.2188 Q3570.9219,2143.3984 3569.5156,2142.9297 Q3568.1094,2142.4219 3566.7031,2142.4219 Q3564.9453,2142.4219 3563.4609,2143.125 Q3562.0156,2143.8281 3560.8828,2145.3906 Q3559.75,2146.9531 3559.75,2149.1016 L3559.75,2151.4063 Q3559.75,2153.9844 3561.8594,2155.7031 Q3563.9688,2157.4219 3567.7188,2157.4219 Q3569.9453,2157.4219 3571.5078,2156.9141 Q3572.4063,2156.6406 3573.4219,2155.7422 Q3574.0859,2155.2344 3574.4375,2155.0781 Q3574.7891,2154.9219 3575.2188,2154.9219 Q3576.0391,2154.9219 3576.625,2155.5859 Q3577.25,2156.2109 3577.25,2157.1094 Q3577.25,2157.9688 3576.3906,2158.9844 Q3575.1406,2160.4688 3573.1484,2161.2891 Q3570.5313,2162.4219 3567.3281,2162.4219 Q3563.5781,2162.4219 3560.5703,2160.9375 Q3558.1484,2159.7656 3556.4297,2157.2266 Q3554.75,2154.6875 3554.75,2151.6797 L3554.75,2148.9453 Q3554.75,2145.8203 3556.2344,2143.0859 Q3557.7578,2140.3516 3560.375,2138.9063 Q3563.0313,2137.4219 3566,2137.4219 Q3567.7969,2137.4219 3569.3594,2138.0469 Q3570.9219,2138.6719 3572.25,2139.9219 Z " fill="#000000"/><ellipse cx="3620.25" cy="2147.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="3635.25" y="2160.9473">SelectionStatus</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3507.5" x2="3877.5" y1="2188.6719" y2="2188.6719"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3507.5" x2="3877.5" y1="2208.6719" y2="2208.6719"/><ellipse cx="3532.5" cy="2236.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="205" x="3555" y="2247.2192">SelectionStatus (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="3615" y="2281.8091">AnswerToReset atr,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="3615" y="2316.3989">ApduResponse fci,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="3615" y="2350.9888">boolean isMatching)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3507.5" x2="3877.5" y1="2367.0313" y2="2367.0313"/><ellipse cx="3532.5" cy="2394.5313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="3555" y="2405.5786">AnswerToReset getAtr ()</text><ellipse cx="3532.5" cy="2429.1211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="295" x="3555" y="2440.1685">ApduResponse getFci ()</text><ellipse cx="3532.5" cy="2463.7109" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="277.5" x="3555" y="2474.7583">boolean hasMatched ()</text><!--MD5=[08697d5c41fb59880dad310582db5b30]
class AnswerToReset--><rect codeLine="264" fill="#F4ECF7" height="209.1797" id="AnswerToReset" style="stroke:#8E44AD;stroke-width:3.75;" width="470" x="3410" y="2822.4219"/><ellipse cx="3513.875" cy="2862.4219" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3518.875,2853.6719 Q3519.3828,2852.4219 3519.9688,2851.7969 Q3520.5547,2851.1719 3521.2188,2851.1719 Q3522.3906,2851.1719 3523.1328,2851.875 Q3523.875,2852.5781 3523.875,2854.2188 L3523.875,2858.125 Q3523.875,2859.7656 3523.1719,2860.4688 Q3522.4688,2861.1719 3521.375,2861.1719 Q3520.3984,2861.1719 3519.7734,2860.7422 Q3519.1484,2860.3125 3518.875,2859.1797 Q3518.7578,2858.3984 3518.3281,2857.9688 Q3517.5469,2857.1484 3516.1406,2856.6797 Q3514.7344,2856.1719 3513.3281,2856.1719 Q3511.5703,2856.1719 3510.0859,2856.875 Q3508.6406,2857.5781 3507.5078,2859.1406 Q3506.375,2860.7031 3506.375,2862.8516 L3506.375,2865.1563 Q3506.375,2867.7344 3508.4844,2869.4531 Q3510.5938,2871.1719 3514.3438,2871.1719 Q3516.5703,2871.1719 3518.1328,2870.6641 Q3519.0313,2870.3906 3520.0469,2869.4922 Q3520.7109,2868.9844 3521.0625,2868.8281 Q3521.4141,2868.6719 3521.8438,2868.6719 Q3522.6641,2868.6719 3523.25,2869.3359 Q3523.875,2869.9609 3523.875,2870.8594 Q3523.875,2871.7188 3523.0156,2872.7344 Q3521.7656,2874.2188 3519.7734,2875.0391 Q3517.1563,2876.1719 3513.9531,2876.1719 Q3510.2031,2876.1719 3507.1953,2874.6875 Q3504.7734,2873.5156 3503.0547,2870.9766 Q3501.375,2868.4375 3501.375,2865.4297 L3501.375,2862.6953 Q3501.375,2859.5703 3502.8594,2856.8359 Q3504.3828,2854.1016 3507,2852.6563 Q3509.6563,2851.1719 3512.625,2851.1719 Q3514.4219,2851.1719 3515.9844,2851.7969 Q3517.5469,2852.4219 3518.875,2853.6719 Z " fill="#000000"/><ellipse cx="3576.125" cy="2861.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="215" x="3591.125" y="2874.6973">AnswerToReset</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3412.5" x2="3877.5" y1="2902.4219" y2="2902.4219"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3412.5" x2="3877.5" y1="2922.4219" y2="2922.4219"/><ellipse cx="3437.5" cy="2949.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="3460" y="2960.9692">AnswerToReset (byte[] atrBytes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3412.5" x2="3877.5" y1="2977.0117" y2="2977.0117"/><ellipse cx="3437.5" cy="3004.5117" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3460" y="3015.5591">byte[] getBytes ()</text><!--MD5=[266955a256f69cd9e8835259646fbe13]
class CardExtensionSpi--><rect codeLine="166" fill="#FEFECE" height="223.7695" id="CardExtensionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="460" x="2992.5" y="511.1719"/><ellipse cx="3077.25" cy="551.1719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3079.75,543.6719 L3079.75,558.6719 L3084.75,558.6719 L3085.9609,558.6719 L3087.25,560.2344 L3087.25,561.1719 L3087.25,562.1094 L3085.9609,563.6719 L3084.75,563.6719 L3069.75,563.6719 L3068.5391,563.6719 L3067.25,562.1094 L3067.25,561.1719 L3067.25,560.2344 L3068.5391,558.6719 L3069.75,558.6719 L3074.75,558.6719 L3074.75,543.6719 L3069.75,543.6719 L3068.5391,543.6719 L3067.25,542.1094 L3067.25,541.1719 L3067.25,540.2344 L3068.5391,538.6719 L3069.75,538.6719 L3084.75,538.6719 L3085.9609,538.6719 L3087.25,540.2344 L3087.25,541.1719 L3087.25,542.1094 L3085.9609,543.6719 L3084.75,543.6719 L3079.75,543.6719 Z " fill="#000000"/><ellipse cx="3135.25" cy="549.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="247.5" x="3150.25" y="563.4473">CardExtensionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2995" x2="3450" y1="591.1719" y2="591.1719"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2995" x2="3450" y1="611.1719" y2="611.1719"/><ellipse cx="3020" cy="638.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="3042.5" y="649.7192">String getCardApiVersion ()</text><ellipse cx="3020" cy="673.2617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="370" x="3042.5" y="684.3091">String getServiceApiVersion ()</text><ellipse cx="3020" cy="707.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="395" x="3042.5" y="718.8989">String getCommonsApiVersion ()</text><!--MD5=[e210ee7b55cb4fcef849a017d68619f7]
class CardSelectionSpi--><rect codeLine="171" fill="#FEFECE" height="189.1797" id="CardSelectionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="920" x="620" y="528.6719"/><ellipse cx="935.625" cy="568.6719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M938.125,561.1719 L938.125,576.1719 L943.125,576.1719 L944.3359,576.1719 L945.625,577.7344 L945.625,578.6719 L945.625,579.6094 L944.3359,581.1719 L943.125,581.1719 L928.125,581.1719 L926.9141,581.1719 L925.625,579.6094 L925.625,578.6719 L925.625,577.7344 L926.9141,576.1719 L928.125,576.1719 L933.125,576.1719 L933.125,561.1719 L928.125,561.1719 L926.9141,561.1719 L925.625,559.6094 L925.625,558.6719 L925.625,557.7344 L926.9141,556.1719 L928.125,556.1719 L943.125,556.1719 L944.3359,556.1719 L945.625,557.7344 L945.625,558.6719 L945.625,559.6094 L944.3359,561.1719 L943.125,561.1719 L938.125,561.1719 Z " fill="#000000"/><ellipse cx="999.375" cy="567.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="240" x="1014.375" y="580.9473">CardSelectionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="622.5" x2="1537.5" y1="608.6719" y2="608.6719"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="622.5" x2="1537.5" y1="628.6719" y2="628.6719"/><ellipse cx="647.5" cy="656.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="670" y="667.2192">CardSelectionRequest getCardSelectionRequest ()</text><ellipse cx="647.5" cy="690.7617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="855" x="670" y="701.8091">SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)</text><!--MD5=[c089e258773b765d812cd5d8bc232f90]
class SmartCardSpi--><rect codeLine="175" fill="#FEFECE" height="120" id="SmartCardSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="302.5" x="1763.75" y="563.6719"/><ellipse cx="1801.25" cy="603.6719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1803.75,596.1719 L1803.75,611.1719 L1808.75,611.1719 L1809.9609,611.1719 L1811.25,612.7344 L1811.25,613.6719 L1811.25,614.6094 L1809.9609,616.1719 L1808.75,616.1719 L1793.75,616.1719 L1792.5391,616.1719 L1791.25,614.6094 L1791.25,613.6719 L1791.25,612.7344 L1792.5391,611.1719 L1793.75,611.1719 L1798.75,611.1719 L1798.75,596.1719 L1793.75,596.1719 L1792.5391,596.1719 L1791.25,594.6094 L1791.25,593.6719 L1791.25,592.7344 L1792.5391,591.1719 L1793.75,591.1719 L1808.75,591.1719 L1809.9609,591.1719 L1811.25,592.7344 L1811.25,593.6719 L1811.25,594.6094 L1809.9609,596.1719 L1808.75,596.1719 L1803.75,596.1719 Z " fill="#000000"/><ellipse cx="1848.75" cy="602.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="1863.75" y="615.9473">SmartCardSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1766.25" x2="2063.75" y1="643.6719" y2="643.6719"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1766.25" x2="2063.75" y1="663.6719" y2="663.6719"/><!--MD5=[38786a1b53b5c21082cda59a8f9072b9]
class CardResourceProfileExtensionSpi--><rect codeLine="177" fill="#FEFECE" height="154.5898" id="CardResourceProfileExtensionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="612.5" x="2291.25" y="546.1719"/><ellipse cx="2345.625" cy="586.1719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2348.125,578.6719 L2348.125,593.6719 L2353.125,593.6719 L2354.3359,593.6719 L2355.625,595.2344 L2355.625,596.1719 L2355.625,597.1094 L2354.3359,598.6719 L2353.125,598.6719 L2338.125,598.6719 L2336.9141,598.6719 L2335.625,597.1094 L2335.625,596.1719 L2335.625,595.2344 L2336.9141,593.6719 L2338.125,593.6719 L2343.125,593.6719 L2343.125,578.6719 L2338.125,578.6719 L2336.9141,578.6719 L2335.625,577.1094 L2335.625,576.1719 L2335.625,575.2344 L2336.9141,573.6719 L2338.125,573.6719 L2353.125,573.6719 L2354.3359,573.6719 L2355.625,575.2344 L2355.625,576.1719 L2355.625,577.1094 L2354.3359,578.6719 L2353.125,578.6719 L2348.125,578.6719 Z " fill="#000000"/><ellipse cx="2396.875" cy="584.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="467.5" x="2411.875" y="598.4473">CardResourceProfileExtensionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2293.75" x2="2901.25" y1="626.1719" y2="626.1719"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2293.75" x2="2901.25" y1="646.1719" y2="646.1719"/><ellipse cx="2318.75" cy="673.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="547.5" x="2341.25" y="684.7192">SmartCardSpi matches (ProxyReader reader)</text><!--MD5=[695000fa4fcaf49ec1bb096676d9e4f7]
reverse link AbstractCommunicationException to ReaderCommunicationException--><path d="M2000.775,3162.5569 C1935.2675,3219.6944 1868.87,3277.6069 1816.095,3323.6369 " fill="none" id="AbstractCommunicationException-backto-ReaderCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1989.95,3148.7794,2039.135,3129.1019,2012.9575,3175.1544,1989.95,3148.7794" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[30e8d21bd42c49f90ab21ceb84ec5489]
reverse link AbstractCommunicationException to CardCommunicationException--><path d="M2543.25,3159.4844 C2575.925,3183.1344 2609.425,3205.8894 2642.5,3226.1719 C2700.65,3261.8269 2766.575,3295.0794 2828.425,3323.4819 " fill="none" id="AbstractCommunicationException-backto-CardCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2532.125,3173.0219,2502.425,3129.1694,2553,3144.9194,2532.125,3173.0219" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[2c1181f18c9077767c8cf6e4eb9d66e3]
link CardExtensionSpi to ApiProperties--><path codeLine="206" d="M3222.5,736.6469 C3222.5,848.2219 3222.5,1018.3969 3222.5,1121.4044 " fill="none" id="CardExtensionSpi-to-ApiProperties" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3222.5,1134.2419,3232.5,1111.7419,3222.5,1121.7419,3212.5,1111.7419,3222.5,1134.2419" style="stroke:#27AE60;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3272.5" y="892.4097">provide</text><polygon fill="#000000" points="3237.5,932.4902,3244.8473,909.8775,3230.1527,909.8775,3237.5,932.4902" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="162.5" x="3257.5" y="933.2886">API version</text><!--MD5=[0650cc34d72c7e8c430f86199a6befbd]
link CardSelectionSpi to SmartCardSpi--><path codeLine="208" d="M1540.2425,623.6719 C1615.425,623.6719 1688.7375,623.6719 1750.2925,623.6719 " fill="none" id="CardSelectionSpi-to-SmartCardSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1763.245,623.6719,1740.745,613.6719,1750.745,623.6719,1740.745,633.6719,1763.245,623.6719" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1608.125,594.1113,1585.5123,586.764,1585.5123,601.4586,1608.125,594.1113" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1618.125" y="607.4097">provide</text><!--MD5=[c8106daf25e9cdedce10383aaf9a9de6]
link CardSelectionSpi to CardSelectionRequest--><path codeLine="209" d="M866.665,718.8969 C766.0975,774.1469 654.765,854.5219 592.5,961.1719 C480.68,1152.6844 481.72,1415.8144 497.9575,1585.0194 " fill="none" id="CardSelectionSpi-to-CardSelectionRequest" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="499.255,1598.0494,506.9745,1574.6686,498.0154,1585.611,487.0731,1576.6519,499.255,1598.0494" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="600.1039,1224.3626,615.7213,1206.4345,602.2007,1200.6788,600.1039,1224.3626" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="627.5" y="1226.1597">provide</text><!--MD5=[f4d74ae726dd4c518129abf87e5f3dcf]
link CardSelectionSpi to CardSelectionResponse--><path codeLine="210" d="M1312.4525,718.7469 C1432.23,762.2469 1581.8075,810.1469 1720,836.1719 C1759.6425,843.6469 2050.64,831.4219 2082.5,856.1719 C2283.9925,1012.6719 2077.3575,1220.5544 2255,1403.6719 C2297.53,1447.5119 2565.35,1539.8044 2813.1,1618.4394 " fill="none" id="CardSelectionSpi-to-CardSelectionResponse" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2825.625,1622.4094,2807.1653,1606.1156,2813.7017,1618.6565,2801.1607,1625.1929,2825.625,1622.4094" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2278.2209,1219.2889,2262.6047,1201.3598,2255.0486,1213.9629,2278.2209,1219.2889" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2290" y="1226.1597">use</text><!--MD5=[86507b655fbcb0d4c75ddd5323a94728]
reverse link SmartCardSpi to CardResourceProfileExtensionSpi--><path codeLine="212" d="M2079.0725,623.6719 C2142.88,623.6719 2218.1225,623.6719 2291.2025,623.6719 " fill="none" id="SmartCardSpi-backto-CardResourceProfileExtensionSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2066.47,623.6719,2088.97,633.6719,2078.97,623.6719,2088.97,613.6719,2066.47,623.6719" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2110,594.1113,2132.6127,601.4586,2132.6127,586.764,2110,594.1113" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2145" y="607.4097">provide</text><!--MD5=[92453ac2ccffae63a556534db5eaaf30]
link SmartCardSpi to CardResourceProfileExtensionSpi--><!--MD5=[52c9aa6237fb0dc6259b99153d4b7c12]
link CardResourceProfileExtensionSpi to ProxyReader--><path codeLine="213" d="M2579.525,701.2219 C2518.15,957.6969 2315.955,1802.4969 2233.245,2148.0769 " fill="none" id="CardResourceProfileExtensionSpi-to-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2230.1125,2161.1569,2245.0766,2141.6037,2233.023,2149.0004,2225.6263,2136.9469,2230.1125,2161.1569" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2404.5905,1513.768,2416.9993,1493.4865,2402.7083,1490.0662,2404.5905,1513.768" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2430" y="1514.9097">use</text><!--MD5=[604555a7fe74e2d4d4d93159c1afacf3]
reverse link CardSelectionScenario to CardSelectionRequest--><path codeLine="215" d="M906.355,1426.2219 C838.81,1483.6219 766.9475,1544.6894 703.8875,1598.2769 " fill="none" id="CardSelectionScenario-backto-CardSelectionRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="932.005,1404.4244,914.0993,1406.5184,909.1454,1423.8521,927.0511,1421.7581,932.005,1404.4244" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="661.3917" y="1571.6149">1..N</text><!--MD5=[df15868aa9ec96f8eb2ebc9a80d2b047]
reverse link CardSelectionScenario to MultiSelectionProcessing--><path codeLine="216" d="M1344.2025,1429.0194 C1414.95,1509.0769 1491.67,1595.8894 1547.79,1659.3969 " fill="none" id="CardSelectionScenario-backto-MultiSelectionProcessing" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1322.4675,1404.4244,1324.907,1422.2863,1342.3333,1426.9044,1339.8937,1409.0425,1322.4675,1404.4244" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1514.0878" y="1632.7081">1</text><!--MD5=[31fb94af43f4c6a6a97051dc9281be30]
reverse link CardSelectionScenario to ChannelControl--><path codeLine="217" d="M1155,1437.3244 C1155,1515.0369 1155,1598.0794 1155,1659.3969 " fill="none" id="CardSelectionScenario-backto-ChannelControl" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1155,1404.4244,1145,1419.4244,1155,1434.4244,1165,1419.4244,1155,1404.4244" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1135.9414" y="1632.7081">1</text><!--MD5=[9835af9204c9210f827ba24cc91945f0]
reverse link CardSelectionRequest to CardRequest--><path codeLine="219" d="M589.6825,1941.5994 C604.81,1972.8444 622.435,2003.9494 642.5,2031.1719 C682.0925,2084.8894 734.355,2135.2294 784.54,2177.3644 " fill="none" id="CardSelectionRequest-backto-CardRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="575.945,1911.7219,573.1246,1929.5276,588.476,1938.9794,591.2963,1921.1737,575.945,1911.7219" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="701.199" y="2150.3189">0..1</text><!--MD5=[d401507d432a199d6c8d10fa177dfeb2]
reverse link CardRequest to ApduRequest--><path codeLine="221" d="M950,2455.6269 C950,2525.7919 950,2610.5444 950,2688.6094 " fill="none" id="CardRequest-backto-ApduRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="950,2422.4469,940,2437.4469,950,2452.4469,960,2437.4469,950,2422.4469" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="887.6094" y="2661.7892">1..N</text><!--MD5=[77f859707804abe419614d0e91d95dfe]
reverse link CardSelectionResponse to CardResponse--><path codeLine="223" d="M3193.95,1918.2294 C3171.65,1976.9519 3146.225,2043.9619 3123,2105.1494 " fill="none" id="CardSelectionResponse-backto-CardResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3205.625,1887.4519,3190.9489,1897.9215,3194.9685,1915.4954,3209.6446,1905.0258,3205.625,1887.4519" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3111.423" y="2079.1049">1</text><!--MD5=[4905b2efbeb6b377be21c40fb1d79f57]
reverse link CardSelectionResponse to SelectionStatus--><path codeLine="224" d="M3381,1912.9419 C3430.375,1973.8919 3487.5,2044.3969 3539.25,2108.2544 " fill="none" id="CardSelectionResponse-backto-SelectionStatus" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3360.35,1887.4519,3362.0227,1905.4019,3379.2352,1910.7617,3377.5626,1892.8117,3360.35,1887.4519" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3505.8031" y="2081.2177">1</text><!--MD5=[9424ef5399bf3a67a4952b2f5019cc6d]
reverse link CardResponse to ApduResponse--><path codeLine="226" d="M3066.225,2526.8969 C3072.25,2610.1769 3078.925,2702.4644 3084.325,2777.1919 " fill="none" id="CardResponse-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3063.875,2494.2719,3054.9831,2509.9542,3066.0391,2524.1937,3074.931,2508.5114,3063.875,2494.2719" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="3019.3677" y="2750.3079">1..N</text><!--MD5=[1cd47721a07c040e565e1a09c1eba3b5]
reverse link SelectionStatus to ApduResponse--><path codeLine="228" d="M3487.8,2515.6819 C3405.2,2601.7444 3311.9,2698.9369 3236.975,2777.0044 " fill="none" id="SelectionStatus-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3510.8,2491.7269,3493.1998,2495.6296,3490.033,2513.3771,3507.6332,2509.4743,3510.8,2491.7269" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3195.9266" y="2750.0975">0..1</text><!--MD5=[24cbd97995d68a7170e91f5c730befab]
reverse link SelectionStatus to AnswerToReset--><path codeLine="229" d="M3675.575,2524.1994 C3667.825,2625.9069 3659,2741.5444 3652.825,2822.3694 " fill="none" id="SelectionStatus-backto-AnswerToReset" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3678.05,2491.7269,3666.9363,2505.9214,3675.7645,2521.6397,3686.8782,2507.4451,3678.05,2491.7269" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3594.5663" y="2795.5361">0..1</text><!--MD5=[c43bae1df4c6233cf7d1823fce18a071]
link CardResponse to AbstractCommunicationException--><path codeLine="231" d="M2808.85,2494.2719 C2725.2,2560.8019 2630.8,2635.9094 2544.5,2704.5544 " fill="none" id="CardResponse-to-AbstractCommunicationException" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2518,2725.6344,2535.9648,2724.1294,2541.4852,2706.9676,2523.5203,2708.4726,2518,2725.6344" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="2729.0838" y="2547.7872">0..1</text><!--MD5=[c545f7e69e1fd10e93a83a4930be8cac]
reverse link CardSelectionRequest to ProxyReader--><path codeLine="233" d="M916.435,1901.5344 C926.8775,1904.8394 937.2475,1908.0594 947.5,1911.1719 C1159.975,1975.6969 1214.945,1986.6969 1432.5,2031.1719 C1636.52,2072.8819 1700.275,2032.3719 1895,2106.1719 C1932.765,2120.4844 1970.855,2139.8594 2006.6675,2160.8019 " fill="none" id="CardSelectionRequest-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="904.145,1897.6194,922.5455,1913.9801,916.0546,1901.4155,928.6192,1894.9246,904.145,1897.6194" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1432.8391,2006.2194,1453.1385,2018.599,1456.5382,2004.303,1432.8391,2006.2194" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1467.5" y="2022.4097">use</text><!--MD5=[2442a7d7f46532290415533a60537508]
link ProxyReader to CardRequest--><path codeLine="234" d="M1935.9225,2299.9219 C1825.99,2299.9219 1693.09,2299.9219 1560.9575,2299.9219 " fill="none" id="ProxyReader-to-CardRequest" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1548.1725,2299.9219,1570.6725,2309.9219,1560.6725,2299.9219,1570.6725,2289.9219,1548.1725,2299.9219" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1696.875,2270.3613,1719.4877,2277.7086,1719.4877,2263.014,1696.875,2270.3613" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1731.875" y="2283.6597">use</text><!--MD5=[cea258861a101b37c0092aa2c73adb0e]
reverse link MultiSelectionProcessing to ProxyReader--><path codeLine="235" d="M1737.1775,1859.4044 C1826.6325,1944.5244 1954.945,2066.6194 2053.3875,2160.2919 " fill="none" id="MultiSelectionProcessing-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1727.5575,1850.2519,1736.9648,1873.006,1736.6133,1858.8683,1750.7511,1858.5168,1727.5575,1850.2519" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1918.4445,2000.4946,1929.7613,2021.4051,1939.8908,2010.7597,1918.4445,2000.4946" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1950" y="2022.4097">use</text><!--MD5=[86fbc7b023257ef37098cf7570a66f83]
reverse link ChannelControl to ProxyReader--><path codeLine="236" d="M1277.37,1858.2744 C1303.69,1877.3344 1332.03,1896.0169 1360,1911.1719 C1582.52,2031.7294 1667.8525,1994.5769 1895,2106.1719 C1927.9025,2122.3369 1961.705,2141.2094 1994.2475,2160.6819 " fill="none" id="ChannelControl-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1267,1850.6694,1279.2328,1872.0378,1277.0809,1858.0603,1291.0583,1855.9084,1267,1850.6694" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1693.4828,2004.2529,1711.4619,2019.8115,1717.1733,2006.2722,1693.4828,2004.2529" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1727.5" y="2022.4097">use</text><!--MD5=[ef2297562df3bdaf27e19b497e1f04bc]
reverse link CardSelectionResponse to ProxyReader--><path codeLine="238" d="M2988.75,1893.3744 C2826.65,1976.1594 2620.4,2081.4719 2459.1275,2163.8244 " fill="none" id="CardSelectionResponse-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3000.35,1887.4519,2975.7665,1888.8304,2989.2295,1893.1602,2984.8998,1906.6232,3000.35,1887.4519" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2811.1325,2003.4265,2787.6522,2007.1669,2794.335,2020.254,2811.1325,2003.4265" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2822.5" y="2022.4097">provide</text><!--MD5=[07ed8df3c1c3d85fbf148d2489e3f22f]
link ProxyReader to CardResponse--><path codeLine="239" d="M2459.0725,2299.9219 C2525.425,2299.9219 2598.075,2299.9219 2669.025,2299.9219 " fill="none" id="ProxyReader-to-CardResponse" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2682.25,2299.9219,2659.75,2289.9219,2669.75,2299.9219,2659.75,2309.9219,2682.25,2299.9219" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2526.875,2270.3613,2504.2623,2263.014,2504.2623,2277.7086,2526.875,2270.3613" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2536.875" y="2283.6597">provide</text><!--MD5=[d8ee4aa3985d164868eed7d62e106dde]
link ProxyReader to AbstractCommunicationException--><path codeLine="240" d="M2212.8625,2439.0319 C2221.875,2519.1944 2233.46,2622.2094 2243.64,2712.7419 " fill="none" id="ProxyReader-to-AbstractCommunicationException" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2245.1325,2726.0044,2252.5563,2702.5281,2243.736,2713.5826,2232.6815,2704.7624,2245.1325,2726.0044" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2246.3968,2604.033,2251.1713,2580.7409,2236.5687,2582.3829,2246.3968,2604.033" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="77.5" x="2267.5" y="2604.9097">throw</text><!--MD5=[55b39db0fd9be3bef178361b3f8e6ac6]
link spi to CardSelectionScenario--><!--MD5=[bf15129783f09dcfe1fe52433c011c69]
link spi to CardSelectionResponse--><!--MD5=[3abdca769cf15f06a0d5435a45e9a67a]
@startuml
title
        Keyple 2.0 - keyple-java-card-api - 2.0 (30/03/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:cyan>**keyple-java-commons-api**</back>
end legend

package "org.eclipse.keyple.core.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +CardResponse transmitCardRequest (
        \tCardRequest cardRequest,
        \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    ' REQUEST
    together {
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
                \tCardRequest cardRequest)
            ..
            +<back:cyan>KeypleCardSelector</back> getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests, boolean isStatusCodesVerificationEnabled)
            ..
            +List<ApduRequest> getApduRequests ()
            +boolean isStatusCodesVerificationEnabled ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes, boolean isCase4)
            +ApduRequest (byte cla, byte instruction, byte p1, byte p2, byte[] dataIn, Byte le)
            ..
            +ApduRequest setSuccessfulStatusCodes (Set<Integer> successfulStatusCodes)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
            ..
            +boolean isCase4 ()
        }
        +class "**final** CardSelectionScenario" as CardSelectionScenario {
            - -
            +CardSelectionScenario (
                \tList<CardSelectionRequest> cardSelectionRequests,
                \tMultiSelectionProcessing multiSelectionProcessing,
                \tChannelControl channelControl)
            ..
            +MultiSelectionProcessing getMultiSelectionProcessing ()
            +ChannelControl getChannelControl ()
            +List<CardSelectionRequest> getCardSelectionRequests ()
        }
    }
    ' RESPONSE
    together {
        +class "<<<back:cyan>KeypleCardSelectionResponse</back>>>\n**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (SelectionStatus selectionStatus, CardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "<<Serializable>>\n**final** CardResponse" as CardResponse {
            - -
            +CardResponse (List<ApduResponse> apduResponses,
                \tboolean isLogicalChannelOpen,
                \tboolean isComplete)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
            +boolean isComplete ()
        }
        +class "<<Serializable>>\n**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] bytes)
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusCode ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
    }
    ' SPI
    package spi {
        +interface CardExtensionSpi {
            +String getCardApiVersion ()
            +String getServiceApiVersion ()
            +String getCommonsApiVersion ()
        }
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
        +interface CardResourceProfileExtensionSpi {
            +SmartCardSpi matches (ProxyReader reader)
        }
    }
    +abstract class "<<Exception>>\nAbstractCommunicationException" as AbstractCommunicationException {
        - -
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
        ..
        +CardResponse getCardResponse ()
    }
    +class "**final** ReaderCommunicationException" as ReaderCommunicationException extends AbstractCommunicationException {
        - -
        +ReaderCommunicationException (CardResponse cardResponse, String message)
        +ReaderCommunicationException (CardResponse cardResponse, String message, Throwable cause)
    }
    +class "**final** CardCommunicationException" as CardCommunicationException extends AbstractCommunicationException {
        - -
        +CardCommunicationException (CardResponse cardResponse, String message)
        +CardCommunicationException (CardResponse cardResponse, String message, Throwable cause)
    }
}

' Associations

CardExtensionSpi ..> ApiProperties #C_USE : provide\nAPI version >

CardSelectionSpi .right.> SmartCardSpi #C_USE : provide >
CardSelectionSpi ..> CardSelectionRequest #C_USE : provide >
CardSelectionSpi ..> CardSelectionResponse #C_USE : use >

CardResourceProfileExtensionSpi .left.> SmartCardSpi #C_USE : provide >
CardResourceProfileExtensionSpi ..> ProxyReader #C_USE : use >

CardSelectionScenario *- - "1..N" CardSelectionRequest #C_LINK
CardSelectionScenario *- - "1" MultiSelectionProcessing #C_LINK
CardSelectionScenario *- - "1" ChannelControl #C_LINK

CardSelectionRequest *- - "0..1" CardRequest #C_LINK

CardRequest *- - "1..N" ApduRequest #C_LINK

CardSelectionResponse *- - "1" CardResponse #C_LINK
CardSelectionResponse *- - "1" SelectionStatus #C_LINK

CardResponse *- - "1..N" ApduResponse #C_LINK

SelectionStatus *- - "0..1" ApduResponse  #C_LINK
SelectionStatus *- - "0..1" AnswerToReset  #C_LINK

AbstractCommunicationException *-up- "0..1" CardResponse #C_LINK

ProxyReader .left.> CardSelectionRequest #C_USE : use >
ProxyReader ..> CardRequest #C_USE : use >
ProxyReader .up.> MultiSelectionProcessing #C_USE : use >
ProxyReader .up.> ChannelControl #C_USE : use >

ProxyReader .up.> CardSelectionResponse #C_USE : provide >
ProxyReader .> CardResponse #C_USE : provide >
ProxyReader ..> AbstractCommunicationException #C_USE : throw >

' == LAYOUT ==

SmartCardSpi -[hidden]right- CardResourceProfileExtensionSpi
spi -[hidden]- CardSelectionScenario
spi -[hidden]- CardSelectionResponse

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}

class CardSelectionScenario <<green>>
class CardSelectionRequest <<green>>
enum MultiSelectionProcessing <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractCommunicationException <<purple>>
class ReaderCommunicationException <<purple>>
class CardCommunicationException <<purple>>

@enduml

@startuml
title
        Keyple 2.0 - keyple-java-card-api - 2.0 (30/03/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:cyan>**keyple-java-commons-api**</back>
end legend

package "org.eclipse.keyple.core.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +CardResponse transmitCardRequest (
        \tCardRequest cardRequest,
        \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    together {
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector)
            +CardSelectionRequest (<back:cyan>KeypleCardSelector</back> cardSelector,
                \tCardRequest cardRequest)
            ..
            +<back:cyan>KeypleCardSelector</back> getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests, boolean isStatusCodesVerificationEnabled)
            ..
            +List<ApduRequest> getApduRequests ()
            +boolean isStatusCodesVerificationEnabled ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes, boolean isCase4)
            +ApduRequest (byte cla, byte instruction, byte p1, byte p2, byte[] dataIn, Byte le)
            ..
            +ApduRequest setSuccessfulStatusCodes (Set<Integer> successfulStatusCodes)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
            ..
            +boolean isCase4 ()
        }
        +class "**final** CardSelectionScenario" as CardSelectionScenario {
            - -
            +CardSelectionScenario (
                \tList<CardSelectionRequest> cardSelectionRequests,
                \tMultiSelectionProcessing multiSelectionProcessing,
                \tChannelControl channelControl)
            ..
            +MultiSelectionProcessing getMultiSelectionProcessing ()
            +ChannelControl getChannelControl ()
            +List<CardSelectionRequest> getCardSelectionRequests ()
        }
    }
    together {
        +class "<<<back:cyan>KeypleCardSelectionResponse</back>>>\n**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (SelectionStatus selectionStatus, CardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "<<Serializable>>\n**final** CardResponse" as CardResponse {
            - -
            +CardResponse (List<ApduResponse> apduResponses,
                \tboolean isLogicalChannelOpen,
                \tboolean isComplete)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
            +boolean isComplete ()
        }
        +class "<<Serializable>>\n**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] bytes)
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusCode ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
    }
    package spi {
        +interface CardExtensionSpi {
            +String getCardApiVersion ()
            +String getServiceApiVersion ()
            +String getCommonsApiVersion ()
        }
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface SmartCardSpi {
        }
        +interface CardResourceProfileExtensionSpi {
            +SmartCardSpi matches (ProxyReader reader)
        }
    }
    +abstract class "<<Exception>>\nAbstractCommunicationException" as AbstractCommunicationException {
        - -
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message)
        #AbstractCommunicationException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
        ..
        +CardResponse getCardResponse ()
    }
    +class "**final** ReaderCommunicationException" as ReaderCommunicationException extends AbstractCommunicationException {
        - -
        +ReaderCommunicationException (CardResponse cardResponse, String message)
        +ReaderCommunicationException (CardResponse cardResponse, String message, Throwable cause)
    }
    +class "**final** CardCommunicationException" as CardCommunicationException extends AbstractCommunicationException {
        - -
        +CardCommunicationException (CardResponse cardResponse, String message)
        +CardCommunicationException (CardResponse cardResponse, String message, Throwable cause)
    }
}


CardExtensionSpi ..> ApiProperties #27AE60 : provide\nAPI version >

CardSelectionSpi .right.> SmartCardSpi #27AE60 : provide >
CardSelectionSpi ..> CardSelectionRequest #27AE60 : provide >
CardSelectionSpi ..> CardSelectionResponse #27AE60 : use >

CardResourceProfileExtensionSpi .left.> SmartCardSpi #27AE60 : provide >
CardResourceProfileExtensionSpi ..> ProxyReader #27AE60 : use >

CardSelectionScenario *- - "1..N" CardSelectionRequest #3498DB
CardSelectionScenario *- - "1" MultiSelectionProcessing #3498DB
CardSelectionScenario *- - "1" ChannelControl #3498DB

CardSelectionRequest *- - "0..1" CardRequest #3498DB

CardRequest *- - "1..N" ApduRequest #3498DB

CardSelectionResponse *- - "1" CardResponse #3498DB
CardSelectionResponse *- - "1" SelectionStatus #3498DB

CardResponse *- - "1..N" ApduResponse #3498DB

SelectionStatus *- - "0..1" ApduResponse  #3498DB
SelectionStatus *- - "0..1" AnswerToReset  #3498DB

AbstractCommunicationException *-up- "0..1" CardResponse #3498DB

ProxyReader .left.> CardSelectionRequest #27AE60 : use >
ProxyReader ..> CardRequest #27AE60 : use >
ProxyReader .up.> MultiSelectionProcessing #27AE60 : use >
ProxyReader .up.> ChannelControl #27AE60 : use >

ProxyReader .up.> CardSelectionResponse #27AE60 : provide >
ProxyReader .> CardResponse #27AE60 : provide >
ProxyReader ..> AbstractCommunicationException #27AE60 : throw >


SmartCardSpi -[hidden]right- CardResourceProfileExtensionSpi
spi -[hidden]- CardSelectionScenario
spi -[hidden]- CardSelectionResponse


package api #F8F9F9 {}
package spi #F2F3F4 {}

class CardSelectionScenario <<green>>
class CardSelectionRequest <<green>>
enum MultiSelectionProcessing <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractCommunicationException <<purple>>
class ReaderCommunicationException <<purple>>
class CardCommunicationException <<purple>>

@enduml

PlantUML version 1.2021.2(Sun Mar 07 12:10:27 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>