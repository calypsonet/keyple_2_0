<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="5190px" preserveAspectRatio="none" style="width:8362px;height:5190px;" version="1.1" viewBox="0 0 8362 5190" width="8362.5px" zoomAndPan="magnify"><defs><filter height="1" id="b1eav13jztn29w0" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1045" x="3642.5" y="46.7139">Keyple 2.0 - keyple-java-service - 2.0.0 (15/04/2021)</text><rect fill="#DDDDDD" height="157.0703" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:2.5;" width="555" x="3886.25" y="76.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" text-decoration="underline" textLength="220" x="3901.25" y="125.4346">Colors legend</text><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="10" x="4131.25" y="125.4346">:</text><ellipse cx="3915" cy="158.3984" fill="#000000" rx="6.25" ry="6.25" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" text-decoration="underline" textLength="472.5" x="3933.75" y="169.458">External public API references</text><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="10" x="4416.25" y="169.458">:</text><rect fill="#000000" height="8.75" style="stroke:#000000;stroke-width:0.0;" width="8.75" x="3953.75" y="201.1719"/><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="445" x="3966.25" y="213.4814">keyple-java-commons-api</text><!--MD5=[7579d5565d2521d5936cec86ed3dadee]
cluster service--><polygon fill="#F8F9F9" points="40,271.1719,610,271.1719,627.5,330.1953,8320,330.1953,8320,5173.6719,40,5173.6719,40,271.1719" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="627.5" y1="330.1953" y2="330.1953"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="555" x="50" y="312.5049">org.eclipse.keyple.core.service</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="827.5,3582.4219,895,3582.4219,912.5,3641.4453,3395,3641.4453,3395,3902.4219,827.5,3902.4219,827.5,3582.4219" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="827.5" x2="912.5" y1="3641.4453" y2="3641.4453"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="837.5" y="3623.7549">spi</text><!--MD5=[3400e5e1a9d8ffd8780970ed03335273]
cluster selection--><polygon fill="#F2F3F4" points="3455,1471.1719,3632.5,1471.1719,3650,1530.1953,5485,1530.1953,5485,4676.1719,3455,4676.1719,3455,1471.1719" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="3455" x2="3650" y1="1530.1953" y2="1530.1953"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="162.5" x="3465" y="1512.5049">selection</text><!--MD5=[c96d8bee8ec60da1ef6ad554183a6a76]
cluster selectionSpi--><polygon fill="#E5E7E9" points="4082.5,2814.9219,4150,2814.9219,4167.5,2873.9453,5127.5,2873.9453,5127.5,3244.9219,4082.5,3244.9219,4082.5,2814.9219" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="4082.5" x2="4167.5" y1="2873.9453" y2="2873.9453"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="4092.5" y="2856.2549">spi</text><!--MD5=[69f0064c5fdaf5fe5b473824855f9455]
class CardResourceServiceProvider--><rect codeLine="76" fill="#FEFECE" height="154.5898" id="CardResourceServiceProvider" style="stroke:#D4AC0D;stroke-width:3.75;" width="592.5" x="5988.75" y="421.1719"/><ellipse cx="6026.25" cy="461.1719" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M6031.25,452.4219 Q6031.7578,451.1719 6032.3438,450.5469 Q6032.9297,449.9219 6033.5938,449.9219 Q6034.7656,449.9219 6035.5078,450.625 Q6036.25,451.3281 6036.25,452.9688 L6036.25,456.875 Q6036.25,458.5156 6035.5469,459.2188 Q6034.8438,459.9219 6033.75,459.9219 Q6032.7734,459.9219 6032.1484,459.4922 Q6031.5234,459.0625 6031.25,457.9297 Q6031.1328,457.1484 6030.7031,456.7188 Q6029.9219,455.8984 6028.5156,455.4297 Q6027.1094,454.9219 6025.7031,454.9219 Q6023.9453,454.9219 6022.4609,455.625 Q6021.0156,456.3281 6019.8828,457.8906 Q6018.75,459.4531 6018.75,461.6016 L6018.75,463.9063 Q6018.75,466.4844 6020.8594,468.2031 Q6022.9688,469.9219 6026.7188,469.9219 Q6028.9453,469.9219 6030.5078,469.4141 Q6031.4063,469.1406 6032.4219,468.2422 Q6033.0859,467.7344 6033.4375,467.5781 Q6033.7891,467.4219 6034.2188,467.4219 Q6035.0391,467.4219 6035.625,468.0859 Q6036.25,468.7109 6036.25,469.6094 Q6036.25,470.4688 6035.3906,471.4844 Q6034.1406,472.9688 6032.1484,473.7891 Q6029.5313,474.9219 6026.3281,474.9219 Q6022.5781,474.9219 6019.5703,473.4375 Q6017.1484,472.2656 6015.4297,469.7266 Q6013.75,467.1875 6013.75,464.1797 L6013.75,461.4453 Q6013.75,458.3203 6015.2344,455.5859 Q6016.7578,452.8516 6019.375,451.4063 Q6022.0313,449.9219 6025,449.9219 Q6026.7969,449.9219 6028.3594,450.5469 Q6029.9219,451.1719 6031.25,452.4219 Z " fill="#000000"/><ellipse cx="6073.75" cy="459.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="6088.75" y="473.4473">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="417.5" x="6156.25" y="473.4473">CardResourceServiceProvider</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5991.25" x2="6578.75" y1="501.1719" y2="501.1719"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5991.25" x2="6578.75" y1="521.1719" y2="521.1719"/><ellipse cx="6016.25" cy="548.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="432.5" x="6038.75" y="559.7192">CardResourceService getService ()</text><!--MD5=[2a8eee5c2be4d41e930fb3f0ca3f09bb]
class CardResourceService--><rect codeLine="80" fill="#FEFECE" height="327.5391" id="CardResourceService" style="stroke:#D4AC0D;stroke-width:3.75;" width="880" x="5845" y="877.4219"/><ellipse cx="6109.375" cy="917.4219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M6111.875,909.9219 L6111.875,924.9219 L6116.875,924.9219 L6118.0859,924.9219 L6119.375,926.4844 L6119.375,927.4219 L6119.375,928.3594 L6118.0859,929.9219 L6116.875,929.9219 L6101.875,929.9219 L6100.6641,929.9219 L6099.375,928.3594 L6099.375,927.4219 L6099.375,926.4844 L6100.6641,924.9219 L6101.875,924.9219 L6106.875,924.9219 L6106.875,909.9219 L6101.875,909.9219 L6100.6641,909.9219 L6099.375,908.3594 L6099.375,907.4219 L6099.375,906.4844 L6100.6641,904.9219 L6101.875,904.9219 L6116.875,904.9219 L6118.0859,904.9219 L6119.375,906.4844 L6119.375,907.4219 L6119.375,908.3594 L6118.0859,909.9219 L6116.875,909.9219 L6111.875,909.9219 Z " fill="#000000"/><ellipse cx="6173.125" cy="916.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="302.5" x="6188.125" y="929.6973">CardResourceService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5847.5" x2="6722.5" y1="957.4219" y2="957.4219"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5847.5" x2="6722.5" y1="977.4219" y2="977.4219"/><ellipse cx="5872.5" cy="1004.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="140" x="5895" y="1015.9692">void start ()</text><ellipse cx="5872.5" cy="1039.5117" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="137.5" x="5895" y="1050.5591">void stop ()</text><ellipse cx="5872.5" cy="1074.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="632.5" x="5895" y="1085.1489">CardResourceServiceConfigurator getConfigurator()</text><ellipse cx="5872.5" cy="1108.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="815" x="5895" y="1119.7388">CardResource getCardResource (String cardResourceProfileName)</text><ellipse cx="5872.5" cy="1143.2813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="705" x="5895" y="1154.3286">void releaseCardResource (CardResource cardResource)</text><ellipse cx="5872.5" cy="1177.8711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="705" x="5895" y="1188.9185">void removeCardResource (CardResource cardResource)</text><!--MD5=[2243d5e2ddbd5b762474b935ea2b8106]
class CardResourceServiceConfigurator--><rect codeLine="89" fill="#FEFECE" height="223.7695" id="CardResourceServiceConfigurator" style="stroke:#D4AC0D;stroke-width:3.75;" width="627.5" x="6373.75" y="1694.9219"/><ellipse cx="6432.625" cy="1734.9219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M6435.125,1727.4219 L6435.125,1742.4219 L6440.125,1742.4219 L6441.3359,1742.4219 L6442.625,1743.9844 L6442.625,1744.9219 L6442.625,1745.8594 L6441.3359,1747.4219 L6440.125,1747.4219 L6425.125,1747.4219 L6423.9141,1747.4219 L6422.625,1745.8594 L6422.625,1744.9219 L6422.625,1743.9844 L6423.9141,1742.4219 L6425.125,1742.4219 L6430.125,1742.4219 L6430.125,1727.4219 L6425.125,1727.4219 L6423.9141,1727.4219 L6422.625,1725.8594 L6422.625,1724.9219 L6422.625,1723.9844 L6423.9141,1722.4219 L6425.125,1722.4219 L6440.125,1722.4219 L6441.3359,1722.4219 L6442.625,1723.9844 L6442.625,1724.9219 L6442.625,1725.8594 L6441.3359,1727.4219 L6440.125,1727.4219 L6435.125,1727.4219 Z " fill="#000000"/><ellipse cx="6484.875" cy="1733.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="472.5" x="6499.875" y="1747.1973">CardResourceServiceConfigurator</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="6376.25" x2="6998.75" y1="1774.9219" y2="1774.9219"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="6376.25" x2="6998.75" y1="1794.9219" y2="1794.9219"/><ellipse cx="6401.25" cy="1822.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="6423.75" y="1833.4692">AllocationStrategyStep withPlugins ()</text><ellipse cx="6401.25" cy="1857.0117" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="547.5" x="6423.75" y="1868.0591">PoolAllocationStrategyStep withPoolPlugins ()</text><ellipse cx="6401.25" cy="1891.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="562.5" x="6423.75" y="1902.6489">AllocationModeStep endPluginsConfiguration ()</text><!--MD5=[490b1ec2d2a0d814cbc9831342c9281c]
class AllocationStrategyStep--><rect codeLine="95" fill="#FEFECE" height="223.7695" id="AllocationStrategyStep" style="stroke:#D4AC0D;stroke-width:3.75;" width="607.5" x="5558.75" y="2344.9219"/><ellipse cx="5683.125" cy="2384.9219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M5685.625,2377.4219 L5685.625,2392.4219 L5690.625,2392.4219 L5691.8359,2392.4219 L5693.125,2393.9844 L5693.125,2394.9219 L5693.125,2395.8594 L5691.8359,2397.4219 L5690.625,2397.4219 L5675.625,2397.4219 L5674.4141,2397.4219 L5673.125,2395.8594 L5673.125,2394.9219 L5673.125,2393.9844 L5674.4141,2392.4219 L5675.625,2392.4219 L5680.625,2392.4219 L5680.625,2377.4219 L5675.625,2377.4219 L5674.4141,2377.4219 L5673.125,2375.8594 L5673.125,2374.9219 L5673.125,2373.9844 L5674.4141,2372.4219 L5675.625,2372.4219 L5690.625,2372.4219 L5691.8359,2372.4219 L5693.125,2373.9844 L5693.125,2374.9219 L5693.125,2375.8594 L5691.8359,2377.4219 L5690.625,2377.4219 L5685.625,2377.4219 Z " fill="#000000"/><ellipse cx="5746.875" cy="2383.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="310" x="5761.875" y="2397.1973">AllocationStrategyStep</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5561.25" x2="6163.75" y1="2424.9219" y2="2424.9219"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5561.25" x2="6163.75" y1="2444.9219" y2="2444.9219"/><ellipse cx="5586.25" cy="2472.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="497.5" x="5608.75" y="2483.4692">PluginStep usingFirstAllocationStrategy ()</text><ellipse cx="5586.25" cy="2507.0117" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="517.5" x="5608.75" y="2518.0591">PluginStep usingCyclicAllocationStrategy ()</text><ellipse cx="5586.25" cy="2541.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="542.5" x="5608.75" y="2552.6489">PluginStep usingRandomAllocationStrategy ()</text><!--MD5=[bbf9a05abc34de724727e9c889cadb95]
class PluginStep--><rect codeLine="100" fill="#FEFECE" height="258.3594" id="PluginStep" style="stroke:#D4AC0D;stroke-width:3.75;" width="740" x="5525" y="2926.1719"/><ellipse cx="5795.625" cy="2966.1719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M5798.125,2958.6719 L5798.125,2973.6719 L5803.125,2973.6719 L5804.3359,2973.6719 L5805.625,2975.2344 L5805.625,2976.1719 L5805.625,2977.1094 L5804.3359,2978.6719 L5803.125,2978.6719 L5788.125,2978.6719 L5786.9141,2978.6719 L5785.625,2977.1094 L5785.625,2976.1719 L5785.625,2975.2344 L5786.9141,2973.6719 L5788.125,2973.6719 L5793.125,2973.6719 L5793.125,2958.6719 L5788.125,2958.6719 L5786.9141,2958.6719 L5785.625,2957.1094 L5785.625,2956.1719 L5785.625,2955.2344 L5786.9141,2953.6719 L5788.125,2953.6719 L5803.125,2953.6719 L5804.3359,2953.6719 L5805.625,2955.2344 L5805.625,2956.1719 L5805.625,2957.1094 L5804.3359,2958.6719 L5803.125,2958.6719 L5798.125,2958.6719 Z " fill="#000000"/><ellipse cx="5859.375" cy="2964.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="5874.375" y="2978.4473">PluginStep</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5527.5" x2="6262.5" y1="3006.1719" y2="3006.1719"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="5527.5" x2="6262.5" y1="3026.1719" y2="3026.1719"/><ellipse cx="5552.5" cy="3053.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="5575" y="3064.7192">PluginStep addPlugin (Plugin plugin,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="5635" y="3099.3091">boolean withReaderMonitoring,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="345" x="5635" y="3133.8989">boolean withCardMonitoring)</text><ellipse cx="5552.5" cy="3157.4414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="675" x="5575" y="3168.4888">CardResourceServiceConfigurator addNoMorePlugins ()</text><!--MD5=[930eb86fcfc9b14b815e707a73259358]
class PoolAllocationStrategyStep--><rect codeLine="108" fill="#FEFECE" height="189.1797" id="PoolAllocationStrategyStep" style="stroke:#D4AC0D;stroke-width:3.75;" width="732.5" x="6348.75" y="2362.4219"/><ellipse cx="6504.375" cy="2402.4219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M6506.875,2394.9219 L6506.875,2409.9219 L6511.875,2409.9219 L6513.0859,2409.9219 L6514.375,2411.4844 L6514.375,2412.4219 L6514.375,2413.3594 L6513.0859,2414.9219 L6511.875,2414.9219 L6496.875,2414.9219 L6495.6641,2414.9219 L6494.375,2413.3594 L6494.375,2412.4219 L6494.375,2411.4844 L6495.6641,2409.9219 L6496.875,2409.9219 L6501.875,2409.9219 L6501.875,2394.9219 L6496.875,2394.9219 L6495.6641,2394.9219 L6494.375,2393.3594 L6494.375,2392.4219 L6494.375,2391.4844 L6495.6641,2389.9219 L6496.875,2389.9219 L6511.875,2389.9219 L6513.0859,2389.9219 L6514.375,2391.4844 L6514.375,2392.4219 L6514.375,2393.3594 L6513.0859,2394.9219 L6511.875,2394.9219 L6506.875,2394.9219 Z " fill="#000000"/><ellipse cx="6568.125" cy="2401.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="372.5" x="6583.125" y="2414.6973">PoolAllocationStrategyStep</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="6351.25" x2="7078.75" y1="2442.4219" y2="2442.4219"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="6351.25" x2="7078.75" y1="2462.4219" y2="2462.4219"/><ellipse cx="6376.25" cy="2489.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="667.5" x="6398.75" y="2500.9692">PoolPluginStep usingPoolPluginFirstAllocationStrategy ()</text><ellipse cx="6376.25" cy="2524.5117" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="667.5" x="6398.75" y="2535.5591">PoolPluginStep usingPoolPluginLastAllocationStrategy ()</text><!--MD5=[75615604bcd1bad9eaacd8096bacbb29]
class PoolPluginStep--><rect codeLine="112" fill="#FEFECE" height="223.7695" id="PoolPluginStep" style="stroke:#D4AC0D;stroke-width:3.75;" width="790" x="6397.5" y="2942.4219"/><ellipse cx="6661.875" cy="2982.4219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M6664.375,2974.9219 L6664.375,2989.9219 L6669.375,2989.9219 L6670.5859,2989.9219 L6671.875,2991.4844 L6671.875,2992.4219 L6671.875,2993.3594 L6670.5859,2994.9219 L6669.375,2994.9219 L6654.375,2994.9219 L6653.1641,2994.9219 L6651.875,2993.3594 L6651.875,2992.4219 L6651.875,2991.4844 L6653.1641,2989.9219 L6654.375,2989.9219 L6659.375,2989.9219 L6659.375,2974.9219 L6654.375,2974.9219 L6653.1641,2974.9219 L6651.875,2973.3594 L6651.875,2972.4219 L6651.875,2971.4844 L6653.1641,2969.9219 L6654.375,2969.9219 L6669.375,2969.9219 L6670.5859,2969.9219 L6671.875,2971.4844 L6671.875,2972.4219 L6671.875,2973.3594 L6670.5859,2974.9219 L6669.375,2974.9219 L6664.375,2974.9219 Z " fill="#000000"/><ellipse cx="6725.625" cy="2981.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="6740.625" y="2994.6973">PoolPluginStep</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="6400" x2="7185" y1="3022.4219" y2="3022.4219"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="6400" x2="7185" y1="3042.4219" y2="3042.4219"/><ellipse cx="6425" cy="3069.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="620" x="6447.5" y="3080.9692">PoolPluginStep addPoolPlugin (PoolPlugin poolPlugin,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="345" x="6507.5" y="3115.5591">boolean withCardMonitoring)</text><ellipse cx="6425" cy="3139.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="725" x="6447.5" y="3150.1489">CardResourceServiceConfigurator addNoMorePoolPlugins ()</text><!--MD5=[22c9845b4ee22eac10bedc6b8c88f650]
class AllocationModeStep--><rect codeLine="119" fill="#FEFECE" height="258.3594" id="AllocationModeStep" style="stroke:#D4AC0D;stroke-width:3.75;" width="625" x="7375" y="2328.6719"/><ellipse cx="7526.875" cy="2368.6719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M7529.375,2361.1719 L7529.375,2376.1719 L7534.375,2376.1719 L7535.5859,2376.1719 L7536.875,2377.7344 L7536.875,2378.6719 L7536.875,2379.6094 L7535.5859,2381.1719 L7534.375,2381.1719 L7519.375,2381.1719 L7518.1641,2381.1719 L7516.875,2379.6094 L7516.875,2378.6719 L7516.875,2377.7344 L7518.1641,2376.1719 L7519.375,2376.1719 L7524.375,2376.1719 L7524.375,2361.1719 L7519.375,2361.1719 L7518.1641,2361.1719 L7516.875,2359.6094 L7516.875,2358.6719 L7516.875,2357.7344 L7518.1641,2356.1719 L7519.375,2356.1719 L7534.375,2356.1719 L7535.5859,2356.1719 L7536.875,2357.7344 L7536.875,2358.6719 L7536.875,2359.6094 L7535.5859,2361.1719 L7534.375,2361.1719 L7529.375,2361.1719 Z " fill="#000000"/><ellipse cx="7590.625" cy="2367.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="272.5" x="7605.625" y="2380.9473">AllocationModeStep</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="7377.5" x2="7997.5" y1="2408.6719" y2="2408.6719"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="7377.5" x2="7997.5" y1="2428.6719" y2="2428.6719"/><ellipse cx="7402.5" cy="2456.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="512.5" x="7425" y="2467.2192">ProfileStep usingBlockingAllocationMode ()</text><ellipse cx="7402.5" cy="2490.7617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="502.5" x="7425" y="2501.8091">ProfileStep usingBlockingAllocationMode (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="455" x="7485" y="2536.3989">int cycleDurationMillis, int timeoutMillis)</text><ellipse cx="7402.5" cy="2559.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="560" x="7425" y="2570.9888">ProfileStep usingNonBlockingAllocationMode ()</text><!--MD5=[46a66bf85ea1a2bae543a7b53a7f2250]
class ProfileStep--><rect codeLine="127" fill="#FEFECE" height="223.7695" id="ProfileStep" style="stroke:#D4AC0D;stroke-width:3.75;" width="957.5" x="7321.25" y="2942.4219"/><ellipse cx="7700.625" cy="2982.4219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M7703.125,2974.9219 L7703.125,2989.9219 L7708.125,2989.9219 L7709.3359,2989.9219 L7710.625,2991.4844 L7710.625,2992.4219 L7710.625,2993.3594 L7709.3359,2994.9219 L7708.125,2994.9219 L7693.125,2994.9219 L7691.9141,2994.9219 L7690.625,2993.3594 L7690.625,2992.4219 L7690.625,2991.4844 L7691.9141,2989.9219 L7693.125,2989.9219 L7698.125,2989.9219 L7698.125,2974.9219 L7693.125,2974.9219 L7691.9141,2974.9219 L7690.625,2973.3594 L7690.625,2972.4219 L7690.625,2971.4844 L7691.9141,2969.9219 L7693.125,2969.9219 L7708.125,2969.9219 L7709.3359,2969.9219 L7710.625,2971.4844 L7710.625,2972.4219 L7710.625,2973.3594 L7709.3359,2974.9219 L7708.125,2974.9219 L7703.125,2974.9219 Z " fill="#000000"/><ellipse cx="7764.375" cy="2981.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="7779.375" y="2994.6973">ProfileStep</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="7323.75" x2="8276.25" y1="3022.4219" y2="3022.4219"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="7323.75" x2="8276.25" y1="3042.4219" y2="3042.4219"/><ellipse cx="7348.75" cy="3069.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="722.5" x="7371.25" y="3080.9692">ProfileParameterStep addCardResourceProfile (String name,</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="450" x="7431.25" y="3115.5591">KeypleCardResourceProfileExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="7888.75" y="3115.5591">cardResourceProfileExtension)</text><ellipse cx="7348.75" cy="3139.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="652.5" x="7371.25" y="3150.1489">ConfigurationStep addNoMoreCardResourceProfiles ()</text><!--MD5=[9697b2a1715877816334cbceeb53edb8]
class ProfileParameterStep--><rect codeLine="132" fill="#FEFECE" height="258.3594" id="ProfileParameterStep" style="stroke:#D4AC0D;stroke-width:3.75;" width="1040" x="7195" y="3638.6719"/><ellipse cx="7543.125" cy="3678.6719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M7545.625,3671.1719 L7545.625,3686.1719 L7550.625,3686.1719 L7551.8359,3686.1719 L7553.125,3687.7344 L7553.125,3688.6719 L7553.125,3689.6094 L7551.8359,3691.1719 L7550.625,3691.1719 L7535.625,3691.1719 L7534.4141,3691.1719 L7533.125,3689.6094 L7533.125,3688.6719 L7533.125,3687.7344 L7534.4141,3686.1719 L7535.625,3686.1719 L7540.625,3686.1719 L7540.625,3671.1719 L7535.625,3671.1719 L7534.4141,3671.1719 L7533.125,3669.6094 L7533.125,3668.6719 L7533.125,3667.7344 L7534.4141,3666.1719 L7535.625,3666.1719 L7550.625,3666.1719 L7551.8359,3666.1719 L7553.125,3667.7344 L7553.125,3668.6719 L7553.125,3669.6094 L7551.8359,3671.1719 L7550.625,3671.1719 L7545.625,3671.1719 Z " fill="#000000"/><ellipse cx="7606.875" cy="3677.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="295" x="7621.875" y="3690.9473">ProfileParameterStep</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="7197.5" x2="8232.5" y1="3718.6719" y2="3718.6719"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="7197.5" x2="8232.5" y1="3738.6719" y2="3738.6719"/><ellipse cx="7222.5" cy="3766.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="595" x="7245" y="3777.2192">ProfileParameterStep setPlugins (Plugin... plugins)</text><ellipse cx="7222.5" cy="3800.7617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="860" x="7245" y="3811.8091">ProfileParameterStep setReaderNameRegex (String readerNameRegex)</text><ellipse cx="7222.5" cy="3835.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="975" x="7245" y="3846.3989">ProfileParameterStep setReaderGroupReference (String readerGroupReference)</text><ellipse cx="7222.5" cy="3869.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="440" x="7245" y="3880.9888">ProfileStep addNoMoreParameters ()</text><!--MD5=[ebc89a2f9a2a235667b43a4404f0f997]
class ConfigurationStep--><rect codeLine="139" fill="#FEFECE" height="154.5898" id="ConfigurationStep" style="stroke:#D4AC0D;stroke-width:3.75;" width="355" x="6752.5" y="3689.9219"/><ellipse cx="6790" cy="3729.9219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M6792.5,3722.4219 L6792.5,3737.4219 L6797.5,3737.4219 L6798.7109,3737.4219 L6800,3738.9844 L6800,3739.9219 L6800,3740.8594 L6798.7109,3742.4219 L6797.5,3742.4219 L6782.5,3742.4219 L6781.2891,3742.4219 L6780,3740.8594 L6780,3739.9219 L6780,3738.9844 L6781.2891,3737.4219 L6782.5,3737.4219 L6787.5,3737.4219 L6787.5,3722.4219 L6782.5,3722.4219 L6781.2891,3722.4219 L6780,3720.8594 L6780,3719.9219 L6780,3718.9844 L6781.2891,3717.4219 L6782.5,3717.4219 L6797.5,3717.4219 L6798.7109,3717.4219 L6800,3718.9844 L6800,3719.9219 L6800,3720.8594 L6798.7109,3722.4219 L6797.5,3722.4219 L6792.5,3722.4219 Z " fill="#000000"/><ellipse cx="6837.5" cy="3728.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="247.5" x="6852.5" y="3742.1973">ConfigurationStep</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="6755" x2="7105" y1="3769.9219" y2="3769.9219"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="6755" x2="7105" y1="3789.9219" y2="3789.9219"/><ellipse cx="6780" cy="3817.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="200" x="6802.5" y="3828.4692">void configure ()</text><!--MD5=[9d5201d69290fdda3b9522261babfc84]
class CardResource--><rect codeLine="143" fill="#FEFECE" height="243.7695" id="CardResource" style="stroke:#D4AC0D;stroke-width:3.75;" width="717.5" x="5526.25" y="1684.9219"/><ellipse cx="5760.625" cy="1724.9219" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M5765.625,1716.1719 Q5766.1328,1714.9219 5766.7188,1714.2969 Q5767.3047,1713.6719 5767.9688,1713.6719 Q5769.1406,1713.6719 5769.8828,1714.375 Q5770.625,1715.0781 5770.625,1716.7188 L5770.625,1720.625 Q5770.625,1722.2656 5769.9219,1722.9688 Q5769.2188,1723.6719 5768.125,1723.6719 Q5767.1484,1723.6719 5766.5234,1723.2422 Q5765.8984,1722.8125 5765.625,1721.6797 Q5765.5078,1720.8984 5765.0781,1720.4688 Q5764.2969,1719.6484 5762.8906,1719.1797 Q5761.4844,1718.6719 5760.0781,1718.6719 Q5758.3203,1718.6719 5756.8359,1719.375 Q5755.3906,1720.0781 5754.2578,1721.6406 Q5753.125,1723.2031 5753.125,1725.3516 L5753.125,1727.6563 Q5753.125,1730.2344 5755.2344,1731.9531 Q5757.3438,1733.6719 5761.0938,1733.6719 Q5763.3203,1733.6719 5764.8828,1733.1641 Q5765.7813,1732.8906 5766.7969,1731.9922 Q5767.4609,1731.4844 5767.8125,1731.3281 Q5768.1641,1731.1719 5768.5938,1731.1719 Q5769.4141,1731.1719 5770,1731.8359 Q5770.625,1732.4609 5770.625,1733.3594 Q5770.625,1734.2188 5769.7656,1735.2344 Q5768.5156,1736.7188 5766.5234,1737.5391 Q5763.9063,1738.6719 5760.7031,1738.6719 Q5756.9531,1738.6719 5753.9453,1737.1875 Q5751.5234,1736.0156 5749.8047,1733.4766 Q5748.125,1730.9375 5748.125,1727.9297 L5748.125,1725.1953 Q5748.125,1722.0703 5749.6094,1719.3359 Q5751.1328,1716.6016 5753.75,1715.1563 Q5756.4063,1713.6719 5759.375,1713.6719 Q5761.1719,1713.6719 5762.7344,1714.2969 Q5764.2969,1714.9219 5765.625,1716.1719 Z " fill="#000000"/><ellipse cx="5824.375" cy="1723.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="200" x="5839.375" y="1737.1973">CardResource</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5528.75" x2="6241.25" y1="1764.9219" y2="1764.9219"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="5528.75" x2="6241.25" y1="1784.9219" y2="1784.9219"/><ellipse cx="5553.75" cy="1812.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="652.5" x="5576.25" y="1823.4692">CardResource (Reader reader, SmartCard smartCard)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="5528.75" x2="6241.25" y1="1839.5117" y2="1839.5117"/><ellipse cx="5553.75" cy="1867.0117" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" textLength="57.5" x="5576.25" y="1878.0591">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="5641.25" y="1878.0591">Reader getReader ()</text><ellipse cx="5553.75" cy="1901.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" textLength="57.5" x="5576.25" y="1912.6489">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="5641.25" y="1912.6489">SmartCard getSmartCard ()</text><!--MD5=[b4b6a5721e02f7cea6ba89274ea67351]
class NotificationMode--><rect codeLine="234" fill="#FEFECE" height="189.1797" id="NotificationMode" style="stroke:#D4AC0D;stroke-width:3.75;" width="335" x="80" y="3672.4219"/><ellipse cx="117.5" cy="3712.4219" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M113.75,3714.9219 L113.75,3719.9219 L123.75,3719.9219 L123.75,3717.4219 L123.75,3716.2109 L125.3125,3714.9219 L126.25,3714.9219 L127.1875,3714.9219 L128.75,3716.2109 L128.75,3717.4219 L128.75,3724.9219 L108.75,3724.9219 L107.5391,3724.9219 L106.25,3723.3594 L106.25,3722.4219 L106.25,3721.4844 L107.5391,3719.9219 L108.75,3719.9219 L108.75,3719.9219 L108.75,3704.9219 L108.75,3704.9219 L107.5391,3704.9219 L106.25,3703.3594 L106.25,3702.4219 L106.25,3701.4844 L107.5391,3699.9219 L108.75,3699.9219 L128.75,3699.9219 L128.75,3707.4219 L128.75,3708.6328 L127.1875,3709.9219 L126.25,3709.9219 L125.3125,3709.9219 L123.75,3708.6328 L123.75,3707.4219 L123.75,3704.9219 L113.75,3704.9219 L113.75,3709.9219 L116.25,3709.9219 L116.25,3708.7109 L116.25,3708.7109 L117.8125,3707.4219 L118.75,3707.4219 L119.6875,3707.4219 L121.25,3708.7109 L121.25,3709.9219 L121.25,3714.9219 L121.25,3716.1328 L119.6875,3717.4219 L119.6875,3717.4219 L118.75,3717.4219 L117.8125,3717.4219 L116.25,3716.1328 L116.25,3716.1328 L116.25,3714.9219 L113.75,3714.9219 Z " fill="#000000"/><ellipse cx="165" cy="3711.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="227.5" x="180" y="3724.6973">NotificationMode</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="82.5" x2="412.5" y1="3752.4219" y2="3752.4219"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="117.5" x="95" y="3790.9692">ALWAYS</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="95" y="3825.5591">MATCHED_ONLY</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="82.5" x2="412.5" y1="3841.6016" y2="3841.6016"/><!--MD5=[4db98615c12e554c8946e39d7c0e78ca]
class PollingMode--><rect codeLine="238" fill="#FEFECE" height="189.1797" id="PollingMode" style="stroke:#D4AC0D;stroke-width:3.75;" width="277.5" x="503.75" y="3672.4219"/><ellipse cx="541.25" cy="3712.4219" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M537.5,3714.9219 L537.5,3719.9219 L547.5,3719.9219 L547.5,3717.4219 L547.5,3716.2109 L549.0625,3714.9219 L550,3714.9219 L550.9375,3714.9219 L552.5,3716.2109 L552.5,3717.4219 L552.5,3724.9219 L532.5,3724.9219 L531.2891,3724.9219 L530,3723.3594 L530,3722.4219 L530,3721.4844 L531.2891,3719.9219 L532.5,3719.9219 L532.5,3719.9219 L532.5,3704.9219 L532.5,3704.9219 L531.2891,3704.9219 L530,3703.3594 L530,3702.4219 L530,3701.4844 L531.2891,3699.9219 L532.5,3699.9219 L552.5,3699.9219 L552.5,3707.4219 L552.5,3708.6328 L550.9375,3709.9219 L550,3709.9219 L549.0625,3709.9219 L547.5,3708.6328 L547.5,3707.4219 L547.5,3704.9219 L537.5,3704.9219 L537.5,3709.9219 L540,3709.9219 L540,3708.7109 L540,3708.7109 L541.5625,3707.4219 L542.5,3707.4219 L543.4375,3707.4219 L545,3708.7109 L545,3709.9219 L545,3714.9219 L545,3716.1328 L543.4375,3717.4219 L543.4375,3717.4219 L542.5,3717.4219 L541.5625,3717.4219 L540,3716.1328 L540,3716.1328 L540,3714.9219 L537.5,3714.9219 Z " fill="#000000"/><ellipse cx="588.75" cy="3711.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="170" x="603.75" y="3724.6973">PollingMode</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="506.25" x2="778.75" y1="3752.4219" y2="3752.4219"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="140" x="518.75" y="3790.9692">REPEATING</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="160" x="518.75" y="3825.5591">SINGLESHOT</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="506.25" x2="778.75" y1="3841.6016" y2="3841.6016"/><!--MD5=[9a5f54023274c57ee24edb1ade6872b1]
class ReaderEvent--><rect codeLine="242" fill="#FEFECE" height="368.0078" id="ReaderEvent" style="stroke:#D4AC0D;stroke-width:3.75;" width="977.5" x="2133.75" y="4253.6719"/><ellipse cx="2425.625" cy="4303.9063" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2430.625,4295.1563 Q2431.1328,4293.9063 2431.7188,4293.2813 Q2432.3047,4292.6563 2432.9688,4292.6563 Q2434.1406,4292.6563 2434.8828,4293.3594 Q2435.625,4294.0625 2435.625,4295.7031 L2435.625,4299.6094 Q2435.625,4301.25 2434.9219,4301.9531 Q2434.2188,4302.6563 2433.125,4302.6563 Q2432.1484,4302.6563 2431.5234,4302.2266 Q2430.8984,4301.7969 2430.625,4300.6641 Q2430.5078,4299.8828 2430.0781,4299.4531 Q2429.2969,4298.6328 2427.8906,4298.1641 Q2426.4844,4297.6563 2425.0781,4297.6563 Q2423.3203,4297.6563 2421.8359,4298.3594 Q2420.3906,4299.0625 2419.2578,4300.625 Q2418.125,4302.1875 2418.125,4304.3359 L2418.125,4306.6406 Q2418.125,4309.2188 2420.2344,4310.9375 Q2422.3438,4312.6563 2426.0938,4312.6563 Q2428.3203,4312.6563 2429.8828,4312.1484 Q2430.7813,4311.875 2431.7969,4310.9766 Q2432.4609,4310.4688 2432.8125,4310.3125 Q2433.1641,4310.1563 2433.5938,4310.1563 Q2434.4141,4310.1563 2435,4310.8203 Q2435.625,4311.4453 2435.625,4312.3438 Q2435.625,4313.2031 2434.7656,4314.2188 Q2433.5156,4315.7031 2431.5234,4316.5234 Q2428.9063,4317.6563 2425.7031,4317.6563 Q2421.9531,4317.6563 2418.9453,4316.1719 Q2416.5234,4315 2414.8047,4312.4609 Q2413.125,4309.9219 2413.125,4306.9141 L2413.125,4304.1797 Q2413.125,4301.0547 2414.6094,4298.3203 Q2416.1328,4295.5859 2418.75,4294.1406 Q2421.4063,4292.6563 2424.375,4292.6563 Q2426.1719,4292.6563 2427.7344,4293.2813 Q2429.2969,4293.9063 2430.625,4295.1563 Z " fill="#000000"/><ellipse cx="2489.375" cy="4302.6563" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2504.375" y="4297.3145">&lt;&lt;</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="275" x="2539.375" y="4297.3145">KeypleReaderEvent</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2814.375" y="4297.3145">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2553.125" y="4335.0488">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="2620.625" y="4335.0488">ReaderEvent</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2136.25" x2="3108.75" y1="4354.1406" y2="4354.1406"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="2136.25" x2="3108.75" y1="4374.1406" y2="4374.1406"/><ellipse cx="2161.25" cy="4401.6406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="912.5" x="2183.75" y="4412.688">ReaderEvent (String pluginName, String readerName, EventType eventType,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="57.5" x="2243.75" y="4447.2778">List&lt;</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2301.25" y="4447.2778">KeypleCardSelectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="2673.75" y="4447.2778">&gt; cardSelectionResponses)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2136.25" x2="3108.75" y1="4463.3203" y2="4463.3203"/><ellipse cx="2161.25" cy="4490.8203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="280" x="2183.75" y="4501.8677">String getPluginName ()</text><ellipse cx="2161.25" cy="4525.4102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="297.5" x="2183.75" y="4536.4575">String getReaderName ()</text><ellipse cx="2161.25" cy="4560" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="2183.75" y="4571.0474">EventType getEventType ()</text><ellipse cx="2161.25" cy="4594.5898" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="57.5" x="2183.75" y="4605.6372">List&lt;</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="2241.25" y="4605.6372">KeypleCardSelectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="392.5" x="2613.75" y="4605.6372">&gt; getCardSelectionResponses ()</text><!--MD5=[c497011182ae060ffe3becc5fae50c50]
class ReaderEventType--><rect codeLine="252" fill="#FEFECE" height="258.3594" id="ReaderEventType" style="stroke:#D4AC0D;stroke-width:3.75;" width="252.5" x="2496.25" y="4804.9219"/><ellipse cx="2533.75" cy="4844.9219" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M2530,4847.4219 L2530,4852.4219 L2540,4852.4219 L2540,4849.9219 L2540,4848.7109 L2541.5625,4847.4219 L2542.5,4847.4219 L2543.4375,4847.4219 L2545,4848.7109 L2545,4849.9219 L2545,4857.4219 L2525,4857.4219 L2523.7891,4857.4219 L2522.5,4855.8594 L2522.5,4854.9219 L2522.5,4853.9844 L2523.7891,4852.4219 L2525,4852.4219 L2525,4852.4219 L2525,4837.4219 L2525,4837.4219 L2523.7891,4837.4219 L2522.5,4835.8594 L2522.5,4834.9219 L2522.5,4833.9844 L2523.7891,4832.4219 L2525,4832.4219 L2545,4832.4219 L2545,4839.9219 L2545,4841.1328 L2543.4375,4842.4219 L2542.5,4842.4219 L2541.5625,4842.4219 L2540,4841.1328 L2540,4839.9219 L2540,4837.4219 L2530,4837.4219 L2530,4842.4219 L2532.5,4842.4219 L2532.5,4841.2109 L2532.5,4841.2109 L2534.0625,4839.9219 L2535,4839.9219 L2535.9375,4839.9219 L2537.5,4841.2109 L2537.5,4842.4219 L2537.5,4847.4219 L2537.5,4848.6328 L2535.9375,4849.9219 L2535.9375,4849.9219 L2535,4849.9219 L2534.0625,4849.9219 L2532.5,4848.6328 L2532.5,4848.6328 L2532.5,4847.4219 L2530,4847.4219 Z " fill="#000000"/><ellipse cx="2581.25" cy="4843.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="145" x="2596.25" y="4857.1973">EventType</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2498.75" x2="2746.25" y1="4884.9219" y2="4884.9219"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="207.5" x="2511.25" y="4923.4692">CARD_INSERTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2511.25" y="4958.0591">CARD_MATCHED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="212.5" x="2511.25" y="4992.6489">CARD_REMOVED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="190" x="2511.25" y="5027.2388">UNREGISTERED</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2498.75" x2="2746.25" y1="5043.2813" y2="5043.2813"/><!--MD5=[df72700ac22eeb6165072f159208e08c]
class PluginEvent--><rect codeLine="258" fill="#FEFECE" height="333.418" id="PluginEvent" style="stroke:#D4AC0D;stroke-width:3.75;" width="1062.5" x="983.75" y="4271.1719"/><ellipse cx="1325.625" cy="4321.4063" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1330.625,4312.6563 Q1331.1328,4311.4063 1331.7188,4310.7813 Q1332.3047,4310.1563 1332.9688,4310.1563 Q1334.1406,4310.1563 1334.8828,4310.8594 Q1335.625,4311.5625 1335.625,4313.2031 L1335.625,4317.1094 Q1335.625,4318.75 1334.9219,4319.4531 Q1334.2188,4320.1563 1333.125,4320.1563 Q1332.1484,4320.1563 1331.5234,4319.7266 Q1330.8984,4319.2969 1330.625,4318.1641 Q1330.5078,4317.3828 1330.0781,4316.9531 Q1329.2969,4316.1328 1327.8906,4315.6641 Q1326.4844,4315.1563 1325.0781,4315.1563 Q1323.3203,4315.1563 1321.8359,4315.8594 Q1320.3906,4316.5625 1319.2578,4318.125 Q1318.125,4319.6875 1318.125,4321.8359 L1318.125,4324.1406 Q1318.125,4326.7188 1320.2344,4328.4375 Q1322.3438,4330.1563 1326.0938,4330.1563 Q1328.3203,4330.1563 1329.8828,4329.6484 Q1330.7813,4329.375 1331.7969,4328.4766 Q1332.4609,4327.9688 1332.8125,4327.8125 Q1333.1641,4327.6563 1333.5938,4327.6563 Q1334.4141,4327.6563 1335,4328.3203 Q1335.625,4328.9453 1335.625,4329.8438 Q1335.625,4330.7031 1334.7656,4331.7188 Q1333.5156,4333.2031 1331.5234,4334.0234 Q1328.9063,4335.1563 1325.7031,4335.1563 Q1321.9531,4335.1563 1318.9453,4333.6719 Q1316.5234,4332.5 1314.8047,4329.9609 Q1313.125,4327.4219 1313.125,4324.4141 L1313.125,4321.6797 Q1313.125,4318.5547 1314.6094,4315.8203 Q1316.1328,4313.0859 1318.75,4311.6406 Q1321.4063,4310.1563 1324.375,4310.1563 Q1326.1719,4310.1563 1327.7344,4310.7813 Q1329.2969,4311.4063 1330.625,4312.6563 Z " fill="#000000"/><ellipse cx="1389.375" cy="4320.1563" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1404.375" y="4314.8145">&lt;&lt;</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="260" x="1439.375" y="4314.8145">KeyplePluginEvent</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1699.375" y="4314.8145">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1453.125" y="4352.5488">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="165" x="1520.625" y="4352.5488">PluginEvent</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="986.25" x2="2043.75" y1="4371.6406" y2="4371.6406"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="986.25" x2="2043.75" y1="4391.6406" y2="4391.6406"/><ellipse cx="1011.25" cy="4419.1406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="897.5" x="1033.75" y="4430.188">PluginEvent (String pluginName, String readerName, EventType eventType)</text><ellipse cx="1011.25" cy="4453.7305" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="997.5" x="1033.75" y="4464.7778">PluginEvent (String pluginName, Set&lt;String&gt; readersNames, EventType eventType)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="986.25" x2="2043.75" y1="4480.8203" y2="4480.8203"/><ellipse cx="1011.25" cy="4508.3203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="280" x="1033.75" y="4519.3677">String getPluginName ()</text><ellipse cx="1011.25" cy="4542.9102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="477.5" x="1033.75" y="4553.9575">SortedSet&lt;String&gt; getReadersNames ()</text><ellipse cx="1011.25" cy="4577.5" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="1033.75" y="4588.5474">EventType getEventType ()</text><!--MD5=[615672f8f9e7dc1c0373737ea5be9f3b]
class PluginEventType--><rect codeLine="267" fill="#FEFECE" height="223.7695" id="PluginEventType" style="stroke:#D4AC0D;stroke-width:3.75;" width="340" x="1345" y="4821.1719"/><ellipse cx="1421.875" cy="4861.1719" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1418.125,4863.6719 L1418.125,4868.6719 L1428.125,4868.6719 L1428.125,4866.1719 L1428.125,4864.9609 L1429.6875,4863.6719 L1430.625,4863.6719 L1431.5625,4863.6719 L1433.125,4864.9609 L1433.125,4866.1719 L1433.125,4873.6719 L1413.125,4873.6719 L1411.9141,4873.6719 L1410.625,4872.1094 L1410.625,4871.1719 L1410.625,4870.2344 L1411.9141,4868.6719 L1413.125,4868.6719 L1413.125,4868.6719 L1413.125,4853.6719 L1413.125,4853.6719 L1411.9141,4853.6719 L1410.625,4852.1094 L1410.625,4851.1719 L1410.625,4850.2344 L1411.9141,4848.6719 L1413.125,4848.6719 L1433.125,4848.6719 L1433.125,4856.1719 L1433.125,4857.3828 L1431.5625,4858.6719 L1430.625,4858.6719 L1429.6875,4858.6719 L1428.125,4857.3828 L1428.125,4856.1719 L1428.125,4853.6719 L1418.125,4853.6719 L1418.125,4858.6719 L1420.625,4858.6719 L1420.625,4857.4609 L1420.625,4857.4609 L1422.1875,4856.1719 L1423.125,4856.1719 L1424.0625,4856.1719 L1425.625,4857.4609 L1425.625,4858.6719 L1425.625,4863.6719 L1425.625,4864.8828 L1424.0625,4866.1719 L1424.0625,4866.1719 L1423.125,4866.1719 L1422.1875,4866.1719 L1420.625,4864.8828 L1420.625,4864.8828 L1420.625,4863.6719 L1418.125,4863.6719 Z " fill="#000000"/><ellipse cx="1478.125" cy="4859.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="145" x="1493.125" y="4873.4473">EventType</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1347.5" x2="1682.5" y1="4901.1719" y2="4901.1719"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="270" x="1360" y="4939.7192">READER_CONNECTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="1360" y="4974.3091">READER_DISCONNECTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="190" x="1360" y="5008.8989">UNREGISTERED</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1347.5" x2="1682.5" y1="5024.9414" y2="5024.9414"/><!--MD5=[e6b281bcf59a6303a12c75da682dec8c]
class CardSelectionServiceFactory--><rect codeLine="273" fill="#FEFECE" height="189.1797" id="CardSelectionServiceFactory" style="stroke:#D4AC0D;stroke-width:3.75;" width="1092.5" x="3538.75" y="946.1719"/><ellipse cx="3828.125" cy="986.1719" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3833.125,977.4219 Q3833.6328,976.1719 3834.2188,975.5469 Q3834.8047,974.9219 3835.4688,974.9219 Q3836.6406,974.9219 3837.3828,975.625 Q3838.125,976.3281 3838.125,977.9688 L3838.125,981.875 Q3838.125,983.5156 3837.4219,984.2188 Q3836.7188,984.9219 3835.625,984.9219 Q3834.6484,984.9219 3834.0234,984.4922 Q3833.3984,984.0625 3833.125,982.9297 Q3833.0078,982.1484 3832.5781,981.7188 Q3831.7969,980.8984 3830.3906,980.4297 Q3828.9844,979.9219 3827.5781,979.9219 Q3825.8203,979.9219 3824.3359,980.625 Q3822.8906,981.3281 3821.7578,982.8906 Q3820.625,984.4531 3820.625,986.6016 L3820.625,988.9063 Q3820.625,991.4844 3822.7344,993.2031 Q3824.8438,994.9219 3828.5938,994.9219 Q3830.8203,994.9219 3832.3828,994.4141 Q3833.2813,994.1406 3834.2969,993.2422 Q3834.9609,992.7344 3835.3125,992.5781 Q3835.6641,992.4219 3836.0938,992.4219 Q3836.9141,992.4219 3837.5,993.0859 Q3838.125,993.7109 3838.125,994.6094 Q3838.125,995.4688 3837.2656,996.4844 Q3836.0156,997.9688 3834.0234,998.7891 Q3831.4063,999.9219 3828.2031,999.9219 Q3824.4531,999.9219 3821.4453,998.4375 Q3819.0234,997.2656 3817.3047,994.7266 Q3815.625,992.1875 3815.625,989.1797 L3815.625,986.4453 Q3815.625,983.3203 3817.1094,980.5859 Q3818.6328,977.8516 3821.25,976.4063 Q3823.9063,974.9219 3826.875,974.9219 Q3828.6719,974.9219 3830.2344,975.5469 Q3831.7969,976.1719 3833.125,977.4219 Z " fill="#000000"/><ellipse cx="3891.875" cy="984.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3906.875" y="998.4473">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="397.5" x="3974.375" y="998.4473">CardSelectionServiceFactory</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3541.25" x2="4628.75" y1="1026.1719" y2="1026.1719"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3541.25" x2="4628.75" y1="1046.1719" y2="1046.1719"/><ellipse cx="3566.25" cy="1073.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="425" x="3588.75" y="1084.7192">CardSelectionService getService ()</text><ellipse cx="3566.25" cy="1108.2617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="1027.5" x="3588.75" y="1119.3091">CardSelectionService getService (MultiSelectionProcessing multiSelectionProcessing)</text><!--MD5=[bb05bfd1c5059058d457654d4573d9ac]
class PluginObserverSpi--><rect codeLine="56" fill="#FEFECE" height="189.1797" id="PluginObserverSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="417.5" x="2936.25" y="3672.4219"/><ellipse cx="2996.25" cy="3712.4219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2998.75,3704.9219 L2998.75,3719.9219 L3003.75,3719.9219 L3004.9609,3719.9219 L3006.25,3721.4844 L3006.25,3722.4219 L3006.25,3723.3594 L3004.9609,3724.9219 L3003.75,3724.9219 L2988.75,3724.9219 L2987.5391,3724.9219 L2986.25,3723.3594 L2986.25,3722.4219 L2986.25,3721.4844 L2987.5391,3719.9219 L2988.75,3719.9219 L2993.75,3719.9219 L2993.75,3704.9219 L2988.75,3704.9219 L2987.5391,3704.9219 L2986.25,3703.3594 L2986.25,3702.4219 L2986.25,3701.4844 L2987.5391,3699.9219 L2988.75,3699.9219 L3003.75,3699.9219 L3004.9609,3699.9219 L3006.25,3701.4844 L3006.25,3702.4219 L3006.25,3703.3594 L3004.9609,3704.9219 L3003.75,3704.9219 L2998.75,3704.9219 Z " fill="#000000"/><ellipse cx="3048.75" cy="3711.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="260" x="3063.75" y="3724.6973">PluginObserverSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2938.75" x2="3351.25" y1="3752.4219" y2="3752.4219"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2938.75" x2="3351.25" y1="3772.4219" y2="3772.4219"/><ellipse cx="2963.75" cy="3799.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="242.5" x="2986.25" y="3810.9692">void onPluginEvent (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="292.5" x="3046.25" y="3845.5591">PluginEvent pluginEvent)</text><!--MD5=[f9fcd30113853d8738bc1c3769de9355]
class PluginObservationExceptionHandlerSpi--><rect codeLine="60" fill="#FEFECE" height="189.1797" id="PluginObservationExceptionHandlerSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="670" x="2177.5" y="3672.4219"/><ellipse cx="2222.875" cy="3712.4219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2225.375,3704.9219 L2225.375,3719.9219 L2230.375,3719.9219 L2231.5859,3719.9219 L2232.875,3721.4844 L2232.875,3722.4219 L2232.875,3723.3594 L2231.5859,3724.9219 L2230.375,3724.9219 L2215.375,3724.9219 L2214.1641,3724.9219 L2212.875,3723.3594 L2212.875,3722.4219 L2212.875,3721.4844 L2214.1641,3719.9219 L2215.375,3719.9219 L2220.375,3719.9219 L2220.375,3704.9219 L2215.375,3704.9219 L2214.1641,3704.9219 L2212.875,3703.3594 L2212.875,3702.4219 L2212.875,3701.4844 L2214.1641,3699.9219 L2215.375,3699.9219 L2230.375,3699.9219 L2231.5859,3699.9219 L2232.875,3701.4844 L2232.875,3702.4219 L2232.875,3703.3594 L2231.5859,3704.9219 L2230.375,3704.9219 L2225.375,3704.9219 Z " fill="#000000"/><ellipse cx="2272.125" cy="3711.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="545" x="2287.125" y="3724.6973">PluginObservationExceptionHandlerSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2180" x2="2845" y1="3752.4219" y2="3752.4219"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2180" x2="2845" y1="3772.4219" y2="3772.4219"/><ellipse cx="2205" cy="3799.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="605" x="2227.5" y="3810.9692">void onPluginObservationError (String pluginName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="162.5" x="2287.5" y="3845.5591">Throwable e)</text><!--MD5=[87c50f47c2764245750fe11a9aa48329]
class ReaderObserverSpi--><rect codeLine="64" fill="#FEFECE" height="189.1797" id="ReaderObserverSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="445" x="1645" y="3672.4219"/><ellipse cx="1710.625" cy="3712.4219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1713.125,3704.9219 L1713.125,3719.9219 L1718.125,3719.9219 L1719.3359,3719.9219 L1720.625,3721.4844 L1720.625,3722.4219 L1720.625,3723.3594 L1719.3359,3724.9219 L1718.125,3724.9219 L1703.125,3724.9219 L1701.9141,3724.9219 L1700.625,3723.3594 L1700.625,3722.4219 L1700.625,3721.4844 L1701.9141,3719.9219 L1703.125,3719.9219 L1708.125,3719.9219 L1708.125,3704.9219 L1703.125,3704.9219 L1701.9141,3704.9219 L1700.625,3703.3594 L1700.625,3702.4219 L1700.625,3701.4844 L1701.9141,3699.9219 L1703.125,3699.9219 L1718.125,3699.9219 L1719.3359,3699.9219 L1720.625,3701.4844 L1720.625,3702.4219 L1720.625,3703.3594 L1719.3359,3704.9219 L1718.125,3704.9219 L1713.125,3704.9219 Z " fill="#000000"/><ellipse cx="1764.375" cy="3711.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="275" x="1779.375" y="3724.6973">ReaderObserverSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1647.5" x2="2087.5" y1="3752.4219" y2="3752.4219"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1647.5" x2="2087.5" y1="3772.4219" y2="3772.4219"/><ellipse cx="1672.5" cy="3799.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="1695" y="3810.9692">void onReaderEvent (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="320" x="1755" y="3845.5591">ReaderEvent readerEvent)</text><!--MD5=[f459a825ccfa34ff87f3f3eeff21a525]
class ReaderObservationExceptionHandlerSpi--><rect codeLine="68" fill="#FEFECE" height="189.1797" id="ReaderObservationExceptionHandlerSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="687.5" x="868.75" y="3672.4219"/><ellipse cx="915.25" cy="3712.4219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M917.75,3704.9219 L917.75,3719.9219 L922.75,3719.9219 L923.9609,3719.9219 L925.25,3721.4844 L925.25,3722.4219 L925.25,3723.3594 L923.9609,3724.9219 L922.75,3724.9219 L907.75,3724.9219 L906.5391,3724.9219 L905.25,3723.3594 L905.25,3722.4219 L905.25,3721.4844 L906.5391,3719.9219 L907.75,3719.9219 L912.75,3719.9219 L912.75,3704.9219 L907.75,3704.9219 L906.5391,3704.9219 L905.25,3703.3594 L905.25,3702.4219 L905.25,3701.4844 L906.5391,3699.9219 L907.75,3699.9219 L922.75,3699.9219 L923.9609,3699.9219 L925.25,3701.4844 L925.25,3702.4219 L925.25,3703.3594 L923.9609,3704.9219 L922.75,3704.9219 L917.75,3704.9219 Z " fill="#000000"/><ellipse cx="964.75" cy="3711.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="560" x="979.75" y="3724.6973">ReaderObservationExceptionHandlerSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="871.25" x2="1553.75" y1="3752.4219" y2="3752.4219"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="871.25" x2="1553.75" y1="3772.4219" y2="3772.4219"/><ellipse cx="896.25" cy="3799.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="622.5" x="918.75" y="3810.9692">void onReaderObservationError (String pluginName,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="978.75" y="3845.5591">String readerName, Throwable e)</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="152" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="462.5" x="2658.75" y="421.1719"/><ellipse cx="2696.25" cy="461.1719" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2701.25,452.4219 Q2701.7578,451.1719 2702.3438,450.5469 Q2702.9297,449.9219 2703.5938,449.9219 Q2704.7656,449.9219 2705.5078,450.625 Q2706.25,451.3281 2706.25,452.9688 L2706.25,456.875 Q2706.25,458.5156 2705.5469,459.2188 Q2704.8438,459.9219 2703.75,459.9219 Q2702.7734,459.9219 2702.1484,459.4922 Q2701.5234,459.0625 2701.25,457.9297 Q2701.1328,457.1484 2700.7031,456.7188 Q2699.9219,455.8984 2698.5156,455.4297 Q2697.1094,454.9219 2695.7031,454.9219 Q2693.9453,454.9219 2692.4609,455.625 Q2691.0156,456.3281 2689.8828,457.8906 Q2688.75,459.4531 2688.75,461.6016 L2688.75,463.9063 Q2688.75,466.4844 2690.8594,468.2031 Q2692.9688,469.9219 2696.7188,469.9219 Q2698.9453,469.9219 2700.5078,469.4141 Q2701.4063,469.1406 2702.4219,468.2422 Q2703.0859,467.7344 2703.4375,467.5781 Q2703.7891,467.4219 2704.2188,467.4219 Q2705.0391,467.4219 2705.625,468.0859 Q2706.25,468.7109 2706.25,469.6094 Q2706.25,470.4688 2705.3906,471.4844 Q2704.1406,472.9688 2702.1484,473.7891 Q2699.5313,474.9219 2696.3281,474.9219 Q2692.5781,474.9219 2689.5703,473.4375 Q2687.1484,472.2656 2685.4297,469.7266 Q2683.75,467.1875 2683.75,464.1797 L2683.75,461.4453 Q2683.75,458.3203 2685.2344,455.5859 Q2686.7578,452.8516 2689.375,451.4063 Q2692.0313,449.9219 2695,449.9219 Q2696.7969,449.9219 2698.3594,450.5469 Q2699.9219,451.1719 2701.25,452.4219 Z " fill="#000000"/><ellipse cx="2743.75" cy="459.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2758.75" y="473.4473">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="287.5" x="2826.25" y="473.4473">ServiceApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2661.25" x2="3118.75" y1="501.1719" y2="501.1719"/><ellipse cx="2686.25" cy="528.6719" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="2708.75" y="539.7192">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="2773.75" y="539.7192">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2661.25" x2="3118.75" y1="555.7617" y2="555.7617"/><!--MD5=[28295972733bc8add2f44d28a858566b]
class SmartCardServiceProvider--><rect codeLine="155" fill="#FEFECE" height="154.5898" id="SmartCardServiceProvider" style="stroke:#D4AC0D;stroke-width:3.75;" width="542.5" x="1703.75" y="421.1719"/><ellipse cx="1741.25" cy="461.1719" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1746.25,452.4219 Q1746.7578,451.1719 1747.3438,450.5469 Q1747.9297,449.9219 1748.5938,449.9219 Q1749.7656,449.9219 1750.5078,450.625 Q1751.25,451.3281 1751.25,452.9688 L1751.25,456.875 Q1751.25,458.5156 1750.5469,459.2188 Q1749.8438,459.9219 1748.75,459.9219 Q1747.7734,459.9219 1747.1484,459.4922 Q1746.5234,459.0625 1746.25,457.9297 Q1746.1328,457.1484 1745.7031,456.7188 Q1744.9219,455.8984 1743.5156,455.4297 Q1742.1094,454.9219 1740.7031,454.9219 Q1738.9453,454.9219 1737.4609,455.625 Q1736.0156,456.3281 1734.8828,457.8906 Q1733.75,459.4531 1733.75,461.6016 L1733.75,463.9063 Q1733.75,466.4844 1735.8594,468.2031 Q1737.9688,469.9219 1741.7188,469.9219 Q1743.9453,469.9219 1745.5078,469.4141 Q1746.4063,469.1406 1747.4219,468.2422 Q1748.0859,467.7344 1748.4375,467.5781 Q1748.7891,467.4219 1749.2188,467.4219 Q1750.0391,467.4219 1750.625,468.0859 Q1751.25,468.7109 1751.25,469.6094 Q1751.25,470.4688 1750.3906,471.4844 Q1749.1406,472.9688 1747.1484,473.7891 Q1744.5313,474.9219 1741.3281,474.9219 Q1737.5781,474.9219 1734.5703,473.4375 Q1732.1484,472.2656 1730.4297,469.7266 Q1728.75,467.1875 1728.75,464.1797 L1728.75,461.4453 Q1728.75,458.3203 1730.2344,455.5859 Q1731.7578,452.8516 1734.375,451.4063 Q1737.0313,449.9219 1740,449.9219 Q1741.7969,449.9219 1743.3594,450.5469 Q1744.9219,451.1719 1746.25,452.4219 Z " fill="#000000"/><ellipse cx="1788.75" cy="459.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1803.75" y="473.4473">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="367.5" x="1871.25" y="473.4473">SmartCardServiceProvider</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1706.25" x2="2243.75" y1="501.1719" y2="501.1719"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1706.25" x2="2243.75" y1="521.1719" y2="521.1719"/><ellipse cx="1731.25" cy="548.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="385" x="1753.75" y="559.7192">SmartCardService getService ()</text><!--MD5=[bc3f57c567736ad71a70f1388d085699]
class SmartCardService--><rect codeLine="158" fill="#FEFECE" height="540.4883" id="SmartCardService" style="stroke:#D4AC0D;stroke-width:3.75;" width="1095" x="1427.5" y="771.1719"/><ellipse cx="1824.375" cy="811.1719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1826.875,803.6719 L1826.875,818.6719 L1831.875,818.6719 L1833.0859,818.6719 L1834.375,820.2344 L1834.375,821.1719 L1834.375,822.1094 L1833.0859,823.6719 L1831.875,823.6719 L1816.875,823.6719 L1815.6641,823.6719 L1814.375,822.1094 L1814.375,821.1719 L1814.375,820.2344 L1815.6641,818.6719 L1816.875,818.6719 L1821.875,818.6719 L1821.875,803.6719 L1816.875,803.6719 L1815.6641,803.6719 L1814.375,802.1094 L1814.375,801.1719 L1814.375,800.2344 L1815.6641,798.6719 L1816.875,798.6719 L1831.875,798.6719 L1833.0859,798.6719 L1834.375,800.2344 L1834.375,801.1719 L1834.375,802.1094 L1833.0859,803.6719 L1831.875,803.6719 L1826.875,803.6719 Z " fill="#000000"/><ellipse cx="1888.125" cy="809.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="1903.125" y="823.4473">SmartCardService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1430" x2="2520" y1="851.1719" y2="851.1719"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1430" x2="2520" y1="871.1719" y2="871.1719"/><ellipse cx="1455" cy="898.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="257.5" x="1477.5" y="909.7192">Plugin registerPlugin (</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="1735" y="909.7192">KeyplePluginExtensionFactory</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="172.5" x="2105" y="909.7192">pluginFactory)</text><ellipse cx="1455" cy="933.2617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="492.5" x="1477.5" y="944.3091">void unregisterPlugin (String pluginName)</text><ellipse cx="1455" cy="967.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="565" x="1477.5" y="978.8989">boolean isPluginRegistered (String pluginName)</text><ellipse cx="1455" cy="1002.4414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="427.5" x="1477.5" y="1013.4888">Plugin getPlugin (String pluginName)</text><ellipse cx="1455" cy="1037.0313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="392.5" x="1477.5" y="1048.0786">Map&lt;String, Plugin&gt; getPlugins ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1430" x2="2520" y1="1064.1211" y2="1064.1211"/><ellipse cx="1455" cy="1091.6211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="322.5" x="1477.5" y="1102.6685">void checkCardExtension (</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="257.5" x="1800" y="1102.6685">KeypleCardExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="2065" y="1102.6685">cardExtension)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1430" x2="2520" y1="1118.7109" y2="1118.7109"/><ellipse cx="1455" cy="1146.2109" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="687.5" x="1477.5" y="1157.2583">DistributedLocalService registerDistributedLocalService (</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="577.5" x="1537.5" y="1191.8481">KeypleDistributedLocalServiceExtensionFactory</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="385" x="2122.5" y="1191.8481">distributedLocalServiceFactory)</text><ellipse cx="1455" cy="1215.3906" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="920" x="1477.5" y="1226.438">void unregisterDistributedLocalService (String distributedLocalServiceName)</text><ellipse cx="1455" cy="1249.9805" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="992.5" x="1477.5" y="1261.0278">boolean isDistributedLocalServiceRegistered (String distributedLocalServiceName)</text><ellipse cx="1455" cy="1284.5703" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="835" x="1477.5" y="1295.6177">void getDistributedLocalService (String distributedLocalServiceName)</text><!--MD5=[b628511dd50102041730ee0512f882c8]
class Plugin--><rect codeLine="174" fill="#FEFECE" height="312.9492" id="Plugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="955" x="1252.5" y="1651.1719"/><ellipse cx="1661.875" cy="1691.1719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1664.375,1683.6719 L1664.375,1698.6719 L1669.375,1698.6719 L1670.5859,1698.6719 L1671.875,1700.2344 L1671.875,1701.1719 L1671.875,1702.1094 L1670.5859,1703.6719 L1669.375,1703.6719 L1654.375,1703.6719 L1653.1641,1703.6719 L1651.875,1702.1094 L1651.875,1701.1719 L1651.875,1700.2344 L1653.1641,1698.6719 L1654.375,1698.6719 L1659.375,1698.6719 L1659.375,1683.6719 L1654.375,1683.6719 L1653.1641,1683.6719 L1651.875,1682.1094 L1651.875,1681.1719 L1651.875,1680.2344 L1653.1641,1678.6719 L1654.375,1678.6719 L1669.375,1678.6719 L1670.5859,1678.6719 L1671.875,1680.2344 L1671.875,1681.1719 L1671.875,1682.1094 L1670.5859,1683.6719 L1669.375,1683.6719 L1664.375,1683.6719 Z " fill="#000000"/><ellipse cx="1725.625" cy="1689.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="87.5" x="1740.625" y="1703.4473">Plugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1255" x2="2205" y1="1731.1719" y2="1731.1719"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1255" x2="2205" y1="1751.1719" y2="1751.1719"/><ellipse cx="1280" cy="1778.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1302.5" y="1789.7192">String getName ()</text><ellipse cx="1280" cy="1813.2617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="1302.5" y="1824.3091">&lt;T extends</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="270" x="1445" y="1824.3091">KeyplePluginExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="477.5" x="1715" y="1824.3091">&gt; T getExtension (Class&lt;T&gt; pluginType)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1255" x2="2205" y1="1840.3516" y2="1840.3516"/><ellipse cx="1280" cy="1867.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="1302.5" y="1878.8989">Set&lt;String&gt; getReadersNames ()</text><ellipse cx="1280" cy="1902.4414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="427.5" x="1302.5" y="1913.4888">Map&lt;String, Reader&gt; getReaders ()</text><ellipse cx="1280" cy="1937.0313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="472.5" x="1302.5" y="1948.0786">Reader getReader (String readerName)</text><!--MD5=[f7984cadeded08cae48982a67518e715]
class DistributedLocalService--><rect codeLine="183" fill="#FEFECE" height="223.7695" id="DistributedLocalService" style="stroke:#D4AC0D;stroke-width:3.75;" width="910" x="2295" y="1694.9219"/><ellipse cx="2561.875" cy="1734.9219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2564.375,1727.4219 L2564.375,1742.4219 L2569.375,1742.4219 L2570.5859,1742.4219 L2571.875,1743.9844 L2571.875,1744.9219 L2571.875,1745.8594 L2570.5859,1747.4219 L2569.375,1747.4219 L2554.375,1747.4219 L2553.1641,1747.4219 L2551.875,1745.8594 L2551.875,1744.9219 L2551.875,1743.9844 L2553.1641,1742.4219 L2554.375,1742.4219 L2559.375,1742.4219 L2559.375,1727.4219 L2554.375,1727.4219 L2553.1641,1727.4219 L2551.875,1725.8594 L2551.875,1724.9219 L2551.875,1723.9844 L2553.1641,1722.4219 L2554.375,1722.4219 L2569.375,1722.4219 L2570.5859,1722.4219 L2571.875,1723.9844 L2571.875,1724.9219 L2571.875,1725.8594 L2570.5859,1727.4219 L2569.375,1727.4219 L2564.375,1727.4219 Z " fill="#000000"/><ellipse cx="2625.625" cy="1733.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="327.5" x="2640.625" y="1747.1973">DistributedLocalService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2297.5" x2="3202.5" y1="1774.9219" y2="1774.9219"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="2297.5" x2="3202.5" y1="1794.9219" y2="1794.9219"/><ellipse cx="2322.5" cy="1822.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2345" y="1833.4692">String getName ()</text><ellipse cx="2322.5" cy="1857.0117" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="2345" y="1868.0591">&lt;T extends</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="2487.5" y="1868.0591">KeypleDistributedLocalServiceExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="217.5" x="2972.5" y="1868.0591">&gt; T getExtension (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="472.5" x="2405" y="1902.6489">Class&lt;T&gt; distributedLocalServiceType)</text><!--MD5=[1fa9a61019755e60a0cb03f0bc3590aa]
class ObservablePlugin--><rect codeLine="189" fill="#FEFECE" height="416.7188" id="ObservablePlugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="817.5" x="2386.25" y="2248.6719"/><ellipse cx="2645.625" cy="2288.6719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2648.125,2281.1719 L2648.125,2296.1719 L2653.125,2296.1719 L2654.3359,2296.1719 L2655.625,2297.7344 L2655.625,2298.6719 L2655.625,2299.6094 L2654.3359,2301.1719 L2653.125,2301.1719 L2638.125,2301.1719 L2636.9141,2301.1719 L2635.625,2299.6094 L2635.625,2298.6719 L2635.625,2297.7344 L2636.9141,2296.1719 L2638.125,2296.1719 L2643.125,2296.1719 L2643.125,2281.1719 L2638.125,2281.1719 L2636.9141,2281.1719 L2635.625,2279.6094 L2635.625,2278.6719 L2635.625,2277.7344 L2636.9141,2276.1719 L2638.125,2276.1719 L2653.125,2276.1719 L2654.3359,2276.1719 L2655.625,2277.7344 L2655.625,2278.6719 L2655.625,2279.6094 L2654.3359,2281.1719 L2653.125,2281.1719 L2648.125,2281.1719 Z " fill="#000000"/><ellipse cx="2709.375" cy="2287.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="250" x="2724.375" y="2300.9473">ObservablePlugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2388.75" x2="3201.25" y1="2328.6719" y2="2328.6719"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="2388.75" x2="3201.25" y1="2348.6719" y2="2348.6719"/><ellipse cx="2413.75" cy="2376.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="512.5" x="2436.25" y="2387.2192">void setEventNotificationExecutorService (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="617.5" x="2496.25" y="2421.8091">ExecutorService eventNotificationExecutorService)</text><ellipse cx="2413.75" cy="2445.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="540" x="2436.25" y="2456.3989">void setPluginObservationExceptionHandler (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="692.5" x="2496.25" y="2490.9888">PluginObservationExceptionHandlerSpi exceptionHandler)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2388.75" x2="3201.25" y1="2507.0313" y2="2507.0313"/><ellipse cx="2413.75" cy="2534.5313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="585" x="2436.25" y="2545.5786">void addObserver (PluginObserverSpi observer)</text><ellipse cx="2413.75" cy="2569.1211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="630" x="2436.25" y="2580.1685">void removeObserver (PluginObserverSpi observer)</text><ellipse cx="2413.75" cy="2603.7109" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="2436.25" y="2614.7583">void clearObservers ()</text><ellipse cx="2413.75" cy="2638.3008" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="2436.25" y="2649.3481">int countObservers ()</text><!--MD5=[c8cbac6d6d9e600bce6d5400427f5af6]
class PoolPlugin--><rect codeLine="201" fill="#FEFECE" height="243.7695" id="PoolPlugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="727.5" x="501.25" y="2334.9219"/><ellipse cx="765.625" cy="2374.9219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M768.125,2367.4219 L768.125,2382.4219 L773.125,2382.4219 L774.3359,2382.4219 L775.625,2383.9844 L775.625,2384.9219 L775.625,2385.8594 L774.3359,2387.4219 L773.125,2387.4219 L758.125,2387.4219 L756.9141,2387.4219 L755.625,2385.8594 L755.625,2384.9219 L755.625,2383.9844 L756.9141,2382.4219 L758.125,2382.4219 L763.125,2382.4219 L763.125,2367.4219 L758.125,2367.4219 L756.9141,2367.4219 L755.625,2365.8594 L755.625,2364.9219 L755.625,2363.9844 L756.9141,2362.4219 L758.125,2362.4219 L773.125,2362.4219 L774.3359,2362.4219 L775.625,2363.9844 L775.625,2364.9219 L775.625,2365.8594 L774.3359,2367.4219 L773.125,2367.4219 L768.125,2367.4219 Z " fill="#000000"/><ellipse cx="829.375" cy="2373.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="844.375" y="2387.1973">PoolPlugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="503.75" x2="1226.25" y1="2414.9219" y2="2414.9219"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="503.75" x2="1226.25" y1="2434.9219" y2="2434.9219"/><ellipse cx="528.75" cy="2462.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="597.5" x="551.25" y="2473.4692">SortedSet&lt;String&gt; getReaderGroupReferences ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="503.75" x2="1226.25" y1="2489.5117" y2="2489.5117"/><ellipse cx="528.75" cy="2517.0117" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="662.5" x="551.25" y="2528.0591">Reader allocateReader (String readerGroupReference)</text><ellipse cx="528.75" cy="2551.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="551.25" y="2562.6489">void releaseReader (Reader reader)</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect codeLine="208" fill="#FEFECE" height="367.5391" id="Reader" style="stroke:#D4AC0D;stroke-width:3.75;" width="982.5" x="1316.25" y="2273.6719"/><ellipse cx="1731.875" cy="2313.6719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1734.375,2306.1719 L1734.375,2321.1719 L1739.375,2321.1719 L1740.5859,2321.1719 L1741.875,2322.7344 L1741.875,2323.6719 L1741.875,2324.6094 L1740.5859,2326.1719 L1739.375,2326.1719 L1724.375,2326.1719 L1723.1641,2326.1719 L1721.875,2324.6094 L1721.875,2323.6719 L1721.875,2322.7344 L1723.1641,2321.1719 L1724.375,2321.1719 L1729.375,2321.1719 L1729.375,2306.1719 L1724.375,2306.1719 L1723.1641,2306.1719 L1721.875,2304.6094 L1721.875,2303.6719 L1721.875,2302.7344 L1723.1641,2301.1719 L1724.375,2301.1719 L1739.375,2301.1719 L1740.5859,2301.1719 L1741.875,2302.7344 L1741.875,2303.6719 L1741.875,2304.6094 L1740.5859,2306.1719 L1739.375,2306.1719 L1734.375,2306.1719 Z " fill="#000000"/><ellipse cx="1795.625" cy="2312.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="102.5" x="1810.625" y="2325.9473">Reader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1318.75" x2="2296.25" y1="2353.6719" y2="2353.6719"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1318.75" x2="2296.25" y1="2373.6719" y2="2373.6719"/><ellipse cx="1343.75" cy="2401.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1366.25" y="2412.2192">String getName ()</text><ellipse cx="1343.75" cy="2435.7617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="1366.25" y="2446.8091">&lt;T extends</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="1508.75" y="2446.8091">KeypleReaderExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="487.5" x="1796.25" y="2446.8091">&gt; T getExtension (Class&lt;T&gt; readerType)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1318.75" x2="2296.25" y1="2462.8516" y2="2462.8516"/><ellipse cx="1343.75" cy="2490.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="292.5" x="1366.25" y="2501.3989">boolean isContactless ()</text><ellipse cx="1343.75" cy="2524.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="300" x="1366.25" y="2535.9888">boolean isCardPresent ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1318.75" x2="2296.25" y1="2552.0313" y2="2552.0313"/><ellipse cx="1343.75" cy="2579.5313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="777.5" x="1366.25" y="2590.5786">void activateProtocol (String readerProtocol, String cardProtocol)</text><ellipse cx="1343.75" cy="2614.1211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="562.5" x="1366.25" y="2625.1685">void deactivateProtocol (String readerProtocol)</text><!--MD5=[e2341a3d5316e117132fc49473ae3219]
class ObservableReader--><rect codeLine="219" fill="#FEFECE" height="471.3086" id="ObservableReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="1332.5" x="501.25" y="2818.6719"/><ellipse cx="1010.625" cy="2858.6719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1013.125,2851.1719 L1013.125,2866.1719 L1018.125,2866.1719 L1019.3359,2866.1719 L1020.625,2867.7344 L1020.625,2868.6719 L1020.625,2869.6094 L1019.3359,2871.1719 L1018.125,2871.1719 L1003.125,2871.1719 L1001.9141,2871.1719 L1000.625,2869.6094 L1000.625,2868.6719 L1000.625,2867.7344 L1001.9141,2866.1719 L1003.125,2866.1719 L1008.125,2866.1719 L1008.125,2851.1719 L1003.125,2851.1719 L1001.9141,2851.1719 L1000.625,2849.6094 L1000.625,2848.6719 L1000.625,2847.7344 L1001.9141,2846.1719 L1003.125,2846.1719 L1018.125,2846.1719 L1019.3359,2846.1719 L1020.625,2847.7344 L1020.625,2848.6719 L1020.625,2849.6094 L1019.3359,2851.1719 L1018.125,2851.1719 L1013.125,2851.1719 Z " fill="#000000"/><ellipse cx="1074.375" cy="2857.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="265" x="1089.375" y="2870.9473">ObservableReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="503.75" x2="1831.25" y1="2898.6719" y2="2898.6719"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="503.75" x2="1831.25" y1="2918.6719" y2="2918.6719"/><ellipse cx="528.75" cy="2946.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1130" x="551.25" y="2957.2192">void setEventNotificationExecutorService (ExecutorService eventNotificationExecutorService)</text><ellipse cx="528.75" cy="2980.7617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1267.5" x="551.25" y="2991.8091">void setReaderObservationExceptionHandler (ReaderObservationExceptionHandlerSpi exceptionHandler)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="503.75" x2="1831.25" y1="3007.8516" y2="3007.8516"/><ellipse cx="528.75" cy="3035.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="602.5" x="551.25" y="3046.3989">void addObserver (ReaderObserverSpi observer)</text><ellipse cx="528.75" cy="3069.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="647.5" x="551.25" y="3080.9888">void removeObserver (ReaderObserverSpi observer)</text><ellipse cx="528.75" cy="3104.5313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="551.25" y="3115.5786">void clearObservers ()</text><ellipse cx="528.75" cy="3139.1211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="551.25" y="3150.1685">int countObservers ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="503.75" x2="1831.25" y1="3166.2109" y2="3166.2109"/><ellipse cx="528.75" cy="3193.7109" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="597.5" x="551.25" y="3204.7583">void startCardDetection (PollingMode pollingMode)</text><ellipse cx="528.75" cy="3228.3008" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="307.5" x="551.25" y="3239.3481">void stopCardDetection ()</text><ellipse cx="528.75" cy="3262.8906" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="551.25" y="3273.938">void finalizeCardProcessing ()</text><!--MD5=[0edb817d42c74369e16b7a8029bdc747]
class CardSelectionService--><rect codeLine="279" fill="#FEFECE" height="491.3086" id="CardSelectionService" style="stroke:#D4AC0D;stroke-width:3.75;" width="990" x="3590" y="1561.1719"/><ellipse cx="3911.875" cy="1601.1719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3914.375,1593.6719 L3914.375,1608.6719 L3919.375,1608.6719 L3920.5859,1608.6719 L3921.875,1610.2344 L3921.875,1611.1719 L3921.875,1612.1094 L3920.5859,1613.6719 L3919.375,1613.6719 L3904.375,1613.6719 L3903.1641,1613.6719 L3901.875,1612.1094 L3901.875,1611.1719 L3901.875,1610.2344 L3903.1641,1608.6719 L3904.375,1608.6719 L3909.375,1608.6719 L3909.375,1593.6719 L3904.375,1593.6719 L3903.1641,1593.6719 L3901.875,1592.1094 L3901.875,1591.1719 L3901.875,1590.2344 L3903.1641,1588.6719 L3904.375,1588.6719 L3919.375,1588.6719 L3920.5859,1588.6719 L3921.875,1590.2344 L3921.875,1591.1719 L3921.875,1592.1094 L3920.5859,1593.6719 L3919.375,1593.6719 L3914.375,1593.6719 Z " fill="#000000"/><ellipse cx="3975.625" cy="1599.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="297.5" x="3990.625" y="1613.4473">CardSelectionService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3592.5" x2="4577.5" y1="1641.1719" y2="1641.1719"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3592.5" x2="4577.5" y1="1661.1719" y2="1661.1719"/><ellipse cx="3617.5" cy="1688.6719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="3640" y="1699.7192">int prepareSelection (CardSelection cardSelection)</text><ellipse cx="3617.5" cy="1723.2617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="3640" y="1734.3091">void prepareReleaseChannel ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3592.5" x2="4577.5" y1="1750.3516" y2="1750.3516"/><ellipse cx="3617.5" cy="1777.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="827.5" x="3640" y="1788.8989">CardSelectionResult processCardSelectionScenario (Reader reader)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3592.5" x2="4577.5" y1="1804.9414" y2="1804.9414"/><ellipse cx="3617.5" cy="1832.4414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="925" x="3640" y="1843.4888">void scheduleCardSelectionScenario (ObservableReader observableReader,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="410" x="3700" y="1878.0786">NotificationMode notificationMode)</text><ellipse cx="3617.5" cy="1901.6211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="925" x="3640" y="1912.6685">void scheduleCardSelectionScenario (ObservableReader observableReader,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="712.5" x="3700" y="1947.2583">NotificationMode notificationMode, PollingMode pollingMode)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3592.5" x2="4577.5" y1="1963.3008" y2="1963.3008"/><ellipse cx="3617.5" cy="1990.8008" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="672.5" x="3640" y="2001.8481">CardSelectionResult processCardSelectionResponses (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="57.5" x="3700" y="2036.438">List&lt;</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="3757.5" y="2036.438">KeypleCardSelectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="4130" y="2036.438">&gt; cardSelectionResponses)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect codeLine="294" fill="#FEFECE" height="189.1797" id="MultiSelectionProcessing" style="stroke:#D4AC0D;stroke-width:3.75;" width="450" x="3495" y="2362.4219"/><ellipse cx="3532.5" cy="2402.4219" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M3528.75,2404.9219 L3528.75,2409.9219 L3538.75,2409.9219 L3538.75,2407.4219 L3538.75,2406.2109 L3540.3125,2404.9219 L3541.25,2404.9219 L3542.1875,2404.9219 L3543.75,2406.2109 L3543.75,2407.4219 L3543.75,2414.9219 L3523.75,2414.9219 L3522.5391,2414.9219 L3521.25,2413.3594 L3521.25,2412.4219 L3521.25,2411.4844 L3522.5391,2409.9219 L3523.75,2409.9219 L3523.75,2409.9219 L3523.75,2394.9219 L3523.75,2394.9219 L3522.5391,2394.9219 L3521.25,2393.3594 L3521.25,2392.4219 L3521.25,2391.4844 L3522.5391,2389.9219 L3523.75,2389.9219 L3543.75,2389.9219 L3543.75,2397.4219 L3543.75,2398.6328 L3542.1875,2399.9219 L3541.25,2399.9219 L3540.3125,2399.9219 L3538.75,2398.6328 L3538.75,2397.4219 L3538.75,2394.9219 L3528.75,2394.9219 L3528.75,2399.9219 L3531.25,2399.9219 L3531.25,2398.7109 L3531.25,2398.7109 L3532.8125,2397.4219 L3533.75,2397.4219 L3534.6875,2397.4219 L3536.25,2398.7109 L3536.25,2399.9219 L3536.25,2404.9219 L3536.25,2406.1328 L3534.6875,2407.4219 L3534.6875,2407.4219 L3533.75,2407.4219 L3532.8125,2407.4219 L3531.25,2406.1328 L3531.25,2406.1328 L3531.25,2404.9219 L3528.75,2404.9219 Z " fill="#000000"/><ellipse cx="3580" cy="2401.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="342.5" x="3595" y="2414.6973">MultiSelectionProcessing</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3497.5" x2="3942.5" y1="2442.4219" y2="2442.4219"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="175" x="3510" y="2480.9692">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="185" x="3510" y="2515.5591">PROCESS_ALL</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3497.5" x2="3942.5" y1="2531.6016" y2="2531.6016"/><!--MD5=[d172dfe3fef1c01713438c88abcc6a2c]
class CardSelector--><rect codeLine="313" fill="#FEFECE" height="551.7773" id="CardSelector" style="stroke:#D4AC0D;stroke-width:3.75;" width="752.5" x="4261.25" y="3491.1719"/><ellipse cx="4440.625" cy="3541.4063" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M4445.625,3532.6563 Q4446.1328,3531.4063 4446.7188,3530.7813 Q4447.3047,3530.1563 4447.9688,3530.1563 Q4449.1406,3530.1563 4449.8828,3530.8594 Q4450.625,3531.5625 4450.625,3533.2031 L4450.625,3537.1094 Q4450.625,3538.75 4449.9219,3539.4531 Q4449.2188,3540.1563 4448.125,3540.1563 Q4447.1484,3540.1563 4446.5234,3539.7266 Q4445.8984,3539.2969 4445.625,3538.1641 Q4445.5078,3537.3828 4445.0781,3536.9531 Q4444.2969,3536.1328 4442.8906,3535.6641 Q4441.4844,3535.1563 4440.0781,3535.1563 Q4438.3203,3535.1563 4436.8359,3535.8594 Q4435.3906,3536.5625 4434.2578,3538.125 Q4433.125,3539.6875 4433.125,3541.8359 L4433.125,3544.1406 Q4433.125,3546.7188 4435.2344,3548.4375 Q4437.3438,3550.1563 4441.0938,3550.1563 Q4443.3203,3550.1563 4444.8828,3549.6484 Q4445.7813,3549.375 4446.7969,3548.4766 Q4447.4609,3547.9688 4447.8125,3547.8125 Q4448.1641,3547.6563 4448.5938,3547.6563 Q4449.4141,3547.6563 4450,3548.3203 Q4450.625,3548.9453 4450.625,3549.8438 Q4450.625,3550.7031 4449.7656,3551.7188 Q4448.5156,3553.2031 4446.5234,3554.0234 Q4443.9063,3555.1563 4440.7031,3555.1563 Q4436.9531,3555.1563 4433.9453,3553.6719 Q4431.5234,3552.5 4429.8047,3549.9609 Q4428.125,3547.4219 4428.125,3544.4141 L4428.125,3541.6797 Q4428.125,3538.5547 4429.6094,3535.8203 Q4431.1328,3533.0859 4433.75,3531.6406 Q4436.4063,3530.1563 4439.375,3530.1563 Q4441.1719,3530.1563 4442.7344,3530.7813 Q4444.2969,3531.4063 4445.625,3532.6563 Z " fill="#000000"/><ellipse cx="4504.375" cy="3540.1563" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="4519.375" y="3534.8145">&lt;&lt;</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="275" x="4554.375" y="3534.8145">KeypleCardSelector</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="4829.375" y="3534.8145">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="4568.125" y="3572.5488">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="4635.625" y="3572.5488">CardSelector</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4263.75" x2="5011.25" y1="3591.6406" y2="3591.6406"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="4263.75" x2="5011.25" y1="3611.6406" y2="3611.6406"/><ellipse cx="4288.75" cy="3639.1406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="197.5" x="4311.25" y="3650.188">Builder builder ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4263.75" x2="5011.25" y1="3666.2305" y2="3666.2305"/><ellipse cx="4288.75" cy="3693.7305" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="297.5" x="4311.25" y="3704.7778">String getCardProtocol ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4263.75" x2="5011.25" y1="3720.8203" y2="3720.8203"/><ellipse cx="4288.75" cy="3748.3203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="257.5" x="4311.25" y="3759.3677">String getAtrRegex ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4263.75" x2="5011.25" y1="3775.4102" y2="3775.4102"/><ellipse cx="4288.75" cy="3802.9102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="180" x="4311.25" y="3813.9575">byte[] getAid ()</text><ellipse cx="4288.75" cy="3837.5" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="442.5" x="4311.25" y="3848.5474">FileOccurrence getFileOccurrence ()</text><ellipse cx="4288.75" cy="3872.0898" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="587.5" x="4311.25" y="3883.1372">FileControlInformation getFileControlInformation ()</text><ellipse cx="4288.75" cy="3906.6797" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="627.5" x="4311.25" y="3917.7271">Set&lt;Integer&gt; getSuccessfulSelectionStatusCodes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4263.75" x2="5011.25" y1="3933.7695" y2="3933.7695"/><ellipse cx="4288.75" cy="3961.2695" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="687.5" x="4311.25" y="3972.3169">CardSelector addSuccessfulStatusCode (int statusCode)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4263.75" x2="5011.25" y1="3988.3594" y2="3988.3594"/><ellipse cx="4288.75" cy="4015.8594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="4311.25" y="4026.9067">boolean atrMatches (byte[] atr)</text><!--MD5=[9bb74c6f90a85a40b37333ced13e2f4b]
class CardSelectorBuilder--><rect codeLine="330" fill="#FEFECE" height="396.7188" id="CardSelectorBuilder" style="stroke:#D4AC0D;stroke-width:3.75;" width="995" x="3902.5" y="4238.6719"/><ellipse cx="4293.125" cy="4278.6719" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M4298.125,4269.9219 Q4298.6328,4268.6719 4299.2188,4268.0469 Q4299.8047,4267.4219 4300.4688,4267.4219 Q4301.6406,4267.4219 4302.3828,4268.125 Q4303.125,4268.8281 4303.125,4270.4688 L4303.125,4274.375 Q4303.125,4276.0156 4302.4219,4276.7188 Q4301.7188,4277.4219 4300.625,4277.4219 Q4299.6484,4277.4219 4299.0234,4276.9922 Q4298.3984,4276.5625 4298.125,4275.4297 Q4298.0078,4274.6484 4297.5781,4274.2188 Q4296.7969,4273.3984 4295.3906,4272.9297 Q4293.9844,4272.4219 4292.5781,4272.4219 Q4290.8203,4272.4219 4289.3359,4273.125 Q4287.8906,4273.8281 4286.7578,4275.3906 Q4285.625,4276.9531 4285.625,4279.1016 L4285.625,4281.4063 Q4285.625,4283.9844 4287.7344,4285.7031 Q4289.8438,4287.4219 4293.5938,4287.4219 Q4295.8203,4287.4219 4297.3828,4286.9141 Q4298.2813,4286.6406 4299.2969,4285.7422 Q4299.9609,4285.2344 4300.3125,4285.0781 Q4300.6641,4284.9219 4301.0938,4284.9219 Q4301.9141,4284.9219 4302.5,4285.5859 Q4303.125,4286.2109 4303.125,4287.1094 Q4303.125,4287.9688 4302.2656,4288.9844 Q4301.0156,4290.4688 4299.0234,4291.2891 Q4296.4063,4292.4219 4293.2031,4292.4219 Q4289.4531,4292.4219 4286.4453,4290.9375 Q4284.0234,4289.7656 4282.3047,4287.2266 Q4280.625,4284.6875 4280.625,4281.6797 L4280.625,4278.9453 Q4280.625,4275.8203 4282.1094,4273.0859 Q4283.6328,4270.3516 4286.25,4268.9063 Q4288.9063,4267.4219 4291.875,4267.4219 Q4293.6719,4267.4219 4295.2344,4268.0469 Q4296.7969,4268.6719 4298.125,4269.9219 Z " fill="#000000"/><ellipse cx="4356.875" cy="4277.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="4371.875" y="4290.9473">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="97.5" x="4439.375" y="4290.9473">Builder</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3905" x2="4895" y1="4318.6719" y2="4318.6719"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3905" x2="4895" y1="4338.6719" y2="4338.6719"/><ellipse cx="3930" cy="4366.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="587.5" x="3952.5" y="4377.2192">Builder filterByCardProtocol (String cardProtocol)</text><ellipse cx="3930" cy="4400.7617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="427.5" x="3952.5" y="4411.8091">Builder filterByAtr (String atrRegex)</text><ellipse cx="3930" cy="4435.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="407.5" x="3952.5" y="4446.3989">Builder filterByDfName (byte[] aid)</text><ellipse cx="3930" cy="4469.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="410" x="3952.5" y="4480.9888">Builder filterByDfName (String aid)</text><ellipse cx="3930" cy="4504.5313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="712.5" x="3952.5" y="4515.5786">Builder setFileOccurrence (FileOccurrence fileOccurrence)</text><ellipse cx="3930" cy="4539.1211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="930" x="3952.5" y="4550.1685">Builder setFileControlInformation (FileControlInformation fileControlInformation)</text><ellipse cx="3930" cy="4573.7109" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="612.5" x="3952.5" y="4584.7583">Builder addSuccessfulStatusCode (int statusCode)</text><ellipse cx="3930" cy="4608.3008" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="3952.5" y="4619.3481">CardSelector build ()</text><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><rect codeLine="340" fill="#FEFECE" height="292.9492" id="FileOccurrence" style="stroke:#D4AC0D;stroke-width:3.75;" width="317.5" x="3496.25" y="4291.1719"/><ellipse cx="3534.875" cy="4331.1719" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M3531.125,4333.6719 L3531.125,4338.6719 L3541.125,4338.6719 L3541.125,4336.1719 L3541.125,4334.9609 L3542.6875,4333.6719 L3543.625,4333.6719 L3544.5625,4333.6719 L3546.125,4334.9609 L3546.125,4336.1719 L3546.125,4343.6719 L3526.125,4343.6719 L3524.9141,4343.6719 L3523.625,4342.1094 L3523.625,4341.1719 L3523.625,4340.2344 L3524.9141,4338.6719 L3526.125,4338.6719 L3526.125,4338.6719 L3526.125,4323.6719 L3526.125,4323.6719 L3524.9141,4323.6719 L3523.625,4322.1094 L3523.625,4321.1719 L3523.625,4320.2344 L3524.9141,4318.6719 L3526.125,4318.6719 L3546.125,4318.6719 L3546.125,4326.1719 L3546.125,4327.3828 L3544.5625,4328.6719 L3543.625,4328.6719 L3542.6875,4328.6719 L3541.125,4327.3828 L3541.125,4326.1719 L3541.125,4323.6719 L3531.125,4323.6719 L3531.125,4328.6719 L3533.625,4328.6719 L3533.625,4327.4609 L3533.625,4327.4609 L3535.1875,4326.1719 L3536.125,4326.1719 L3537.0625,4326.1719 L3538.625,4327.4609 L3538.625,4328.6719 L3538.625,4333.6719 L3538.625,4334.8828 L3537.0625,4336.1719 L3537.0625,4336.1719 L3536.125,4336.1719 L3535.1875,4336.1719 L3533.625,4334.8828 L3533.625,4334.8828 L3533.625,4333.6719 L3531.125,4333.6719 Z " fill="#000000"/><ellipse cx="3582.625" cy="4329.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="207.5" x="3597.625" y="4343.4473">FileOccurrence</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3498.75" x2="3811.25" y1="4371.1719" y2="4371.1719"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="70" x="3511.25" y="4409.7192">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="67.5" x="3511.25" y="4444.3091">LAST</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="65" x="3511.25" y="4478.8989">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="127.5" x="3511.25" y="4513.4888">PREVIOUS</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3498.75" x2="3811.25" y1="4529.5313" y2="4529.5313"/><ellipse cx="3523.75" cy="4557.0313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="252.5" x="3546.25" y="4568.0786">byte getIsoBitMask ()</text><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><rect codeLine="347" fill="#FEFECE" height="292.9492" id="FileControlInformation" style="stroke:#D4AC0D;stroke-width:3.75;" width="415" x="5030" y="4291.1719"/><ellipse cx="5067.5" cy="4331.1719" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M5063.75,4333.6719 L5063.75,4338.6719 L5073.75,4338.6719 L5073.75,4336.1719 L5073.75,4334.9609 L5075.3125,4333.6719 L5076.25,4333.6719 L5077.1875,4333.6719 L5078.75,4334.9609 L5078.75,4336.1719 L5078.75,4343.6719 L5058.75,4343.6719 L5057.5391,4343.6719 L5056.25,4342.1094 L5056.25,4341.1719 L5056.25,4340.2344 L5057.5391,4338.6719 L5058.75,4338.6719 L5058.75,4338.6719 L5058.75,4323.6719 L5058.75,4323.6719 L5057.5391,4323.6719 L5056.25,4322.1094 L5056.25,4321.1719 L5056.25,4320.2344 L5057.5391,4318.6719 L5058.75,4318.6719 L5078.75,4318.6719 L5078.75,4326.1719 L5078.75,4327.3828 L5077.1875,4328.6719 L5076.25,4328.6719 L5075.3125,4328.6719 L5073.75,4327.3828 L5073.75,4326.1719 L5073.75,4323.6719 L5063.75,4323.6719 L5063.75,4328.6719 L5066.25,4328.6719 L5066.25,4327.4609 L5066.25,4327.4609 L5067.8125,4326.1719 L5068.75,4326.1719 L5069.6875,4326.1719 L5071.25,4327.4609 L5071.25,4328.6719 L5071.25,4333.6719 L5071.25,4334.8828 L5069.6875,4336.1719 L5069.6875,4336.1719 L5068.75,4336.1719 L5067.8125,4336.1719 L5066.25,4334.8828 L5066.25,4334.8828 L5066.25,4333.6719 L5063.75,4333.6719 Z " fill="#000000"/><ellipse cx="5115" cy="4329.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="307.5" x="5130" y="4343.4473">FileControlInformation</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5032.5" x2="5442.5" y1="4371.1719" y2="4371.1719"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="37.5" x="5045" y="4409.7192">FCI</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="47.5" x="5045" y="4444.3091">FCP</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="52.5" x="5045" y="4478.8989">FMD</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="187.5" x="5045" y="4513.4888">NO_RESPONSE</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5032.5" x2="5442.5" y1="4529.5313" y2="4529.5313"/><ellipse cx="5057.5" cy="4557.0313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="252.5" x="5080" y="4568.0786">byte getIsoBitMask ()</text><!--MD5=[b048fcdbdb6b9f6911c1d2807b5ba439]
class CardSelectionResult--><rect codeLine="354" fill="#FEFECE" height="347.5391" id="CardSelectionResult" style="stroke:#D4AC0D;stroke-width:3.75;" width="660" x="4032.5" y="2283.6719"/><ellipse cx="4196.875" cy="2323.6719" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4199.375,2316.1719 L4199.375,2331.1719 L4204.375,2331.1719 L4205.5859,2331.1719 L4206.875,2332.7344 L4206.875,2333.6719 L4206.875,2334.6094 L4205.5859,2336.1719 L4204.375,2336.1719 L4189.375,2336.1719 L4188.1641,2336.1719 L4186.875,2334.6094 L4186.875,2333.6719 L4186.875,2332.7344 L4188.1641,2331.1719 L4189.375,2331.1719 L4194.375,2331.1719 L4194.375,2316.1719 L4189.375,2316.1719 L4188.1641,2316.1719 L4186.875,2314.6094 L4186.875,2313.6719 L4186.875,2312.7344 L4188.1641,2311.1719 L4189.375,2311.1719 L4204.375,2311.1719 L4205.5859,2311.1719 L4206.875,2312.7344 L4206.875,2313.6719 L4206.875,2314.6094 L4205.5859,2316.1719 L4204.375,2316.1719 L4199.375,2316.1719 Z " fill="#000000"/><ellipse cx="4260.625" cy="2322.4219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="282.5" x="4275.625" y="2335.9473">CardSelectionResult</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4035" x2="4690" y1="2363.6719" y2="2363.6719"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="4035" x2="4690" y1="2383.6719" y2="2383.6719"/><ellipse cx="4060" cy="2411.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="4082.5" y="2422.2192">boolean hasActiveSelection ()</text><ellipse cx="4060" cy="2445.7617" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="352.5" x="4082.5" y="2456.8091">int getActiveSelectionIndex ()</text><ellipse cx="4060" cy="2480.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="595" x="4082.5" y="2491.3989">boolean hasSelectionMatched (int selectionIndex)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4035" x2="4690" y1="2507.4414" y2="2507.4414"/><ellipse cx="4060" cy="2534.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="4082.5" y="2545.9888">Map&lt;Integer, SmartCard&gt; getSmartCards ()</text><ellipse cx="4060" cy="2569.5313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="4082.5" y="2580.5786">SmartCard getSmartCard (int selectionIndex)</text><ellipse cx="4060" cy="2604.1211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="4082.5" y="2615.1685">SmartCard getActiveSmartCard ()</text><!--MD5=[47f0011813555fb489a606ff84d44b55]
class CardSelection--><rect codeLine="301" fill="#FEFECE" height="154.5898" id="CardSelection" style="stroke:#D4AC0D;stroke-width:3.75;" width="452.5" x="4633.75" y="2977.4219"/><ellipse cx="4738.75" cy="3017.4219" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4741.25,3009.9219 L4741.25,3024.9219 L4746.25,3024.9219 L4747.4609,3024.9219 L4748.75,3026.4844 L4748.75,3027.4219 L4748.75,3028.3594 L4747.4609,3029.9219 L4746.25,3029.9219 L4731.25,3029.9219 L4730.0391,3029.9219 L4728.75,3028.3594 L4728.75,3027.4219 L4728.75,3026.4844 L4730.0391,3024.9219 L4731.25,3024.9219 L4736.25,3024.9219 L4736.25,3009.9219 L4731.25,3009.9219 L4730.0391,3009.9219 L4728.75,3008.3594 L4728.75,3007.4219 L4728.75,3006.4844 L4730.0391,3004.9219 L4731.25,3004.9219 L4746.25,3004.9219 L4747.4609,3004.9219 L4748.75,3006.4844 L4748.75,3007.4219 L4748.75,3008.3594 L4747.4609,3009.9219 L4746.25,3009.9219 L4741.25,3009.9219 Z " fill="#000000"/><ellipse cx="4801.25" cy="3016.1719" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="4816.25" y="3029.6973">CardSelection</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4636.25" x2="5083.75" y1="3057.4219" y2="3057.4219"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4636.25" x2="5083.75" y1="3077.4219" y2="3077.4219"/><ellipse cx="4661.25" cy="3104.9219" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="4683.75" y="3115.9692">CardSelector getCardSelector ()</text><!--MD5=[4d4351d1dd1d596b03b4778d9849998b]
class SmartCard--><rect codeLine="304" fill="#FEFECE" height="298.8281" id="SmartCard" style="stroke:#D4AC0D;stroke-width:3.75;" width="422.5" x="4123.75" y="2904.9219"/><ellipse cx="4161.25" cy="2955.1563" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4163.75,2947.6563 L4163.75,2962.6563 L4168.75,2962.6563 L4169.9609,2962.6563 L4171.25,2964.2188 L4171.25,2965.1563 L4171.25,2966.0938 L4169.9609,2967.6563 L4168.75,2967.6563 L4153.75,2967.6563 L4152.5391,2967.6563 L4151.25,2966.0938 L4151.25,2965.1563 L4151.25,2964.2188 L4152.5391,2962.6563 L4153.75,2962.6563 L4158.75,2962.6563 L4158.75,2947.6563 L4153.75,2947.6563 L4152.5391,2947.6563 L4151.25,2946.0938 L4151.25,2945.1563 L4151.25,2944.2188 L4152.5391,2942.6563 L4153.75,2942.6563 L4168.75,2942.6563 L4169.9609,2942.6563 L4171.25,2944.2188 L4171.25,2945.1563 L4171.25,2946.0938 L4169.9609,2947.6563 L4168.75,2947.6563 L4163.75,2947.6563 Z " fill="#000000"/><ellipse cx="4208.75" cy="2953.9063" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="4223.75" y="2948.5645">&lt;&lt;</text><text fill="#000000" filter="url(#b1eav13jztn29w0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="245" x="4258.75" y="2948.5645">KeypleSmartCard</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="4503.75" y="2948.5645">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="4306.25" y="2986.2988">SmartCard</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4126.25" x2="4543.75" y1="3005.3906" y2="3005.3906"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="4126.25" x2="4543.75" y1="3025.3906" y2="3025.3906"/><ellipse cx="4151.25" cy="3052.8906" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="4173.75" y="3063.938">boolean hasFci ()</text><ellipse cx="4151.25" cy="3087.4805" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="245" x="4173.75" y="3098.5278">byte[] getFciBytes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4126.25" x2="4543.75" y1="3114.5703" y2="3114.5703"/><ellipse cx="4151.25" cy="3142.0703" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="212.5" x="4173.75" y="3153.1177">boolean hasAtr ()</text><ellipse cx="4151.25" cy="3176.6602" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="4173.75" y="3187.7075">byte[] getAtrBytes ()</text><!--MD5=[e28c18b0b47d723f04b587528ac0b111]
class KeyplePluginException--><rect codeLine="367" fill="#FEFECE" height="278.8281" id="KeyplePluginException" style="stroke:#D4AC0D;stroke-width:3.75;" width="550" x="7165" y="4297.4219"/><ellipse cx="7256.5" cy="4347.6563" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M7261.5,4338.9063 Q7262.0078,4337.6563 7262.5938,4337.0313 Q7263.1797,4336.4063 7263.8438,4336.4063 Q7265.0156,4336.4063 7265.7578,4337.1094 Q7266.5,4337.8125 7266.5,4339.4531 L7266.5,4343.3594 Q7266.5,4345 7265.7969,4345.7031 Q7265.0938,4346.4063 7264,4346.4063 Q7263.0234,4346.4063 7262.3984,4345.9766 Q7261.7734,4345.5469 7261.5,4344.4141 Q7261.3828,4343.6328 7260.9531,4343.2031 Q7260.1719,4342.3828 7258.7656,4341.9141 Q7257.3594,4341.4063 7255.9531,4341.4063 Q7254.1953,4341.4063 7252.7109,4342.1094 Q7251.2656,4342.8125 7250.1328,4344.375 Q7249,4345.9375 7249,4348.0859 L7249,4350.3906 Q7249,4352.9688 7251.1094,4354.6875 Q7253.2188,4356.4063 7256.9688,4356.4063 Q7259.1953,4356.4063 7260.7578,4355.8984 Q7261.6563,4355.625 7262.6719,4354.7266 Q7263.3359,4354.2188 7263.6875,4354.0625 Q7264.0391,4353.9063 7264.4688,4353.9063 Q7265.2891,4353.9063 7265.875,4354.5703 Q7266.5,4355.1953 7266.5,4356.0938 Q7266.5,4356.9531 7265.6406,4357.9688 Q7264.3906,4359.4531 7262.3984,4360.2734 Q7259.7813,4361.4063 7256.5781,4361.4063 Q7252.8281,4361.4063 7249.8203,4359.9219 Q7247.3984,4358.75 7245.6797,4356.2109 Q7244,4353.6719 7244,4350.6641 L7244,4347.9297 Q7244,4344.8047 7245.4844,4342.0703 Q7247.0078,4339.3359 7249.625,4337.8906 Q7252.2813,4336.4063 7255.25,4336.4063 Q7257.0469,4336.4063 7258.6094,4337.0313 Q7260.1719,4337.6563 7261.5,4338.9063 Z " fill="#000000"/><ellipse cx="7316" cy="4346.4063" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="7331" y="4341.0645">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="317.5" x="7333.5" y="4378.7988">KeyplePluginException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="7167.5" x2="7712.5" y1="4397.8906" y2="4397.8906"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="7167.5" x2="7712.5" y1="4417.8906" y2="4417.8906"/><ellipse cx="7192.5" cy="4445.3906" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="7215" y="4456.438">KeyplePluginException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="7275" y="4491.0278">String message)</text><ellipse cx="7192.5" cy="4514.5703" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="7215" y="4525.6177">KeyplePluginException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="7275" y="4560.2075">String message, Throwable cause)</text><!--MD5=[14e6400c4da315b6bcaa3f46dfe3536e]
class KeypleReaderCommunicationException--><rect codeLine="373" fill="#FEFECE" height="278.8281" id="KeypleReaderCommunicationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="660" x="5585" y="4297.4219"/><ellipse cx="5622.5" cy="4347.6563" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M5627.5,4338.9063 Q5628.0078,4337.6563 5628.5938,4337.0313 Q5629.1797,4336.4063 5629.8438,4336.4063 Q5631.0156,4336.4063 5631.7578,4337.1094 Q5632.5,4337.8125 5632.5,4339.4531 L5632.5,4343.3594 Q5632.5,4345 5631.7969,4345.7031 Q5631.0938,4346.4063 5630,4346.4063 Q5629.0234,4346.4063 5628.3984,4345.9766 Q5627.7734,4345.5469 5627.5,4344.4141 Q5627.3828,4343.6328 5626.9531,4343.2031 Q5626.1719,4342.3828 5624.7656,4341.9141 Q5623.3594,4341.4063 5621.9531,4341.4063 Q5620.1953,4341.4063 5618.7109,4342.1094 Q5617.2656,4342.8125 5616.1328,4344.375 Q5615,4345.9375 5615,4348.0859 L5615,4350.3906 Q5615,4352.9688 5617.1094,4354.6875 Q5619.2188,4356.4063 5622.9688,4356.4063 Q5625.1953,4356.4063 5626.7578,4355.8984 Q5627.6563,4355.625 5628.6719,4354.7266 Q5629.3359,4354.2188 5629.6875,4354.0625 Q5630.0391,4353.9063 5630.4688,4353.9063 Q5631.2891,4353.9063 5631.875,4354.5703 Q5632.5,4355.1953 5632.5,4356.0938 Q5632.5,4356.9531 5631.6406,4357.9688 Q5630.3906,4359.4531 5628.3984,4360.2734 Q5625.7813,4361.4063 5622.5781,4361.4063 Q5618.8281,4361.4063 5615.8203,4359.9219 Q5613.3984,4358.75 5611.6797,4356.2109 Q5610,4353.6719 5610,4350.6641 L5610,4347.9297 Q5610,4344.8047 5611.4844,4342.0703 Q5613.0078,4339.3359 5615.625,4337.8906 Q5618.2813,4336.4063 5621.25,4336.4063 Q5623.0469,4336.4063 5624.6094,4337.0313 Q5626.1719,4337.6563 5627.5,4338.9063 Z " fill="#000000"/><ellipse cx="5670" cy="4346.4063" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="5800" y="4341.0645">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="552.5" x="5685" y="4378.7988">KeypleReaderCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5587.5" x2="6242.5" y1="4397.8906" y2="4397.8906"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5587.5" x2="6242.5" y1="4417.8906" y2="4417.8906"/><ellipse cx="5612.5" cy="4445.3906" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="5635" y="4456.438">KeypleReaderCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="5695" y="4491.0278">String message)</text><ellipse cx="5612.5" cy="4514.5703" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="5635" y="4525.6177">KeypleReaderCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="5695" y="4560.2075">String message, Throwable cause)</text><!--MD5=[d0aa14623d363e238980d4d4a152a074]
class KeypleReaderProtocolNotSupportedException--><rect codeLine="379" fill="#FEFECE" height="209.6484" id="KeypleReaderProtocolNotSupportedException" style="stroke:#D4AC0D;stroke-width:3.75;" width="742.5" x="6333.75" y="4332.4219"/><ellipse cx="6371.25" cy="4382.6563" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M6376.25,4373.9063 Q6376.7578,4372.6563 6377.3438,4372.0313 Q6377.9297,4371.4063 6378.5938,4371.4063 Q6379.7656,4371.4063 6380.5078,4372.1094 Q6381.25,4372.8125 6381.25,4374.4531 L6381.25,4378.3594 Q6381.25,4380 6380.5469,4380.7031 Q6379.8438,4381.4063 6378.75,4381.4063 Q6377.7734,4381.4063 6377.1484,4380.9766 Q6376.5234,4380.5469 6376.25,4379.4141 Q6376.1328,4378.6328 6375.7031,4378.2031 Q6374.9219,4377.3828 6373.5156,4376.9141 Q6372.1094,4376.4063 6370.7031,4376.4063 Q6368.9453,4376.4063 6367.4609,4377.1094 Q6366.0156,4377.8125 6364.8828,4379.375 Q6363.75,4380.9375 6363.75,4383.0859 L6363.75,4385.3906 Q6363.75,4387.9688 6365.8594,4389.6875 Q6367.9688,4391.4063 6371.7188,4391.4063 Q6373.9453,4391.4063 6375.5078,4390.8984 Q6376.4063,4390.625 6377.4219,4389.7266 Q6378.0859,4389.2188 6378.4375,4389.0625 Q6378.7891,4388.9063 6379.2188,4388.9063 Q6380.0391,4388.9063 6380.625,4389.5703 Q6381.25,4390.1953 6381.25,4391.0938 Q6381.25,4391.9531 6380.3906,4392.9688 Q6379.1406,4394.4531 6377.1484,4395.2734 Q6374.5313,4396.4063 6371.3281,4396.4063 Q6367.5781,4396.4063 6364.5703,4394.9219 Q6362.1484,4393.75 6360.4297,4391.2109 Q6358.75,4388.6719 6358.75,4385.6641 L6358.75,4382.9297 Q6358.75,4379.8047 6360.2344,4377.0703 Q6361.7578,4374.3359 6364.375,4372.8906 Q6367.0313,4371.4063 6370,4371.4063 Q6371.7969,4371.4063 6373.3594,4372.0313 Q6374.9219,4372.6563 6376.25,4373.9063 Z " fill="#000000"/><ellipse cx="6418.75" cy="4381.4063" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="6590" y="4376.0645">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="635" x="6433.75" y="4413.7988">KeypleReaderProtocolNotSupportedException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="6336.25" x2="7073.75" y1="4432.8906" y2="4432.8906"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="6336.25" x2="7073.75" y1="4452.8906" y2="4452.8906"/><ellipse cx="6361.25" cy="4480.3906" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="567.5" x="6383.75" y="4491.438">KeypleReaderProtocolNotSupportedException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="6443.75" y="4526.0278">String cardProtocol)</text><!--MD5=[3c103cde6a409c892afa6391c64d1009]
class KeypleCardCommunicationException--><rect codeLine="383" fill="#FEFECE" height="278.8281" id="KeypleCardCommunicationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="625" x="5602.5" y="4793.6719"/><ellipse cx="5640" cy="4843.9063" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M5645,4835.1563 Q5645.5078,4833.9063 5646.0938,4833.2813 Q5646.6797,4832.6563 5647.3438,4832.6563 Q5648.5156,4832.6563 5649.2578,4833.3594 Q5650,4834.0625 5650,4835.7031 L5650,4839.6094 Q5650,4841.25 5649.2969,4841.9531 Q5648.5938,4842.6563 5647.5,4842.6563 Q5646.5234,4842.6563 5645.8984,4842.2266 Q5645.2734,4841.7969 5645,4840.6641 Q5644.8828,4839.8828 5644.4531,4839.4531 Q5643.6719,4838.6328 5642.2656,4838.1641 Q5640.8594,4837.6563 5639.4531,4837.6563 Q5637.6953,4837.6563 5636.2109,4838.3594 Q5634.7656,4839.0625 5633.6328,4840.625 Q5632.5,4842.1875 5632.5,4844.3359 L5632.5,4846.6406 Q5632.5,4849.2188 5634.6094,4850.9375 Q5636.7188,4852.6563 5640.4688,4852.6563 Q5642.6953,4852.6563 5644.2578,4852.1484 Q5645.1563,4851.875 5646.1719,4850.9766 Q5646.8359,4850.4688 5647.1875,4850.3125 Q5647.5391,4850.1563 5647.9688,4850.1563 Q5648.7891,4850.1563 5649.375,4850.8203 Q5650,4851.4453 5650,4852.3438 Q5650,4853.2031 5649.1406,4854.2188 Q5647.8906,4855.7031 5645.8984,4856.5234 Q5643.2813,4857.6563 5640.0781,4857.6563 Q5636.3281,4857.6563 5633.3203,4856.1719 Q5630.8984,4855 5629.1797,4852.4609 Q5627.5,4849.9219 5627.5,4846.9141 L5627.5,4844.1797 Q5627.5,4841.0547 5628.9844,4838.3203 Q5630.5078,4835.5859 5633.125,4834.1406 Q5635.7813,4832.6563 5638.75,4832.6563 Q5640.5469,4832.6563 5642.1094,4833.2813 Q5643.6719,4833.9063 5645,4835.1563 Z " fill="#000000"/><ellipse cx="5687.5" cy="4842.6563" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="5800" y="4837.3145">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="517.5" x="5702.5" y="4875.0488">KeypleCardCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5605" x2="6225" y1="4894.1406" y2="4894.1406"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5605" x2="6225" y1="4914.1406" y2="4914.1406"/><ellipse cx="5630" cy="4941.6406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="455" x="5652.5" y="4952.688">KeypleCardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="5712.5" y="4987.2778">String message)</text><ellipse cx="5630" cy="5010.8203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="455" x="5652.5" y="5021.8677">KeypleCardCommunicationException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="5712.5" y="5056.4575">String message, Throwable cause)</text><!--MD5=[550a12816f88094ca7e979a72eedae9c]
reverse link Plugin to ObservablePlugin--><path d="M2027.4425,1990.0719 C2159.9475,2070.3219 2316.7475,2165.2719 2453.975,2248.3969 " fill="none" id="Plugin-backto-ObservablePlugin" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2018.12,2004.8719,1984.4175,1963.9969,2036.25,1974.9469,2018.12,2004.8719" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[2219806bdc996f946b60beec9aa5725f]
reverse link Plugin to PoolPlugin--><path d="M1482.5025,1994.4719 C1336.055,2103.6719 1154.735,2238.8719 1026.565,2334.4469 " fill="none" id="Plugin-backto-PoolPlugin" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1472.2675,1980.2719,1522.81,1964.4219,1493.1875,2008.3219,1472.2675,1980.2719" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[495ccb80ac82bdc45a1b0288016f2c00]
reverse link Reader to ObservableReader--><path d="M1574.375,2675.7469 C1524.2525,2722.1469 1471.05,2771.3994 1420.2225,2818.4569 " fill="none" id="Reader-backto-ObservableReader" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1562.55,2662.8469,1611.13,2641.7219,1586.3275,2688.5219,1562.55,2662.8469" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[5cdd6db3f87ea720c4af6714bfe3a64b]
link SmartCardServiceProvider to SmartCardService--><path codeLine="395" d="M1903.77,576.6219 C1886.9525,598.9719 1871.3525,624.6219 1862.5,651.1719 C1851.0575,685.4969 1848.8125,721.7469 1852.52,757.7469 " fill="none" id="SmartCardServiceProvider-to-SmartCardService" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1854.15,770.9969,1861.3772,747.4593,1852.6497,758.5872,1841.5217,749.8598,1854.15,770.9969" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1871.5967,686.1391,1884.8231,666.3811,1870.6836,662.3802,1871.5967,686.1391" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1897.5" y="687.4097">provide</text><!--MD5=[a5adf9ace2a964bf932a6485ca71a04d]
reverse link SmartCardService to Plugin--><path codeLine="397" d="M1878.46,1343.6219 C1844.6325,1448.7469 1808.035,1562.4469 1779.64,1650.6719 " fill="none" id="SmartCardService-backto-Plugin" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1888.6225,1312.0719,1874.517,1323.2984,1879.4548,1340.6368,1893.5603,1329.4102,1888.6225,1312.0719" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="1721.9109" y="1623.9978">0..N</text><!--MD5=[851cf9057d595cdfbdcfe405c0fc7e0f]
reverse link SmartCardService to DistributedLocalService--><path codeLine="398" d="M2247.61,1335.5219 C2279.28,1368.1219 2311.38,1400.5719 2342.5,1431.1719 C2434.9,1522.0469 2543.175,1620.9969 2624.875,1694.2719 " fill="none" id="SmartCardService-backto-DistributedLocalService" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2224.6475,1311.7969,2227.8955,1329.5296,2245.5134,1333.3518,2242.2654,1315.619,2224.6475,1311.7969" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="2541.1215" y="1667.7826">0..N</text><!--MD5=[dbf27993ab668861900a3380d05f6dc2]
reverse link PluginEvent to PluginEventType--><path codeLine="400" d="M1483.565,4642.4919 C1482.31,4703.3794 1483.74,4767.9094 1487.8575,4820.4819 " fill="none" id="PluginEvent-backto-PluginEventType" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1484.123" cy="4624.1751" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1483.5134" x2="1484.7325" y1="4644.1658" y2="4604.1844"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1464.1323" x2="1504.1137" y1="4623.5656" y2="4624.7846"/><!--MD5=[dbf27993ab668861900a3380d05f6dc2]
reverse link PluginEvent to PluginEventType--><path codeLine="401" d="M1548.165,4637.3069 C1549.6975,4699.6994 1548.2225,4766.4144 1543.74,4820.4819 " fill="none" id="PluginEvent-backto-PluginEventType-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="1547.0475,4604.1844,1537.5592,4619.5132,1548.0596,4634.1673,1557.5478,4618.8385,1547.0475,4604.1844" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="1529.301" y="4793.9864">1</text><!--MD5=[ff05c798c0d0e38364e8144829ad24ca]
reverse link ObservableReader to NotificationMode--><path codeLine="403" d="M531.055,3312.9044 C506.0975,3331.1669 482.26,3350.5719 460,3371.1719 C370.2025,3454.2669 310.465,3584.1569 277.7875,3671.8069 " fill="none" id="ObservableReader-backto-NotificationMode" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="545.6513" cy="3302.6706" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="529.2751" x2="562.0275" y1="3314.1519" y2="3291.1894"/><line style="stroke:#A80036;stroke-width:2.5;" x1="534.17" x2="557.1325" y1="3286.2944" y2="3319.0469"/><!--MD5=[79b2bd11d5b4a472f8a4f543b4bc8d4f]
link ObservableReader to NotificationMode--><path codeLine="404" d="M730.095,3291.4294 C636.435,3350.6669 541.3025,3418.3644 460,3491.1719 C404.325,3541.0294 352.6475,3606.9569 314.1975,3661.6194 " fill="none" id="ObservableReader-to-NotificationMode" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="306.6875,3672.3919,327.7598,3659.6558,313.8373,3662.1386,311.3545,3648.2161,306.6875,3672.3919" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="605.663,3402.4222,627.4388,3392.8759,617.6688,3381.8995,605.663,3402.4222" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="637.5" y="3407.4097">use</text><!--MD5=[aa7d23f4fc0db106291b229919ad88ab]
reverse link ObservableReader to PollingMode--><path codeLine="405" d="M995.7275,3321.5244 C970.7925,3354.4594 944.415,3386.8344 917.5,3416.1719 C882.3,3454.5394 862.4225,3452.5519 827.5,3491.1719 C777.2925,3546.6944 730.2,3616.7469 696.0925,3672.0869 " fill="none" id="ObservableReader-backto-PollingMode" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1006.2875" cy="3307.2627" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="994.3825" x2="1018.1925" y1="3323.3335" y2="3291.1919"/><line style="stroke:#A80036;stroke-width:2.5;" x1="990.2167" x2="1022.3583" y1="3295.3577" y2="3319.1677"/><!--MD5=[ad6c930fd18117e46f05d9c15cef2aec]
link ObservableReader to PollingMode--><path codeLine="406" d="M874.35,3291.2944 C850.1575,3316.8344 827.3975,3343.6144 807.5,3371.1719 C743.605,3459.6619 698.6225,3576.6344 671.935,3660.0419 " fill="none" id="ObservableReader-to-PollingMode" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="668.1325,3672.0969,684.4398,3653.6491,671.8941,3660.1763,665.3669,3647.6305,668.1325,3672.0969" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="813.9851,3405.069,831.3069,3388.7819,818.4254,3381.7109,813.9851,3405.069" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="842.5" y="3407.4097">use</text><!--MD5=[16bfb44a55887ba0be17cea5ef6e20b5]
reverse link ReaderEvent to ReaderEventType--><path codeLine="408" d="M2590.8,4659.1544 C2590.175,4709.0144 2591.325,4760.3419 2594.225,4804.7894 " fill="none" id="ReaderEvent-backto-ReaderEventType" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="2591.1639" cy="4641.4446" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2590.7278" x2="2591.6" y1="4661.4399" y2="4621.4494"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2571.1687" x2="2611.1592" y1="4641.0085" y2="4641.8807"/><!--MD5=[16bfb44a55887ba0be17cea5ef6e20b5]
reverse link ReaderEvent to ReaderEventType--><path codeLine="409" d="M2656,4654.0269 C2656.825,4705.4819 2655.625,4758.8169 2652.425,4804.7894 " fill="none" id="ReaderEvent-backto-ReaderEventType-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2655.2,4621.4494,2645.5688,4636.6888,2655.9317,4651.4405,2665.5629,4636.201,2655.2,4621.4494" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="2637.9027" y="4777.5919">1</text><!--MD5=[eab7c56c339853191937c7c941eb7f2a]
link CardSelectionServiceFactory to CardSelectionService--><path codeLine="411" d="M4085,1136.2469 C4085,1237.9969 4085,1405.8469 4085,1547.9219 " fill="none" id="CardSelectionServiceFactory-to-CardSelectionService" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4085,1560.6969,4095,1538.1969,4085,1548.1969,4075,1538.1969,4085,1560.6969" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4097.5,1421.6113,4104.8473,1398.9986,4090.1527,1398.9986,4097.5,1421.6113" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="90" x="4120" y="1422.4097">create</text><!--MD5=[28b3cf841bcd2502cfe3e1d572a87d16]
reverse link CardSelectionService to MultiSelectionProcessing--><path codeLine="413" d="M3930.8,2082.4219 C3874.25,2182.3219 3814.025,2288.7969 3772.475,2362.1969 " fill="none" id="CardSelectionService-backto-MultiSelectionProcessing" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3947,2053.7719,3930.9108,2061.9044,3932.2296,2079.8838,3948.3188,2071.7513,3947,2053.7719" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3762.7635" y="2335.5616">1</text><!--MD5=[ea431ecff7237c67540b67e32ddda276]
reverse link CardSelectionService to CardSelection--><path codeLine="414" d="M4577.575,2074.5719 C4638.275,2125.2469 4693.475,2183.2719 4735,2248.6719 C4811.55,2369.2219 4845.15,2800.9694 4855.9,2976.9494 " fill="none" id="CardSelectionService-backto-CardSelection" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4552.175,2054.0469,4557.5466,2071.2558,4575.4977,2072.9162,4570.1261,2055.7073,4552.175,2054.0469" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="4788.8669" y="2950.6133">1..N</text><!--MD5=[f643312bd8f01b8c85ef74bfb657e3b5]
reverse link CardSelectionResult to SmartCard--><path codeLine="416" d="M4353,2664.4719 C4349.35,2743.3994 4345.225,2831.9744 4341.875,2904.5394 " fill="none" id="CardSelectionResult-backto-SmartCard" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4354.55,2631.2969,4343.8683,2645.8193,4353.1653,2661.2649,4363.847,2646.7424,4354.55,2631.2969" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="4279.0566" y="2877.6368">1..N</text><!--MD5=[c007854546a200e49c2fa7cf36e14110]
link CardSelector to CardSelectorBuilder--><path codeLine="418" d="M4422.95,4044.6694 C4410.85,4068.8194 4400.425,4093.6269 4392.5,4118.6719 C4381.875,4152.2519 4377.05,4188.8519 4375.775,4224.8519 " fill="none" id="CardSelector-to-CardSelectorBuilder" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4375.475,4238.0794,4385.9993,4215.8198,4375.7678,4225.5828,4366.0047,4215.3513,4375.475,4238.0794" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4401.834,4153.7037,4414.6691,4133.6893,4400.4536,4129.9674,4401.834,4153.7037" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="4427.5" y="4154.9097">provide</text><!--MD5=[58002d5c440144b8906b4e6a92d74e32]
reverse link CardSelector to CardSelectorBuilder--><path codeLine="425" d="M4574.775,4056.9494 C4564.4,4093.2744 4552.8,4129.6169 4540,4163.6719 C4530.775,4188.2269 4519.875,4213.4269 4508.3,4238.1044 " fill="none" id="CardSelector-backto-CardSelectorBuilder" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4578.25,4044.6344,4562.5203,4063.5771,4574.8584,4056.6655,4581.7701,4069.0036,4578.25,4044.6344" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4571.8061,4129.8765,4557.1187,4148.574,4570.9139,4153.6361,4571.8061,4129.8765" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="90" x="4590" y="4154.9097">create</text><!--MD5=[cb74f2fd0d65b4e200068ba9c28e141d]
reverse link CardSelector to FileOccurrence--><path codeLine="419" d="M4227.425,3981.7169 C4059.95,4076.9994 3888.725,4180.6269 3815,4237.4219 C3794,4253.6069 3772.825,4271.7494 3752.925,4290.3069 " fill="none" id="CardSelector-backto-FileOccurrence" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="4243.4274" cy="3972.6522" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4226.0298" x2="4260.825" y1="3982.5175" y2="3962.7869"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4233.5621" x2="4253.2927" y1="3955.2546" y2="3990.0498"/><!--MD5=[cb74f2fd0d65b4e200068ba9c28e141d]
reverse link CardSelector to FileOccurrence--><path codeLine="420" d="M4233.025,4025.7994 C4097.375,4107.5869 3964.95,4189.3094 3902.5,4237.4219 C3872.925,4260.1994 3843.075,4286.8594 3814.525,4313.0894 " fill="none" id="CardSelector-backto-FileOccurrence-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4261.075,4008.9069,4243.0667,4008.0704,4235.3683,4024.3718,4253.3766,4025.2082,4261.075,4008.9069" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3833.812" y="4291.965">0..1</text><!--MD5=[661b5f2f8a397787768e389d55b9cc5c]
reverse link CardSelector to FileControlInformation--><path codeLine="421" d="M4879.275,4073.1019 C4946.975,4148.7519 5018.7,4226.4419 5080.225,4290.3444 " fill="none" id="CardSelector-backto-FileControlInformation" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="4866.8783" cy="4059.1758" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4880.1817" x2="4853.575" y1="4074.1096" y2="4044.2419"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4851.9445" x2="4881.8122" y1="4072.4791" y2="4045.8724"/><!--MD5=[661b5f2f8a397787768e389d55b9cc5c]
reverse link CardSelector to FileControlInformation--><path codeLine="422" d="M4941.05,4069.1069 C5011.125,4146.0094 5080.95,4225.3169 5135.475,4290.3444 " fill="none" id="CardSelector-backto-FileControlInformation-1" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="4918.3,4044.2419,4921.0516,4062.0584,4938.5559,4066.371,4935.8043,4048.5545,4918.3,4044.2419" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="5064.6891" y="4263.7458">0..1</text><!--MD5=[d6d1ed2aee34e77568f6e09020035b89]
link CardSelectorBuilder to CardSelectorBuilder--><path codeLine="424" d="M4898.25,4393.7544 C4951.075,4402.2219 4985,4416.7769 4985,4437.4219 C4985,4456.2919 4956.65,4470.0769 4911.425,4478.7719 " fill="none" id="CardSelectorBuilder-to-CardSelectorBuilder" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4898.25,4481.0894,4922.1313,4487.084,4910.5649,4478.9464,4918.7025,4467.3801,4898.25,4481.0894" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[76dab34899458529120db8109c5d281a]
link CardResourceServiceProvider to CardResourceService--><path codeLine="427" d="M6285,577.0469 C6285,651.2719 6285,766.9719 6285,863.9719 " fill="none" id="CardResourceServiceProvider-to-CardResourceService" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="6285,876.9219,6295,854.4219,6285,864.4219,6275,854.4219,6285,876.9219" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="6297.5,686.6113,6304.8473,663.9986,6290.1527,663.9986,6297.5,686.6113" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="6320" y="687.4097">provide</text><!--MD5=[9a4bb8105f8f96c454b1e6151794dbed]
link CardResourceService to CardResource--><path codeLine="429" d="M6200.175,1205.1219 C6126.925,1344.4969 6022.425,1543.3719 5954.175,1673.2719 " fill="none" id="CardResourceService-to-CardResource" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5948.1,1684.8469,5967.4224,1669.586,5953.9174,1673.7831,5949.7203,1660.2781,5948.1,1684.8469" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="6101.6855,1420.1766,6118.7081,1403.577,6105.7,1396.7416,6101.6855,1420.1766" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="6130" y="1422.4097">provide</text><!--MD5=[98aa5ed1b276ce8fd7f0d9d9f54211ca]
link CardResourceService to CardResourceServiceConfigurator--><path codeLine="430" d="M6370.35,1205.1219 C6445.85,1347.8969 6554.325,1553.0719 6622.85,1682.6219 " fill="none" id="CardResourceService-to-CardResourceServiceConfigurator" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="6628.925,1694.1469,6627.2099,1669.5845,6623.0649,1683.1056,6609.5438,1678.9607,6628.925,1694.1469" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="6503.3433,1420.1615,6499.2678,1396.737,6486.2776,1403.6062,6503.3433,1420.1615" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="6520" y="1422.4097">provide</text><!--MD5=[dded764287e9a41aa4d5ee3093832a8a]
reverse link CardResource to Reader--><path codeLine="432" d="M5702.325,1948.1969 C5637.15,1989.9969 5560.975,2030.8219 5485,2053.6719 C5052.7,2183.6719 3905.25,2096.1219 3455,2128.6719 C3331,2137.6469 2463.3325,2219.3969 2342.5,2248.6719 C2312.75,2255.8719 2282.43,2264.3219 2252.1025,2273.6219 " fill="none" id="CardResource-backto-Reader" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="5729.55,1930.2719,5711.5226,1930.162,5704.4875,1946.7604,5722.5149,1946.8703,5729.55,1930.2719" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="2279.5498" y="2246.3861">1</text><!--MD5=[e5dc24787120ce3d6e95dc78b137f7cd]
reverse link CardResource to SmartCard--><path codeLine="433" d="M5754.725,1955.9469 C5681.825,2039.7219 5590.65,2147.9469 5515,2248.6719 C5356.175,2460.0719 5412.55,2609.0219 5185,2743.6719 C4956.575,2878.8494 4830.35,2682.3219 4590,2794.9219 C4536.15,2820.1444 4487.325,2861.8344 4447.125,2904.3944 " fill="none" id="CardResource-backto-SmartCard" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="5776.725,1930.7719,5759.3265,1935.4935,5756.9932,1953.3696,5774.3917,1948.648,5776.725,1930.7719" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="4442.2238" y="2877.4741">1</text><!--MD5=[833f2ae748ef7792f53bc9513749c9cb]
link CardResourceServiceConfigurator to AllocationStrategyStep--><path codeLine="435" d="M6522.15,1920.1969 C6435.1,1979.7719 6327.525,2055.8969 6235,2128.6719 C6151.575,2194.2969 6062,2272.4969 5991.575,2335.8719 " fill="none" id="CardResourceServiceConfigurator-to-AllocationStrategyStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5982.2,2344.3219,6005.6138,2336.7031,5991.4912,2335.9598,5992.2345,2321.8372,5982.2,2344.3219" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[34228218685551fce1c49e606733f402]
link CardResourceServiceConfigurator to PoolAllocationStrategyStep--><path codeLine="436" d="M6692.2,1920.0719 C6697.325,2040.1719 6705.45,2231.0469 6710.5,2349.3469 " fill="none" id="CardResourceServiceConfigurator-to-PoolAllocationStrategyStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="6711.025,2361.9719,6720.0524,2339.0643,6710.4898,2349.4833,6700.0708,2339.9207,6711.025,2361.9719" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[a7e3046fcaff8d470cd432ef505827cb]
link CardResourceServiceConfigurator to AllocationModeStep--><path codeLine="437" d="M6865.5,1920.2469 C6963.15,1981.1469 7086.15,2058.4469 7195,2128.6719 C7291.9,2191.1719 7398.675,2261.7219 7487.975,2321.1719 " fill="none" id="CardResourceServiceConfigurator-to-AllocationModeStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="7498.775,2328.3469,7485.6009,2307.5456,7488.3744,2321.4131,7474.5069,2324.1866,7498.775,2328.3469" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[5b941faaa0bf6a65b250002296098262]
link AllocationStrategyStep to PluginStep--><path codeLine="439" d="M5868.525,2569.9719 C5873.85,2666.7719 5881.6,2808.1744 5887.35,2912.8894 " fill="none" id="AllocationStrategyStep-to-PluginStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5888.025,2925.4719,5896.7841,2902.4604,5887.3439,2912.9904,5876.8138,2903.5502,5888.025,2925.4719" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[1ba8242ab26f8761fdabff1a1165bb9d]
link PluginStep to PluginStep--><path codeLine="441" d="M6265.675,3002.9069 C6317.675,3011.3969 6352.5,3028.7344 6352.5,3054.9219 C6352.5,3078.8569 6323.4,3095.4019 6278.7,3104.5519 " fill="none" id="PluginStep-to-PluginStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="6265.675,3106.9369,6289.6074,3112.7237,6277.9709,3104.687,6286.0076,3093.0504,6265.675,3106.9369" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[79fe2d51908ee6fb3daef6677cf99aa0]
reverse link CardResourceServiceConfigurator to PluginStep--><path codeLine="442" d="M6554.4,1928.7969 C6470.675,2010.7469 6367.075,2126.5719 6305,2248.6719 C6218.75,2418.2969 6293.45,2495.1469 6210,2666.1719 C6163.325,2761.8244 6088.8,2854.7269 6023.925,2925.4394 " fill="none" id="CardResourceServiceConfigurator-backto-PluginStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="6563.475,1919.9719,6540.3713,1928.4849,6554.5121,1928.6848,6554.3121,1942.8256,6563.475,1919.9719" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[3dd5b93bbb247822a921931abd8691ab]
link PoolAllocationStrategyStep to PoolPluginStep--><path codeLine="444" d="M6727.1,2552.4969 C6740.4,2654.0469 6761.775,2817.4494 6776.45,2929.6294 " fill="none" id="PoolAllocationStrategyStep-to-PoolPluginStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="6778.1,2942.3669,6785.0966,2918.7597,6776.4784,2929.9725,6765.2656,2921.3543,6778.1,2942.3669" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[a1998672af9a514aa30cbda0f153d7de]
link PoolPluginStep to PoolPluginStep--><path codeLine="446" d="M7188.15,3003.6644 C7240.375,3012.4069 7275,3029.4919 7275,3054.9219 C7275,3078.1669 7246.075,3094.4394 7201.2,3103.7394 " fill="none" id="PoolPluginStep-to-PoolPluginStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="7188.15,3106.1794,7212.1155,3111.828,7200.4327,3103.8585,7208.4021,3092.1757,7188.15,3106.1794" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[98621e43aeb51b080a15b70202657c30]
reverse link CardResourceServiceConfigurator to PoolPluginStep--><path codeLine="447" d="M6860.65,1928.9219 C6958.325,2007.0469 7071.275,2118.6969 7125,2248.6719 C7195.875,2420.1469 7189.575,2492.2219 7125,2666.1719 C7084.975,2774.0094 6999.85,2871.9294 6925.775,2942.1944 " fill="none" id="CardResourceServiceConfigurator-backto-PoolPluginStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="6850.025,1920.4969,6861.4549,1942.3053,6859.8241,1928.2575,6873.8719,1926.6267,6850.025,1920.4969" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[72774c04aba205de11f8266763d24544]
link AllocationModeStep to ProfileStep--><path codeLine="449" d="M7711.5,2586.2969 C7730.7,2687.4469 7757.5,2828.5244 7776.55,2928.9144 " fill="none" id="AllocationModeStep-to-ProfileStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="7779.075,2942.1819,7784.6906,2918.2087,7776.7373,2929.9024,7765.0435,2921.9491,7779.075,2942.1819" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[aadc090bbe2179b56ee9a1c1801fe384]
link ProfileStep to ProfileParameterStep--><path codeLine="451" d="M7762.825,3167.9694 C7738.075,3291.4594 7713.35,3491.5894 7705.775,3625.6694 " fill="none" id="ProfileStep-to-ProfileParameterStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="7705.1,3638.4344,7716.2833,3616.4985,7705.7652,3625.9521,7696.3116,3615.4341,7705.1,3638.4344" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[374580b762c2d99a282e230a4b91dd89]
reverse link ProfileStep to ProfileParameterStep--><path codeLine="455" d="M7811.525,3180.9319 C7805.875,3309.2494 7781.95,3509.0244 7756.775,3638.4344 " fill="none" id="ProfileStep-backto-ProfileParameterStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="7812.025,3167.9694,7801.1375,3190.0536,7811.5275,3180.4595,7821.1217,3190.8495,7812.025,3167.9694" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[8211b0bd60d865baf94454e190d336b1]
link ProfileStep to ConfigurationStep--><path codeLine="452" d="M7604.25,3167.4394 C7469.775,3247.8919 7291.225,3364.6869 7152.5,3491.1719 C7090.725,3547.4969 7031.575,3621.5894 6989.8,3678.4844 " fill="none" id="ProfileStep-to-ConfigurationStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="6982.2,3688.8994,7003.5321,3676.6033,6989.5611,3678.7967,6987.3677,3664.8256,6982.2,3688.8994" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[8856d6ccd1ad9346dfae504a694d9d0d]
link ProfileParameterStep to ProfileParameterStep--><path codeLine="454" d="M8235.65,3710.3944 C8288.65,3721.6744 8322.5,3740.6844 8322.5,3767.4219 C8322.5,3791.8619 8294.225,3809.8444 8248.875,3821.3694 " fill="none" id="ProfileParameterStep-to-ProfileParameterStep" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="8235.65,3824.4494,8259.8396,3829.0444,8247.8194,3821.5935,8255.2703,3809.5734,8235.65,3824.4494" style="stroke:#27AE60;stroke-width:2.5;"/><!--MD5=[8b513e08943f8bfe5c241563ffc49ec0]
link Plugin to Reader--><path codeLine="457" d="M1748.5625,1964.4219 C1759.235,2053.2219 1772.74,2165.6219 1784.13,2260.4219 " fill="none" id="Plugin-to-Reader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1785.65,2273.0719,1792.9447,2249.5551,1784.1853,2260.658,1773.0825,2251.8986,1785.65,2273.0719" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1788.9913,2164.0221,1793.5884,2140.6943,1778.9987,2142.4474,1788.9913,2164.0221" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1810" y="2164.9097">provide</text><!--MD5=[bb5faea6a0ae73c4240718fbed39124d]
link CardSelectionService to Reader--><path codeLine="459" d="M3589.65,1962.3219 C3476.9,1994.5719 3357.275,2026.9219 3245,2053.6719 C3069.05,2095.5969 3021.9,2090.9969 2845,2128.6719 C2620.425,2176.5219 2561.775,2180.5469 2342.5,2248.6719 C2321.445,2255.2219 2300.0275,2262.1719 2278.47,2269.4219 " fill="none" id="CardSelectionService-to-Reader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2266.48,2273.4719,2290.9987,2275.726,2278.3194,2269.4622,2284.5833,2256.7829,2266.48,2273.4719" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2845.3294,2154.4619,2869.0218,2156.4589,2865.6707,2142.1515,2845.3294,2154.4619" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2880" y="2164.9097">use</text><!--MD5=[7ba6139df91d5b10dfb19f3b9ece10ea]
link CardSelectionService to CardSelectionResult--><path codeLine="460" d="M4189.9,2053.7719 C4220.95,2125.9469 4254.425,2203.6969 4283.525,2271.3719 " fill="none" id="CardSelectionService-to-CardSelectionResult" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4288.55,2283.0219,4288.8137,2258.4011,4283.5959,2271.5455,4270.4516,2266.3277,4288.55,2283.0219" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4259.9404,2163.0936,4257.7523,2139.4181,4244.254,2145.2259,4259.9404,2163.0936" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="4277.5" y="2164.9097">provide</text><!--MD5=[06097ac9a1874e227666b9f6d6984d89]
link ObservablePlugin to PluginObserverSpi--><path codeLine="462" d="M2850.45,2666.6969 C2926.15,2948.9219 3059,3444.2294 3116.8,3659.7644 " fill="none" id="ObservablePlugin-to-PluginObserverSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3120.15,3672.3094,3123.9769,3647.9864,3116.9103,3660.2365,3104.6603,3653.1699,3120.15,3672.3094" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3050.7382,3067.4346,3051.9768,3043.6905,3037.7838,3047.4972,3050.7382,3067.4346" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="3070" y="3068.6597">use</text><!--MD5=[a4e3f5334d7819c77690e9f437f50f0d]
link ObservablePlugin to PluginObservationExceptionHandlerSpi--><path codeLine="463" d="M2750.225,2666.6969 C2689.15,2948.9219 2581.925,3444.2294 2535.275,3659.7644 " fill="none" id="ObservablePlugin-to-PluginObservationExceptionHandlerSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2532.55,3672.3094,2547.0821,3652.4331,2535.1935,3660.0921,2527.5345,3648.2035,2532.55,3672.3094" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2732.3556,3067.5784,2744.3204,3047.0318,2729.9583,3043.9232,2732.3556,3067.5784" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2757.5" y="3068.6597">use</text><!--MD5=[20506b77ae2afba69d710e66d82eebdc]
link PluginObserverSpi to PluginEvent--><path codeLine="465" d="M3085.6,3862.8069 C3040.15,3925.3169 2971.525,4003.4119 2890,4043.6719 C2579.7,4196.8869 2446.5275,4019.4594 2115,4118.6719 C2001.72,4152.5719 1884.9925,4208.5369 1784.9475,4264.0394 " fill="none" id="PluginObserverSpi-to-PluginEvent" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1772.8325,4270.8044,1797.3529,4268.5686,1783.747,4264.7114,1787.6042,4251.1055,1772.8325,4270.8044" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2115.5554,4145.2961,2139.3292,4145.6512,2134.9975,4131.6095,2115.5554,4145.2961" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2150" y="4154.9097">use</text><!--MD5=[6a8008c62fde1d2d9e9d3bbd561b68e4]
link ObservableReader to ReaderObserverSpi--><path codeLine="467" d="M1402.4975,3292.2319 C1466.675,3356.5944 1536.1275,3426.4644 1600,3491.1719 C1655.81,3547.7119 1717.8375,3611.1494 1768.1,3662.7094 " fill="none" id="ObservableReader-to-ReaderObserverSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1777.3425,3672.1944,1768.8015,3649.1011,1768.6187,3663.242,1754.4777,3663.0592,1777.3425,3672.1944" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1541.2801,3403.0085,1530.6264,3381.7525,1520.1671,3392.0742,1541.2801,3403.0085" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1555" y="3407.4097">use</text><!--MD5=[88a382370b01478d7fb49c3b86000153]
link ObservableReader to ReaderObservationExceptionHandlerSpi--><path codeLine="468" d="M1182.4225,3292.0269 C1190.33,3416.3669 1199.6525,3562.9444 1205.8,3659.5819 " fill="none" id="ObservableReader-to-ReaderObservationExceptionHandlerSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1206.6075,3672.2919,1215.1602,3649.2029,1205.8147,3659.817,1195.2005,3650.4715,1206.6075,3672.2919" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1203.2934,3406.5861,1209.1906,3383.5526,1194.5256,3384.4854,1203.2934,3406.5861" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1225" y="3407.4097">use</text><!--MD5=[758676a953febafd9b469dc66825d62d]
link ReaderObserverSpi to ReaderEvent--><path codeLine="470" d="M1951.8275,3862.8194 C2002.56,3917.2169 2069.3575,3986.2794 2132.5,4043.6719 C2207.6675,4111.9944 2293.14,4182.4894 2371.415,4244.4994 " fill="none" id="ReaderObserverSpi-to-ReaderEvent" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2381.915,4252.7969,2370.4706,4230.996,2372.1107,4245.0428,2358.064,4246.6829,2381.915,4252.7969" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2286.7467,4150.0226,2274.9633,4129.3714,2265.0753,4140.2415,2286.7467,4150.0226" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2300" y="4154.9097">use</text><!--MD5=[78b9bf92d4f5ccd4dcf9e08b9abd9133]
link CardSelection to CardSelector--><path codeLine="472" d="M4784.325,3133.5094 C4731.1,3192.7144 4664.35,3279.9194 4635,3371.1719 C4624.2,3404.7894 4617.85,3440.8719 4614.6,3477.0569 " fill="none" id="CardSelection-to-CardSelector" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4613.55,3490.3869,4625.2927,3468.7453,4614.5355,3477.9258,4605.355,3467.1685,4613.55,3490.3869" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4641.9634,3405.3183,4658.5665,3388.2991,4645.392,3381.7904,4641.9634,3405.3183" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="4670" y="3407.4097">provide</text><!--MD5=[f1302e666d6473aae2eae49f957cfe5d]
link FileOccurrence to KeyplePluginException--><!--MD5=[4154c4b70d08be1fb5818f1ff6f15add]
link KeypleReaderCommunicationException to KeypleReaderProtocolNotSupportedException--><!--MD5=[58043bf9bd3c88568305a5fa011c3621]
link KeypleReaderCommunicationException to KeypleCardCommunicationException--><!--MD5=[5c2a4e921599aa4ca9b38f517cc0e6c1]
@startuml
title
    Keyple 2.0 - keyple-java-service - 2.0.0 (15/04/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:cyan>**keyple-java-commons-api**</back>
end legend

package "org.eclipse.keyple.core.service" as service {
    ' SPI
    package spi {
        +interface PluginObserverSpi {
            +void onPluginEvent (
                \tPluginEvent pluginEvent)
        }
        +interface PluginObservationExceptionHandlerSpi {
            +void onPluginObservationError (String pluginName,
                \tThrowable e)
        }
        +interface ReaderObserverSpi {
            +void onReaderEvent (
                \tReaderEvent readerEvent)
        }
        +interface ReaderObservationExceptionHandlerSpi {
            +void onReaderObservationError (String pluginName,
                \tString readerName, Throwable e)
        }
    }
    ' SERVICE

    ' Card Resource Service
    +class "**final** CardResourceServiceProvider" as CardResourceServiceProvider {
        +{static} CardResourceService getService ()
    }

    +interface CardResourceService {
        +void start ()
        +void stop ()
        +CardResourceServiceConfigurator getConfigurator()
        +CardResource getCardResource (String cardResourceProfileName)
        +void releaseCardResource (CardResource cardResource)
        +void removeCardResource (CardResource cardResource)
    }

    +interface CardResourceServiceConfigurator {
        +AllocationStrategyStep withPlugins ()
        +PoolAllocationStrategyStep withPoolPlugins ()
        +AllocationModeStep endPluginsConfiguration ()
    }

    +interface AllocationStrategyStep {
        +PluginStep usingFirstAllocationStrategy ()
        +PluginStep usingCyclicAllocationStrategy ()
        +PluginStep usingRandomAllocationStrategy ()
    }
    +interface PluginStep {
        - -
        +PluginStep addPlugin (Plugin plugin,
            \tboolean withReaderMonitoring,
            \tboolean withCardMonitoring)
        +CardResourceServiceConfigurator addNoMorePlugins ()
    }

    +interface PoolAllocationStrategyStep {
        +PoolPluginStep usingPoolPluginFirstAllocationStrategy ()
        +PoolPluginStep usingPoolPluginLastAllocationStrategy ()
    }
    +interface PoolPluginStep {
        - -
        +PoolPluginStep addPoolPlugin (PoolPlugin poolPlugin,
            \tboolean withCardMonitoring)
        +CardResourceServiceConfigurator addNoMorePoolPlugins ()
    }

    +interface AllocationModeStep {
        - -
        +ProfileStep usingBlockingAllocationMode ()
        +ProfileStep usingBlockingAllocationMode (
            \tint cycleDurationMillis, int timeoutMillis)
        +ProfileStep usingNonBlockingAllocationMode ()
    }

    +interface ProfileStep {
        +ProfileParameterStep addCardResourceProfile (String name,
            \t<back:cyan>KeypleCardResourceProfileExtension</back> cardResourceProfileExtension)
        +ConfigurationStep addNoMoreCardResourceProfiles ()
    }
    +interface ProfileParameterStep {
        +ProfileParameterStep setPlugins (Plugin... plugins)
        +ProfileParameterStep setReaderNameRegex (String readerNameRegex)
        +ProfileParameterStep setReaderGroupReference (String readerGroupReference)
        +ProfileStep addNoMoreParameters ()
    }

    +interface ConfigurationStep {
        +void configure ()
    }

    +class "CardResource" as CardResource {
        - -
        +CardResource (Reader reader, SmartCard smartCard)
        ..
        +**final** Reader getReader ()
        +**final** SmartCard getSmartCard ()
    }

    together {
        +class "**final** ServiceApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +class "**final** SmartCardServiceProvider" as SmartCardServiceProvider {
            +{static} SmartCardService getService ()
        }
        +interface SmartCardService {
            - -
            +Plugin registerPlugin (<back:cyan>KeyplePluginExtensionFactory</back> pluginFactory)
            +void unregisterPlugin (String pluginName)
            +boolean isPluginRegistered (String pluginName)
            +Plugin getPlugin (String pluginName)
            +Map<String, Plugin> getPlugins ()
            ..
            +void checkCardExtension (<back:cyan>KeypleCardExtension</back> cardExtension)
            ..
            +DistributedLocalService registerDistributedLocalService (
                \t<back:cyan>KeypleDistributedLocalServiceExtensionFactory</back> distributedLocalServiceFactory)
            +void unregisterDistributedLocalService (String distributedLocalServiceName)
            +boolean isDistributedLocalServiceRegistered (String distributedLocalServiceName)
            +void getDistributedLocalService (String distributedLocalServiceName)
        }
        +interface Plugin {
            - -
            +String getName ()
            +<T extends <back:cyan>KeyplePluginExtension</back>> T getExtension (Class<T> pluginType)
            ..
            +Set<String> getReadersNames ()
            +Map<String, Reader> getReaders ()
            +Reader getReader (String readerName)
        }
        +interface DistributedLocalService {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleDistributedLocalServiceExtension</back>> T getExtension (
                \tClass<T> distributedLocalServiceType)
        }
        +interface ObservablePlugin extends Plugin {
            - -
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setPluginObservationExceptionHandler (
                \tPluginObservationExceptionHandlerSpi exceptionHandler)
            ..
            +void addObserver (PluginObserverSpi observer)
            +void removeObserver (PluginObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
        }
        +interface PoolPlugin extends Plugin {
            - -
            +SortedSet<String> getReaderGroupReferences ()
            ..
            +Reader allocateReader (String readerGroupReference)
            +void releaseReader (Reader reader)
        }
        +interface Reader {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleReaderExtension</back>> T getExtension (Class<T> readerType)
            ..
            +boolean isContactless ()
            +boolean isCardPresent ()
            ..
            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableReader extends Reader {
            - -
            +void setEventNotificationExecutorService (ExecutorService eventNotificationExecutorService)
            +void setReaderObservationExceptionHandler (ReaderObservationExceptionHandlerSpi exceptionHandler)
            ..
            +void addObserver (ReaderObserverSpi observer)
            +void removeObserver (ReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
            ..
            +void startCardDetection (PollingMode pollingMode)
            +void stopCardDetection ()
            +void finalizeCardProcessing ()
        }
    }
    +enum NotificationMode {
        ALWAYS
        MATCHED_ONLY
    }
    +enum PollingMode {
        REPEATING
        SINGLESHOT
    }
    +class "<<<back:cyan>KeypleReaderEvent</back>>>\n**final** ReaderEvent" as ReaderEvent {
        - -
        +ReaderEvent (String pluginName, String readerName, EventType eventType,
            \tList<<back:cyan>KeypleCardSelectionResponse</back>> cardSelectionResponses)
        ..
        +String getPluginName ()
        +String getReaderName ()
        +EventType getEventType ()
        +List<<back:cyan>KeypleCardSelectionResponse</back>> getCardSelectionResponses ()
    }
    +enum "EventType" as ReaderEventType {
        CARD_INSERTED
        CARD_MATCHED
        CARD_REMOVED
        UNREGISTERED
    }
    +class "<<<back:cyan>KeyplePluginEvent</back>>>\n**final** PluginEvent" as PluginEvent {
        - -
        +PluginEvent (String pluginName, String readerName, EventType eventType)
        +PluginEvent (String pluginName, Set<String> readersNames, EventType eventType)
        ..
        +String getPluginName ()
        +SortedSet<String> getReadersNames ()
        +EventType getEventType ()
    }
    +enum "EventType" as PluginEventType {
        READER_CONNECTED
        READER_DISCONNECTED
        UNREGISTERED
    }
    ' SELECTION
    +class "**final** CardSelectionServiceFactory" as CardSelectionServiceFactory {
        +{static} CardSelectionService getService ()
        +{static} CardSelectionService getService (MultiSelectionProcessing multiSelectionProcessing)
    }
    package selection {
        ' Selection
        +interface CardSelectionService {
            - -
            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()
            ..
            +CardSelectionResult processCardSelectionScenario (Reader reader)
            ..
            +void scheduleCardSelectionScenario (ObservableReader observableReader,
                \tNotificationMode notificationMode)
            +void scheduleCardSelectionScenario (ObservableReader observableReader,
                \tNotificationMode notificationMode, PollingMode pollingMode)
            ..
            +CardSelectionResult processCardSelectionResponses (
                \tList<<back:cyan>KeypleCardSelectionResponse</back>> cardSelectionResponses)
        }
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }

        ' Card Extension SPI
        package "spi" as selectionSpi {
            +interface CardSelection {
                +CardSelector getCardSelector ()
            }
            +interface "<<<back:cyan>KeypleSmartCard</back>>>\nSmartCard" as SmartCard {
                - -
                +boolean hasFci ()
                +byte[] getFciBytes ()
                ..
                +boolean hasAtr ()
                +byte[] getAtrBytes ()
            }
        }
        +class "<<<back:cyan>KeypleCardSelector</back>>>\n**final** CardSelector" as CardSelector {
            - -
            +{static} Builder builder ()
            ..
            +String getCardProtocol ()
            ..
            +String getAtrRegex ()
            ..
            +byte[] getAid ()
            +FileOccurrence getFileOccurrence ()
            +FileControlInformation getFileControlInformation ()
            +Set<Integer> getSuccessfulSelectionStatusCodes ()
            ..
            +CardSelector addSuccessfulStatusCode (int statusCode)
            ..
            +boolean atrMatches (byte[] atr)
        }
        +class "**final** Builder" as CardSelectorBuilder {
            +Builder filterByCardProtocol (String cardProtocol)
            +Builder filterByAtr (String atrRegex)
            +Builder filterByDfName (byte[] aid)
            +Builder filterByDfName (String aid)
            +Builder setFileOccurrence (FileOccurrence fileOccurrence)
            +Builder setFileControlInformation (FileControlInformation fileControlInformation)
            +Builder addSuccessfulStatusCode (int statusCode)
            +CardSelector build ()
        }
        +enum FileOccurrence {
            FIRST
            LAST
            NEXT
            PREVIOUS
            +byte getIsoBitMask ()
        }
        +enum FileControlInformation {
            FCI
            FCP
            FMD
            NO_RESPONSE
            +byte getIsoBitMask ()
        }
        +interface CardSelectionResult {
            - -
            +boolean hasActiveSelection ()
            +int getActiveSelectionIndex ()
            +boolean hasSelectionMatched (int selectionIndex)
            ..
            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getSmartCard (int selectionIndex)
            +SmartCard getActiveSmartCard ()
        }
    }
    ' EXCEPTIONS
    together {
        +class "<<RuntimeException>>\nKeyplePluginException" as KeyplePluginException {
            +KeyplePluginException (
                \tString message)
            +KeyplePluginException (
                \tString message, Throwable cause)
        }
        +class "<<RuntimeException>>\nKeypleReaderCommunicationException" as KeypleReaderCommunicationException {
            +KeypleReaderCommunicationException (
                \tString message)
            +KeypleReaderCommunicationException (
                \tString message, Throwable cause)
        }
        +class "<<RuntimeException>>\nKeypleReaderProtocolNotSupportedException" as KeypleReaderProtocolNotSupportedException {
            +KeypleReaderProtocolNotSupportedException (
                \tString cardProtocol)
        }
        +class "<<RuntimeException>>\nKeypleCardCommunicationException" as KeypleCardCommunicationException {
            +KeypleCardCommunicationException (
                \tString message)
            +KeypleCardCommunicationException (
                \tString message, Throwable cause)
        }
    }
}

' Associations
'LocalServiceClient ..> RemoteServiceParameters #C_USE : use >

SmartCardServiceProvider ..> SmartCardService #C_USE : provide >

SmartCardService *- - "0..N" Plugin #C_LINK
SmartCardService *- - "0..N" DistributedLocalService #C_LINK

PluginEvent +- - PluginEventType
PluginEvent *- - "1" PluginEventType #C_LINK

ObservableReader +- - NotificationMode
ObservableReader ..> NotificationMode #C_USE : use >
ObservableReader +- - PollingMode
ObservableReader ..> PollingMode #C_USE : use >

ReaderEvent +- - ReaderEventType
ReaderEvent *- - "1" ReaderEventType #C_LINK

CardSelectionServiceFactory ..> CardSelectionService #C_USE : create >

CardSelectionService *- - "1" MultiSelectionProcessing #C_LINK
CardSelectionService *- - "1..N" CardSelection #C_LINK

CardSelectionResult *- - "1..N" SmartCard #C_LINK

CardSelector ..> CardSelectorBuilder #C_USE : provide >
CardSelector +- - FileOccurrence
CardSelector *- - "0..1" FileOccurrence #C_LINK
CardSelector +- - FileControlInformation
CardSelector *- - "0..1" FileControlInformation #C_LINK

CardSelectorBuilder ..> CardSelectorBuilder #C_USE
CardSelectorBuilder .up.> CardSelector #C_USE : create >

CardResourceServiceProvider ..> CardResourceService #C_USE : provide >

CardResourceService ..> CardResource #C_USE : provide >
CardResourceService ..> CardResourceServiceConfigurator #C_USE : provide >

CardResource *- - "1" Reader #C_LINK
CardResource *- - "1" SmartCard #C_LINK

CardResourceServiceConfigurator ..> AllocationStrategyStep #C_USE
CardResourceServiceConfigurator ..> PoolAllocationStrategyStep #C_USE
CardResourceServiceConfigurator ..> AllocationModeStep #C_USE

AllocationStrategyStep ..> PluginStep #C_USE

PluginStep ..> PluginStep #C_USE
PluginStep .up.> CardResourceServiceConfigurator #C_USE

PoolAllocationStrategyStep ..> PoolPluginStep #C_USE

PoolPluginStep ..> PoolPluginStep #C_USE
PoolPluginStep .up.> CardResourceServiceConfigurator #C_USE

AllocationModeStep ..> ProfileStep #C_USE

ProfileStep ..> ProfileParameterStep #C_USE
ProfileStep ..> ConfigurationStep #C_USE

ProfileParameterStep ..> ProfileParameterStep #C_USE
ProfileParameterStep .up.> ProfileStep #C_USE

Plugin ..> Reader #C_USE : provide >

CardSelectionService ..> Reader #C_USE : use >
CardSelectionService ..> CardSelectionResult #C_USE : provide >

ObservablePlugin ..> PluginObserverSpi #C_USE : use >
ObservablePlugin ..> PluginObservationExceptionHandlerSpi #C_USE : use >

PluginObserverSpi ..> PluginEvent #C_USE : use >

ObservableReader ..> ReaderObserverSpi #C_USE : use >
ObservableReader ..> ReaderObservationExceptionHandlerSpi #C_USE : use >

ReaderObserverSpi ..> ReaderEvent #C_USE : use >

CardSelection ..> CardSelector #C_USE : provide >

' == LAYOUT ==

FileOccurrence -[hidden]right- KeyplePluginException

' == STYLE ==

package service #C_GREY1 {}
package spi #C_GREY2 {}
package selection #C_GREY2 {}
package selectionSpi #C_GREY3 {}

@enduml

@startuml
title
    Keyple 2.0 - keyple-java-service - 2.0.0 (15/04/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:cyan>**keyple-java-commons-api**</back>
end legend

package "org.eclipse.keyple.core.service" as service {
    package spi {
        +interface PluginObserverSpi {
            +void onPluginEvent (
                \tPluginEvent pluginEvent)
        }
        +interface PluginObservationExceptionHandlerSpi {
            +void onPluginObservationError (String pluginName,
                \tThrowable e)
        }
        +interface ReaderObserverSpi {
            +void onReaderEvent (
                \tReaderEvent readerEvent)
        }
        +interface ReaderObservationExceptionHandlerSpi {
            +void onReaderObservationError (String pluginName,
                \tString readerName, Throwable e)
        }
    }

    +class "**final** CardResourceServiceProvider" as CardResourceServiceProvider {
        +{static} CardResourceService getService ()
    }

    +interface CardResourceService {
        +void start ()
        +void stop ()
        +CardResourceServiceConfigurator getConfigurator()
        +CardResource getCardResource (String cardResourceProfileName)
        +void releaseCardResource (CardResource cardResource)
        +void removeCardResource (CardResource cardResource)
    }

    +interface CardResourceServiceConfigurator {
        +AllocationStrategyStep withPlugins ()
        +PoolAllocationStrategyStep withPoolPlugins ()
        +AllocationModeStep endPluginsConfiguration ()
    }

    +interface AllocationStrategyStep {
        +PluginStep usingFirstAllocationStrategy ()
        +PluginStep usingCyclicAllocationStrategy ()
        +PluginStep usingRandomAllocationStrategy ()
    }
    +interface PluginStep {
        - -
        +PluginStep addPlugin (Plugin plugin,
            \tboolean withReaderMonitoring,
            \tboolean withCardMonitoring)
        +CardResourceServiceConfigurator addNoMorePlugins ()
    }

    +interface PoolAllocationStrategyStep {
        +PoolPluginStep usingPoolPluginFirstAllocationStrategy ()
        +PoolPluginStep usingPoolPluginLastAllocationStrategy ()
    }
    +interface PoolPluginStep {
        - -
        +PoolPluginStep addPoolPlugin (PoolPlugin poolPlugin,
            \tboolean withCardMonitoring)
        +CardResourceServiceConfigurator addNoMorePoolPlugins ()
    }

    +interface AllocationModeStep {
        - -
        +ProfileStep usingBlockingAllocationMode ()
        +ProfileStep usingBlockingAllocationMode (
            \tint cycleDurationMillis, int timeoutMillis)
        +ProfileStep usingNonBlockingAllocationMode ()
    }

    +interface ProfileStep {
        +ProfileParameterStep addCardResourceProfile (String name,
            \t<back:cyan>KeypleCardResourceProfileExtension</back> cardResourceProfileExtension)
        +ConfigurationStep addNoMoreCardResourceProfiles ()
    }
    +interface ProfileParameterStep {
        +ProfileParameterStep setPlugins (Plugin... plugins)
        +ProfileParameterStep setReaderNameRegex (String readerNameRegex)
        +ProfileParameterStep setReaderGroupReference (String readerGroupReference)
        +ProfileStep addNoMoreParameters ()
    }

    +interface ConfigurationStep {
        +void configure ()
    }

    +class "CardResource" as CardResource {
        - -
        +CardResource (Reader reader, SmartCard smartCard)
        ..
        +**final** Reader getReader ()
        +**final** SmartCard getSmartCard ()
    }

    together {
        +class "**final** ServiceApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +class "**final** SmartCardServiceProvider" as SmartCardServiceProvider {
            +{static} SmartCardService getService ()
        }
        +interface SmartCardService {
            - -
            +Plugin registerPlugin (<back:cyan>KeyplePluginExtensionFactory</back> pluginFactory)
            +void unregisterPlugin (String pluginName)
            +boolean isPluginRegistered (String pluginName)
            +Plugin getPlugin (String pluginName)
            +Map<String, Plugin> getPlugins ()
            ..
            +void checkCardExtension (<back:cyan>KeypleCardExtension</back> cardExtension)
            ..
            +DistributedLocalService registerDistributedLocalService (
                \t<back:cyan>KeypleDistributedLocalServiceExtensionFactory</back> distributedLocalServiceFactory)
            +void unregisterDistributedLocalService (String distributedLocalServiceName)
            +boolean isDistributedLocalServiceRegistered (String distributedLocalServiceName)
            +void getDistributedLocalService (String distributedLocalServiceName)
        }
        +interface Plugin {
            - -
            +String getName ()
            +<T extends <back:cyan>KeyplePluginExtension</back>> T getExtension (Class<T> pluginType)
            ..
            +Set<String> getReadersNames ()
            +Map<String, Reader> getReaders ()
            +Reader getReader (String readerName)
        }
        +interface DistributedLocalService {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleDistributedLocalServiceExtension</back>> T getExtension (
                \tClass<T> distributedLocalServiceType)
        }
        +interface ObservablePlugin extends Plugin {
            - -
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setPluginObservationExceptionHandler (
                \tPluginObservationExceptionHandlerSpi exceptionHandler)
            ..
            +void addObserver (PluginObserverSpi observer)
            +void removeObserver (PluginObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
        }
        +interface PoolPlugin extends Plugin {
            - -
            +SortedSet<String> getReaderGroupReferences ()
            ..
            +Reader allocateReader (String readerGroupReference)
            +void releaseReader (Reader reader)
        }
        +interface Reader {
            - -
            +String getName ()
            +<T extends <back:cyan>KeypleReaderExtension</back>> T getExtension (Class<T> readerType)
            ..
            +boolean isContactless ()
            +boolean isCardPresent ()
            ..
            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableReader extends Reader {
            - -
            +void setEventNotificationExecutorService (ExecutorService eventNotificationExecutorService)
            +void setReaderObservationExceptionHandler (ReaderObservationExceptionHandlerSpi exceptionHandler)
            ..
            +void addObserver (ReaderObserverSpi observer)
            +void removeObserver (ReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()
            ..
            +void startCardDetection (PollingMode pollingMode)
            +void stopCardDetection ()
            +void finalizeCardProcessing ()
        }
    }
    +enum NotificationMode {
        ALWAYS
        MATCHED_ONLY
    }
    +enum PollingMode {
        REPEATING
        SINGLESHOT
    }
    +class "<<<back:cyan>KeypleReaderEvent</back>>>\n**final** ReaderEvent" as ReaderEvent {
        - -
        +ReaderEvent (String pluginName, String readerName, EventType eventType,
            \tList<<back:cyan>KeypleCardSelectionResponse</back>> cardSelectionResponses)
        ..
        +String getPluginName ()
        +String getReaderName ()
        +EventType getEventType ()
        +List<<back:cyan>KeypleCardSelectionResponse</back>> getCardSelectionResponses ()
    }
    +enum "EventType" as ReaderEventType {
        CARD_INSERTED
        CARD_MATCHED
        CARD_REMOVED
        UNREGISTERED
    }
    +class "<<<back:cyan>KeyplePluginEvent</back>>>\n**final** PluginEvent" as PluginEvent {
        - -
        +PluginEvent (String pluginName, String readerName, EventType eventType)
        +PluginEvent (String pluginName, Set<String> readersNames, EventType eventType)
        ..
        +String getPluginName ()
        +SortedSet<String> getReadersNames ()
        +EventType getEventType ()
    }
    +enum "EventType" as PluginEventType {
        READER_CONNECTED
        READER_DISCONNECTED
        UNREGISTERED
    }
    +class "**final** CardSelectionServiceFactory" as CardSelectionServiceFactory {
        +{static} CardSelectionService getService ()
        +{static} CardSelectionService getService (MultiSelectionProcessing multiSelectionProcessing)
    }
    package selection {
        +interface CardSelectionService {
            - -
            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()
            ..
            +CardSelectionResult processCardSelectionScenario (Reader reader)
            ..
            +void scheduleCardSelectionScenario (ObservableReader observableReader,
                \tNotificationMode notificationMode)
            +void scheduleCardSelectionScenario (ObservableReader observableReader,
                \tNotificationMode notificationMode, PollingMode pollingMode)
            ..
            +CardSelectionResult processCardSelectionResponses (
                \tList<<back:cyan>KeypleCardSelectionResponse</back>> cardSelectionResponses)
        }
        +enum MultiSelectionProcessing {
            FIRST_MATCH
            PROCESS_ALL
        }

        package "spi" as selectionSpi {
            +interface CardSelection {
                +CardSelector getCardSelector ()
            }
            +interface "<<<back:cyan>KeypleSmartCard</back>>>\nSmartCard" as SmartCard {
                - -
                +boolean hasFci ()
                +byte[] getFciBytes ()
                ..
                +boolean hasAtr ()
                +byte[] getAtrBytes ()
            }
        }
        +class "<<<back:cyan>KeypleCardSelector</back>>>\n**final** CardSelector" as CardSelector {
            - -
            +{static} Builder builder ()
            ..
            +String getCardProtocol ()
            ..
            +String getAtrRegex ()
            ..
            +byte[] getAid ()
            +FileOccurrence getFileOccurrence ()
            +FileControlInformation getFileControlInformation ()
            +Set<Integer> getSuccessfulSelectionStatusCodes ()
            ..
            +CardSelector addSuccessfulStatusCode (int statusCode)
            ..
            +boolean atrMatches (byte[] atr)
        }
        +class "**final** Builder" as CardSelectorBuilder {
            +Builder filterByCardProtocol (String cardProtocol)
            +Builder filterByAtr (String atrRegex)
            +Builder filterByDfName (byte[] aid)
            +Builder filterByDfName (String aid)
            +Builder setFileOccurrence (FileOccurrence fileOccurrence)
            +Builder setFileControlInformation (FileControlInformation fileControlInformation)
            +Builder addSuccessfulStatusCode (int statusCode)
            +CardSelector build ()
        }
        +enum FileOccurrence {
            FIRST
            LAST
            NEXT
            PREVIOUS
            +byte getIsoBitMask ()
        }
        +enum FileControlInformation {
            FCI
            FCP
            FMD
            NO_RESPONSE
            +byte getIsoBitMask ()
        }
        +interface CardSelectionResult {
            - -
            +boolean hasActiveSelection ()
            +int getActiveSelectionIndex ()
            +boolean hasSelectionMatched (int selectionIndex)
            ..
            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getSmartCard (int selectionIndex)
            +SmartCard getActiveSmartCard ()
        }
    }
    together {
        +class "<<RuntimeException>>\nKeyplePluginException" as KeyplePluginException {
            +KeyplePluginException (
                \tString message)
            +KeyplePluginException (
                \tString message, Throwable cause)
        }
        +class "<<RuntimeException>>\nKeypleReaderCommunicationException" as KeypleReaderCommunicationException {
            +KeypleReaderCommunicationException (
                \tString message)
            +KeypleReaderCommunicationException (
                \tString message, Throwable cause)
        }
        +class "<<RuntimeException>>\nKeypleReaderProtocolNotSupportedException" as KeypleReaderProtocolNotSupportedException {
            +KeypleReaderProtocolNotSupportedException (
                \tString cardProtocol)
        }
        +class "<<RuntimeException>>\nKeypleCardCommunicationException" as KeypleCardCommunicationException {
            +KeypleCardCommunicationException (
                \tString message)
            +KeypleCardCommunicationException (
                \tString message, Throwable cause)
        }
    }
}


SmartCardServiceProvider ..> SmartCardService #27AE60 : provide >

SmartCardService *- - "0..N" Plugin #3498DB
SmartCardService *- - "0..N" DistributedLocalService #3498DB

PluginEvent +- - PluginEventType
PluginEvent *- - "1" PluginEventType #3498DB

ObservableReader +- - NotificationMode
ObservableReader ..> NotificationMode #27AE60 : use >
ObservableReader +- - PollingMode
ObservableReader ..> PollingMode #27AE60 : use >

ReaderEvent +- - ReaderEventType
ReaderEvent *- - "1" ReaderEventType #3498DB

CardSelectionServiceFactory ..> CardSelectionService #27AE60 : create >

CardSelectionService *- - "1" MultiSelectionProcessing #3498DB
CardSelectionService *- - "1..N" CardSelection #3498DB

CardSelectionResult *- - "1..N" SmartCard #3498DB

CardSelector ..> CardSelectorBuilder #27AE60 : provide >
CardSelector +- - FileOccurrence
CardSelector *- - "0..1" FileOccurrence #3498DB
CardSelector +- - FileControlInformation
CardSelector *- - "0..1" FileControlInformation #3498DB

CardSelectorBuilder ..> CardSelectorBuilder #27AE60
CardSelectorBuilder .up.> CardSelector #27AE60 : create >

CardResourceServiceProvider ..> CardResourceService #27AE60 : provide >

CardResourceService ..> CardResource #27AE60 : provide >
CardResourceService ..> CardResourceServiceConfigurator #27AE60 : provide >

CardResource *- - "1" Reader #3498DB
CardResource *- - "1" SmartCard #3498DB

CardResourceServiceConfigurator ..> AllocationStrategyStep #27AE60
CardResourceServiceConfigurator ..> PoolAllocationStrategyStep #27AE60
CardResourceServiceConfigurator ..> AllocationModeStep #27AE60

AllocationStrategyStep ..> PluginStep #27AE60

PluginStep ..> PluginStep #27AE60
PluginStep .up.> CardResourceServiceConfigurator #27AE60

PoolAllocationStrategyStep ..> PoolPluginStep #27AE60

PoolPluginStep ..> PoolPluginStep #27AE60
PoolPluginStep .up.> CardResourceServiceConfigurator #27AE60

AllocationModeStep ..> ProfileStep #27AE60

ProfileStep ..> ProfileParameterStep #27AE60
ProfileStep ..> ConfigurationStep #27AE60

ProfileParameterStep ..> ProfileParameterStep #27AE60
ProfileParameterStep .up.> ProfileStep #27AE60

Plugin ..> Reader #27AE60 : provide >

CardSelectionService ..> Reader #27AE60 : use >
CardSelectionService ..> CardSelectionResult #27AE60 : provide >

ObservablePlugin ..> PluginObserverSpi #27AE60 : use >
ObservablePlugin ..> PluginObservationExceptionHandlerSpi #27AE60 : use >

PluginObserverSpi ..> PluginEvent #27AE60 : use >

ObservableReader ..> ReaderObserverSpi #27AE60 : use >
ObservableReader ..> ReaderObservationExceptionHandlerSpi #27AE60 : use >

ReaderObserverSpi ..> ReaderEvent #27AE60 : use >

CardSelection ..> CardSelector #27AE60 : provide >


FileOccurrence -[hidden]right- KeyplePluginException


package service #F8F9F9 {}
package spi #F2F3F4 {}
package selection #F2F3F4 {}
package selectionSpi #E5E7E9 {}

@enduml

PlantUML version 1.2021.4(Sun Apr 04 10:49:39 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>