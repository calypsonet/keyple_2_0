<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="4370px" preserveAspectRatio="none" style="width:6345px;height:4370px;background:#FFFFFF;" version="1.1" viewBox="0 0 6345 4370" width="6345px" zoomAndPan="magnify"><defs><filter height="1" id="br7zbvwfd6oe60" width="1" x="0" y="0"><feFlood flood-color="#FFFF00" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1362.5" x="2475" y="46.7139">Calypsonet - calypsonet-terminal-calypso-java-api - 1.0 (02/06/2021)</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="40,71.6016,610,71.6016,627.5,130.625,6302.5,130.625,6302.5,4354.1016,40,4354.1016,40,71.6016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="627.5" y1="130.625" y2="130.625"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="555" x="50" y="112.9346">org.calypsonet.terminal.calypso</text><!--MD5=[fc5f7357635190d92cef7ec8135ac887]
cluster card--><polygon fill="#F2F3F4" points="2272.5,601.6016,2365,601.6016,2382.5,660.625,6242.5,660.625,6242.5,3744.1016,2272.5,3744.1016,2272.5,601.6016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="2272.5" x2="2382.5" y1="660.625" y2="660.625"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="77.5" x="2282.5" y="642.9346">card</text><!--MD5=[98d4fa74a8fc0b7c744d347d810a7562]
cluster sam--><polygon fill="#F2F3F4" points="1025,3209.1016,1110,3209.1016,1127.5,3268.125,1570,3268.125,1570,4294.1016,1025,4294.1016,1025,3209.1016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="1025" x2="1127.5" y1="3268.125" y2="3268.125"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="70" x="1035" y="3250.4346">sam</text><!--MD5=[f9c58d90839a0c7c212d8c6553ac9eb7]
cluster transaction--><polygon fill="#F2F3F4" points="100,596.6016,312.5,596.6016,330,655.625,1802.5,655.625,1802.5,3044.1016,100,3044.1016,100,596.6016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="100" x2="330" y1="655.625" y2="655.625"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="197.5" x="110" y="637.9346">transaction</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="49" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="472.5" x="2218.75" y="246.6016"/><ellipse cx="2256.25" cy="286.6016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2261.25,277.8516 Q2261.7578,276.6016 2262.3438,275.9766 Q2262.9297,275.3516 2263.5938,275.3516 Q2264.7656,275.3516 2265.5078,276.0547 Q2266.25,276.7578 2266.25,278.3984 L2266.25,282.3047 Q2266.25,283.9453 2265.5469,284.6484 Q2264.8438,285.3516 2263.75,285.3516 Q2262.7734,285.3516 2262.1484,284.9219 Q2261.5234,284.4922 2261.25,283.3594 Q2261.1328,282.5781 2260.7031,282.1484 Q2259.9219,281.3281 2258.5156,280.8594 Q2257.1094,280.3516 2255.7031,280.3516 Q2253.9453,280.3516 2252.4609,281.0547 Q2251.0156,281.7578 2249.8828,283.3203 Q2248.75,284.8828 2248.75,287.0313 L2248.75,289.3359 Q2248.75,291.9141 2250.8594,293.6328 Q2252.9688,295.3516 2256.7188,295.3516 Q2258.9453,295.3516 2260.5078,294.8438 Q2261.4063,294.5703 2262.4219,293.6719 Q2263.0859,293.1641 2263.4375,293.0078 Q2263.7891,292.8516 2264.2188,292.8516 Q2265.0391,292.8516 2265.625,293.5156 Q2266.25,294.1406 2266.25,295.0391 Q2266.25,295.8984 2265.3906,296.9141 Q2264.1406,298.3984 2262.1484,299.2188 Q2259.5313,300.3516 2256.3281,300.3516 Q2252.5781,300.3516 2249.5703,298.8672 Q2247.1484,297.6953 2245.4297,295.1563 Q2243.75,292.6172 2243.75,289.6094 L2243.75,286.875 Q2243.75,283.75 2245.2344,281.0156 Q2246.7578,278.2813 2249.375,276.8359 Q2252.0313,275.3516 2255,275.3516 Q2256.7969,275.3516 2258.3594,275.9766 Q2259.9219,276.6016 2261.25,277.8516 Z " fill="#000000"/><ellipse cx="2303.75" cy="285.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2318.75" y="298.877">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="297.5" x="2386.25" y="298.877">CalypsoApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2221.25" x2="2688.75" y1="326.6016" y2="326.6016"/><ellipse cx="2246.25" cy="354.1016" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="2268.75" y="365.1489">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="2333.75" y="365.1489">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2221.25" x2="2688.75" y1="381.1914" y2="381.1914"/><!--MD5=[725363c15b2fca4588eaca0d2be2b1de]
class SessionAccessLevel--><rect codeLine="52" fill="#FEFECE" height="258.3594" id="SessionAccessLevel" style="stroke:#D4AC0D;stroke-width:3.75;" width="390" x="1842.5" y="1296.6016"/><ellipse cx="1880" cy="1336.6016" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1876.25,1339.1016 L1876.25,1344.1016 L1886.25,1344.1016 L1886.25,1341.6016 L1886.25,1340.3906 L1887.8125,1339.1016 L1888.75,1339.1016 L1889.6875,1339.1016 L1891.25,1340.3906 L1891.25,1341.6016 L1891.25,1349.1016 L1871.25,1349.1016 L1870.0391,1349.1016 L1868.75,1347.5391 L1868.75,1346.6016 L1868.75,1345.6641 L1870.0391,1344.1016 L1871.25,1344.1016 L1871.25,1344.1016 L1871.25,1329.1016 L1871.25,1329.1016 L1870.0391,1329.1016 L1868.75,1327.5391 L1868.75,1326.6016 L1868.75,1325.6641 L1870.0391,1324.1016 L1871.25,1324.1016 L1891.25,1324.1016 L1891.25,1331.6016 L1891.25,1332.8125 L1889.6875,1334.1016 L1888.75,1334.1016 L1887.8125,1334.1016 L1886.25,1332.8125 L1886.25,1331.6016 L1886.25,1329.1016 L1876.25,1329.1016 L1876.25,1334.1016 L1878.75,1334.1016 L1878.75,1332.8906 L1878.75,1332.8906 L1880.3125,1331.6016 L1881.25,1331.6016 L1882.1875,1331.6016 L1883.75,1332.8906 L1883.75,1334.1016 L1883.75,1339.1016 L1883.75,1340.3125 L1882.1875,1341.6016 L1882.1875,1341.6016 L1881.25,1341.6016 L1880.3125,1341.6016 L1878.75,1340.3125 L1878.75,1340.3125 L1878.75,1339.1016 L1876.25,1339.1016 Z " fill="#000000"/><ellipse cx="1927.5" cy="1335.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="282.5" x="1942.5" y="1348.877">SessionAccessLevel</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1845" x2="2230" y1="1376.6016" y2="1376.6016"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="1857.5" y="1415.1489">SESSION_LVL_PERSO</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="262.5" x="1857.5" y="1449.7388">SESSION_LVL_LOAD</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="1857.5" y="1484.3286">SESSION_LVL_DEBIT</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1845" x2="2230" y1="1500.3711" y2="1500.3711"/><ellipse cx="1870" cy="1527.8711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="270" x="1892.5" y="1538.9185">byte getSessionKey ()</text><!--MD5=[858307e347215d8034d295bce1f15f07]
class SelectFileControl--><rect codeLine="59" fill="#FEFECE" height="223.7695" id="SelectFileControl" style="stroke:#D4AC0D;stroke-width:3.75;" width="342.5" x="2828.75" y="211.6016"/><ellipse cx="2866.25" cy="251.6016" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M2862.5,254.1016 L2862.5,259.1016 L2872.5,259.1016 L2872.5,256.6016 L2872.5,255.3906 L2874.0625,254.1016 L2875,254.1016 L2875.9375,254.1016 L2877.5,255.3906 L2877.5,256.6016 L2877.5,264.1016 L2857.5,264.1016 L2856.2891,264.1016 L2855,262.5391 L2855,261.6016 L2855,260.6641 L2856.2891,259.1016 L2857.5,259.1016 L2857.5,259.1016 L2857.5,244.1016 L2857.5,244.1016 L2856.2891,244.1016 L2855,242.5391 L2855,241.6016 L2855,240.6641 L2856.2891,239.1016 L2857.5,239.1016 L2877.5,239.1016 L2877.5,246.6016 L2877.5,247.8125 L2875.9375,249.1016 L2875,249.1016 L2874.0625,249.1016 L2872.5,247.8125 L2872.5,246.6016 L2872.5,244.1016 L2862.5,244.1016 L2862.5,249.1016 L2865,249.1016 L2865,247.8906 L2865,247.8906 L2866.5625,246.6016 L2867.5,246.6016 L2868.4375,246.6016 L2870,247.8906 L2870,249.1016 L2870,254.1016 L2870,255.3125 L2868.4375,256.6016 L2868.4375,256.6016 L2867.5,256.6016 L2866.5625,256.6016 L2865,255.3125 L2865,255.3125 L2865,254.1016 L2862.5,254.1016 Z " fill="#000000"/><ellipse cx="2913.75" cy="250.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="235" x="2928.75" y="263.877">SelectFileControl</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2831.25" x2="3168.75" y1="291.6016" y2="291.6016"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="115" x="2843.75" y="330.1489">FIRST_EF</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="110" x="2843.75" y="364.7388">NEXT_EF</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="165" x="2843.75" y="399.3286">CURRENT_DF</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2831.25" x2="3168.75" y1="415.3711" y2="415.3711"/><!--MD5=[dedf7a414a26192be9658079488df692]
class CalypsoCardSelection--><rect codeLine="66" fill="#FEFECE" height="298.8281" id="CalypsoCardSelection" style="stroke:#D4AC0D;stroke-width:3.75;" width="962.5" x="4206.25" y="1275.3516"/><ellipse cx="4509.375" cy="1325.5859" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4511.875,1318.0859 L4511.875,1333.0859 L4516.875,1333.0859 L4518.0859,1333.0859 L4519.375,1334.6484 L4519.375,1335.5859 L4519.375,1336.5234 L4518.0859,1338.0859 L4516.875,1338.0859 L4501.875,1338.0859 L4500.6641,1338.0859 L4499.375,1336.5234 L4499.375,1335.5859 L4499.375,1334.6484 L4500.6641,1333.0859 L4501.875,1333.0859 L4506.875,1333.0859 L4506.875,1318.0859 L4501.875,1318.0859 L4500.6641,1318.0859 L4499.375,1316.5234 L4499.375,1315.5859 L4499.375,1314.6484 L4500.6641,1313.0859 L4501.875,1313.0859 L4516.875,1313.0859 L4518.0859,1313.0859 L4519.375,1314.6484 L4519.375,1315.5859 L4519.375,1316.5234 L4518.0859,1318.0859 L4516.875,1318.0859 L4511.875,1318.0859 Z " fill="#000000"/><ellipse cx="4573.125" cy="1324.3359" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="4609.375" y="1318.9941">&lt;&lt;</text><text fill="#000000" filter="url(#br7zbvwfd6oe60)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="4644.375" y="1318.9941">CardSelection</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="4839.375" y="1318.9941">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="307.5" x="4588.125" y="1356.7285">CalypsoCardSelection</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4208.75" x2="5166.25" y1="1375.8203" y2="1375.8203"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="4208.75" x2="5166.25" y1="1395.8203" y2="1395.8203"/><ellipse cx="4233.75" cy="1423.3203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="4256.25" y="1434.3677">CalypsoCardSelection prepareSelectFile (byte[] lid)</text><ellipse cx="4233.75" cy="1457.9102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="605" x="4256.25" y="1468.9575">CalypsoCardSelection prepareSelectFile (short lid)</text><ellipse cx="4233.75" cy="1492.5" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="875" x="4256.25" y="1503.5474">CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4208.75" x2="5166.25" y1="1519.5898" y2="1519.5898"/><ellipse cx="4233.75" cy="1547.0898" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="897.5" x="4256.25" y="1558.1372">CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</text><!--MD5=[57d9060bfed72118962c04165c3e8b58]
class CalypsoCard--><rect codeLine="74" fill="#FEFECE" height="1367.3438" id="CalypsoCard" style="stroke:#D4AC0D;stroke-width:3.75;" width="705" x="3412.5" y="741.6016"/><ellipse cx="3630.625" cy="791.8359" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3633.125,784.3359 L3633.125,799.3359 L3638.125,799.3359 L3639.3359,799.3359 L3640.625,800.8984 L3640.625,801.8359 L3640.625,802.7734 L3639.3359,804.3359 L3638.125,804.3359 L3623.125,804.3359 L3621.9141,804.3359 L3620.625,802.7734 L3620.625,801.8359 L3620.625,800.8984 L3621.9141,799.3359 L3623.125,799.3359 L3628.125,799.3359 L3628.125,784.3359 L3623.125,784.3359 L3621.9141,784.3359 L3620.625,782.7734 L3620.625,781.8359 L3620.625,780.8984 L3621.9141,779.3359 L3623.125,779.3359 L3638.125,779.3359 L3639.3359,779.3359 L3640.625,780.8984 L3640.625,781.8359 L3640.625,782.7734 L3639.3359,784.3359 L3638.125,784.3359 L3633.125,784.3359 Z " fill="#000000"/><ellipse cx="3694.375" cy="790.5859" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3709.375" y="785.2441">&lt;&lt;</text><text fill="#000000" filter="url(#br7zbvwfd6oe60)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="3744.375" y="785.2441">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="3894.375" y="785.2441">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="3729.375" y="822.9785">CalypsoCard</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3415" x2="4115" y1="842.0703" y2="842.0703"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3415" x2="4115" y1="862.0703" y2="862.0703"/><ellipse cx="3440" cy="889.5703" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="277.5" x="3462.5" y="900.6177">Revision getRevision ()</text><ellipse cx="3440" cy="924.1602" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="382.5" x="3462.5" y="935.2075">String getPowerOnDataString ()</text><ellipse cx="3440" cy="958.75" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="305" x="3462.5" y="969.7974">byte[] getDfNameBytes ()</text><ellipse cx="3440" cy="993.3398" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="3462.5" y="1004.3872">String getDfName ()</text><ellipse cx="3440" cy="1027.9297" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="502.5" x="3462.5" y="1038.9771">byte[] getApplicationSerialNumberBytes ()</text><ellipse cx="3440" cy="1062.5195" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="435" x="3462.5" y="1073.5669">String getApplicationSerialNumber ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3415" x2="4115" y1="1089.6094" y2="1089.6094"/><ellipse cx="3440" cy="1117.1094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="3462.5" y="1128.1567">String getStartupInfo ()</text><ellipse cx="3440" cy="1151.6992" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="3462.5" y="1162.7466">byte getPlatform ()</text><ellipse cx="3440" cy="1186.2891" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="317.5" x="3462.5" y="1197.3364">byte getApplicationType ()</text><ellipse cx="3440" cy="1220.8789" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="357.5" x="3462.5" y="1231.9263">byte getApplicationSubtype ()</text><ellipse cx="3440" cy="1255.4688" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="315" x="3462.5" y="1266.5161">byte getSoftwareIssuer ()</text><ellipse cx="3440" cy="1290.0586" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="3462.5" y="1301.106">byte getSoftwareVersion ()</text><ellipse cx="3440" cy="1324.6484" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="342.5" x="3462.5" y="1335.6958">byte getSoftwareRevision ()</text><ellipse cx="3440" cy="1359.2383" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="365" x="3462.5" y="1370.2856">byte getSessionModification ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3415" x2="4115" y1="1386.3281" y2="1386.3281"/><ellipse cx="3440" cy="1413.8281" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="577.5" x="3462.5" y="1424.8755">boolean isConfidentialSessionModeSupported ()</text><ellipse cx="3440" cy="1448.418" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="512.5" x="3462.5" y="1459.4653">boolean isDeselectRatificationSupported ()</text><ellipse cx="3440" cy="1483.0078" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="517.5" x="3462.5" y="1494.0552">boolean isPublicAuthenticationSupported ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3415" x2="4115" y1="1510.0977" y2="1510.0977"/><ellipse cx="3440" cy="1537.5977" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="467.5" x="3462.5" y="1548.645">DirectoryHeader getDirectoryHeader ()</text><ellipse cx="3440" cy="1572.1875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="440" x="3462.5" y="1583.2349">ElementaryFile getFileBySfi (byte sfi)</text><ellipse cx="3440" cy="1606.7773" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="3462.5" y="1617.8247">ElementaryFile getFileByLid (short lid)</text><ellipse cx="3440" cy="1641.3672" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="480" x="3462.5" y="1652.4146">Map&lt;Byte, ElementaryFile&gt; getAllFiles ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3415" x2="4115" y1="1668.457" y2="1668.457"/><ellipse cx="3440" cy="1695.957" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="305" x="3462.5" y="1707.0044">boolean isDfInvalidated ()</text><ellipse cx="3440" cy="1730.5469" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="267.5" x="3462.5" y="1741.5942">boolean isDfRatified ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3415" x2="4115" y1="1757.6367" y2="1757.6367"/><ellipse cx="3440" cy="1785.1367" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="3462.5" y="1796.1841">boolean isPinFeatureAvailable ()</text><ellipse cx="3440" cy="1819.7266" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="280" x="3462.5" y="1830.7739">boolean isPinBlocked ()</text><ellipse cx="3440" cy="1854.3164" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="350" x="3462.5" y="1865.3638">int getPinAttemptRemaining ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3415" x2="4115" y1="1881.4063" y2="1881.4063"/><ellipse cx="3440" cy="1908.9063" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="385" x="3462.5" y="1919.9536">boolean isSvFeatureAvailable ()</text><ellipse cx="3440" cy="1943.4961" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="230" x="3462.5" y="1954.5435">int getSvBalance ()</text><ellipse cx="3440" cy="1978.0859" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="252.5" x="3462.5" y="1989.1333">int getSvLastTNum ()</text><ellipse cx="3440" cy="2012.6758" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="522.5" x="3462.5" y="2023.7231">SvLoadLogRecord getSvLoadLogRecord ()</text><ellipse cx="3440" cy="2047.2656" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="575" x="3462.5" y="2058.313">SvDebitLogRecord getSvDebitLogLastRecord ()</text><ellipse cx="3440" cy="2081.8555" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="640" x="3462.5" y="2092.9028">List&lt;SvDebitLogRecord&gt; getSvDebitLogAllRecords ()</text><!--MD5=[0b9f931ff20ef873cbf798587ab2189f]
class DirectoryHeader--><rect codeLine="115" fill="#FEFECE" height="456.7188" id="DirectoryHeader" style="stroke:#D4AC0D;stroke-width:3.75;" width="692.5" x="2313.75" y="2450.3516"/><ellipse cx="2523.125" cy="2490.3516" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2525.625,2482.8516 L2525.625,2497.8516 L2530.625,2497.8516 L2531.8359,2497.8516 L2533.125,2499.4141 L2533.125,2500.3516 L2533.125,2501.2891 L2531.8359,2502.8516 L2530.625,2502.8516 L2515.625,2502.8516 L2514.4141,2502.8516 L2513.125,2501.2891 L2513.125,2500.3516 L2513.125,2499.4141 L2514.4141,2497.8516 L2515.625,2497.8516 L2520.625,2497.8516 L2520.625,2482.8516 L2515.625,2482.8516 L2514.4141,2482.8516 L2513.125,2481.2891 L2513.125,2480.3516 L2513.125,2479.4141 L2514.4141,2477.8516 L2515.625,2477.8516 L2530.625,2477.8516 L2531.8359,2477.8516 L2533.125,2479.4141 L2533.125,2480.3516 L2533.125,2481.2891 L2531.8359,2482.8516 L2530.625,2482.8516 L2525.625,2482.8516 Z " fill="#000000"/><ellipse cx="2586.875" cy="2489.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="225" x="2601.875" y="2502.627">DirectoryHeader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2316.25" x2="3003.75" y1="2530.3516" y2="2530.3516"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="2316.25" x2="3003.75" y1="2550.3516" y2="2550.3516"/><ellipse cx="2341.25" cy="2577.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="170" x="2363.75" y="2588.8989">short getLid ()</text><ellipse cx="2341.25" cy="2612.4414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="230" x="2363.75" y="2623.4888">byte getDfStatus ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2316.25" x2="3003.75" y1="2639.5313" y2="2639.5313"/><ellipse cx="2341.25" cy="2667.0313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="360" x="2363.75" y="2678.0786">byte[] getAccessConditions ()</text><ellipse cx="2341.25" cy="2701.6211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="282.5" x="2363.75" y="2712.6685">byte[] getKeyIndexes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2316.25" x2="3003.75" y1="2728.7109" y2="2728.7109"/><ellipse cx="2341.25" cy="2756.2109" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="612.5" x="2363.75" y="2767.2583">boolean isKifAvailable (SessionAccessLevel level)</text><ellipse cx="2341.25" cy="2790.8008" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="477.5" x="2363.75" y="2801.8481">byte getKif (SessionAccessLevel level)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2316.25" x2="3003.75" y1="2817.8906" y2="2817.8906"/><ellipse cx="2341.25" cy="2845.3906" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="627.5" x="2363.75" y="2856.438">boolean isKvcAvailable (SessionAccessLevel level)</text><ellipse cx="2341.25" cy="2879.9805" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="492.5" x="2363.75" y="2891.0278">byte getKvc (SessionAccessLevel level)</text><!--MD5=[96ed275c747ab8e5816af3c7b7a6d739]
class ElementaryFile--><rect codeLine="129" fill="#FEFECE" height="223.7695" id="ElementaryFile" style="stroke:#D4AC0D;stroke-width:3.75;" width="352.5" x="3093.75" y="2566.6016"/><ellipse cx="3148.125" cy="2606.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3150.625,2599.1016 L3150.625,2614.1016 L3155.625,2614.1016 L3156.8359,2614.1016 L3158.125,2615.6641 L3158.125,2616.6016 L3158.125,2617.5391 L3156.8359,2619.1016 L3155.625,2619.1016 L3140.625,2619.1016 L3139.4141,2619.1016 L3138.125,2617.5391 L3138.125,2616.6016 L3138.125,2615.6641 L3139.4141,2614.1016 L3140.625,2614.1016 L3145.625,2614.1016 L3145.625,2599.1016 L3140.625,2599.1016 L3139.4141,2599.1016 L3138.125,2597.5391 L3138.125,2596.6016 L3138.125,2595.6641 L3139.4141,2594.1016 L3140.625,2594.1016 L3155.625,2594.1016 L3156.8359,2594.1016 L3158.125,2595.6641 L3158.125,2596.6016 L3158.125,2597.5391 L3156.8359,2599.1016 L3155.625,2599.1016 L3150.625,2599.1016 Z " fill="#000000"/><ellipse cx="3199.375" cy="2605.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="207.5" x="3214.375" y="2618.877">ElementaryFile</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3096.25" x2="3443.75" y1="2646.6016" y2="2646.6016"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3096.25" x2="3443.75" y1="2666.6016" y2="2666.6016"/><ellipse cx="3121.25" cy="2694.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="157.5" x="3143.75" y="2705.1489">byte getSfi ()</text><ellipse cx="3121.25" cy="2728.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="3143.75" y="2739.7388">FileHeader getHeader ()</text><ellipse cx="3121.25" cy="2763.2813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="3143.75" y="2774.3286">FileData getData ()</text><!--MD5=[486f9787c412818ec30cf5d906211656]
class FileHeader--><rect codeLine="135" fill="#FEFECE" height="491.3086" id="FileHeader" style="stroke:#D4AC0D;stroke-width:3.75;" width="462.5" x="3533.75" y="2432.8516"/><ellipse cx="3664.375" cy="2472.8516" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3666.875,2465.3516 L3666.875,2480.3516 L3671.875,2480.3516 L3673.0859,2480.3516 L3674.375,2481.9141 L3674.375,2482.8516 L3674.375,2483.7891 L3673.0859,2485.3516 L3671.875,2485.3516 L3656.875,2485.3516 L3655.6641,2485.3516 L3654.375,2483.7891 L3654.375,2482.8516 L3654.375,2481.9141 L3655.6641,2480.3516 L3656.875,2480.3516 L3661.875,2480.3516 L3661.875,2465.3516 L3656.875,2465.3516 L3655.6641,2465.3516 L3654.375,2463.7891 L3654.375,2462.8516 L3654.375,2461.9141 L3655.6641,2460.3516 L3656.875,2460.3516 L3671.875,2460.3516 L3673.0859,2460.3516 L3674.375,2461.9141 L3674.375,2462.8516 L3674.375,2463.7891 L3673.0859,2465.3516 L3671.875,2465.3516 L3666.875,2465.3516 Z " fill="#000000"/><ellipse cx="3728.125" cy="2471.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="152.5" x="3743.125" y="2485.127">FileHeader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3536.25" x2="3993.75" y1="2512.8516" y2="2512.8516"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="3536.25" x2="3993.75" y1="2532.8516" y2="2532.8516"/><ellipse cx="3561.25" cy="2560.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="170" x="3583.75" y="2571.3989">short getLid ()</text><ellipse cx="3561.25" cy="2594.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="230" x="3583.75" y="2605.9888">byte getDfStatus ()</text><ellipse cx="3561.25" cy="2629.5313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="3583.75" y="2640.5786">ElementaryFile.Type getEfType ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3536.25" x2="3993.75" y1="2656.6211" y2="2656.6211"/><ellipse cx="3561.25" cy="2684.1211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="295" x="3583.75" y="2695.1685">int getRecordsNumber ()</text><ellipse cx="3561.25" cy="2718.7109" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="3583.75" y="2729.7583">int getRecordSize ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3536.25" x2="3993.75" y1="2745.8008" y2="2745.8008"/><ellipse cx="3561.25" cy="2773.3008" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="360" x="3583.75" y="2784.3481">byte[] getAccessConditions ()</text><ellipse cx="3561.25" cy="2807.8906" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="282.5" x="3583.75" y="2818.938">byte[] getKeyIndexes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3536.25" x2="3993.75" y1="2834.9805" y2="2834.9805"/><ellipse cx="3561.25" cy="2862.4805" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="3583.75" y="2873.5278">boolean isShared ()</text><ellipse cx="3561.25" cy="2897.0703" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="352.5" x="3583.75" y="2908.1177">Short getSharedReference ()</text><!--MD5=[b2892fca6bf934519171596a14a2d163]
class FileType--><rect codeLine="150" fill="#FEFECE" height="292.9492" id="FileType" style="stroke:#D4AC0D;stroke-width:3.75;" width="325" x="3352.5" y="3411.6016"/><ellipse cx="3457.5" cy="3451.6016" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M3453.75,3454.1016 L3453.75,3459.1016 L3463.75,3459.1016 L3463.75,3456.6016 L3463.75,3455.3906 L3465.3125,3454.1016 L3466.25,3454.1016 L3467.1875,3454.1016 L3468.75,3455.3906 L3468.75,3456.6016 L3468.75,3464.1016 L3448.75,3464.1016 L3447.5391,3464.1016 L3446.25,3462.5391 L3446.25,3461.6016 L3446.25,3460.6641 L3447.5391,3459.1016 L3448.75,3459.1016 L3448.75,3459.1016 L3448.75,3444.1016 L3448.75,3444.1016 L3447.5391,3444.1016 L3446.25,3442.5391 L3446.25,3441.6016 L3446.25,3440.6641 L3447.5391,3439.1016 L3448.75,3439.1016 L3468.75,3439.1016 L3468.75,3446.6016 L3468.75,3447.8125 L3467.1875,3449.1016 L3466.25,3449.1016 L3465.3125,3449.1016 L3463.75,3447.8125 L3463.75,3446.6016 L3463.75,3444.1016 L3453.75,3444.1016 L3453.75,3449.1016 L3456.25,3449.1016 L3456.25,3447.8906 L3456.25,3447.8906 L3457.8125,3446.6016 L3458.75,3446.6016 L3459.6875,3446.6016 L3461.25,3447.8906 L3461.25,3449.1016 L3461.25,3454.1016 L3461.25,3455.3125 L3459.6875,3456.6016 L3459.6875,3456.6016 L3458.75,3456.6016 L3457.8125,3456.6016 L3456.25,3455.3125 L3456.25,3455.3125 L3456.25,3454.1016 L3453.75,3454.1016 Z " fill="#000000"/><ellipse cx="3520" cy="3450.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="67.5" x="3535" y="3463.877">Type</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3355" x2="3675" y1="3491.6016" y2="3491.6016"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="90" x="3367.5" y="3530.1489">LINEAR</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="97.5" x="3367.5" y="3564.7388">BINARY</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="92.5" x="3367.5" y="3599.3286">CYCLIC</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="137.5" x="3367.5" y="3633.9185">COUNTERS</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="295" x="3367.5" y="3668.5083">SIMULATED_COUNTERS</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3355" x2="3675" y1="3684.5508" y2="3684.5508"/><!--MD5=[9e0c9777a80d688403528ae1660d9a4a]
class FileData--><rect codeLine="157" fill="#FEFECE" height="347.5391" id="FileData" style="stroke:#D4AC0D;stroke-width:3.75;" width="835" x="4085" y="2505.3516"/><ellipse cx="4420.625" cy="2545.3516" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M4423.125,2537.8516 L4423.125,2552.8516 L4428.125,2552.8516 L4429.3359,2552.8516 L4430.625,2554.4141 L4430.625,2555.3516 L4430.625,2556.2891 L4429.3359,2557.8516 L4428.125,2557.8516 L4413.125,2557.8516 L4411.9141,2557.8516 L4410.625,2556.2891 L4410.625,2555.3516 L4410.625,2554.4141 L4411.9141,2552.8516 L4413.125,2552.8516 L4418.125,2552.8516 L4418.125,2537.8516 L4413.125,2537.8516 L4411.9141,2537.8516 L4410.625,2536.2891 L4410.625,2535.3516 L4410.625,2534.4141 L4411.9141,2532.8516 L4413.125,2532.8516 L4428.125,2532.8516 L4429.3359,2532.8516 L4430.625,2534.4141 L4430.625,2535.3516 L4430.625,2536.2891 L4429.3359,2537.8516 L4428.125,2537.8516 L4423.125,2537.8516 Z " fill="#000000"/><ellipse cx="4484.375" cy="2544.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="115" x="4499.375" y="2557.627">FileData</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="4087.5" x2="4917.5" y1="2585.3516" y2="2585.3516"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="4087.5" x2="4917.5" y1="2605.3516" y2="2605.3516"/><ellipse cx="4112.5" cy="2632.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="4135" y="2643.8989">byte[] getContent ()</text><ellipse cx="4112.5" cy="2667.4414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="4135" y="2678.4888">byte[] getContent (int numRecord)</text><ellipse cx="4112.5" cy="2702.0313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="770" x="4135" y="2713.0786">byte[] getContent (int numRecord, int dataOffset, int dataLength)</text><ellipse cx="4112.5" cy="2736.6211" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="622.5" x="4135" y="2747.6685">SortedMap&lt;Integer, byte[]&gt; getAllRecordsContent ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="4087.5" x2="4917.5" y1="2763.7109" y2="2763.7109"/><ellipse cx="4112.5" cy="2791.2109" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="572.5" x="4135" y="2802.2583">int getContentAsCounterValue (int numCounter)</text><ellipse cx="4112.5" cy="2825.8008" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="622.5" x="4135" y="2836.8481">SortedMap&lt;Integer, Integer&gt; getAllCountersValue ()</text><!--MD5=[80f1e85f5bbba125dd63a671cb332630]
class CardRevision--><rect codeLine="167" fill="#FEFECE" height="292.9492" id="CardRevision" style="stroke:#D4AC0D;stroke-width:3.75;" width="227.5" x="5008.75" y="2532.8516"/><ellipse cx="5046.25" cy="2572.8516" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M5042.5,2575.3516 L5042.5,2580.3516 L5052.5,2580.3516 L5052.5,2577.8516 L5052.5,2576.6406 L5054.0625,2575.3516 L5055,2575.3516 L5055.9375,2575.3516 L5057.5,2576.6406 L5057.5,2577.8516 L5057.5,2585.3516 L5037.5,2585.3516 L5036.2891,2585.3516 L5035,2583.7891 L5035,2582.8516 L5035,2581.9141 L5036.2891,2580.3516 L5037.5,2580.3516 L5037.5,2580.3516 L5037.5,2565.3516 L5037.5,2565.3516 L5036.2891,2565.3516 L5035,2563.7891 L5035,2562.8516 L5035,2561.9141 L5036.2891,2560.3516 L5037.5,2560.3516 L5057.5,2560.3516 L5057.5,2567.8516 L5057.5,2569.0625 L5055.9375,2570.3516 L5055,2570.3516 L5054.0625,2570.3516 L5052.5,2569.0625 L5052.5,2567.8516 L5052.5,2565.3516 L5042.5,2565.3516 L5042.5,2570.3516 L5045,2570.3516 L5045,2569.1406 L5045,2569.1406 L5046.5625,2567.8516 L5047.5,2567.8516 L5048.4375,2567.8516 L5050,2569.1406 L5050,2570.3516 L5050,2575.3516 L5050,2576.5625 L5048.4375,2577.8516 L5048.4375,2577.8516 L5047.5,2577.8516 L5046.5625,2577.8516 L5045,2576.5625 L5045,2576.5625 L5045,2575.3516 L5042.5,2575.3516 Z " fill="#000000"/><ellipse cx="5093.75" cy="2571.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="120" x="5108.75" y="2585.127">Revision</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5011.25" x2="5233.75" y1="2612.8516" y2="2612.8516"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="97.5" x="5023.75" y="2651.3989">REV1_0</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="97.5" x="5023.75" y="2685.9888">REV2_4</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="97.5" x="5023.75" y="2720.5786">REV3_1</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="180" x="5023.75" y="2755.1685">REV3_1_CLAP</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="97.5" x="5023.75" y="2789.7583">REV3_2</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5011.25" x2="5233.75" y1="2805.8008" y2="2805.8008"/><!--MD5=[c749d7bba5587d09bce06f9a9a7e89ad]
class SvLoadLogRecord--><rect codeLine="174" fill="#FEFECE" height="738.8477" id="SvLoadLogRecord" style="stroke:#D4AC0D;stroke-width:3.75;" width="395" x="5325" y="2309.1016"/><ellipse cx="5376" cy="2349.1016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M5378.5,2341.6016 L5378.5,2356.6016 L5383.5,2356.6016 L5384.7109,2356.6016 L5386,2358.1641 L5386,2359.1016 L5386,2360.0391 L5384.7109,2361.6016 L5383.5,2361.6016 L5368.5,2361.6016 L5367.2891,2361.6016 L5366,2360.0391 L5366,2359.1016 L5366,2358.1641 L5367.2891,2356.6016 L5368.5,2356.6016 L5373.5,2356.6016 L5373.5,2341.6016 L5368.5,2341.6016 L5367.2891,2341.6016 L5366,2340.0391 L5366,2339.1016 L5366,2338.1641 L5367.2891,2336.6016 L5368.5,2336.6016 L5383.5,2336.6016 L5384.7109,2336.6016 L5386,2338.1641 L5386,2339.1016 L5386,2340.0391 L5384.7109,2341.6016 L5383.5,2341.6016 L5378.5,2341.6016 Z " fill="#000000"/><ellipse cx="5426.5" cy="2347.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="257.5" x="5441.5" y="2361.377">SvLoadLogRecord</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5327.5" x2="5717.5" y1="2389.1016" y2="2389.1016"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="5327.5" x2="5717.5" y1="2409.1016" y2="2409.1016"/><ellipse cx="5352.5" cy="2436.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="192.5" x="5375" y="2447.6489">int getAmount ()</text><ellipse cx="5352.5" cy="2471.1914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="5375" y="2482.2388">int getBalance ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="5327.5" x2="5717.5" y1="2498.2813" y2="2498.2813"/><ellipse cx="5352.5" cy="2525.7813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="215" x="5375" y="2536.8286">int getLoadTime ()</text><ellipse cx="5352.5" cy="2560.3711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="325" x="5375" y="2571.4185">byte[] getLoadTimeBytes ()</text><ellipse cx="5352.5" cy="2594.9609" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="215" x="5375" y="2606.0083">int getLoadDate ()</text><ellipse cx="5352.5" cy="2629.5508" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="325" x="5375" y="2640.5981">byte[] getLoadDateBytes ()</text><ellipse cx="5352.5" cy="2664.1406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="252.5" x="5375" y="2675.188">String getFreeByte ()</text><ellipse cx="5352.5" cy="2698.7305" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="320" x="5375" y="2709.7778">byte[] getFreeByteBytes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="5327.5" x2="5717.5" y1="2725.8203" y2="2725.8203"/><ellipse cx="5352.5" cy="2753.3203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="172.5" x="5375" y="2764.3677">byte getKvc ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="5327.5" x2="5717.5" y1="2780.4102" y2="2780.4102"/><ellipse cx="5352.5" cy="2807.9102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="195" x="5375" y="2818.9575">long getSamId ()</text><ellipse cx="5352.5" cy="2842.5" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="282.5" x="5375" y="2853.5474">byte[] getSamIdBytes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="5327.5" x2="5717.5" y1="2869.5898" y2="2869.5898"/><ellipse cx="5352.5" cy="2897.0898" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="200" x="5375" y="2908.1372">int getSvTNum ()</text><ellipse cx="5352.5" cy="2931.6797" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="5375" y="2942.7271">byte[] getSvTNumBytes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="5327.5" x2="5717.5" y1="2958.7695" y2="2958.7695"/><ellipse cx="5352.5" cy="2986.2695" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="220" x="5375" y="2997.3169">int getSamTNum ()</text><ellipse cx="5352.5" cy="3020.8594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="330" x="5375" y="3031.9067">byte[] getSamTNumBytes ()</text><!--MD5=[f7bb9a4e07bc41a393fc40394d0e062c]
class SvDebitLogRecord--><rect codeLine="197" fill="#FEFECE" height="669.668" id="SvDebitLogRecord" style="stroke:#D4AC0D;stroke-width:3.75;" width="395" x="5807.5" y="2344.1016"/><ellipse cx="5856.25" cy="2384.1016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M5858.75,2376.6016 L5858.75,2391.6016 L5863.75,2391.6016 L5864.9609,2391.6016 L5866.25,2393.1641 L5866.25,2394.1016 L5866.25,2395.0391 L5864.9609,2396.6016 L5863.75,2396.6016 L5848.75,2396.6016 L5847.5391,2396.6016 L5846.25,2395.0391 L5846.25,2394.1016 L5846.25,2393.1641 L5847.5391,2391.6016 L5848.75,2391.6016 L5853.75,2391.6016 L5853.75,2376.6016 L5848.75,2376.6016 L5847.5391,2376.6016 L5846.25,2375.0391 L5846.25,2374.1016 L5846.25,2373.1641 L5847.5391,2371.6016 L5848.75,2371.6016 L5863.75,2371.6016 L5864.9609,2371.6016 L5866.25,2373.1641 L5866.25,2374.1016 L5866.25,2375.0391 L5864.9609,2376.6016 L5863.75,2376.6016 L5858.75,2376.6016 Z " fill="#000000"/><ellipse cx="5906.25" cy="2382.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="262.5" x="5921.25" y="2396.377">SvDebitLogRecord</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="5810" x2="6200" y1="2424.1016" y2="2424.1016"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="5810" x2="6200" y1="2444.1016" y2="2444.1016"/><ellipse cx="5835" cy="2471.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="192.5" x="5857.5" y="2482.6489">int getAmount ()</text><ellipse cx="5835" cy="2506.1914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="5857.5" y="2517.2388">int getBalance ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="5810" x2="6200" y1="2533.2813" y2="2533.2813"/><ellipse cx="5835" cy="2560.7813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="215" x="5857.5" y="2571.8286">int getDebitTime ()</text><ellipse cx="5835" cy="2595.3711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="325" x="5857.5" y="2606.4185">byte[] getDebitTimeBytes ()</text><ellipse cx="5835" cy="2629.9609" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="215" x="5857.5" y="2641.0083">int getDebitDate ()</text><ellipse cx="5835" cy="2664.5508" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="325" x="5857.5" y="2675.5981">byte[] getDebitDateBytes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="5810" x2="6200" y1="2691.6406" y2="2691.6406"/><ellipse cx="5835" cy="2719.1406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="172.5" x="5857.5" y="2730.188">byte getKvc ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="5810" x2="6200" y1="2746.2305" y2="2746.2305"/><ellipse cx="5835" cy="2773.7305" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="195" x="5857.5" y="2784.7778">long getSamId ()</text><ellipse cx="5835" cy="2808.3203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="282.5" x="5857.5" y="2819.3677">byte[] getSamIdBytes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="5810" x2="6200" y1="2835.4102" y2="2835.4102"/><ellipse cx="5835" cy="2862.9102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="200" x="5857.5" y="2873.9575">int getSvTNum ()</text><ellipse cx="5835" cy="2897.5" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="5857.5" y="2908.5474">byte[] getSvTNumBytes ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="5810" x2="6200" y1="2924.5898" y2="2924.5898"/><ellipse cx="5835" cy="2952.0898" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="220" x="5857.5" y="2963.1372">int getSamTNum ()</text><ellipse cx="5835" cy="2986.6797" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="330" x="5857.5" y="2997.7271">byte[] getSamTNumBytes ()</text><!--MD5=[f25ff1fa8fa59bbc0543eaadeb7d653a]
class CalypsoSam--><rect codeLine="220" fill="#FEFECE" height="417.1875" id="CalypsoSam" style="stroke:#D4AC0D;stroke-width:3.75;" width="430" x="1077.5" y="3349.1016"/><ellipse cx="1161.125" cy="3399.3359" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1163.625,3391.8359 L1163.625,3406.8359 L1168.625,3406.8359 L1169.8359,3406.8359 L1171.125,3408.3984 L1171.125,3409.3359 L1171.125,3410.2734 L1169.8359,3411.8359 L1168.625,3411.8359 L1153.625,3411.8359 L1152.4141,3411.8359 L1151.125,3410.2734 L1151.125,3409.3359 L1151.125,3408.3984 L1152.4141,3406.8359 L1153.625,3406.8359 L1158.625,3406.8359 L1158.625,3391.8359 L1153.625,3391.8359 L1152.4141,3391.8359 L1151.125,3390.2734 L1151.125,3389.3359 L1151.125,3388.3984 L1152.4141,3386.8359 L1153.625,3386.8359 L1168.625,3386.8359 L1169.8359,3386.8359 L1171.125,3388.3984 L1171.125,3389.3359 L1171.125,3390.2734 L1169.8359,3391.8359 L1168.625,3391.8359 L1163.625,3391.8359 Z " fill="#000000"/><ellipse cx="1218.875" cy="3398.0859" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1233.875" y="3392.7441">&lt;&lt;</text><text fill="#000000" filter="url(#br7zbvwfd6oe60)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="1268.875" y="3392.7441">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="1418.875" y="3392.7441">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="177.5" x="1255.125" y="3430.4785">CalypsoSam</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1080" x2="1505" y1="3449.5703" y2="3449.5703"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1080" x2="1505" y1="3469.5703" y2="3469.5703"/><ellipse cx="1105" cy="3497.0703" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="277.5" x="1127.5" y="3508.1177">Revision getRevision ()</text><ellipse cx="1105" cy="3531.6602" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="300" x="1127.5" y="3542.7075">byte[] getSerialNumber ()</text><ellipse cx="1105" cy="3566.25" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="1127.5" y="3577.2974">byte getPlatform ()</text><ellipse cx="1105" cy="3600.8398" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="317.5" x="1127.5" y="3611.8872">byte getApplicationType ()</text><ellipse cx="1105" cy="3635.4297" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="365" x="1127.5" y="3646.4771">byte getApplicationSubType ()</text><ellipse cx="1105" cy="3670.0195" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="315" x="1127.5" y="3681.0669">byte getSoftwareIssuer ()</text><ellipse cx="1105" cy="3704.6094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="1127.5" y="3715.6567">byte getSoftwareVersion ()</text><ellipse cx="1105" cy="3739.1992" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="342.5" x="1127.5" y="3750.2466">byte getSoftwareRevision ()</text><!--MD5=[80a94cacccc110cca69265c28ad8642b]
class SamRevision--><rect codeLine="230" fill="#FEFECE" height="292.9492" id="SamRevision" style="stroke:#D4AC0D;stroke-width:3.75;" width="462.5" x="1066.25" y="3961.6016"/><ellipse cx="1213.125" cy="4001.6016" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1209.375,4004.1016 L1209.375,4009.1016 L1219.375,4009.1016 L1219.375,4006.6016 L1219.375,4005.3906 L1220.9375,4004.1016 L1221.875,4004.1016 L1222.8125,4004.1016 L1224.375,4005.3906 L1224.375,4006.6016 L1224.375,4014.1016 L1204.375,4014.1016 L1203.1641,4014.1016 L1201.875,4012.5391 L1201.875,4011.6016 L1201.875,4010.6641 L1203.1641,4009.1016 L1204.375,4009.1016 L1204.375,4009.1016 L1204.375,3994.1016 L1204.375,3994.1016 L1203.1641,3994.1016 L1201.875,3992.5391 L1201.875,3991.6016 L1201.875,3990.6641 L1203.1641,3989.1016 L1204.375,3989.1016 L1224.375,3989.1016 L1224.375,3996.6016 L1224.375,3997.8125 L1222.8125,3999.1016 L1221.875,3999.1016 L1220.9375,3999.1016 L1219.375,3997.8125 L1219.375,3996.6016 L1219.375,3994.1016 L1209.375,3994.1016 L1209.375,3999.1016 L1211.875,3999.1016 L1211.875,3997.8906 L1211.875,3997.8906 L1213.4375,3996.6016 L1214.375,3996.6016 L1215.3125,3996.6016 L1216.875,3997.8906 L1216.875,3999.1016 L1216.875,4004.1016 L1216.875,4005.3125 L1215.3125,4006.6016 L1215.3125,4006.6016 L1214.375,4006.6016 L1213.4375,4006.6016 L1211.875,4005.3125 L1211.875,4005.3125 L1211.875,4004.1016 L1209.375,4004.1016 Z " fill="#000000"/><ellipse cx="1276.875" cy="4000.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="120" x="1291.875" y="4013.877">Revision</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1068.75" x2="1526.25" y1="4041.6016" y2="4041.6016"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="32.5" x="1081.25" y="4080.1489">C1</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="47.5" x="1081.25" y="4114.7388">S1E</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="50" x="1081.25" y="4149.3286">S1D</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1068.75" x2="1526.25" y1="4165.3711" y2="4165.3711"/><ellipse cx="1093.75" cy="4192.8711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="1116.25" y="4203.9185">String getApplicationTypeMask ()</text><ellipse cx="1093.75" cy="4227.4609" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="1116.25" y="4238.5083">byte getClassByte ()</text><!--MD5=[0b099b95829aa268a7bde43b43d40035]
class CardTransactionService--><rect codeLine="240" fill="#FEFECE" height="1377.6953" id="CardTransactionService" style="stroke:#D4AC0D;stroke-width:3.75;" width="1500" x="165" y="736.6016"/><ellipse cx="725.625" cy="776.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M728.125,769.1016 L728.125,784.1016 L733.125,784.1016 L734.3359,784.1016 L735.625,785.6641 L735.625,786.6016 L735.625,787.5391 L734.3359,789.1016 L733.125,789.1016 L718.125,789.1016 L716.9141,789.1016 L715.625,787.5391 L715.625,786.6016 L715.625,785.6641 L716.9141,784.1016 L718.125,784.1016 L723.125,784.1016 L723.125,769.1016 L718.125,769.1016 L716.9141,769.1016 L715.625,767.5391 L715.625,766.6016 L715.625,765.6641 L716.9141,764.1016 L718.125,764.1016 L733.125,764.1016 L734.3359,764.1016 L735.625,765.6641 L735.625,766.6016 L735.625,767.5391 L734.3359,769.1016 L733.125,769.1016 L728.125,769.1016 Z " fill="#000000"/><ellipse cx="789.375" cy="775.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="330" x="804.375" y="788.877">CardTransactionService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="167.5" x2="1662.5" y1="816.6016" y2="816.6016"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="167.5" x2="1662.5" y1="836.6016" y2="836.6016"/><ellipse cx="192.5" cy="864.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#br7zbvwfd6oe60)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="145" x="215" y="875.1489">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="367.5" y="875.1489">getCardReader ()</text><ellipse cx="192.5" cy="898.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="382.5" x="215" y="909.7388">CalypsoCard getCalypsoCard ()</text><ellipse cx="192.5" cy="933.2813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="552.5" x="215" y="944.3286">CardSecuritySetting getCardSecuritySetting ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="167.5" x2="1662.5" y1="960.3711" y2="960.3711"/><ellipse cx="192.5" cy="987.8711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="637.5" x="215" y="998.9185">CardTransactionService prepareSelectFile (byte[] lid)</text><ellipse cx="192.5" cy="1022.4609" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="827.5" x="215" y="1033.5083">CardTransactionService prepareSelectFile (SelectFileControl control)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="167.5" x2="1662.5" y1="1049.5508" y2="1049.5508"/><ellipse cx="192.5" cy="1077.0508" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="925" x="215" y="1088.0981">CardTransactionService prepareReadRecordFile (byte sfi, int recordNumber)</text><ellipse cx="192.5" cy="1111.6406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1435" x="215" y="1122.688">CardTransactionService prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)</text><ellipse cx="192.5" cy="1146.2305" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="960" x="215" y="1157.2778">CardTransactionService prepareReadCounterFile (byte sfi, int countersNumber)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="167.5" x2="1662.5" y1="1173.3203" y2="1173.3203"/><ellipse cx="192.5" cy="1200.8203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="610" x="215" y="1211.8677">CardTransactionService prepareCheckPinStatus ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="167.5" x2="1662.5" y1="1227.9102" y2="1227.9102"/><ellipse cx="192.5" cy="1255.4102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="920" x="215" y="1266.4575">CardTransactionService prepareAppendRecord (byte sfi, byte[] recordData)</text><ellipse cx="192.5" cy="1290" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1132.5" x="215" y="1301.0474">CardTransactionService prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="192.5" cy="1324.5898" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1110" x="215" y="1335.6372">CardTransactionService prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="167.5" x2="1662.5" y1="1351.6797" y2="1351.6797"/><ellipse cx="192.5" cy="1379.1797" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1102.5" x="215" y="1390.2271">CardTransactionService prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)</text><ellipse cx="192.5" cy="1413.7695" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1125" x="215" y="1424.8169">CardTransactionService prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)</text><ellipse cx="192.5" cy="1448.3594" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1057.5" x="215" y="1459.4067">CardTransactionService prepareSetCounter (byte sfi, int counterNumber, int newValue)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="167.5" x2="1662.5" y1="1475.4492" y2="1475.4492"/><ellipse cx="192.5" cy="1502.9492" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1042.5" x="215" y="1513.9966">CardTransactionService prepareSvGet (SvOperation svOperation, SvAction svAction)</text><ellipse cx="192.5" cy="1537.5391" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1080" x="215" y="1548.5864">CardTransactionService prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)</text><ellipse cx="192.5" cy="1572.1289" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="660" x="215" y="1583.1763">CardTransactionService prepareSvReload (int amount)</text><ellipse cx="192.5" cy="1606.7188" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="917.5" x="215" y="1617.7661">CardTransactionService prepareSvDebit (int amount, byte[] date, byte[] time)</text><ellipse cx="192.5" cy="1641.3086" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="637.5" x="215" y="1652.356">CardTransactionService prepareSvDebit (int amount)</text><ellipse cx="192.5" cy="1675.8984" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="215" y="1686.9458">CardTransactionService prepareSvReadAllLogs ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="167.5" x2="1662.5" y1="1702.9883" y2="1702.9883"/><ellipse cx="192.5" cy="1730.4883" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="215" y="1741.5356">CardTransactionService prepareInvalidate ()</text><ellipse cx="192.5" cy="1765.0781" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="560" x="215" y="1776.1255">CardTransactionService prepareRehabilitate ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="167.5" x2="1662.5" y1="1792.168" y2="1792.168"/><ellipse cx="192.5" cy="1819.668" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="675" x="215" y="1830.7153">CardTransactionService prepareReleaseCardChannel ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="167.5" x2="1662.5" y1="1846.7578" y2="1846.7578"/><ellipse cx="192.5" cy="1874.2578" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="617.5" x="215" y="1885.3052">CardTransactionService processCardCommands ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="167.5" x2="1662.5" y1="1901.3477" y2="1901.3477"/><ellipse cx="192.5" cy="1928.8477" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="647.5" x="215" y="1939.895">CardTransactionService processVerifyPin (byte[] pin)</text><ellipse cx="192.5" cy="1963.4375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="650" x="215" y="1974.4849">CardTransactionService processVerifyPin (String pin)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="167.5" x2="1662.5" y1="1990.5273" y2="1990.5273"/><ellipse cx="192.5" cy="2018.0273" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1047.5" x="215" y="2029.0747">CardTransactionService processOpening (SessionAccessLevel sessionAccessLevel)</text><ellipse cx="192.5" cy="2052.6172" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="215" y="2063.6646">void processClosing ()</text><ellipse cx="192.5" cy="2087.207" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="267.5" x="215" y="2098.2544">void processCancel ()</text><!--MD5=[80899d8261aafdb2d3733adc7bf0e757]
class SvOperation--><rect codeLine="284" fill="#FEFECE" height="189.1797" id="SvOperation" style="stroke:#D4AC0D;stroke-width:3.75;" width="277.5" x="141.25" y="2584.1016"/><ellipse cx="178.75" cy="2624.1016" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M175,2626.6016 L175,2631.6016 L185,2631.6016 L185,2629.1016 L185,2627.8906 L186.5625,2626.6016 L187.5,2626.6016 L188.4375,2626.6016 L190,2627.8906 L190,2629.1016 L190,2636.6016 L170,2636.6016 L168.7891,2636.6016 L167.5,2635.0391 L167.5,2634.1016 L167.5,2633.1641 L168.7891,2631.6016 L170,2631.6016 L170,2631.6016 L170,2616.6016 L170,2616.6016 L168.7891,2616.6016 L167.5,2615.0391 L167.5,2614.1016 L167.5,2613.1641 L168.7891,2611.6016 L170,2611.6016 L190,2611.6016 L190,2619.1016 L190,2620.3125 L188.4375,2621.6016 L187.5,2621.6016 L186.5625,2621.6016 L185,2620.3125 L185,2619.1016 L185,2616.6016 L175,2616.6016 L175,2621.6016 L177.5,2621.6016 L177.5,2620.3906 L177.5,2620.3906 L179.0625,2619.1016 L180,2619.1016 L180.9375,2619.1016 L182.5,2620.3906 L182.5,2621.6016 L182.5,2626.6016 L182.5,2627.8125 L180.9375,2629.1016 L180.9375,2629.1016 L180,2629.1016 L179.0625,2629.1016 L177.5,2627.8125 L177.5,2627.8125 L177.5,2626.6016 L175,2626.6016 Z " fill="#000000"/><ellipse cx="226.25" cy="2622.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="170" x="241.25" y="2636.377">SvOperation</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="143.75" x2="416.25" y1="2664.1016" y2="2664.1016"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="105" x="156.25" y="2702.6489">RELOAD</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="70" x="156.25" y="2737.2388">DEBIT</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="143.75" x2="416.25" y1="2753.2813" y2="2753.2813"/><!--MD5=[3a20855ad37700d9231151c7156c605b]
class SvAction--><rect codeLine="288" fill="#FEFECE" height="189.1797" id="SvAction" style="stroke:#D4AC0D;stroke-width:3.75;" width="227.5" x="506.25" y="2584.1016"/><ellipse cx="543.75" cy="2624.1016" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M540,2626.6016 L540,2631.6016 L550,2631.6016 L550,2629.1016 L550,2627.8906 L551.5625,2626.6016 L552.5,2626.6016 L553.4375,2626.6016 L555,2627.8906 L555,2629.1016 L555,2636.6016 L535,2636.6016 L533.7891,2636.6016 L532.5,2635.0391 L532.5,2634.1016 L532.5,2633.1641 L533.7891,2631.6016 L535,2631.6016 L535,2631.6016 L535,2616.6016 L535,2616.6016 L533.7891,2616.6016 L532.5,2615.0391 L532.5,2614.1016 L532.5,2613.1641 L533.7891,2611.6016 L535,2611.6016 L555,2611.6016 L555,2619.1016 L555,2620.3125 L553.4375,2621.6016 L552.5,2621.6016 L551.5625,2621.6016 L550,2620.3125 L550,2619.1016 L550,2616.6016 L540,2616.6016 L540,2621.6016 L542.5,2621.6016 L542.5,2620.3906 L542.5,2620.3906 L544.0625,2619.1016 L545,2619.1016 L545.9375,2619.1016 L547.5,2620.3906 L547.5,2621.6016 L547.5,2626.6016 L547.5,2627.8125 L545.9375,2629.1016 L545.9375,2629.1016 L545,2629.1016 L544.0625,2629.1016 L542.5,2627.8125 L542.5,2627.8125 L542.5,2626.6016 L540,2626.6016 Z " fill="#000000"/><ellipse cx="591.25" cy="2622.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="120" x="606.25" y="2636.377">SvAction</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="508.75" x2="731.25" y1="2664.1016" y2="2664.1016"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="37.5" x="521.25" y="2702.6489">DO</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="72.5" x="521.25" y="2737.2388">UNDO</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="508.75" x2="731.25" y1="2753.2813" y2="2753.2813"/><!--MD5=[902430ab886935d86a17fe3ee56b883e]
class CardSecuritySetting--><rect codeLine="292" fill="#FEFECE" height="649.668" id="CardSecuritySetting" style="stroke:#D4AC0D;stroke-width:3.75;" width="940" x="822.5" y="2354.1016"/><ellipse cx="1131.875" cy="2394.1016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1134.375,2386.6016 L1134.375,2401.6016 L1139.375,2401.6016 L1140.5859,2401.6016 L1141.875,2403.1641 L1141.875,2404.1016 L1141.875,2405.0391 L1140.5859,2406.6016 L1139.375,2406.6016 L1124.375,2406.6016 L1123.1641,2406.6016 L1121.875,2405.0391 L1121.875,2404.1016 L1121.875,2403.1641 L1123.1641,2401.6016 L1124.375,2401.6016 L1129.375,2401.6016 L1129.375,2386.6016 L1124.375,2386.6016 L1123.1641,2386.6016 L1121.875,2385.0391 L1121.875,2384.1016 L1121.875,2383.1641 L1123.1641,2381.6016 L1124.375,2381.6016 L1139.375,2381.6016 L1140.5859,2381.6016 L1141.875,2383.1641 L1141.875,2384.1016 L1141.875,2385.0391 L1140.5859,2386.6016 L1139.375,2386.6016 L1134.375,2386.6016 Z " fill="#000000"/><ellipse cx="1195.625" cy="2392.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="272.5" x="1210.625" y="2406.377">CardSecuritySetting</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="825" x2="1760" y1="2434.1016" y2="2434.1016"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="825" x2="1760" y1="2454.1016" y2="2454.1016"/><ellipse cx="850" cy="2481.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#br7zbvwfd6oe60)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="145" x="872.5" y="2492.6489">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="205" x="1025" y="2492.6489">getSamReader ()</text><ellipse cx="850" cy="2516.1914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="872.5" y="2527.2388">CalypsoSam getCalypsoSam ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="825" x2="1760" y1="2543.2813" y2="2543.2813"/><ellipse cx="850" cy="2570.7813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="430" x="872.5" y="2581.8286">boolean isMultipleSessionEnabled ()</text><ellipse cx="850" cy="2605.3711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="512.5" x="872.5" y="2616.4185">boolean isRatificationMechanismEnabled ()</text><ellipse cx="850" cy="2639.9609" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="575" x="872.5" y="2651.0083">boolean isPinTransmissionEncryptionDisabled ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="825" x2="1760" y1="2667.0508" y2="2667.0508"/><ellipse cx="850" cy="2694.5508" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="680" x="872.5" y="2705.5981">Byte getKif (SessionAccessLevel sessionAccessLevel)</text><ellipse cx="850" cy="2729.1406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="695" x="872.5" y="2740.188">Byte getKvc (SessionAccessLevel sessionAccessLevel)</text><ellipse cx="850" cy="2763.7305" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="875" x="872.5" y="2774.7778">Byte getKeyRecordNumber (SessionAccessLevel sessionAccessLevel)</text><ellipse cx="850" cy="2798.3203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="872.5" y="2809.3677">boolean isKvcAuthorized (byte kvc)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="825" x2="1760" y1="2825.4102" y2="2825.4102"/><ellipse cx="850" cy="2852.9102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="305" x="872.5" y="2863.9575">byte getPinCipheringKif ()</text><ellipse cx="850" cy="2887.5" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="320" x="872.5" y="2898.5474">byte getPinCipheringKvc ()</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="825" x2="1760" y1="2914.5898" y2="2914.5898"/><ellipse cx="850" cy="2942.0898" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="505" x="872.5" y="2953.1372">boolean isLoadAndDebitSvLogRequired ()</text><ellipse cx="850" cy="2976.6797" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="872.5" y="2987.7271">boolean isSvNegativeBalanceAllowed ()</text><!--MD5=[0b14d50941bd87b998235ffb8b8043f8]
reverse link SessionAccessLevel to CardTransactionService--><path codeLine="317" d="M1828.4775,1425.3516 C1779.17,1425.3516 1723.7775,1425.3516 1665.2825,1425.3516 " fill="none" id="SessionAccessLevel-backto-CardTransactionService" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1841.5475,1425.3516,1819.0475,1415.3516,1829.0475,1425.3516,1819.0475,1435.3516,1841.5475,1425.3516" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1733.75,1395.791,1711.1373,1388.4437,1711.1373,1403.1383,1733.75,1395.791" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1743.75" y="1409.0894">use</text><!--MD5=[c43b0da949160473cb59d00d45385a29]
link CardTransactionService to SvOperation--><path codeLine="318" d="M561.4725,2114.1441 C527.9025,2179.9766 494.48,2245.7741 462.5,2309.1016 C417.845,2397.5266 367.8525,2498.3241 331.4975,2571.9616 " fill="none" id="CardTransactionService-to-SvOperation" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="325.7825,2583.5416,344.7068,2567.7897,331.314,2572.3321,326.7717,2558.9393,325.7825,2583.5416" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="519.389,2223.2109,536.1049,2206.3024,522.9739,2199.7063,519.389,2223.2109" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="547.5" y="2225.3394">use</text><!--MD5=[f5c99f22a7507267ed4cc589c4f51f11]
link CardTransactionService to SvAction--><path codeLine="319" d="M752.83,2114.3291 C710.5025,2293.5016 669.8025,2465.7866 644.8575,2571.3766 " fill="none" id="CardTransactionService-to-SvAction" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="641.895,2583.9166,656.8021,2564.3199,644.7701,2571.7517,637.3384,2559.7197,641.895,2583.9166" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="742.1261,2224.2062,754.4755,2203.8884,740.1745,2200.51,742.1261,2224.2062" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="767.5" y="2225.3394">use</text><!--MD5=[90f20d36a83a5e43670317f6ce76c749]
reverse link SelectFileControl to CardTransactionService--><path codeLine="320" d="M2816.1,410.1266 C2789.275,420.2016 2761.7,429.4266 2735,436.6016 C2276.0625,559.8516 2095.36,354.9766 1675,576.6016 C1593.7725,619.4266 1516.98,674.6016 1445.69,736.2516 " fill="none" id="SelectFileControl-backto-CardTransactionService" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2828.375,405.4516,2803.7876,404.1447,2816.699,409.9149,2810.9288,422.8263,2828.375,405.4516" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1842.1604,531.6471,1818.461,529.7345,1821.863,544.0299,1842.1604,531.6471" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1852.5" y="547.8394">use</text><!--MD5=[86118f8c982bdc754ccc97702361a48a]
link CardTransactionService to CalypsoCard--><path codeLine="321" d="M1572.425,736.0766 C1605.82,717.4516 1640.0475,700.8016 1675,686.6016 C2030.7,542.2016 3076.7,483.5516 3402.5,686.6016 C3424.65,700.4016 3445.475,716.0016 3465.05,733.0516 " fill="none" id="CardTransactionService-to-CalypsoCard" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3474.575,741.5266,3464.4499,719.0826,3465.2501,733.2021,3451.1307,734.0024,3474.575,741.5266" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2493.75,534.521,2471.1256,527.2099,2471.149,541.9045,2493.75,534.521" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2503.75" y="547.8394">provide</text><!--MD5=[bb8bd35c0fe98e77e11df2c9f3265656]
link CardTransactionService to CardSecuritySetting--><path codeLine="322" d="M954.7,2114.9491 C964.505,2155.7466 976.1675,2195.7516 990,2234.1016 C1003.235,2270.7916 1020.245,2307.3291 1039.44,2342.7816 " fill="none" id="CardTransactionService-to-CardSecuritySetting" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1045.465,2353.7466,1043.3954,2329.2116,1039.4461,2342.7911,1025.8666,2338.8418,1045.465,2353.7466" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1006.8576,2223.7569,1005.861,2200.0014,992.0882,2205.124,1006.8576,2223.7569" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1025" y="2225.3394">provide</text><!--MD5=[0e3d58bbfe535998daae62eb5d2a6c91]
reverse link SessionAccessLevel to CardSecuritySetting--><path codeLine="324" d="M2007.415,1567.4266 C1972.4475,1711.3266 1905.955,1938.8216 1802.5,2114.1016 C1753.2525,2197.5391 1690.2425,2279.4341 1625.435,2353.7916 " fill="none" id="SessionAccessLevel-backto-CardSecuritySetting" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2010.495,1554.6266,1995.5024,1574.1579,2007.5668,1566.7787,2014.9459,1578.8431,2010.495,1554.6266" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1765.4617,2200.7973,1748.9726,2217.9271,1762.1903,2224.3476,1765.4617,2200.7973" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1782.5" y="2225.3394">use</text><!--MD5=[48cac2ff2978e44d465a059f601e1d50]
link CardSecuritySetting to CalypsoSam--><path codeLine="325" d="M1292.5,3004.4716 C1292.5,3114.7341 1292.5,3235.4141 1292.5,3335.6416 " fill="none" id="CardSecuritySetting-to-CalypsoSam" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1292.5,3349.0166,1302.5,3326.5166,1292.5,3336.5166,1282.5,3326.5166,1292.5,3349.0166" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1305,3159.541,1312.3473,3136.9283,1297.6527,3136.9283,1305,3159.541" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1327.5" y="3160.3394">provide</text><!--MD5=[99dadc02dbc273d013665986f5dacfc7]
reverse link CalypsoSam to SamRevision--><path codeLine="327" d="M1212.025,3804.2691 C1209.605,3831.9516 1210.12,3859.8266 1215,3886.6016 C1219.5125,3911.3591 1226.68,3936.9541 1234.95,3961.5316 " fill="none" id="CalypsoSam-backto-SamRevision" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="1214.3781" cy="3786.5873" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1211.7437" x2="1217.0125" y1="3806.413" y2="3766.7616"/><line style="stroke:#A80036;stroke-width:2.5;" x1="1194.5523" x2="1234.2038" y1="3783.9529" y2="3789.2217"/><!--MD5=[1e26dac3cf96f35c40d795f20888b568]
link CalypsoSam to SamRevision--><path codeLine="328" d="M1294.3975,3767.1691 C1294.95,3827.3591 1295.5425,3892.0966 1296.0625,3948.6541 " fill="none" id="CalypsoSam-to-SamRevision" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1296.18,3961.3416,1305.9738,3938.7511,1296.0657,3948.8421,1285.9747,3938.934,1296.18,3961.3416" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1310.1147,3877.0405,1317.2542,3854.3613,1302.5602,3854.4961,1310.1147,3877.0405" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1332.5" y="3877.8394">provide</text><!--MD5=[3c766b8dbd2d4b637d84ed4972e0a262]
reverse link SelectFileControl to CalypsoCardSelection--><path codeLine="330" d="M3184.925,348.5516 C3471.675,385.4766 4006.8,466.9266 4162.5,576.6016 C4409.85,750.8516 4564.375,1082.3266 4637.375,1274.6266 " fill="none" id="SelectFileControl-backto-CalypsoCardSelection" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3172.3,346.9266,3193.3633,359.6775,3184.7007,348.499,3195.8792,339.8364,3172.3,346.9266" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4116.9601,527.8208,4132.0769,546.1729,4139.977,533.7826,4116.9601,527.8208" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="4150" y="547.8394">use</text><!--MD5=[b9c02494ee2edb3f49e24a11a76ae6d5]
link CalypsoCard to DirectoryHeader--><path codeLine="332" d="M3412.35,2103.8941 C3409.075,2107.3316 3405.8,2110.7341 3402.5,2114.1016 C3339.825,2178.0091 3122.3,2256.3241 3050,2309.1016 C2995.875,2348.6016 2941.35,2394.9616 2890.925,2441.1941 " fill="none" id="CalypsoCard-to-DirectoryHeader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2881.55,2449.8241,2904.8774,2441.9447,2890.7474,2441.3589,2891.3331,2427.2289,2881.55,2449.8241" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3284.5045,2218.8303,3307.4817,2212.7174,3299.5004,2200.3792,3284.5045,2218.8303" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3317.5" y="2225.3394">provide</text><!--MD5=[435a292fec6bd60cef8a6737227e6c35]
link CalypsoCard to ElementaryFile--><path codeLine="333" d="M3494.7,2109.7741 C3426.8,2281.0341 3361.225,2446.4691 3318.625,2553.9516 " fill="none" id="CalypsoCard-to-ElementaryFile" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3313.8,2566.1166,3331.3773,2548.8745,3318.3993,2554.4935,3312.7803,2541.5155,3313.8,2566.1166" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3467.8936,2223.6613,3483.0569,2205.3475,3469.3964,2199.9324,3467.8936,2223.6613" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3495" y="2225.3394">provide</text><!--MD5=[b340a111e49dbc033493b0684fd4b8bb]
link CalypsoCard to FileHeader--><path codeLine="334" d="M3765,2109.7741 C3765,2219.8016 3765,2327.4241 3765,2418.8191 " fill="none" id="CalypsoCard-to-FileHeader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3765,2432.1841,3775,2409.6841,3765,2419.6841,3755,2409.6841,3765,2432.1841" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3777.5,2224.541,3784.8473,2201.9283,3770.1527,2201.9283,3777.5,2224.541" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3800" y="2225.3394">provide</text><!--MD5=[b682cc048fe9d8ecb0a03f1a3336e800]
link CalypsoCard to FileData--><path codeLine="335" d="M4117.7,2038.1016 C4132.8,2063.7991 4147.775,2089.2191 4162.5,2114.1016 C4237.775,2241.3241 4323.95,2383.8366 4390.7,2493.5816 " fill="none" id="CalypsoCard-to-FileData" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4397.5,2504.7716,4394.3432,2480.3526,4391.0007,2494.0941,4377.2592,2490.7516,4397.5,2504.7716" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4243.9262,2222.7627,4238.6031,2199.5898,4225.9991,2207.1442,4243.9262,2222.7627" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="4260" y="2225.3394">provide</text><!--MD5=[690d975db43c0d3d8554cfe1e2812303]
reverse link CalypsoCard to CardRevision--><path codeLine="336" d="M4146.75,2101.9216 C4151.95,2106.0716 4157.2,2110.1341 4162.5,2114.1016 C4309.475,2224.0066 4824.875,2190.5741 4965,2309.1016 C5031.775,2365.5891 5070.975,2455.4991 5093.55,2532.2466 " fill="none" id="CalypsoCard-backto-CardRevision" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="4132.9256" cy="2090.1606" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4148.1762" x2="4117.675" y1="2103.0997" y2="2077.2216"/><line style="stroke:#A80036;stroke-width:2.5;" x1="4119.9865" x2="4145.8647" y1="2105.4112" y2="2074.9101"/><!--MD5=[67cc252c6193dcb4df8a638a4113de28]
link CalypsoCard to CardRevision--><path codeLine="337" d="M4118.2,2080.0441 C4132.475,2092.1116 4147.225,2103.5016 4162.5,2114.1016 C4326.35,2227.8541 4411.475,2140.7516 4605,2189.1016 C4768.625,2229.9816 4840.9,2194.9041 4965,2309.1016 C5025.35,2364.6391 5063.55,2447.2066 5087.175,2520.0141 " fill="none" id="CalypsoCard-to-CardRevision" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5091.15,2532.5466,5093.9153,2508.0802,5087.3882,2520.626,5074.8424,2514.099,5091.15,2532.5466" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="4866.3817,2217.2089,4848.8297,2201.1701,4842.7544,2214.5501,4866.3817,2217.2089" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="4877.5" y="2225.3394">provide</text><!--MD5=[aba73d32463631a1419cefff8db1a33e]
link CalypsoCard to SvLoadLogRecord--><path codeLine="338" d="M4117.925,2082.3216 C4132.25,2093.6641 4147.125,2104.2941 4162.5,2114.1016 C4320.05,2214.5491 4818.825,2143.3966 5000,2189.1016 C5131.275,2222.2166 5176.125,2222.2741 5280,2309.1016 C5292.375,2319.4541 5304.375,2330.5991 5315.95,2342.3341 " fill="none" id="CalypsoCard-to-SvLoadLogRecord" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5324.725,2351.4216,5316.3006,2328.2854,5316.0465,2342.4253,5301.9066,2342.1711,5324.725,2351.4216" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="5182.2156,2214.6922,5161.6757,2202.716,5158.559,2217.0763,5182.2156,2214.6922" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="5192.5" y="2225.3394">provide</text><!--MD5=[0ef7c8472eddb1facc6466acd43af4c7]
link CalypsoCard to SvDebitLogRecord--><path codeLine="339" d="M4117.6,2082.8291 C4132.025,2094.0216 4147,2104.4816 4162.5,2114.1016 C4380.575,2249.4266 5061.75,2147.5041 5315,2189.1016 C5519.25,2222.6491 5597.325,2187.7516 5765,2309.1016 C5776.35,2317.3116 5787.3,2326.2341 5797.85,2335.7291 " fill="none" id="CalypsoCard-to-SvDebitLogRecord" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5807.425,2344.6041,5797.7156,2321.9771,5798.2553,2336.109,5784.1235,2336.6487,5807.425,2344.6041" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="5647.3608,2213.9015,5626.0935,2203.2704,5623.9064,2217.8014,5647.3608,2213.9015" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="5657.5" y="2225.3394">provide</text><!--MD5=[dd34ec2f627cb009382d7e4b44721cf5]
link DirectoryHeader to SessionAccessLevel--><path codeLine="341" d="M2482.9075,2450.0941 C2410.975,2350.8416 2331.1775,2230.6041 2272.5,2114.1016 C2181.4925,1933.4141 2112.1625,1709.2516 2073.1425,1567.3266 " fill="none" id="DirectoryHeader-to-SessionAccessLevel" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2069.6925,1554.7266,2065.9601,1579.0642,2072.979,1566.7868,2085.2565,1573.8057,2069.6925,1554.7266" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2344.7371,2200.703,2347.5935,2224.3072,2360.9221,2218.1202,2344.7371,2200.703" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2372.5" y="2225.3394">use</text><!--MD5=[cc1c643465d1c05aadfdd3e7e3ee33ff]
reverse link ElementaryFile to FileType--><path codeLine="343" d="M3311.425,2829.3466 C3356.95,2991.7091 3429.6,3250.7616 3474.675,3411.5391 " fill="none" id="ElementaryFile-backto-FileType" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="3306.425" cy="2811.5188" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="3311.825" x2="3301.025" y1="2830.776" y2="2792.2616"/><line style="stroke:#A80036;stroke-width:2.5;" x1="3287.1678" x2="3325.6822" y1="2816.9188" y2="2806.1187"/><!--MD5=[0277f54c0239137ab686445791bc46fe]
link FileHeader to FileType--><path codeLine="345" d="M3695.025,2926.1516 C3651.725,3077.5216 3597.4,3267.3766 3559.8,3398.7366 " fill="none" id="FileHeader-to-FileType" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3556.225,3411.2616,3572.017,3392.3708,3559.6562,3399.2417,3552.7853,3386.8809,3556.225,3411.2616" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3644.0613,3159.0587,3657.3458,3139.3397,3643.2182,3135.2973,3644.0613,3159.0587" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3670" y="3160.3394">provide</text><!--MD5=[8c4edb983be336c9c6775486b5a16524]
@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.0 (02/06/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum SessionAccessLevel {
        SESSION_LVL_PERSO
        SESSION_LVL_LOAD
        SESSION_LVL_DEBIT
        ..
        +byte getSessionKey ()
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }

    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            - -
            +CalypsoCardSelection prepareSelectFile (byte[] lid)
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)
            ..
            +CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            - -
            +Revision getRevision ()
            +String getPowerOnDataString ()
            +byte[] getDfNameBytes ()
            +String getDfName ()
            +byte[] getApplicationSerialNumberBytes ()
            +String getApplicationSerialNumber ()
            ..
            +String getStartupInfo ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()
            ..
            +boolean isConfidentialSessionModeSupported ()
            +boolean isDeselectRatificationSupported ()
            +boolean isPublicAuthenticationSupported ()
            ..
            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +Map<Byte, ElementaryFile> getAllFiles ()
            ..
            +boolean isDfInvalidated ()
            +boolean isDfRatified ()
            ..
            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()
            ..
            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            - -
            +short getLid ()
            +byte getDfStatus ()
            ..
            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()
            ..
            +boolean isKifAvailable (SessionAccessLevel level)
            +byte getKif (SessionAccessLevel level)
            ..
            +boolean isKvcAvailable (SessionAccessLevel level)
            +byte getKvc (SessionAccessLevel level)
        }
        +interface ElementaryFile {
            - -
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            - -
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()
            ..
            +int getRecordsNumber ()
            +int getRecordSize ()
            ..
            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()
            ..
            +boolean isShared ()
            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            - -
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()
            ..
            +int getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "Revision" as CardRevision {
            REV1_0
            REV2_4
            REV3_1
            REV3_1_CLAP
            REV3_2
        }
        +interface SvLoadLogRecord {
            - -
            +int getAmount ()
            +int getBalance ()
            ..
            +int getLoadTime ()
            +byte[] getLoadTimeBytes ()
            +int getLoadDate ()
            +byte[] getLoadDateBytes ()
            +String getFreeByte ()
            +byte[] getFreeByteBytes ()
            ..
            +byte getKvc ()
            ..
            +long getSamId ()
            +byte[] getSamIdBytes ()
            ..
            +int getSvTNum ()
            +byte[] getSvTNumBytes ()
            ..
            +int getSamTNum ()
            +byte[] getSamTNumBytes ()
        }
        +interface SvDebitLogRecord {
            - -
            +int getAmount ()
            +int getBalance ()
            ..
            +int getDebitTime ()
            +byte[] getDebitTimeBytes ()
            +int getDebitDate ()
            +byte[] getDebitDateBytes ()
            ..
            +byte getKvc ()
            ..
            +long getSamId ()
            +byte[] getSamIdBytes ()
            ..
            +int getSvTNum ()
            +byte[] getSvTNumBytes ()
            ..
            +int getSamTNum ()
            +byte[] getSamTNumBytes ()
        }
    }
    package sam {
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +Revision getRevision ()
            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
        }
        +enum "Revision" as SamRevision {
            C1
            S1E
            S1D
            ..
            +String getApplicationTypeMask ()
            +byte getClassByte ()
        }
    }
    package transaction {
        +interface CardTransactionService {
            - -
            +<back:yellow>CardReader</back> getCardReader ()
            +CalypsoCard getCalypsoCard ()
            +CardSecuritySetting getCardSecuritySetting ()
            ..
            +CardTransactionService prepareSelectFile (byte[] lid)
            +CardTransactionService prepareSelectFile (SelectFileControl control)
            ..
            +CardTransactionService prepareReadRecordFile (byte sfi, int recordNumber)
            +CardTransactionService prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)
            +CardTransactionService prepareReadCounterFile (byte sfi, int countersNumber)
            ..
            +CardTransactionService prepareCheckPinStatus ()
            ..
            +CardTransactionService prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionService prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionService prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)
            ..
            +CardTransactionService prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionService prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionService prepareSetCounter (byte sfi, int counterNumber, int newValue)
            ..
            +CardTransactionService prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionService prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionService prepareSvReload (int amount)
            +CardTransactionService prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionService prepareSvDebit (int amount)
            +CardTransactionService prepareSvReadAllLogs ()
            ..
            +CardTransactionService prepareInvalidate ()
            +CardTransactionService prepareRehabilitate ()
            ..
            +CardTransactionService prepareReleaseCardChannel ()
            ..
            +CardTransactionService processCardCommands ()
            ..
            +CardTransactionService processVerifyPin (byte[] pin)
            +CardTransactionService processVerifyPin (String pin)
            ..
            +CardTransactionService processOpening (SessionAccessLevel sessionAccessLevel)
            +void processClosing ()
            +void processCancel ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting {
            - -
            +<back:yellow>CardReader</back> getSamReader ()
            +CalypsoSam getCalypsoSam ()
            ..
            +boolean isMultipleSessionEnabled ()
            +boolean isRatificationMechanismEnabled ()
            +boolean isPinTransmissionEncryptionDisabled ()
            ..
            +Byte getKif (SessionAccessLevel sessionAccessLevel)
            +Byte getKvc (SessionAccessLevel sessionAccessLevel)
            +Byte getKeyRecordNumber (SessionAccessLevel sessionAccessLevel)
            +boolean isKvcAuthorized (byte kvc)
            ..
            +byte getPinCipheringKif ()
            +byte getPinCipheringKvc ()
            ..
            +boolean isLoadAndDebitSvLogRequired ()
            +boolean isSvNegativeBalanceAllowed ()
        }
    }
}

' Associations

CardTransactionService .up.> SessionAccessLevel #C_USE : use >
CardTransactionService ..> SvOperation #C_USE : use >
CardTransactionService ..> SvAction #C_USE : use >
CardTransactionService .up.> SelectFileControl #C_USE : use >
CardTransactionService ..> CalypsoCard #C_USE : provide >
CardTransactionService ..> CardSecuritySetting #C_USE : provide >

CardSecuritySetting .up.> SessionAccessLevel #C_USE : use >
CardSecuritySetting ..> CalypsoSam #C_USE : provide >

CalypsoSam +- - SamRevision
CalypsoSam ..> SamRevision #C_USE : provide >

CalypsoCardSelection .up.> SelectFileControl #C_USE : use >

CalypsoCard ..> DirectoryHeader #C_USE : provide >
CalypsoCard ..> ElementaryFile #C_USE : provide >
CalypsoCard ..> FileHeader #C_USE : provide >
CalypsoCard ..> FileData #C_USE : provide >
CalypsoCard +- - CardRevision
CalypsoCard ..> CardRevision #C_USE : provide >
CalypsoCard ..> SvLoadLogRecord #C_USE : provide >
CalypsoCard ..> SvDebitLogRecord #C_USE : provide >

DirectoryHeader ..> SessionAccessLevel #C_USE : use >

ElementaryFile +- - FileType

FileHeader ..> FileType #C_USE : provide >

' == LAYOUT ==

'CardRevision -[hidden]- SamCardResourceServiceBuilder

' == STYLE ==

package api #C_GREY1 {}
package card #C_GREY2 {}
package sam #C_GREY2 {}
package transaction #C_GREY2 {}


@enduml

@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.0 (02/06/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum SessionAccessLevel {
        SESSION_LVL_PERSO
        SESSION_LVL_LOAD
        SESSION_LVL_DEBIT
        ..
        +byte getSessionKey ()
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }

    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            - -
            +CalypsoCardSelection prepareSelectFile (byte[] lid)
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)
            ..
            +CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            - -
            +Revision getRevision ()
            +String getPowerOnDataString ()
            +byte[] getDfNameBytes ()
            +String getDfName ()
            +byte[] getApplicationSerialNumberBytes ()
            +String getApplicationSerialNumber ()
            ..
            +String getStartupInfo ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()
            ..
            +boolean isConfidentialSessionModeSupported ()
            +boolean isDeselectRatificationSupported ()
            +boolean isPublicAuthenticationSupported ()
            ..
            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +Map<Byte, ElementaryFile> getAllFiles ()
            ..
            +boolean isDfInvalidated ()
            +boolean isDfRatified ()
            ..
            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()
            ..
            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            - -
            +short getLid ()
            +byte getDfStatus ()
            ..
            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()
            ..
            +boolean isKifAvailable (SessionAccessLevel level)
            +byte getKif (SessionAccessLevel level)
            ..
            +boolean isKvcAvailable (SessionAccessLevel level)
            +byte getKvc (SessionAccessLevel level)
        }
        +interface ElementaryFile {
            - -
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            - -
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()
            ..
            +int getRecordsNumber ()
            +int getRecordSize ()
            ..
            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()
            ..
            +boolean isShared ()
            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            - -
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()
            ..
            +int getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "Revision" as CardRevision {
            REV1_0
            REV2_4
            REV3_1
            REV3_1_CLAP
            REV3_2
        }
        +interface SvLoadLogRecord {
            - -
            +int getAmount ()
            +int getBalance ()
            ..
            +int getLoadTime ()
            +byte[] getLoadTimeBytes ()
            +int getLoadDate ()
            +byte[] getLoadDateBytes ()
            +String getFreeByte ()
            +byte[] getFreeByteBytes ()
            ..
            +byte getKvc ()
            ..
            +long getSamId ()
            +byte[] getSamIdBytes ()
            ..
            +int getSvTNum ()
            +byte[] getSvTNumBytes ()
            ..
            +int getSamTNum ()
            +byte[] getSamTNumBytes ()
        }
        +interface SvDebitLogRecord {
            - -
            +int getAmount ()
            +int getBalance ()
            ..
            +int getDebitTime ()
            +byte[] getDebitTimeBytes ()
            +int getDebitDate ()
            +byte[] getDebitDateBytes ()
            ..
            +byte getKvc ()
            ..
            +long getSamId ()
            +byte[] getSamIdBytes ()
            ..
            +int getSvTNum ()
            +byte[] getSvTNumBytes ()
            ..
            +int getSamTNum ()
            +byte[] getSamTNumBytes ()
        }
    }
    package sam {
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +Revision getRevision ()
            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
        }
        +enum "Revision" as SamRevision {
            C1
            S1E
            S1D
            ..
            +String getApplicationTypeMask ()
            +byte getClassByte ()
        }
    }
    package transaction {
        +interface CardTransactionService {
            - -
            +<back:yellow>CardReader</back> getCardReader ()
            +CalypsoCard getCalypsoCard ()
            +CardSecuritySetting getCardSecuritySetting ()
            ..
            +CardTransactionService prepareSelectFile (byte[] lid)
            +CardTransactionService prepareSelectFile (SelectFileControl control)
            ..
            +CardTransactionService prepareReadRecordFile (byte sfi, int recordNumber)
            +CardTransactionService prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)
            +CardTransactionService prepareReadCounterFile (byte sfi, int countersNumber)
            ..
            +CardTransactionService prepareCheckPinStatus ()
            ..
            +CardTransactionService prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionService prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionService prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)
            ..
            +CardTransactionService prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionService prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionService prepareSetCounter (byte sfi, int counterNumber, int newValue)
            ..
            +CardTransactionService prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionService prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionService prepareSvReload (int amount)
            +CardTransactionService prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionService prepareSvDebit (int amount)
            +CardTransactionService prepareSvReadAllLogs ()
            ..
            +CardTransactionService prepareInvalidate ()
            +CardTransactionService prepareRehabilitate ()
            ..
            +CardTransactionService prepareReleaseCardChannel ()
            ..
            +CardTransactionService processCardCommands ()
            ..
            +CardTransactionService processVerifyPin (byte[] pin)
            +CardTransactionService processVerifyPin (String pin)
            ..
            +CardTransactionService processOpening (SessionAccessLevel sessionAccessLevel)
            +void processClosing ()
            +void processCancel ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting {
            - -
            +<back:yellow>CardReader</back> getSamReader ()
            +CalypsoSam getCalypsoSam ()
            ..
            +boolean isMultipleSessionEnabled ()
            +boolean isRatificationMechanismEnabled ()
            +boolean isPinTransmissionEncryptionDisabled ()
            ..
            +Byte getKif (SessionAccessLevel sessionAccessLevel)
            +Byte getKvc (SessionAccessLevel sessionAccessLevel)
            +Byte getKeyRecordNumber (SessionAccessLevel sessionAccessLevel)
            +boolean isKvcAuthorized (byte kvc)
            ..
            +byte getPinCipheringKif ()
            +byte getPinCipheringKvc ()
            ..
            +boolean isLoadAndDebitSvLogRequired ()
            +boolean isSvNegativeBalanceAllowed ()
        }
    }
}


CardTransactionService .up.> SessionAccessLevel #27AE60 : use >
CardTransactionService ..> SvOperation #27AE60 : use >
CardTransactionService ..> SvAction #27AE60 : use >
CardTransactionService .up.> SelectFileControl #27AE60 : use >
CardTransactionService ..> CalypsoCard #27AE60 : provide >
CardTransactionService ..> CardSecuritySetting #27AE60 : provide >

CardSecuritySetting .up.> SessionAccessLevel #27AE60 : use >
CardSecuritySetting ..> CalypsoSam #27AE60 : provide >

CalypsoSam +- - SamRevision
CalypsoSam ..> SamRevision #27AE60 : provide >

CalypsoCardSelection .up.> SelectFileControl #27AE60 : use >

CalypsoCard ..> DirectoryHeader #27AE60 : provide >
CalypsoCard ..> ElementaryFile #27AE60 : provide >
CalypsoCard ..> FileHeader #27AE60 : provide >
CalypsoCard ..> FileData #27AE60 : provide >
CalypsoCard +- - CardRevision
CalypsoCard ..> CardRevision #27AE60 : provide >
CalypsoCard ..> SvLoadLogRecord #27AE60 : provide >
CalypsoCard ..> SvDebitLogRecord #27AE60 : provide >

DirectoryHeader ..> SessionAccessLevel #27AE60 : use >

ElementaryFile +- - FileType

FileHeader ..> FileType #27AE60 : provide >




package api #F8F9F9 {}
package card #F2F3F4 {}
package sam #F2F3F4 {}
package transaction #F2F3F4 {}


@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>