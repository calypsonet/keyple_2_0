<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="6543px" preserveAspectRatio="none" style="width:6174px;height:6543px;background:#FFFFFF;" version="1.1" viewBox="0 0 6174 6543" width="6174px" zoomAndPan="magnify"><defs><filter height="1" id="bkwm4hato2chc0" width="1" x="0" y="0"><feFlood flood-color="#FFFF00" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="54" lengthAdjust="spacing" textLength="1635" x="2250" y="56.0566">Calypsonet - calypsonet-terminal-calypso-java-api - 1.0 (04/06/2021)</text><rect fill="#DDDDDD" height="188.4844" rx="15" ry="15" style="stroke:#000000;stroke-width:3.0;" width="864" x="2634" y="91.9219"/><text fill="#000000" font-family="sans-serif" font-size="42" lengthAdjust="spacing" text-decoration="underline" textLength="264" x="2652" y="150.5215">Colors legend</text><text fill="#000000" font-family="sans-serif" font-size="42" lengthAdjust="spacing" textLength="12" x="2928" y="150.5215">:</text><ellipse cx="2668.5" cy="190.0781" fill="#000000" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="42" lengthAdjust="spacing" text-decoration="underline" textLength="567" x="2691" y="203.3496">External public API references</text><text fill="#000000" font-family="sans-serif" font-size="42" lengthAdjust="spacing" textLength="12" x="3270" y="203.3496">:</text><rect fill="#000000" height="10.5" style="stroke:#000000;stroke-width:0.0;" width="10.5" x="2715" y="241.4063"/><text fill="#000000" filter="url(#bkwm4hato2chc0)" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="750" x="2730" y="256.1777">calypsonet-terminal-reader-java-api</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="48,325.4063,732,325.4063,753,396.2344,6123,396.2344,6123,6524.9063,48,6524.9063,48,325.4063" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="48" x2="753" y1="396.2344" y2="396.2344"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="666" x="60" y="375.0059">org.calypsonet.terminal.calypso</text><!--MD5=[fc5f7357635190d92cef7ec8135ac887]
cluster card--><polygon fill="#F2F3F4" points="2901,1067.9063,3012,1067.9063,3033,1138.7344,6051,1138.7344,6051,6452.9063,2901,6452.9063,2901,1067.9063" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="2901" x2="3033" y1="1138.7344" y2="1138.7344"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="93" x="2913" y="1117.5059">card</text><!--MD5=[98d4fa74a8fc0b7c744d347d810a7562]
cluster sam--><polygon fill="#F2F3F4" points="1347,5038.4063,1449,5038.4063,1470,5109.2344,1977,5109.2344,1977,6431.9063,1347,6431.9063,1347,5038.4063" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="1347" x2="1470" y1="5109.2344" y2="5109.2344"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="84" x="1359" y="5088.0059">sam</text><!--MD5=[f9c58d90839a0c7c212d8c6553ac9eb7]
cluster transaction--><polygon fill="#F2F3F4" points="120,955.4063,375,955.4063,396,1026.2344,2385,1026.2344,2385,4888.4063,120,4888.4063,120,955.4063" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="120" x2="396" y1="1026.2344" y2="1026.2344"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="237" x="132" y="1005.0059">transaction</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="55" fill="#FEFECE" height="185.5078" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:4.5;" width="567" x="2503.5" y="535.4063"/><ellipse cx="2548.5" cy="583.4063" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M2554.5,572.9063 Q2555.1094,571.4063 2555.8125,570.6563 Q2556.5156,569.9063 2557.3125,569.9063 Q2558.7188,569.9063 2559.6094,570.75 Q2560.5,571.5938 2560.5,573.5625 L2560.5,578.25 Q2560.5,580.2188 2559.6563,581.0625 Q2558.8125,581.9063 2557.5,581.9063 Q2556.3281,581.9063 2555.5781,581.3906 Q2554.8281,580.875 2554.5,579.5156 Q2554.3594,578.5781 2553.8438,578.0625 Q2552.9063,577.0781 2551.2188,576.5156 Q2549.5313,575.9063 2547.8438,575.9063 Q2545.7344,575.9063 2543.9531,576.75 Q2542.2188,577.5938 2540.8594,579.4688 Q2539.5,581.3438 2539.5,583.9219 L2539.5,586.6875 Q2539.5,589.7813 2542.0313,591.8438 Q2544.5625,593.9063 2549.0625,593.9063 Q2551.7344,593.9063 2553.6094,593.2969 Q2554.6875,592.9688 2555.9063,591.8906 Q2556.7031,591.2813 2557.125,591.0938 Q2557.5469,590.9063 2558.0625,590.9063 Q2559.0469,590.9063 2559.75,591.7031 Q2560.5,592.4531 2560.5,593.5313 Q2560.5,594.5625 2559.4688,595.7813 Q2557.9688,597.5625 2555.5781,598.5469 Q2552.4375,599.9063 2548.5938,599.9063 Q2544.0938,599.9063 2540.4844,598.125 Q2537.5781,596.7188 2535.5156,593.6719 Q2533.5,590.625 2533.5,587.0156 L2533.5,583.7344 Q2533.5,579.9844 2535.2813,576.7031 Q2537.1094,573.4219 2540.25,571.6875 Q2543.4375,569.9063 2547,569.9063 Q2549.1563,569.9063 2551.0313,570.6563 Q2552.9063,571.4063 2554.5,572.9063 Z " fill="#000000"/><ellipse cx="2605.5" cy="581.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="72" x="2623.5" y="598.1367">final</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="357" x="2704.5" y="598.1367">CalypsoApiProperties</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2506.5" x2="3067.5" y1="631.4063" y2="631.4063"/><ellipse cx="2536.5" cy="664.4063" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="33" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="69" x="2563.5" y="677.6631">final</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" text-decoration="underline" textLength="228" x="2641.5" y="677.6631">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2506.5" x2="3067.5" y1="696.9141" y2="696.9141"/><!--MD5=[d40df061e984b253aad79dc56dfef347]
class WriteAccessLevel--><rect codeLine="58" fill="#FEFECE" height="268.5234" id="WriteAccessLevel" style="stroke:#D4AC0D;stroke-width:4.5;" width="420" x="2433" y="1931.9063"/><ellipse cx="2478" cy="1979.9063" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M2473.5,1982.9063 L2473.5,1988.9063 L2485.5,1988.9063 L2485.5,1985.9063 L2485.5,1984.4531 L2487.375,1982.9063 L2488.5,1982.9063 L2489.625,1982.9063 L2491.5,1984.4531 L2491.5,1985.9063 L2491.5,1994.9063 L2467.5,1994.9063 L2466.0469,1994.9063 L2464.5,1993.0313 L2464.5,1991.9063 L2464.5,1990.7813 L2466.0469,1988.9063 L2467.5,1988.9063 L2467.5,1988.9063 L2467.5,1970.9063 L2467.5,1970.9063 L2466.0469,1970.9063 L2464.5,1969.0313 L2464.5,1967.9063 L2464.5,1966.7813 L2466.0469,1964.9063 L2467.5,1964.9063 L2491.5,1964.9063 L2491.5,1973.9063 L2491.5,1975.3594 L2489.625,1976.9063 L2488.5,1976.9063 L2487.375,1976.9063 L2485.5,1975.3594 L2485.5,1973.9063 L2485.5,1970.9063 L2473.5,1970.9063 L2473.5,1976.9063 L2476.5,1976.9063 L2476.5,1975.4531 L2476.5,1975.4531 L2478.375,1973.9063 L2479.5,1973.9063 L2480.625,1973.9063 L2482.5,1975.4531 L2482.5,1976.9063 L2482.5,1982.9063 L2482.5,1984.3594 L2480.625,1985.9063 L2480.625,1985.9063 L2479.5,1985.9063 L2478.375,1985.9063 L2476.5,1984.3594 L2476.5,1984.3594 L2476.5,1982.9063 L2473.5,1982.9063 Z " fill="#000000"/><ellipse cx="2535" cy="1978.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="291" x="2553" y="1994.6367">WriteAccessLevel</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2436" x2="2850" y1="2027.9063" y2="2027.9063"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="285" x="2451" y="2074.1631">PERSONALIZATION</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="87" x="2451" y="2115.6709">LOAD</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="84" x="2451" y="2157.1787">DEBIT</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2436" x2="2850" y1="2176.4297" y2="2176.4297"/><!--MD5=[858307e347215d8034d295bce1f15f07]
class SelectFileControl--><rect codeLine="63" fill="#FEFECE" height="268.5234" id="SelectFileControl" style="stroke:#D4AC0D;stroke-width:4.5;" width="411" x="3346.5" y="493.4063"/><ellipse cx="3391.5" cy="541.4063" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M3387,544.4063 L3387,550.4063 L3399,550.4063 L3399,547.4063 L3399,545.9531 L3400.875,544.4063 L3402,544.4063 L3403.125,544.4063 L3405,545.9531 L3405,547.4063 L3405,556.4063 L3381,556.4063 L3379.5469,556.4063 L3378,554.5313 L3378,553.4063 L3378,552.2813 L3379.5469,550.4063 L3381,550.4063 L3381,550.4063 L3381,532.4063 L3381,532.4063 L3379.5469,532.4063 L3378,530.5313 L3378,529.4063 L3378,528.2813 L3379.5469,526.4063 L3381,526.4063 L3405,526.4063 L3405,535.4063 L3405,536.8594 L3403.125,538.4063 L3402,538.4063 L3400.875,538.4063 L3399,536.8594 L3399,535.4063 L3399,532.4063 L3387,532.4063 L3387,538.4063 L3390,538.4063 L3390,536.9531 L3390,536.9531 L3391.875,535.4063 L3393,535.4063 L3394.125,535.4063 L3396,536.9531 L3396,538.4063 L3396,544.4063 L3396,545.8594 L3394.125,547.4063 L3394.125,547.4063 L3393,547.4063 L3391.875,547.4063 L3390,545.8594 L3390,545.8594 L3390,544.4063 L3387,544.4063 Z " fill="#000000"/><ellipse cx="3448.5" cy="539.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="282" x="3466.5" y="556.1367">SelectFileControl</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3349.5" x2="3754.5" y1="589.4063" y2="589.4063"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="138" x="3364.5" y="635.6631">FIRST_EF</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="132" x="3364.5" y="677.1709">NEXT_EF</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="198" x="3364.5" y="718.6787">CURRENT_DF</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3349.5" x2="3754.5" y1="737.9297" y2="737.9297"/><!--MD5=[dedf7a414a26192be9658079488df692]
class CalypsoCardSelection--><rect codeLine="70" fill="#FEFECE" height="447.1172" id="CalypsoCardSelection" style="stroke:#D4AC0D;stroke-width:4.5;" width="1155" x="4786.5" y="1843.4063"/><ellipse cx="5150.25" cy="1903.6875" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M5153.25,1894.6875 L5153.25,1912.6875 L5159.25,1912.6875 L5160.7031,1912.6875 L5162.25,1914.5625 L5162.25,1915.6875 L5162.25,1916.8125 L5160.7031,1918.6875 L5159.25,1918.6875 L5141.25,1918.6875 L5139.7969,1918.6875 L5138.25,1916.8125 L5138.25,1915.6875 L5138.25,1914.5625 L5139.7969,1912.6875 L5141.25,1912.6875 L5147.25,1912.6875 L5147.25,1894.6875 L5141.25,1894.6875 L5139.7969,1894.6875 L5138.25,1892.8125 L5138.25,1891.6875 L5138.25,1890.5625 L5139.7969,1888.6875 L5141.25,1888.6875 L5159.25,1888.6875 L5160.7031,1888.6875 L5162.25,1890.5625 L5162.25,1891.6875 L5162.25,1892.8125 L5160.7031,1894.6875 L5159.25,1894.6875 L5153.25,1894.6875 Z " fill="#000000"/><ellipse cx="5226.75" cy="1902.1875" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="42" x="5270.25" y="1895.7773">&lt;&lt;</text><text fill="#000000" filter="url(#bkwm4hato2chc0)" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="234" x="5312.25" y="1895.7773">CardSelection</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="42" x="5546.25" y="1895.7773">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="369" x="5244.75" y="1941.0586">CalypsoCardSelection</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="4789.5" x2="5938.5" y1="1963.9688" y2="1963.9688"/><ellipse cx="4819.5" cy="1996.9688" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="732" x="4846.5" y="2010.2256">CalypsoCardSelection prepareSelectFile (byte[] lid)</text><ellipse cx="4819.5" cy="2038.4766" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="726" x="4846.5" y="2051.7334">CalypsoCardSelection prepareSelectFile (short lid)</text><ellipse cx="4819.5" cy="2079.9844" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1050" x="4846.5" y="2093.2412">CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="4855.5" y="2134.749"/><ellipse cx="4819.5" cy="2163" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1077" x="4846.5" y="2176.2568">CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</text><ellipse cx="4819.5" cy="2258.0156" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" filter="url(#bkwm4hato2chc0)" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="189" x="4846.5" y="2271.2725">CardSelector</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="267" x="5044.5" y="2271.2725">getCardSelector ()</text><line style="stroke:#D4AC0D;stroke-width:3.0;" x1="4789.5" x2="5248.5" y1="2216.2617" y2="2216.2617"/><text fill="#000000" font-family="sans-serif" font-size="33" font-weight="bold" lengthAdjust="spacing" textLength="231" x="5248.5" y="2228.2646">CardSelection</text><line style="stroke:#D4AC0D;stroke-width:3.0;" x1="5479.5" x2="5938.5" y1="2216.2617" y2="2216.2617"/><!--MD5=[57d9060bfed72118962c04165c3e8b58]
class CalypsoCard--><rect codeLine="79" fill="#FEFECE" height="1662.8438" id="CalypsoCard" style="stroke:#D4AC0D;stroke-width:4.5;" width="846" x="3834" y="1235.9063"/><ellipse cx="4095.75" cy="1296.1875" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M4098.75,1287.1875 L4098.75,1305.1875 L4104.75,1305.1875 L4106.2031,1305.1875 L4107.75,1307.0625 L4107.75,1308.1875 L4107.75,1309.3125 L4106.2031,1311.1875 L4104.75,1311.1875 L4086.75,1311.1875 L4085.2969,1311.1875 L4083.75,1309.3125 L4083.75,1308.1875 L4083.75,1307.0625 L4085.2969,1305.1875 L4086.75,1305.1875 L4092.75,1305.1875 L4092.75,1287.1875 L4086.75,1287.1875 L4085.2969,1287.1875 L4083.75,1285.3125 L4083.75,1284.1875 L4083.75,1283.0625 L4085.2969,1281.1875 L4086.75,1281.1875 L4104.75,1281.1875 L4106.2031,1281.1875 L4107.75,1283.0625 L4107.75,1284.1875 L4107.75,1285.3125 L4106.2031,1287.1875 L4104.75,1287.1875 L4098.75,1287.1875 Z " fill="#000000"/><ellipse cx="4172.25" cy="1294.6875" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="42" x="4190.25" y="1288.2773">&lt;&lt;</text><text fill="#000000" filter="url(#bkwm4hato2chc0)" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="180" x="4232.25" y="1288.2773">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="42" x="4412.25" y="1288.2773">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="216" x="4214.25" y="1333.5586">CalypsoCard</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3837" x2="4677" y1="1356.4688" y2="1356.4688"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3837" x2="4677" y1="1380.4688" y2="1380.4688"/><ellipse cx="3867" cy="1413.4688" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="453" x="3894" y="1426.7256">ProductType getProductType ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3903" y="1468.2334"/><ellipse cx="3867" cy="1496.4844" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="282" x="3894" y="1509.7412">byte[] getDfName ()</text><ellipse cx="3867" cy="1537.9922" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="519" x="3894" y="1551.249">byte[] getApplicationSerialNumber ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3903" y="1592.7568"/><ellipse cx="3867" cy="1621.0078" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="462" x="3894" y="1634.2646">byte[] getStartupInfoRawData ()</text><ellipse cx="3867" cy="1662.5156" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="267" x="3894" y="1675.7725">byte getPlatform ()</text><ellipse cx="3867" cy="1704.0234" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="381" x="3894" y="1717.2803">byte getApplicationType ()</text><ellipse cx="3867" cy="1745.5313" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="429" x="3894" y="1758.7881">byte getApplicationSubtype ()</text><ellipse cx="3867" cy="1787.0391" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="378" x="3894" y="1800.2959">byte getSoftwareIssuer ()</text><ellipse cx="3867" cy="1828.5469" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="402" x="3894" y="1841.8037">byte getSoftwareVersion ()</text><ellipse cx="3867" cy="1870.0547" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="411" x="3894" y="1883.3115">byte getSoftwareRevision ()</text><ellipse cx="3867" cy="1911.5625" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="438" x="3894" y="1924.8193">byte getSessionModification ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3903" y="1966.3271"/><ellipse cx="3867" cy="1994.5781" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="693" x="3894" y="2007.835">boolean isConfidentialSessionModeSupported ()</text><ellipse cx="3867" cy="2036.0859" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="615" x="3894" y="2049.3428">boolean isDeselectRatificationSupported ()</text><ellipse cx="3867" cy="2077.5938" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="621" x="3894" y="2090.8506">boolean isPublicAuthenticationSupported ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3903" y="2132.3584"/><ellipse cx="3867" cy="2160.6094" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="561" x="3894" y="2173.8662">DirectoryHeader getDirectoryHeader ()</text><ellipse cx="3867" cy="2202.1172" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="528" x="3894" y="2215.374">ElementaryFile getFileBySfi (byte sfi)</text><ellipse cx="3867" cy="2243.625" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="537" x="3894" y="2256.8818">ElementaryFile getFileByLid (short lid)</text><ellipse cx="3867" cy="2285.1328" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="576" x="3894" y="2298.3896">Map&lt;Byte, ElementaryFile&gt; getAllFiles ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3903" y="2339.8975"/><ellipse cx="3867" cy="2368.1484" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="366" x="3894" y="2381.4053">boolean isDfInvalidated ()</text><ellipse cx="3867" cy="2409.6563" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="321" x="3894" y="2422.9131">boolean isDfRatified ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3903" y="2464.4209"/><ellipse cx="3867" cy="2492.6719" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="465" x="3894" y="2505.9287">boolean isPinFeatureAvailable ()</text><ellipse cx="3867" cy="2534.1797" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="336" x="3894" y="2547.4365">boolean isPinBlocked ()</text><ellipse cx="3867" cy="2575.6875" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="420" x="3894" y="2588.9443">int getPinAttemptRemaining ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3903" y="2630.4521"/><ellipse cx="3867" cy="2658.7031" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="462" x="3894" y="2671.96">boolean isSvFeatureAvailable ()</text><ellipse cx="3867" cy="2700.2109" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="276" x="3894" y="2713.4678">int getSvBalance ()</text><ellipse cx="3867" cy="2741.7188" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="303" x="3894" y="2754.9756">int getSvLastTNum ()</text><ellipse cx="3867" cy="2783.2266" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="627" x="3894" y="2796.4834">SvLoadLogRecord getSvLoadLogRecord ()</text><ellipse cx="3867" cy="2824.7344" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="690" x="3894" y="2837.9912">SvDebitLogRecord getSvDebitLogLastRecord ()</text><ellipse cx="3867" cy="2866.2422" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="768" x="3894" y="2879.499">List&lt;SvDebitLogRecord&gt; getSvDebitLogAllRecords ()</text><!--MD5=[0b9f931ff20ef873cbf798587ab2189f]
class DirectoryHeader--><rect codeLine="117" fill="#FEFECE" height="600.5859" id="DirectoryHeader" style="stroke:#D4AC0D;stroke-width:4.5;" width="990" x="2949" y="3742.4063"/><ellipse cx="3279.75" cy="3790.4063" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M3282.75,3781.4063 L3282.75,3799.4063 L3288.75,3799.4063 L3290.2031,3799.4063 L3291.75,3801.2813 L3291.75,3802.4063 L3291.75,3803.5313 L3290.2031,3805.4063 L3288.75,3805.4063 L3270.75,3805.4063 L3269.2969,3805.4063 L3267.75,3803.5313 L3267.75,3802.4063 L3267.75,3801.2813 L3269.2969,3799.4063 L3270.75,3799.4063 L3276.75,3799.4063 L3276.75,3781.4063 L3270.75,3781.4063 L3269.2969,3781.4063 L3267.75,3779.5313 L3267.75,3778.4063 L3267.75,3777.2813 L3269.2969,3775.4063 L3270.75,3775.4063 L3288.75,3775.4063 L3290.2031,3775.4063 L3291.75,3777.2813 L3291.75,3778.4063 L3291.75,3779.5313 L3290.2031,3781.4063 L3288.75,3781.4063 L3282.75,3781.4063 Z " fill="#000000"/><ellipse cx="3356.25" cy="3788.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="270" x="3374.25" y="3805.1367">DirectoryHeader</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2952" x2="3936" y1="3838.4063" y2="3838.4063"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2952" x2="3936" y1="3862.4063" y2="3862.4063"/><ellipse cx="2982" cy="3895.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="204" x="3009" y="3908.6631">short getLid ()</text><ellipse cx="2982" cy="3936.9141" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="276" x="3009" y="3950.1709">byte getDfStatus ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3018" y="3991.6787"/><ellipse cx="2982" cy="4019.9297" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="432" x="3009" y="4033.1865">byte[] getAccessConditions ()</text><ellipse cx="2982" cy="4061.4375" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="339" x="3009" y="4074.6943">byte[] getKeyIndexes ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3018" y="4116.2021"/><ellipse cx="2982" cy="4144.4531" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="894" x="3009" y="4157.71">boolean isKifAvailable (WriteAccessLevel writeAccessLevel)</text><ellipse cx="2982" cy="4185.9609" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="732" x="3009" y="4199.2178">byte getKif (WriteAccessLevel writeAccessLevel)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3018" y="4240.7256"/><ellipse cx="2982" cy="4268.9766" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="912" x="3009" y="4282.2334">boolean isKvcAvailable (WriteAccessLevel writeAccessLevel)</text><ellipse cx="2982" cy="4310.4844" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="750" x="3009" y="4323.7412">byte getKvc (WriteAccessLevel writeAccessLevel)</text><!--MD5=[96ed275c747ab8e5816af3c7b7a6d739]
class ElementaryFile--><rect codeLine="130" fill="#FEFECE" height="268.5234" id="ElementaryFile" style="stroke:#D4AC0D;stroke-width:4.5;" width="423" x="4045.5" y="3907.4063"/><ellipse cx="4110.75" cy="3955.4063" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M4113.75,3946.4063 L4113.75,3964.4063 L4119.75,3964.4063 L4121.2031,3964.4063 L4122.75,3966.2813 L4122.75,3967.4063 L4122.75,3968.5313 L4121.2031,3970.4063 L4119.75,3970.4063 L4101.75,3970.4063 L4100.2969,3970.4063 L4098.75,3968.5313 L4098.75,3967.4063 L4098.75,3966.2813 L4100.2969,3964.4063 L4101.75,3964.4063 L4107.75,3964.4063 L4107.75,3946.4063 L4101.75,3946.4063 L4100.2969,3946.4063 L4098.75,3944.5313 L4098.75,3943.4063 L4098.75,3942.2813 L4100.2969,3940.4063 L4101.75,3940.4063 L4119.75,3940.4063 L4121.2031,3940.4063 L4122.75,3942.2813 L4122.75,3943.4063 L4122.75,3944.5313 L4121.2031,3946.4063 L4119.75,3946.4063 L4113.75,3946.4063 Z " fill="#000000"/><ellipse cx="4172.25" cy="3953.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="249" x="4190.25" y="3970.1367">ElementaryFile</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="4048.5" x2="4465.5" y1="4003.4063" y2="4003.4063"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="4048.5" x2="4465.5" y1="4027.4063" y2="4027.4063"/><ellipse cx="4078.5" cy="4060.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="189" x="4105.5" y="4073.6631">byte getSfi ()</text><ellipse cx="4078.5" cy="4101.9141" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="345" x="4105.5" y="4115.1709">FileHeader getHeader ()</text><ellipse cx="4078.5" cy="4143.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="267" x="4105.5" y="4156.6787">FileData getData ()</text><!--MD5=[486f9787c412818ec30cf5d906211656]
class FileHeader--><rect codeLine="135" fill="#FEFECE" height="642.0938" id="FileHeader" style="stroke:#D4AC0D;stroke-width:4.5;" width="555" x="3592.5" y="5177.9063"/><ellipse cx="3749.25" cy="5225.9063" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M3752.25,5216.9063 L3752.25,5234.9063 L3758.25,5234.9063 L3759.7031,5234.9063 L3761.25,5236.7813 L3761.25,5237.9063 L3761.25,5239.0313 L3759.7031,5240.9063 L3758.25,5240.9063 L3740.25,5240.9063 L3738.7969,5240.9063 L3737.25,5239.0313 L3737.25,5237.9063 L3737.25,5236.7813 L3738.7969,5234.9063 L3740.25,5234.9063 L3746.25,5234.9063 L3746.25,5216.9063 L3740.25,5216.9063 L3738.7969,5216.9063 L3737.25,5215.0313 L3737.25,5213.9063 L3737.25,5212.7813 L3738.7969,5210.9063 L3740.25,5210.9063 L3758.25,5210.9063 L3759.7031,5210.9063 L3761.25,5212.7813 L3761.25,5213.9063 L3761.25,5215.0313 L3759.7031,5216.9063 L3758.25,5216.9063 L3752.25,5216.9063 Z " fill="#000000"/><ellipse cx="3825.75" cy="5224.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="183" x="3843.75" y="5240.6367">FileHeader</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3595.5" x2="4144.5" y1="5273.9063" y2="5273.9063"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3595.5" x2="4144.5" y1="5297.9063" y2="5297.9063"/><ellipse cx="3625.5" cy="5330.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="204" x="3652.5" y="5344.1631">short getLid ()</text><ellipse cx="3625.5" cy="5372.4141" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="276" x="3652.5" y="5385.6709">byte getDfStatus ()</text><ellipse cx="3625.5" cy="5413.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="477" x="3652.5" y="5427.1787">ElementaryFile.Type getEfType ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3661.5" y="5468.6865"/><ellipse cx="3625.5" cy="5496.9375" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="354" x="3652.5" y="5510.1943">int getRecordsNumber ()</text><ellipse cx="3625.5" cy="5538.4453" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="288" x="3652.5" y="5551.7021">int getRecordSize ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3661.5" y="5593.21"/><ellipse cx="3625.5" cy="5621.4609" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="432" x="3652.5" y="5634.7178">byte[] getAccessConditions ()</text><ellipse cx="3625.5" cy="5662.9688" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="339" x="3652.5" y="5676.2256">byte[] getKeyIndexes ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3661.5" y="5717.7334"/><ellipse cx="3625.5" cy="5745.9844" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="285" x="3652.5" y="5759.2412">boolean isShared ()</text><ellipse cx="3625.5" cy="5787.4922" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="423" x="3652.5" y="5800.749">Short getSharedReference ()</text><!--MD5=[b2892fca6bf934519171596a14a2d163]
class FileType--><rect codeLine="149" fill="#FEFECE" height="351.5391" id="FileType" style="stroke:#D4AC0D;stroke-width:4.5;" width="390" x="3963" y="6053.9063"/><ellipse cx="4089" cy="6101.9063" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M4084.5,6104.9063 L4084.5,6110.9063 L4096.5,6110.9063 L4096.5,6107.9063 L4096.5,6106.4531 L4098.375,6104.9063 L4099.5,6104.9063 L4100.625,6104.9063 L4102.5,6106.4531 L4102.5,6107.9063 L4102.5,6116.9063 L4078.5,6116.9063 L4077.0469,6116.9063 L4075.5,6115.0313 L4075.5,6113.9063 L4075.5,6112.7813 L4077.0469,6110.9063 L4078.5,6110.9063 L4078.5,6110.9063 L4078.5,6092.9063 L4078.5,6092.9063 L4077.0469,6092.9063 L4075.5,6091.0313 L4075.5,6089.9063 L4075.5,6088.7813 L4077.0469,6086.9063 L4078.5,6086.9063 L4102.5,6086.9063 L4102.5,6095.9063 L4102.5,6097.3594 L4100.625,6098.9063 L4099.5,6098.9063 L4098.375,6098.9063 L4096.5,6097.3594 L4096.5,6095.9063 L4096.5,6092.9063 L4084.5,6092.9063 L4084.5,6098.9063 L4087.5,6098.9063 L4087.5,6097.4531 L4087.5,6097.4531 L4089.375,6095.9063 L4090.5,6095.9063 L4091.625,6095.9063 L4093.5,6097.4531 L4093.5,6098.9063 L4093.5,6104.9063 L4093.5,6106.3594 L4091.625,6107.9063 L4091.625,6107.9063 L4090.5,6107.9063 L4089.375,6107.9063 L4087.5,6106.3594 L4087.5,6106.3594 L4087.5,6104.9063 L4084.5,6104.9063 Z " fill="#000000"/><ellipse cx="4164" cy="6100.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="81" x="4182" y="6116.6367">Type</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3966" x2="4350" y1="6149.9063" y2="6149.9063"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="108" x="3981" y="6196.1631">LINEAR</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="117" x="3981" y="6237.6709">BINARY</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="111" x="3981" y="6279.1787">CYCLIC</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="165" x="3981" y="6320.6865">COUNTERS</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="354" x="3981" y="6362.1943">SIMULATED_COUNTERS</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3966" x2="4350" y1="6381.4453" y2="6381.4453"/><!--MD5=[9e0c9777a80d688403528ae1660d9a4a]
class FileData--><rect codeLine="156" fill="#FEFECE" height="434.5547" id="FileData" style="stroke:#D4AC0D;stroke-width:4.5;" width="1002" x="4365" y="5281.4063"/><ellipse cx="4767.75" cy="5329.4063" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M4770.75,5320.4063 L4770.75,5338.4063 L4776.75,5338.4063 L4778.2031,5338.4063 L4779.75,5340.2813 L4779.75,5341.4063 L4779.75,5342.5313 L4778.2031,5344.4063 L4776.75,5344.4063 L4758.75,5344.4063 L4757.2969,5344.4063 L4755.75,5342.5313 L4755.75,5341.4063 L4755.75,5340.2813 L4757.2969,5338.4063 L4758.75,5338.4063 L4764.75,5338.4063 L4764.75,5320.4063 L4758.75,5320.4063 L4757.2969,5320.4063 L4755.75,5318.5313 L4755.75,5317.4063 L4755.75,5316.2813 L4757.2969,5314.4063 L4758.75,5314.4063 L4776.75,5314.4063 L4778.2031,5314.4063 L4779.75,5316.2813 L4779.75,5317.4063 L4779.75,5318.5313 L4778.2031,5320.4063 L4776.75,5320.4063 L4770.75,5320.4063 Z " fill="#000000"/><ellipse cx="4844.25" cy="5327.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="138" x="4862.25" y="5344.1367">FileData</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="4368" x2="5364" y1="5377.4063" y2="5377.4063"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="4368" x2="5364" y1="5401.4063" y2="5401.4063"/><ellipse cx="4398" cy="5434.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="279" x="4425" y="5447.6631">byte[] getContent ()</text><ellipse cx="4398" cy="5475.9141" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="486" x="4425" y="5489.1709">byte[] getContent (int numRecord)</text><ellipse cx="4398" cy="5517.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="924" x="4425" y="5530.6787">byte[] getContent (int numRecord, int dataOffset, int dataLength)</text><ellipse cx="4398" cy="5558.9297" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="747" x="4425" y="5572.1865">SortedMap&lt;Integer, byte[]&gt; getAllRecordsContent ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="4434" y="5613.6943"/><ellipse cx="4398" cy="5641.9453" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="687" x="4425" y="5655.2021">int getContentAsCounterValue (int numCounter)</text><ellipse cx="4398" cy="5683.4531" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="747" x="4425" y="5696.71">SortedMap&lt;Integer, Integer&gt; getAllCountersValue ()</text><!--MD5=[e000c089c172563ba3d8f11f76ec265c]
class CardProductType--><rect codeLine="165" fill="#FEFECE" height="393.0469" id="CardProductType" style="stroke:#D4AC0D;stroke-width:4.5;" width="336" x="4575" y="3845.9063"/><ellipse cx="4620" cy="3893.9063" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M4615.5,3896.9063 L4615.5,3902.9063 L4627.5,3902.9063 L4627.5,3899.9063 L4627.5,3898.4531 L4629.375,3896.9063 L4630.5,3896.9063 L4631.625,3896.9063 L4633.5,3898.4531 L4633.5,3899.9063 L4633.5,3908.9063 L4609.5,3908.9063 L4608.0469,3908.9063 L4606.5,3907.0313 L4606.5,3905.9063 L4606.5,3904.7813 L4608.0469,3902.9063 L4609.5,3902.9063 L4609.5,3902.9063 L4609.5,3884.9063 L4609.5,3884.9063 L4608.0469,3884.9063 L4606.5,3883.0313 L4606.5,3881.9063 L4606.5,3880.7813 L4608.0469,3878.9063 L4609.5,3878.9063 L4633.5,3878.9063 L4633.5,3887.9063 L4633.5,3889.3594 L4631.625,3890.9063 L4630.5,3890.9063 L4629.375,3890.9063 L4627.5,3889.3594 L4627.5,3887.9063 L4627.5,3884.9063 L4615.5,3884.9063 L4615.5,3890.9063 L4618.5,3890.9063 L4618.5,3889.4531 L4618.5,3889.4531 L4620.375,3887.9063 L4621.5,3887.9063 L4622.625,3887.9063 L4624.5,3889.4531 L4624.5,3890.9063 L4624.5,3896.9063 L4624.5,3898.3594 L4622.625,3899.9063 L4622.625,3899.9063 L4621.5,3899.9063 L4620.375,3899.9063 L4618.5,3898.3594 L4618.5,3898.3594 L4618.5,3896.9063 L4615.5,3896.9063 Z " fill="#000000"/><ellipse cx="4677" cy="3892.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="207" x="4695" y="3908.6367">ProductType</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="4578" x2="4908" y1="3941.9063" y2="3941.9063"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="222" x="4593" y="3988.1631">PRIME_REV1_0</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="222" x="4593" y="4029.6709">PRIME_REV2_4</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="186" x="4593" y="4071.1787">PRIME_REV3</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="60" x="4593" y="4112.6865">HCE</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="87" x="4593" y="4154.1943">LIGHT</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="93" x="4593" y="4195.7021">BASIC</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="4578" x2="4908" y1="4214.9531" y2="4214.9531"/><!--MD5=[c749d7bba5587d09bce06f9a9a7e89ad]
class SvLoadLogRecord--><rect codeLine="173" fill="#FEFECE" height="683.6016" id="SvLoadLogRecord" style="stroke:#D4AC0D;stroke-width:4.5;" width="438" x="5016" y="3700.4063"/><ellipse cx="5061" cy="3748.4063" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M5064,3739.4063 L5064,3757.4063 L5070,3757.4063 L5071.4531,3757.4063 L5073,3759.2813 L5073,3760.4063 L5073,3761.5313 L5071.4531,3763.4063 L5070,3763.4063 L5052,3763.4063 L5050.5469,3763.4063 L5049,3761.5313 L5049,3760.4063 L5049,3759.2813 L5050.5469,3757.4063 L5052,3757.4063 L5058,3757.4063 L5058,3739.4063 L5052,3739.4063 L5050.5469,3739.4063 L5049,3737.5313 L5049,3736.4063 L5049,3735.2813 L5050.5469,3733.4063 L5052,3733.4063 L5070,3733.4063 L5071.4531,3733.4063 L5073,3735.2813 L5073,3736.4063 L5073,3737.5313 L5071.4531,3739.4063 L5070,3739.4063 L5064,3739.4063 Z " fill="#000000"/><ellipse cx="5118" cy="3746.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="309" x="5136" y="3763.1367">SvLoadLogRecord</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="5019" x2="5451" y1="3796.4063" y2="3796.4063"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="5019" x2="5451" y1="3820.4063" y2="3820.4063"/><ellipse cx="5049" cy="3853.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="303" x="5076" y="3866.6631">byte[] getRawData ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="5085" y="3908.1709"/><ellipse cx="5049" cy="3936.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="306" x="5076" y="3949.6787">byte[] getLoadDate ()</text><ellipse cx="5049" cy="3977.9297" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="306" x="5076" y="3991.1865">byte[] getLoadTime ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="5085" y="4032.6943"/><ellipse cx="5049" cy="4060.9453" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="231" x="5076" y="4074.2021">int getAmount ()</text><ellipse cx="5049" cy="4102.4531" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="237" x="5076" y="4115.71">int getBalance ()</text><ellipse cx="5049" cy="4143.9609" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="300" x="5076" y="4157.2178">byte[] getFreeData ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="5085" y="4198.7256"/><ellipse cx="5049" cy="4226.9766" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="207" x="5076" y="4240.2334">byte getKvc ()</text><ellipse cx="5049" cy="4268.4844" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="255" x="5076" y="4281.7412">byte[] getSamId ()</text><ellipse cx="5049" cy="4309.9922" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="264" x="5076" y="4323.249">int getSamTNum ()</text><ellipse cx="5049" cy="4351.5" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="240" x="5076" y="4364.7568">int getSvTNum ()</text><!--MD5=[f7bb9a4e07bc41a393fc40394d0e062c]
class SvDebitLogRecord--><rect codeLine="188" fill="#FEFECE" height="642.0938" id="SvDebitLogRecord" style="stroke:#D4AC0D;stroke-width:4.5;" width="444" x="5559" y="3721.4063"/><ellipse cx="5604" cy="3769.4063" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M5607,3760.4063 L5607,3778.4063 L5613,3778.4063 L5614.4531,3778.4063 L5616,3780.2813 L5616,3781.4063 L5616,3782.5313 L5614.4531,3784.4063 L5613,3784.4063 L5595,3784.4063 L5593.5469,3784.4063 L5592,3782.5313 L5592,3781.4063 L5592,3780.2813 L5593.5469,3778.4063 L5595,3778.4063 L5601,3778.4063 L5601,3760.4063 L5595,3760.4063 L5593.5469,3760.4063 L5592,3758.5313 L5592,3757.4063 L5592,3756.2813 L5593.5469,3754.4063 L5595,3754.4063 L5613,3754.4063 L5614.4531,3754.4063 L5616,3756.2813 L5616,3757.4063 L5616,3758.5313 L5614.4531,3760.4063 L5613,3760.4063 L5607,3760.4063 Z " fill="#000000"/><ellipse cx="5661" cy="3767.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="315" x="5679" y="3784.1367">SvDebitLogRecord</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="5562" x2="6000" y1="3817.4063" y2="3817.4063"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="5562" x2="6000" y1="3841.4063" y2="3841.4063"/><ellipse cx="5592" cy="3874.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="303" x="5619" y="3887.6631">byte[] getRawData ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="5628" y="3929.1709"/><ellipse cx="5592" cy="3957.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="306" x="5619" y="3970.6787">byte[] getDebitDate ()</text><ellipse cx="5592" cy="3998.9297" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="306" x="5619" y="4012.1865">byte[] getDebitTime ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="5628" y="4053.6943"/><ellipse cx="5592" cy="4081.9453" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="231" x="5619" y="4095.2021">int getAmount ()</text><ellipse cx="5592" cy="4123.4531" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="237" x="5619" y="4136.71">int getBalance ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="5628" y="4178.2178"/><ellipse cx="5592" cy="4206.4688" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="207" x="5619" y="4219.7256">byte getKvc ()</text><ellipse cx="5592" cy="4247.9766" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="255" x="5619" y="4261.2334">byte[] getSamId ()</text><ellipse cx="5592" cy="4289.4844" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="264" x="5619" y="4302.7412">int getSamTNum ()</text><ellipse cx="5592" cy="4330.9922" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="240" x="5619" y="4344.249">int getSvTNum ()</text><!--MD5=[f25ff1fa8fa59bbc0543eaadeb7d653a]
class CalypsoSam--><rect codeLine="204" fill="#FEFECE" height="583.6406" id="CalypsoSam" style="stroke:#D4AC0D;stroke-width:4.5;" width="531" x="1396.5" y="5206.4063"/><ellipse cx="1503.6" cy="5266.6875" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1506.6,5257.6875 L1506.6,5275.6875 L1512.6,5275.6875 L1514.0531,5275.6875 L1515.6,5277.5625 L1515.6,5278.6875 L1515.6,5279.8125 L1514.0531,5281.6875 L1512.6,5281.6875 L1494.6,5281.6875 L1493.1469,5281.6875 L1491.6,5279.8125 L1491.6,5278.6875 L1491.6,5277.5625 L1493.1469,5275.6875 L1494.6,5275.6875 L1500.6,5275.6875 L1500.6,5257.6875 L1494.6,5257.6875 L1493.1469,5257.6875 L1491.6,5255.8125 L1491.6,5254.6875 L1491.6,5253.5625 L1493.1469,5251.6875 L1494.6,5251.6875 L1512.6,5251.6875 L1514.0531,5251.6875 L1515.6,5253.5625 L1515.6,5254.6875 L1515.6,5255.8125 L1514.0531,5257.6875 L1512.6,5257.6875 L1506.6,5257.6875 Z " fill="#000000"/><ellipse cx="1574.4" cy="5265.1875" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="42" x="1592.4" y="5258.7773">&lt;&lt;</text><text fill="#000000" filter="url(#bkwm4hato2chc0)" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="180" x="1634.4" y="5258.7773">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="42" x="1814.4" y="5258.7773">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="213" x="1617.9" y="5304.0586">CalypsoSam</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1399.5" x2="1924.5" y1="5326.9688" y2="5326.9688"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1399.5" x2="1924.5" y1="5350.9688" y2="5350.9688"/><ellipse cx="1429.5" cy="5383.9688" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="453" x="1456.5" y="5397.2256">ProductType getProductType ()</text><ellipse cx="1429.5" cy="5425.4766" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="336" x="1456.5" y="5438.7334">String getProductInfo ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="1465.5" y="5480.2412"/><ellipse cx="1429.5" cy="5508.4922" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="360" x="1456.5" y="5521.749">byte[] getSerialNumber ()</text><ellipse cx="1429.5" cy="5550" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="267" x="1456.5" y="5563.2568">byte getPlatform ()</text><ellipse cx="1429.5" cy="5591.5078" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="381" x="1456.5" y="5604.7646">byte getApplicationType ()</text><ellipse cx="1429.5" cy="5633.0156" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="438" x="1456.5" y="5646.2725">byte getApplicationSubType ()</text><ellipse cx="1429.5" cy="5674.5234" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="378" x="1456.5" y="5687.7803">byte getSoftwareIssuer ()</text><ellipse cx="1429.5" cy="5716.0313" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="402" x="1456.5" y="5729.2881">byte getSoftwareVersion ()</text><ellipse cx="1429.5" cy="5757.5391" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="411" x="1456.5" y="5770.7959">byte getSoftwareRevision ()</text><!--MD5=[64db2d10778acf6b7b903aeb76cb16f8]
class SamProductType--><rect codeLine="216" fill="#FEFECE" height="310.0313" id="SamProductType" style="stroke:#D4AC0D;stroke-width:4.5;" width="336" x="1449" y="6074.9063"/><ellipse cx="1494" cy="6122.9063" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M1489.5,6125.9063 L1489.5,6131.9063 L1501.5,6131.9063 L1501.5,6128.9063 L1501.5,6127.4531 L1503.375,6125.9063 L1504.5,6125.9063 L1505.625,6125.9063 L1507.5,6127.4531 L1507.5,6128.9063 L1507.5,6137.9063 L1483.5,6137.9063 L1482.0469,6137.9063 L1480.5,6136.0313 L1480.5,6134.9063 L1480.5,6133.7813 L1482.0469,6131.9063 L1483.5,6131.9063 L1483.5,6131.9063 L1483.5,6113.9063 L1483.5,6113.9063 L1482.0469,6113.9063 L1480.5,6112.0313 L1480.5,6110.9063 L1480.5,6109.7813 L1482.0469,6107.9063 L1483.5,6107.9063 L1507.5,6107.9063 L1507.5,6116.9063 L1507.5,6118.3594 L1505.625,6119.9063 L1504.5,6119.9063 L1503.375,6119.9063 L1501.5,6118.3594 L1501.5,6116.9063 L1501.5,6113.9063 L1489.5,6113.9063 L1489.5,6119.9063 L1492.5,6119.9063 L1492.5,6118.4531 L1492.5,6118.4531 L1494.375,6116.9063 L1495.5,6116.9063 L1496.625,6116.9063 L1498.5,6118.4531 L1498.5,6119.9063 L1498.5,6125.9063 L1498.5,6127.3594 L1496.625,6128.9063 L1496.625,6128.9063 L1495.5,6128.9063 L1494.375,6128.9063 L1492.5,6127.3594 L1492.5,6127.3594 L1492.5,6125.9063 L1489.5,6125.9063 Z " fill="#000000"/><ellipse cx="1551" cy="6121.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="207" x="1569" y="6137.6367">ProductType</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1452" x2="1782" y1="6170.9063" y2="6170.9063"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="126" x="1467" y="6217.1631">SAM_C1</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="162" x="1467" y="6258.6709">SAM_S1E1</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="165" x="1467" y="6300.1787">SAM_S1Dx</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="126" x="1467" y="6341.6865">CSAM_F</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1452" x2="1782" y1="6360.9375" y2="6360.9375"/><!--MD5=[0b099b95829aa268a7bde43b43d40035]
class CardTransactionService--><rect codeLine="224" fill="#FEFECE" height="1887.3281" id="CardTransactionService" style="stroke:#D4AC0D;stroke-width:4.5;" width="1800" x="420" y="1123.4063"/><ellipse cx="1092.75" cy="1171.4063" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1095.75,1162.4063 L1095.75,1180.4063 L1101.75,1180.4063 L1103.2031,1180.4063 L1104.75,1182.2813 L1104.75,1183.4063 L1104.75,1184.5313 L1103.2031,1186.4063 L1101.75,1186.4063 L1083.75,1186.4063 L1082.2969,1186.4063 L1080.75,1184.5313 L1080.75,1183.4063 L1080.75,1182.2813 L1082.2969,1180.4063 L1083.75,1180.4063 L1089.75,1180.4063 L1089.75,1162.4063 L1083.75,1162.4063 L1082.2969,1162.4063 L1080.75,1160.5313 L1080.75,1159.4063 L1080.75,1158.2813 L1082.2969,1156.4063 L1083.75,1156.4063 L1101.75,1156.4063 L1103.2031,1156.4063 L1104.75,1158.2813 L1104.75,1159.4063 L1104.75,1160.5313 L1103.2031,1162.4063 L1101.75,1162.4063 L1095.75,1162.4063 Z " fill="#000000"/><ellipse cx="1169.25" cy="1169.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="396" x="1187.25" y="1186.1367">CardTransactionService</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="423" x2="2217" y1="1219.4063" y2="1219.4063"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="423" x2="2217" y1="1243.4063" y2="1243.4063"/><ellipse cx="453" cy="1276.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" filter="url(#bkwm4hato2chc0)" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="174" x="480" y="1289.6631">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="252" x="663" y="1289.6631">getCardReader ()</text><ellipse cx="453" cy="1317.9141" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="459" x="480" y="1331.1709">CalypsoCard getCalypsoCard ()</text><ellipse cx="453" cy="1359.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="663" x="480" y="1372.6787">CardSecuritySetting getCardSecuritySetting ()</text><ellipse cx="453" cy="1400.9297" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="483" x="480" y="1414.1865">String getTransactionAuditData ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="489" y="1455.6943"/><ellipse cx="453" cy="1483.9453" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="765" x="480" y="1497.2021">CardTransactionService prepareSelectFile (byte[] lid)</text><ellipse cx="453" cy="1525.4531" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="993" x="480" y="1538.71">CardTransactionService prepareSelectFile (SelectFileControl control)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="489" y="1580.2178"/><ellipse cx="453" cy="1608.4688" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1110" x="480" y="1621.7256">CardTransactionService prepareReadRecordFile (byte sfi, int recordNumber)</text><ellipse cx="453" cy="1649.9766" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1722" x="480" y="1663.2334">CardTransactionService prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)</text><ellipse cx="453" cy="1691.4844" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1152" x="480" y="1704.7412">CardTransactionService prepareReadCounterFile (byte sfi, int countersNumber)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="489" y="1746.249"/><ellipse cx="453" cy="1774.5" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="732" x="480" y="1787.7568">CardTransactionService prepareCheckPinStatus ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="489" y="1829.2646"/><ellipse cx="453" cy="1857.5156" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1104" x="480" y="1870.7725">CardTransactionService prepareAppendRecord (byte sfi, byte[] recordData)</text><ellipse cx="453" cy="1899.0234" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1359" x="480" y="1912.2803">CardTransactionService prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="453" cy="1940.5313" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1332" x="480" y="1953.7881">CardTransactionService prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="489" y="1995.2959"/><ellipse cx="453" cy="2023.5469" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1323" x="480" y="2036.8037">CardTransactionService prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)</text><ellipse cx="453" cy="2065.0547" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1350" x="480" y="2078.3115">CardTransactionService prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)</text><ellipse cx="453" cy="2106.5625" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1269" x="480" y="2119.8193">CardTransactionService prepareSetCounter (byte sfi, int counterNumber, int newValue)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="489" y="2161.3271"/><ellipse cx="453" cy="2189.5781" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1251" x="480" y="2202.835">CardTransactionService prepareSvGet (SvOperation svOperation, SvAction svAction)</text><ellipse cx="453" cy="2231.0859" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1296" x="480" y="2244.3428">CardTransactionService prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)</text><ellipse cx="453" cy="2272.5938" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="792" x="480" y="2285.8506">CardTransactionService prepareSvReload (int amount)</text><ellipse cx="453" cy="2314.1016" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1101" x="480" y="2327.3584">CardTransactionService prepareSvDebit (int amount, byte[] date, byte[] time)</text><ellipse cx="453" cy="2355.6094" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="765" x="480" y="2368.8662">CardTransactionService prepareSvDebit (int amount)</text><ellipse cx="453" cy="2397.1172" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="729" x="480" y="2410.374">CardTransactionService prepareSvReadAllLogs ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="489" y="2451.8818"/><ellipse cx="453" cy="2480.1328" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="642" x="480" y="2493.3896">CardTransactionService prepareInvalidate ()</text><ellipse cx="453" cy="2521.6406" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="672" x="480" y="2534.8975">CardTransactionService prepareRehabilitate ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="489" y="2576.4053"/><ellipse cx="453" cy="2604.6563" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="810" x="480" y="2617.9131">CardTransactionService prepareReleaseCardChannel ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="489" y="2659.4209"/><ellipse cx="453" cy="2687.6719" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="741" x="480" y="2700.9287">CardTransactionService processCardCommands ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="489" y="2742.4365"/><ellipse cx="453" cy="2770.6875" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="777" x="480" y="2783.9443">CardTransactionService processVerifyPin (byte[] pin)</text><ellipse cx="453" cy="2812.1953" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="780" x="480" y="2825.4521">CardTransactionService processVerifyPin (String pin)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="489" y="2866.96"/><ellipse cx="453" cy="2895.2109" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1176" x="480" y="2908.4678">CardTransactionService processOpening (WriteAccessLevel writeAccessLevel)</text><ellipse cx="453" cy="2936.7188" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="618" x="480" y="2949.9756">CardTransactionService processClosing ()</text><ellipse cx="453" cy="2978.2266" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="612" x="480" y="2991.4834">CardTransactionService processCancel ()</text><!--MD5=[80899d8261aafdb2d3733adc7bf0e757]
class SvOperation--><rect codeLine="268" fill="#FEFECE" height="227.0156" id="SvOperation" style="stroke:#D4AC0D;stroke-width:4.5;" width="333" x="169.5" y="3928.4063"/><ellipse cx="214.5" cy="3976.4063" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M210,3979.4063 L210,3985.4063 L222,3985.4063 L222,3982.4063 L222,3980.9531 L223.875,3979.4063 L225,3979.4063 L226.125,3979.4063 L228,3980.9531 L228,3982.4063 L228,3991.4063 L204,3991.4063 L202.5469,3991.4063 L201,3989.5313 L201,3988.4063 L201,3987.2813 L202.5469,3985.4063 L204,3985.4063 L204,3985.4063 L204,3967.4063 L204,3967.4063 L202.5469,3967.4063 L201,3965.5313 L201,3964.4063 L201,3963.2813 L202.5469,3961.4063 L204,3961.4063 L228,3961.4063 L228,3970.4063 L228,3971.8594 L226.125,3973.4063 L225,3973.4063 L223.875,3973.4063 L222,3971.8594 L222,3970.4063 L222,3967.4063 L210,3967.4063 L210,3973.4063 L213,3973.4063 L213,3971.9531 L213,3971.9531 L214.875,3970.4063 L216,3970.4063 L217.125,3970.4063 L219,3971.9531 L219,3973.4063 L219,3979.4063 L219,3980.8594 L217.125,3982.4063 L217.125,3982.4063 L216,3982.4063 L214.875,3982.4063 L213,3980.8594 L213,3980.8594 L213,3979.4063 L210,3979.4063 Z " fill="#000000"/><ellipse cx="271.5" cy="3974.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="204" x="289.5" y="3991.1367">SvOperation</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="172.5" x2="499.5" y1="4024.4063" y2="4024.4063"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="126" x="187.5" y="4070.6631">RELOAD</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="84" x="187.5" y="4112.1709">DEBIT</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="172.5" x2="499.5" y1="4131.4219" y2="4131.4219"/><!--MD5=[3a20855ad37700d9231151c7156c605b]
class SvAction--><rect codeLine="272" fill="#FEFECE" height="227.0156" id="SvAction" style="stroke:#D4AC0D;stroke-width:4.5;" width="273" x="607.5" y="3928.4063"/><ellipse cx="652.5" cy="3976.4063" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M648,3979.4063 L648,3985.4063 L660,3985.4063 L660,3982.4063 L660,3980.9531 L661.875,3979.4063 L663,3979.4063 L664.125,3979.4063 L666,3980.9531 L666,3982.4063 L666,3991.4063 L642,3991.4063 L640.5469,3991.4063 L639,3989.5313 L639,3988.4063 L639,3987.2813 L640.5469,3985.4063 L642,3985.4063 L642,3985.4063 L642,3967.4063 L642,3967.4063 L640.5469,3967.4063 L639,3965.5313 L639,3964.4063 L639,3963.2813 L640.5469,3961.4063 L642,3961.4063 L666,3961.4063 L666,3970.4063 L666,3971.8594 L664.125,3973.4063 L663,3973.4063 L661.875,3973.4063 L660,3971.8594 L660,3970.4063 L660,3967.4063 L648,3967.4063 L648,3973.4063 L651,3973.4063 L651,3971.9531 L651,3971.9531 L652.875,3970.4063 L654,3970.4063 L655.125,3970.4063 L657,3971.9531 L657,3973.4063 L657,3979.4063 L657,3980.8594 L655.125,3982.4063 L655.125,3982.4063 L654,3982.4063 L652.875,3982.4063 L651,3980.8594 L651,3980.8594 L651,3979.4063 L648,3979.4063 Z " fill="#000000"/><ellipse cx="709.5" cy="3974.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="144" x="727.5" y="3991.1367">SvAction</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="610.5" x2="877.5" y1="4024.4063" y2="4024.4063"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="45" x="625.5" y="4070.6631">DO</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="87" x="625.5" y="4112.1709">UNDO</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="610.5" x2="877.5" y1="4131.4219" y2="4131.4219"/><!--MD5=[902430ab886935d86a17fe3ee56b883e]
class CardSecuritySetting--><rect codeLine="276" fill="#FEFECE" height="1596.7734" id="CardSecuritySetting" style="stroke:#D4AC0D;stroke-width:4.5;" width="1350" x="987" y="3244.4063"/><ellipse cx="1469.25" cy="3292.4063" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1472.25,3283.4063 L1472.25,3301.4063 L1478.25,3301.4063 L1479.7031,3301.4063 L1481.25,3303.2813 L1481.25,3304.4063 L1481.25,3305.5313 L1479.7031,3307.4063 L1478.25,3307.4063 L1460.25,3307.4063 L1458.7969,3307.4063 L1457.25,3305.5313 L1457.25,3304.4063 L1457.25,3303.2813 L1458.7969,3301.4063 L1460.25,3301.4063 L1466.25,3301.4063 L1466.25,3283.4063 L1460.25,3283.4063 L1458.7969,3283.4063 L1457.25,3281.5313 L1457.25,3280.4063 L1457.25,3279.2813 L1458.7969,3277.4063 L1460.25,3277.4063 L1478.25,3277.4063 L1479.7031,3277.4063 L1481.25,3279.2813 L1481.25,3280.4063 L1481.25,3281.5313 L1479.7031,3283.4063 L1478.25,3283.4063 L1472.25,3283.4063 Z " fill="#000000"/><ellipse cx="1545.75" cy="3290.9063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="327" x="1563.75" y="3307.1367">CardSecuritySetting</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="990" x2="2334" y1="3340.4063" y2="3340.4063"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="990" x2="2334" y1="3364.4063" y2="3364.4063"/><ellipse cx="1020" cy="3397.4063" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="648" x="1047" y="3410.6631">CardSecuritySetting enableMultipleSession ()</text><ellipse cx="1020" cy="3438.9141" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="747" x="1047" y="3452.1709">CardSecuritySetting enableRatificationMechanism ()</text><ellipse cx="1020" cy="3480.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="726" x="1047" y="3493.6787">CardSecuritySetting enablePinPlainTransmission ()</text><ellipse cx="1020" cy="3521.9297" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="672" x="1047" y="3535.1865">CardSecuritySetting enableTransactionAudit ()</text><ellipse cx="1020" cy="3563.4375" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="723" x="1047" y="3576.6943">CardSecuritySetting enableSvLoadAndDebitLog ()</text><ellipse cx="1020" cy="3604.9453" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="747" x="1047" y="3618.2021">CardSecuritySetting authorizeSvNegativeBalance ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="1056" y="3659.71"/><ellipse cx="1020" cy="3687.9609" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1272" x="1047" y="3701.2178">CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)</text><ellipse cx="1020" cy="3729.4688" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1233" x="1047" y="3742.7256">CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)</text><ellipse cx="1020" cy="3770.9766" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1269" x="1047" y="3784.2334">CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="1056" y="3825.7412"/><ellipse cx="1020" cy="3853.9922" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="963" x="1047" y="3867.249">CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)</text><ellipse cx="1020" cy="3895.5" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="885" x="1047" y="3908.7568">CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="1056" y="3950.2646"/><ellipse cx="1020" cy="3978.5156" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="855" x="1047" y="3991.7725">CardSecuritySetting setPinCipheringKey (byte kif, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="1056" y="4033.2803"/><ellipse cx="1020" cy="4061.5313" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" filter="url(#bkwm4hato2chc0)" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="174" x="1047" y="4074.7881">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="246" x="1230" y="4074.7881">getSamReader ()</text><ellipse cx="1020" cy="4103.0391" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="447" x="1047" y="4116.2959">CalypsoSam getCalypsoSam ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="1056" y="4157.8037"/><ellipse cx="1020" cy="4186.0547" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="516" x="1047" y="4199.3115">boolean isMultipleSessionEnabled ()</text><ellipse cx="1020" cy="4227.5625" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="615" x="1047" y="4240.8193">boolean isRatificationMechanismEnabled ()</text><ellipse cx="1020" cy="4269.0703" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="594" x="1047" y="4282.3271">boolean isPinPlainTransmissionEnabled ()</text><ellipse cx="1020" cy="4310.5781" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="540" x="1047" y="4323.835">boolean isTransactionAuditEnabled ()</text><ellipse cx="1020" cy="4352.0859" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="591" x="1047" y="4365.3428">boolean isSvLoadAndDebitLogEnabled ()</text><ellipse cx="1020" cy="4393.5938" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="621" x="1047" y="4406.8506">boolean isSvNegativeBalanceAuthorized ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="1056" y="4448.3584"/><ellipse cx="1020" cy="4476.6094" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="876" x="1047" y="4489.8662">Byte getKif (WriteAccessLevel writeAccessLevel, byte kvc)</text><ellipse cx="1020" cy="4518.1172" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="837" x="1047" y="4531.374">Byte getDefaultKif (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1020" cy="4559.625" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="855" x="1047" y="4572.8818">Byte getDefaultKvc (WriteAccessLevel writeAccessLevel)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="1056" y="4614.3896"/><ellipse cx="1020" cy="4642.6406" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="759" x="1047" y="4655.8975">boolean isSessionKeyAuthorized (byte kif, byte kvc)</text><ellipse cx="1020" cy="4684.1484" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="681" x="1047" y="4697.4053">boolean isSvKeyAuthorized (byte kif, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="1056" y="4738.9131"/><ellipse cx="1020" cy="4767.1641" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="366" x="1047" y="4780.4209">byte getPinCipheringKif ()</text><ellipse cx="1020" cy="4808.6719" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="384" x="1047" y="4821.9287">byte getPinCipheringKvc ()</text><!--MD5=[2f480102b71af4081238b95670f7a124]
reverse link WriteAccessLevel to CardTransactionService--><path codeLine="318" d="M2416.26,2066.9063 C2357.901,2066.9063 2291.433,2066.9063 2220.756,2066.9063 " fill="none" id="WriteAccessLevel-backto-CardTransactionService" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2432.505,2066.9063,2405.505,2054.9063,2417.505,2066.9063,2405.505,2078.9063,2432.505,2066.9063" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2302.5,2031.4336,2275.3647,2022.6168,2275.3647,2040.2504,2302.5,2031.4336" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2314.5" y="2047.3916">use</text><!--MD5=[c43b0da949160473cb59d00d45385a29]
link CardTransactionService to SvOperation--><path codeLine="319" d="M672.168,3010.9163 C629.673,3088.3763 589.968,3166.7363 555,3244.4063 C453.648,3469.4963 389.472,3752.0633 358.371,3912.5393 " fill="none" id="CardTransactionService-to-SvOperation" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="355.467,3927.6833,372.3434,3903.4307,358.2957,3912.9524,348.774,3898.9047,355.467,3927.6833" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="631.0695,3142.1001,648.3157,3119.3707,631.6619,3113.5746,631.0695,3142.1001" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="663" y="3143.8916">use</text><!--MD5=[f5c99f22a7507267ed4cc589c4f51f11]
link CardTransactionService to SvAction--><path codeLine="320" d="M1002.168,3010.8863 C977.943,3089.6363 954.561,3168.2363 933,3244.4063 C866.745,3478.4663 804.453,3755.6423 770.541,3913.1693 " fill="none" id="CardTransactionService-to-SvAction" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="767.349,3928.0342,784.7514,3904.1563,770.499,3913.3687,761.2865,3899.1163,767.349,3928.0342" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="983.2703,3142.4625,998.5573,3118.3718,981.4776,3113.9872,983.2703,3142.4625" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="1014" y="3143.8916">use</text><!--MD5=[90f20d36a83a5e43670317f6ce76c749]
reverse link SelectFileControl to CardTransactionService--><path codeLine="321" d="M3331.05,704.5763 C3264.6,725.1863 3191.22,746.5463 3123,763.4063 C2731.806,860.1563 2577.72,724.3463 2232,931.4063 C2142.663,984.8962 2058.438,1050.5663 1979.997,1123.0763 " fill="none" id="SelectFileControl-backto-CardTransactionService" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3346.02,699.9262,3316.664,696.5759,3331.7104,704.4248,3323.8616,719.4712,3346.02,699.9262" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2414.3283,876.4953,2385.7993,876.1023,2391.0169,892.9463,2414.3283,876.4953" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2427" y="896.8916">use</text><!--MD5=[86118f8c982bdc754ccc97702361a48a]
link CardTransactionService to CalypsoCard--><path codeLine="322" d="M2147.034,1123.2563 C2174.832,1108.0162 2203.164,1094.0063 2232,1081.4063 C2555.76,939.8962 3525.99,888.5063 3822,1081.4063 C3881.01,1119.8662 3932.04,1168.3163 3976.23,1223.0063 " fill="none" id="CardTransactionService-to-CalypsoCard" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3986.13,1235.5162,3978.8249,1206.887,3976.8381,1223.7408,3959.9843,1221.754,3986.13,1235.5162" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="2974.4777,881.7504,2947.8628,871.4691,2946.9027,889.0765,2974.4777,881.7504" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="2986.5" y="896.8916">provide</text><!--MD5=[bb8bd35c0fe98e77e11df2c9f3265656]
link CardTransactionService to CardSecuritySetting--><path codeLine="323" d="M1333.914,3010.8263 C1340.04,3059.5463 1347.342,3107.6363 1356,3154.4063 C1360.533,3178.8863 1365.621,3203.6363 1371.177,3228.4763 " fill="none" id="CardTransactionService-to-CardSecuritySetting" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1374.699,3243.9562,1380.4627,3214.9773,1371.3979,3229.324,1357.0511,3220.2591,1374.699,3243.9562" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="1373.5313,3142.7185,1377.6425,3114.4845,1360.2618,3117.4602,1373.5313,3142.7185" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="1398" y="3143.8916">provide</text><!--MD5=[efe81cdef45dd036892bfae29732e4bb]
reverse link WriteAccessLevel to CardSecuritySetting--><path codeLine="325" d="M2618.805,2217.5963 C2584.065,2407.5863 2510.064,2744.8163 2385,3010.4063 C2348.259,3088.4362 2305.641,3166.8863 2259.837,3243.7463 " fill="none" id="WriteAccessLevel-backto-CardSecuritySetting" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2621.643,2201.9063,2605.0491,2226.353,2618.9854,2216.6689,2628.6694,2230.6052,2621.643,2201.9063" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2359.953,3113.7749,2342.6707,3136.4769,2359.3152,3142.2995,2359.953,3113.7749" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2382" y="3143.8916">use</text><!--MD5=[48cac2ff2978e44d465a059f601e1d50]
link CardSecuritySetting to CalypsoSam--><path codeLine="326" d="M1662,4840.6763 C1662,4965.2033 1662,5086.9493 1662,5191.0463 " fill="none" id="CardSecuritySetting-to-CalypsoSam" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1662,5206.2772,1674,5179.2772,1662,5191.2772,1650,5179.2772,1662,5206.2772" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="1677,4978.9336,1685.8168,4951.7983,1668.1832,4951.7983,1677,4978.9336" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="1704" y="4979.8916">provide</text><!--MD5=[1d7d1f3a59163c759a2873ea24945c0d]
reverse link CalypsoSam to SamProductType--><path codeLine="328" d="M1568.016,5837.9483 C1563.363,5880.1463 1562.052,5922.8843 1566,5963.9063 C1569.468,5999.9513 1575.558,6038.3992 1582.35,6074.4413 " fill="none" id="CalypsoSam-backto-SamProductType" style="stroke:#A80036;stroke-width:3.0;"/><ellipse cx="1571.0089" cy="5816.255" fill="#FFFFFF" rx="24" ry="24" style="stroke:#A80036;stroke-width:3.0;"/><line style="stroke:#A80036;stroke-width:3.0;" x1="1567.7287" x2="1574.289" y1="5840.0298" y2="5792.4803"/><line style="stroke:#A80036;stroke-width:3.0;" x1="1547.2341" x2="1594.7836" y1="5812.9749" y2="5819.5352"/><!--MD5=[cf1f36c13265bd4b5b312aa9a8ef60a4]
link CalypsoSam to SamProductType--><path codeLine="329" d="M1643.955,5792.4143 C1638.339,5882.8343 1632.339,5979.4703 1627.425,6058.5473 " fill="none" id="CalypsoSam-to-SamProductType" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1626.459,6074.1203,1640.1096,6047.916,1627.3888,6059.1491,1616.1557,6046.4283,1626.459,6074.1203" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="1652.0701,5952.4047,1662.5521,5925.8683,1644.9525,5924.7751,1652.0701,5952.4047" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="1680" y="5953.3916">provide</text><!--MD5=[3c766b8dbd2d4b637d84ed4972e0a262]
reverse link SelectFileControl to CalypsoCardSelection--><path codeLine="331" d="M3773.25,636.3863 C4029.18,652.7963 4451.46,713.9962 4734,931.4063 C5036.25,1163.9663 5214.42,1585.0463 5300.34,1843.0463 " fill="none" id="SelectFileControl-backto-CalypsoCardSelection" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3758.16,635.4562,3784.3516,649.1311,3773.1303,636.3999,3785.8615,625.1787,3758.16,635.4562" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="4683.2307,871.6339,4699.0553,895.375,4709.9878,881.5394,4683.2307,871.6339" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="4722" y="896.8916">use</text><!--MD5=[b9c02494ee2edb3f49e24a11a76ae6d5]
link CalypsoCard to DirectoryHeader--><path codeLine="333" d="M3915.15,2898.0263 C3794.07,3191.3963 3665.1,3503.7863 3572.76,3727.4693 " fill="none" id="CalypsoCard-to-DirectoryHeader" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3566.73,3742.0702,3588.1111,3721.6779,3572.4445,3728.2014,3565.921,3712.5348,3566.73,3742.0702" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="3837.2765,3141.7987,3855.7801,3120.0806,3839.4807,3113.3523,3837.2765,3141.7987" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="3870" y="3143.8916">provide</text><!--MD5=[435a292fec6bd60cef8a6737227e6c35]
link CalypsoCard to ElementaryFile--><path codeLine="334" d="M4257,2898.0263 C4257,3272.7563 4257,3678.5483 4257,3890.7893 " fill="none" id="CalypsoCard-to-ElementaryFile" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4257,3906.9773,4269,3879.9773,4257,3891.9773,4245,3879.9773,4257,3906.9773" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="4272,3142.9336,4280.8168,3115.7983,4263.1832,3115.7983,4272,3142.9336" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="4299" y="3143.8916">provide</text><!--MD5=[57dcad9f3791efe87eb3de288cba384a]
reverse link CalypsoCard to CardProductType--><path codeLine="335" d="M4472.25,2942.2163 C4555.41,3279.1762 4642.95,3633.9323 4695.24,3845.8822 " fill="none" id="CalypsoCard-backto-CardProductType" style="stroke:#A80036;stroke-width:3.0;"/><ellipse cx="4467.1163" cy="2921.3257" fill="#FFFFFF" rx="24" ry="24" style="stroke:#A80036;stroke-width:3.0;"/><line style="stroke:#A80036;stroke-width:3.0;" x1="4472.8727" x2="4461.36" y1="2944.6252" y2="2898.0263"/><line style="stroke:#A80036;stroke-width:3.0;" x1="4443.8169" x2="4490.4158" y1="2927.082" y2="2915.5694"/><!--MD5=[da295e0332042a57370ae8d038ae7841]
link CalypsoCard to CardProductType--><path codeLine="336" d="M4487.88,2898.5063 C4505.61,2966.6963 4522.86,3034.6463 4539,3100.4063 C4600.29,3350.3062 4661.76,3639.9113 4700.97,3830.6843 " fill="none" id="CalypsoCard-to-CardProductType" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4704,3845.3903,4710.3264,3816.5289,4700.9842,3830.6966,4686.8165,3821.3543,4704,3845.3903" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="4569.3427,3142.5564,4571.8908,3114.1387,4554.7006,3118.0683,4569.3427,3142.5564" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="4593" y="3143.8916">provide</text><!--MD5=[aba73d32463631a1419cefff8db1a33e]
link CalypsoCard to SvLoadLogRecord--><path codeLine="337" d="M4658.19,2898.1163 C4682.73,2936.7263 4708.05,2974.3763 4734,3010.4063 C4819.41,3128.9963 4888.23,3120.0562 4965,3244.4063 C5047.92,3378.7163 5109,3541.6163 5151.87,3684.9233 " fill="none" id="CalypsoCard-to-SvLoadLogRecord" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="5156.25,3699.6173,5160.0739,3670.3192,5151.9831,3685.2369,5137.0654,3677.1462,5156.25,3699.6173" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="4909.9723,3140.6396,4903.0186,3112.9682,4888.0819,3122.3403,4909.9723,3140.6396" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="4929" y="3143.8916">provide</text><!--MD5=[0ef7c8472eddb1facc6466acd43af4c7]
link CalypsoCard to SvDebitLogRecord--><path codeLine="338" d="M4619.58,2898.2363 C4654.62,2939.1862 4692.69,2977.0463 4734,3010.4063 C4856.28,3109.1663 4925.37,3055.5263 5076,3100.4063 C5269.95,3158.1862 5364.24,3101.9362 5508,3244.4063 C5631.51,3366.8062 5699.19,3547.4963 5736.24,3705.6983 " fill="none" id="CalypsoCard-to-SvDebitLogRecord" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="5739.75,3720.9352,5745.4297,3691.9397,5736.4065,3706.3126,5722.0336,3697.2894,5739.75,3720.9352" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="5397.1551,3136.723,5380.3326,3113.6782,5370,3127.9674,5397.1551,3136.723" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="5412" y="3143.8916">provide</text><!--MD5=[dace07c6424a6284409add909451346a]
link DirectoryHeader to WriteAccessLevel--><path codeLine="340" d="M3264.51,3741.4672 C3148.98,3540.2963 3002.04,3265.8563 2901,3010.4063 C2793.486,2738.5763 2713.644,2405.6363 2673.051,2217.6563 " fill="none" id="DirectoryHeader-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2669.718,2202.1463,2663.6151,2231.0557,2672.8475,2216.8162,2687.087,2226.0485,2669.718,2202.1463" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2961.5723,3113.95,2963.1717,3142.4368,2979.6104,3136.0563,2961.5723,3113.95" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2994" y="3143.8916">use</text><!--MD5=[cc1c643465d1c05aadfdd3e7e3ee33ff]
reverse link ElementaryFile to FileType--><path codeLine="342" d="M4272.36,4223.0303 C4298.01,4563.3233 4337.67,5329.7183 4239,5963.9063 C4234.44,5993.1233 4227.36,6023.5883 4219.23,6052.9763 " fill="none" id="ElementaryFile-backto-FileType" style="stroke:#A80036;stroke-width:3.0;"/><ellipse cx="4270.7103" cy="4201.826" fill="#FFFFFF" rx="24" ry="24" style="stroke:#A80036;stroke-width:3.0;"/><line style="stroke:#A80036;stroke-width:3.0;" x1="4272.5706" x2="4268.85" y1="4225.7538" y2="4177.8983"/><line style="stroke:#A80036;stroke-width:3.0;" x1="4246.7825" x2="4294.6381" y1="4203.6863" y2="4199.9658"/><!--MD5=[78c7db04616214d64a65e1c3389039a2]
link ElementaryFile to FileHeader--><path codeLine="343" d="M4221.63,4177.9732 C4162.59,4399.3042 4042.17,4850.5613 3958.83,5162.9363 " fill="none" id="ElementaryFile-to-FileHeader" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3954.9,5177.7053,3973.4559,5154.7123,3958.7676,5163.2124,3950.2674,5148.5241,3954.9,5177.7053" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="4031.1331,4978.4266,4046.6472,4954.4814,4029.6096,4949.9356,4031.1331,4978.4266" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="4062" y="4979.8916">provide</text><!--MD5=[86b3bd56e99d104172930610ea72020e]
link ElementaryFile to FileData--><path codeLine="344" d="M4287.66,4178.0723 C4329.96,4351.1783 4413.66,4661.5613 4524,4912.4063 C4577.4,5033.7832 4650.24,5161.6193 4714.98,5266.5983 " fill="none" id="ElementaryFile-to-FileData" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4723.65,5280.5993,4719.6101,5251.3302,4715.7409,5267.8538,4699.2173,5263.9847,4723.65,5280.5993" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="4574.4813,4977.8962,4572.7726,4949.4158,4556.3585,4955.8594,4574.4813,4977.8962" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="4596" y="4979.8916">provide</text><!--MD5=[0277f54c0239137ab686445791bc46fe]
link FileHeader to FileType--><path codeLine="346" d="M3996.75,5820.7373 C4026.48,5895.5213 4057.2,5972.8103 4083.75,6039.6053 " fill="none" id="FileHeader-to-FileType" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4089.33,6053.6963,4090.499,6024.1728,4083.785,6039.7588,4068.1991,6033.0448,4089.33,6053.6963" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="4070.5408,5951.3727,4068.7106,5922.8998,4052.3242,5929.4134,4070.5408,5951.3727" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="4092" y="5953.3916">provide</text><!--MD5=[c2b8d5b3646864c8d61b765d4e1d32ca]
@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.0 (04/06/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
end legend

package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum WriteAccessLevel {
        PERSONALIZATION
        LOAD
        DEBIT
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }

    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            +CalypsoCardSelection prepareSelectFile (byte[] lid)
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)

            +CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)
            - - **CardSelection** - -
            +<back:yellow>CardSelector</back> getCardSelector ()
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            +ProductType getProductType ()

            +byte[] getDfName ()
            +byte[] getApplicationSerialNumber ()

            +byte[] getStartupInfoRawData ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()

            +boolean isConfidentialSessionModeSupported ()
            +boolean isDeselectRatificationSupported ()
            +boolean isPublicAuthenticationSupported ()

            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +Map<Byte, ElementaryFile> getAllFiles ()

            +boolean isDfInvalidated ()
            +boolean isDfRatified ()

            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()

            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            +short getLid ()
            +byte getDfStatus ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +boolean isKifAvailable (WriteAccessLevel writeAccessLevel)
            +byte getKif (WriteAccessLevel writeAccessLevel)

            +boolean isKvcAvailable (WriteAccessLevel writeAccessLevel)
            +byte getKvc (WriteAccessLevel writeAccessLevel)
        }
        +interface ElementaryFile {
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()

            +int getRecordsNumber ()
            +int getRecordSize ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +boolean isShared ()
            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()

            +int getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "ProductType" as CardProductType {
            PRIME_REV1_0
            PRIME_REV2_4
            PRIME_REV3
            HCE
            LIGHT
            BASIC
        }
        +interface SvLoadLogRecord {
            +byte[] getRawData ()

            +byte[] getLoadDate ()
            +byte[] getLoadTime ()

            +int getAmount ()
            +int getBalance ()
            +byte[] getFreeData ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
        +interface SvDebitLogRecord {
            +byte[] getRawData ()

            +byte[] getDebitDate ()
            +byte[] getDebitTime ()

            +int getAmount ()
            +int getBalance ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
    }
    package sam {
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +ProductType getProductType ()
            +String getProductInfo ()

            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
        }
        +enum "ProductType" as SamProductType {
            SAM_C1
            SAM_S1E1
            SAM_S1Dx
            CSAM_F
        }
    }
    package transaction {
        +interface CardTransactionService {
            +<back:yellow>CardReader</back> getCardReader ()
            +CalypsoCard getCalypsoCard ()
            +CardSecuritySetting getCardSecuritySetting ()
            +String getTransactionAuditData ()

            +CardTransactionService prepareSelectFile (byte[] lid)
            +CardTransactionService prepareSelectFile (SelectFileControl control)

            +CardTransactionService prepareReadRecordFile (byte sfi, int recordNumber)
            +CardTransactionService prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)
            +CardTransactionService prepareReadCounterFile (byte sfi, int countersNumber)

            +CardTransactionService prepareCheckPinStatus ()

            +CardTransactionService prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionService prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionService prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)

            +CardTransactionService prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionService prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionService prepareSetCounter (byte sfi, int counterNumber, int newValue)

            +CardTransactionService prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionService prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionService prepareSvReload (int amount)
            +CardTransactionService prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionService prepareSvDebit (int amount)
            +CardTransactionService prepareSvReadAllLogs ()

            +CardTransactionService prepareInvalidate ()
            +CardTransactionService prepareRehabilitate ()

            +CardTransactionService prepareReleaseCardChannel ()

            +CardTransactionService processCardCommands ()

            +CardTransactionService processVerifyPin (byte[] pin)
            +CardTransactionService processVerifyPin (String pin)

            +CardTransactionService processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionService processClosing ()
            +CardTransactionService processCancel ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting {
            +CardSecuritySetting enableMultipleSession ()
            +CardSecuritySetting enableRatificationMechanism ()
            +CardSecuritySetting enablePinPlainTransmission ()
            +CardSecuritySetting enableTransactionAudit ()
            +CardSecuritySetting enableSvLoadAndDebitLog ()
            +CardSecuritySetting authorizeSvNegativeBalance ()

            +CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)
            +CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)
            +CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)

            +CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)
            +CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)

            +CardSecuritySetting setPinCipheringKey (byte kif, byte kvc)

            +<back:yellow>CardReader</back> getSamReader ()
            +CalypsoSam getCalypsoSam ()

            +boolean isMultipleSessionEnabled ()
            +boolean isRatificationMechanismEnabled ()
            +boolean isPinPlainTransmissionEnabled ()
            +boolean isTransactionAuditEnabled ()
            +boolean isSvLoadAndDebitLogEnabled ()
            +boolean isSvNegativeBalanceAuthorized ()

            +Byte getKif (WriteAccessLevel writeAccessLevel, byte kvc)
            +Byte getDefaultKif (WriteAccessLevel writeAccessLevel)
            +Byte getDefaultKvc (WriteAccessLevel writeAccessLevel)

            +boolean isSessionKeyAuthorized (byte kif, byte kvc)
            +boolean isSvKeyAuthorized (byte kif, byte kvc)

            +byte getPinCipheringKif ()
            +byte getPinCipheringKvc ()
        }
    }
}

' Associations

CardTransactionService .up.> WriteAccessLevel #C_USE : use >
CardTransactionService ..> SvOperation #C_USE : use >
CardTransactionService ..> SvAction #C_USE : use >
CardTransactionService .up.> SelectFileControl #C_USE : use >
CardTransactionService ..> CalypsoCard #C_LINK : provide >
CardTransactionService ..> CardSecuritySetting #C_LINK : provide >

CardSecuritySetting .up.> WriteAccessLevel #C_USE : use >
CardSecuritySetting ..> CalypsoSam #C_LINK : provide >

CalypsoSam +- - SamProductType
CalypsoSam ..> SamProductType #C_LINK : provide >

CalypsoCardSelection .up.> SelectFileControl #C_USE : use >

CalypsoCard ..> DirectoryHeader #C_LINK : provide >
CalypsoCard ..> ElementaryFile #C_LINK : provide >
CalypsoCard +- - CardProductType
CalypsoCard ..> CardProductType #C_LINK : provide >
CalypsoCard ..> SvLoadLogRecord #C_LINK : provide >
CalypsoCard ..> SvDebitLogRecord #C_LINK : provide >

DirectoryHeader ..> WriteAccessLevel #C_USE : use >

ElementaryFile +- - FileType
ElementaryFile ..> FileHeader #C_LINK : provide >
ElementaryFile ..> FileData #C_LINK : provide >

FileHeader ..> FileType #C_LINK : provide >

' == LAYOUT ==

'ProductType -[hidden]- SamCardResourceServiceBuilder

' == STYLE ==

package api #C_GREY1 {}
package card #C_GREY2 {}
package sam #C_GREY2 {}
package transaction #C_GREY2 {}


@enduml

@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.0 (04/06/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
end legend

package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum WriteAccessLevel {
        PERSONALIZATION
        LOAD
        DEBIT
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }

    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            +CalypsoCardSelection prepareSelectFile (byte[] lid)
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)

            +CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)
            - - **CardSelection** - -
            +<back:yellow>CardSelector</back> getCardSelector ()
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            +ProductType getProductType ()

            +byte[] getDfName ()
            +byte[] getApplicationSerialNumber ()

            +byte[] getStartupInfoRawData ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()

            +boolean isConfidentialSessionModeSupported ()
            +boolean isDeselectRatificationSupported ()
            +boolean isPublicAuthenticationSupported ()

            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +Map<Byte, ElementaryFile> getAllFiles ()

            +boolean isDfInvalidated ()
            +boolean isDfRatified ()

            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()

            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            +short getLid ()
            +byte getDfStatus ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +boolean isKifAvailable (WriteAccessLevel writeAccessLevel)
            +byte getKif (WriteAccessLevel writeAccessLevel)

            +boolean isKvcAvailable (WriteAccessLevel writeAccessLevel)
            +byte getKvc (WriteAccessLevel writeAccessLevel)
        }
        +interface ElementaryFile {
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()

            +int getRecordsNumber ()
            +int getRecordSize ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +boolean isShared ()
            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()

            +int getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "ProductType" as CardProductType {
            PRIME_REV1_0
            PRIME_REV2_4
            PRIME_REV3
            HCE
            LIGHT
            BASIC
        }
        +interface SvLoadLogRecord {
            +byte[] getRawData ()

            +byte[] getLoadDate ()
            +byte[] getLoadTime ()

            +int getAmount ()
            +int getBalance ()
            +byte[] getFreeData ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
        +interface SvDebitLogRecord {
            +byte[] getRawData ()

            +byte[] getDebitDate ()
            +byte[] getDebitTime ()

            +int getAmount ()
            +int getBalance ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
    }
    package sam {
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +ProductType getProductType ()
            +String getProductInfo ()

            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
        }
        +enum "ProductType" as SamProductType {
            SAM_C1
            SAM_S1E1
            SAM_S1Dx
            CSAM_F
        }
    }
    package transaction {
        +interface CardTransactionService {
            +<back:yellow>CardReader</back> getCardReader ()
            +CalypsoCard getCalypsoCard ()
            +CardSecuritySetting getCardSecuritySetting ()
            +String getTransactionAuditData ()

            +CardTransactionService prepareSelectFile (byte[] lid)
            +CardTransactionService prepareSelectFile (SelectFileControl control)

            +CardTransactionService prepareReadRecordFile (byte sfi, int recordNumber)
            +CardTransactionService prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)
            +CardTransactionService prepareReadCounterFile (byte sfi, int countersNumber)

            +CardTransactionService prepareCheckPinStatus ()

            +CardTransactionService prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionService prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionService prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)

            +CardTransactionService prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionService prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionService prepareSetCounter (byte sfi, int counterNumber, int newValue)

            +CardTransactionService prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionService prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionService prepareSvReload (int amount)
            +CardTransactionService prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionService prepareSvDebit (int amount)
            +CardTransactionService prepareSvReadAllLogs ()

            +CardTransactionService prepareInvalidate ()
            +CardTransactionService prepareRehabilitate ()

            +CardTransactionService prepareReleaseCardChannel ()

            +CardTransactionService processCardCommands ()

            +CardTransactionService processVerifyPin (byte[] pin)
            +CardTransactionService processVerifyPin (String pin)

            +CardTransactionService processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionService processClosing ()
            +CardTransactionService processCancel ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting {
            +CardSecuritySetting enableMultipleSession ()
            +CardSecuritySetting enableRatificationMechanism ()
            +CardSecuritySetting enablePinPlainTransmission ()
            +CardSecuritySetting enableTransactionAudit ()
            +CardSecuritySetting enableSvLoadAndDebitLog ()
            +CardSecuritySetting authorizeSvNegativeBalance ()

            +CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)
            +CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)
            +CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)

            +CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)
            +CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)

            +CardSecuritySetting setPinCipheringKey (byte kif, byte kvc)

            +<back:yellow>CardReader</back> getSamReader ()
            +CalypsoSam getCalypsoSam ()

            +boolean isMultipleSessionEnabled ()
            +boolean isRatificationMechanismEnabled ()
            +boolean isPinPlainTransmissionEnabled ()
            +boolean isTransactionAuditEnabled ()
            +boolean isSvLoadAndDebitLogEnabled ()
            +boolean isSvNegativeBalanceAuthorized ()

            +Byte getKif (WriteAccessLevel writeAccessLevel, byte kvc)
            +Byte getDefaultKif (WriteAccessLevel writeAccessLevel)
            +Byte getDefaultKvc (WriteAccessLevel writeAccessLevel)

            +boolean isSessionKeyAuthorized (byte kif, byte kvc)
            +boolean isSvKeyAuthorized (byte kif, byte kvc)

            +byte getPinCipheringKif ()
            +byte getPinCipheringKvc ()
        }
    }
}


CardTransactionService .up.> WriteAccessLevel #27AE60 : use >
CardTransactionService ..> SvOperation #27AE60 : use >
CardTransactionService ..> SvAction #27AE60 : use >
CardTransactionService .up.> SelectFileControl #27AE60 : use >
CardTransactionService ..> CalypsoCard #3498DB : provide >
CardTransactionService ..> CardSecuritySetting #3498DB : provide >

CardSecuritySetting .up.> WriteAccessLevel #27AE60 : use >
CardSecuritySetting ..> CalypsoSam #3498DB : provide >

CalypsoSam +- - SamProductType
CalypsoSam ..> SamProductType #3498DB : provide >

CalypsoCardSelection .up.> SelectFileControl #27AE60 : use >

CalypsoCard ..> DirectoryHeader #3498DB : provide >
CalypsoCard ..> ElementaryFile #3498DB : provide >
CalypsoCard +- - CardProductType
CalypsoCard ..> CardProductType #3498DB : provide >
CalypsoCard ..> SvLoadLogRecord #3498DB : provide >
CalypsoCard ..> SvDebitLogRecord #3498DB : provide >

DirectoryHeader ..> WriteAccessLevel #27AE60 : use >

ElementaryFile +- - FileType
ElementaryFile ..> FileHeader #3498DB : provide >
ElementaryFile ..> FileData #3498DB : provide >

FileHeader ..> FileType #3498DB : provide >




package api #F8F9F9 {}
package card #F2F3F4 {}
package sam #F2F3F4 {}
package transaction #F2F3F4 {}


@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>