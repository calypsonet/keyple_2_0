<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3215px" preserveAspectRatio="none" style="width:3835px;height:3215px;background:#FFFFFF;" version="1.1" viewBox="0 0 3835 3215" width="3835px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1340" x="1231.25" y="46.7139">Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (07/06/2021)</text><!--MD5=[a5decc184066de113c6f9732c0892d3a]
cluster readerApi--><polygon fill="#F8F9F9" points="40,157.4927,595,157.4927,612.5,216.5161,3792.5,216.5161,3792.5,3199.9927,40,3199.9927,40,157.4927" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="612.5" y1="216.5161" y2="216.5161"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="540" x="50" y="198.8257">org.calypsonet.terminal.reader</text><!--MD5=[0af762fd8359575df4da93533d6338ab]
cluster readerSpi--><polygon fill="#F2F3F4" points="2205,1832.4927,2272.5,1832.4927,2290,1891.5161,3672.5,1891.5161,3672.5,2202.4927,2205,2202.4927,2205,1832.4927" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="2205" x2="2290" y1="1891.5161" y2="1891.5161"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="2215" y="1873.8257">spi</text><!--MD5=[2ef70ab4f822c198fdf53fd79da95100]
cluster selectionApi--><polygon fill="#F2F3F4" points="100,267.4927,277.5,267.4927,295,326.5161,1722.5,326.5161,1722.5,2262.4927,100,2262.4927,100,267.4927" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="100" x2="295" y1="326.5161" y2="326.5161"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="162.5" x="110" y="308.8257">selection</text><!--MD5=[c96d8bee8ec60da1ef6ad554183a6a76]
cluster selectionSpi--><polygon fill="#E5E7E9" points="160,1832.4927,227.5,1832.4927,245,1891.5161,1167.5,1891.5161,1167.5,2202.4927,160,2202.4927,160,1832.4927" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="160" x2="245" y1="1891.5161" y2="1891.5161"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="170" y="1873.8257">spi</text><!--MD5=[0dee1c75f9ece47f254a0a355731a0bb]
class ReaderCommunicationException--><rect codeLine="144" fill="#FEFECE" height="244.2383" id="ReaderCommunicationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="665" x="142.5" y="2848.7427"/><ellipse cx="225" cy="2898.9771" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M230,2890.2271 Q230.5078,2888.9771 231.0938,2888.3521 Q231.6797,2887.7271 232.3438,2887.7271 Q233.5156,2887.7271 234.2578,2888.4302 Q235,2889.1333 235,2890.7739 L235,2894.6802 Q235,2896.3208 234.2969,2897.0239 Q233.5938,2897.7271 232.5,2897.7271 Q231.5234,2897.7271 230.8984,2897.2974 Q230.2734,2896.8677 230,2895.7349 Q229.8828,2894.9536 229.4531,2894.5239 Q228.6719,2893.7036 227.2656,2893.2349 Q225.8594,2892.7271 224.4531,2892.7271 Q222.6953,2892.7271 221.2109,2893.4302 Q219.7656,2894.1333 218.6328,2895.6958 Q217.5,2897.2583 217.5,2899.4067 L217.5,2901.7114 Q217.5,2904.2896 219.6094,2906.0083 Q221.7188,2907.7271 225.4688,2907.7271 Q227.6953,2907.7271 229.2578,2907.2192 Q230.1563,2906.9458 231.1719,2906.0474 Q231.8359,2905.5396 232.1875,2905.3833 Q232.5391,2905.2271 232.9688,2905.2271 Q233.7891,2905.2271 234.375,2905.8911 Q235,2906.5161 235,2907.4146 Q235,2908.2739 234.1406,2909.2896 Q232.8906,2910.7739 230.8984,2911.5942 Q228.2813,2912.7271 225.0781,2912.7271 Q221.3281,2912.7271 218.3203,2911.2427 Q215.8984,2910.0708 214.1797,2907.5317 Q212.5,2904.9927 212.5,2901.9849 L212.5,2899.2505 Q212.5,2896.1255 213.9844,2893.3911 Q215.5078,2890.6567 218.125,2889.2114 Q220.7813,2887.7271 223.75,2887.7271 Q225.5469,2887.7271 227.1094,2888.3521 Q228.6719,2888.9771 230,2890.2271 Z " fill="#000000"/><ellipse cx="282.5" cy="2897.7271" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="365" y="2892.3853">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="457.5" x="297.5" y="2930.1196">ReaderCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="145" x2="805" y1="2949.2114" y2="2949.2114"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="145" x2="805" y1="2969.2114" y2="2969.2114"/><ellipse cx="170" cy="2996.7114" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="600" x="192.5" y="3007.7588">ReaderCommunicationException (String message)</text><ellipse cx="170" cy="3031.3013" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="597.5" x="192.5" y="3042.3486">ReaderCommunicationException (String message,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="252.5" y="3076.9385">Throwable cause)</text><!--MD5=[3f64bfe3b1698c1197202681f77be61a]
class ReaderProtocolNotSupportedException--><rect codeLine="149" fill="#FEFECE" height="175.0586" id="ReaderProtocolNotSupportedException" style="stroke:#D4AC0D;stroke-width:3.75;" width="790" x="80" y="2447.4927"/><ellipse cx="181.625" cy="2497.7271" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M186.625,2488.9771 Q187.1328,2487.7271 187.7188,2487.1021 Q188.3047,2486.4771 188.9688,2486.4771 Q190.1406,2486.4771 190.8828,2487.1802 Q191.625,2487.8833 191.625,2489.5239 L191.625,2493.4302 Q191.625,2495.0708 190.9219,2495.7739 Q190.2188,2496.4771 189.125,2496.4771 Q188.1484,2496.4771 187.5234,2496.0474 Q186.8984,2495.6177 186.625,2494.4849 Q186.5078,2493.7036 186.0781,2493.2739 Q185.2969,2492.4536 183.8906,2491.9849 Q182.4844,2491.4771 181.0781,2491.4771 Q179.3203,2491.4771 177.8359,2492.1802 Q176.3906,2492.8833 175.2578,2494.4458 Q174.125,2496.0083 174.125,2498.1567 L174.125,2500.4614 Q174.125,2503.0396 176.2344,2504.7583 Q178.3438,2506.4771 182.0938,2506.4771 Q184.3203,2506.4771 185.8828,2505.9692 Q186.7813,2505.6958 187.7969,2504.7974 Q188.4609,2504.2896 188.8125,2504.1333 Q189.1641,2503.9771 189.5938,2503.9771 Q190.4141,2503.9771 191,2504.6411 Q191.625,2505.2661 191.625,2506.1646 Q191.625,2507.0239 190.7656,2508.0396 Q189.5156,2509.5239 187.5234,2510.3442 Q184.9063,2511.4771 181.7031,2511.4771 Q177.9531,2511.4771 174.9453,2509.9927 Q172.5234,2508.8208 170.8047,2506.2817 Q169.125,2503.7427 169.125,2500.7349 L169.125,2498.0005 Q169.125,2494.8755 170.6094,2492.1411 Q172.1328,2489.4067 174.75,2487.9614 Q177.4063,2486.4771 180.375,2486.4771 Q182.1719,2486.4771 183.7344,2487.1021 Q185.2969,2487.7271 186.625,2488.9771 Z " fill="#000000"/><ellipse cx="243.375" cy="2496.4771" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="367.125" y="2491.1353">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="540" x="258.375" y="2528.8696">ReaderProtocolNotSupportedException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="82.5" x2="867.5" y1="2547.9614" y2="2547.9614"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="82.5" x2="867.5" y1="2567.9614" y2="2567.9614"/><ellipse cx="107.5" cy="2595.4614" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="725" x="130" y="2606.5088">ReaderProtocolNotSupportedException (String cardProtocol)</text><!--MD5=[32fc7b65f340d78e9416d68a58b55b2e]
class CardCommunicationException--><rect codeLine="152" fill="#FEFECE" height="244.2383" id="CardCommunicationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="635" x="895" y="2848.7427"/><ellipse cx="979.75" cy="2898.9771" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M984.75,2890.2271 Q985.2578,2888.9771 985.8438,2888.3521 Q986.4297,2887.7271 987.0938,2887.7271 Q988.2656,2887.7271 989.0078,2888.4302 Q989.75,2889.1333 989.75,2890.7739 L989.75,2894.6802 Q989.75,2896.3208 989.0469,2897.0239 Q988.3438,2897.7271 987.25,2897.7271 Q986.2734,2897.7271 985.6484,2897.2974 Q985.0234,2896.8677 984.75,2895.7349 Q984.6328,2894.9536 984.2031,2894.5239 Q983.4219,2893.7036 982.0156,2893.2349 Q980.6094,2892.7271 979.2031,2892.7271 Q977.4453,2892.7271 975.9609,2893.4302 Q974.5156,2894.1333 973.3828,2895.6958 Q972.25,2897.2583 972.25,2899.4067 L972.25,2901.7114 Q972.25,2904.2896 974.3594,2906.0083 Q976.4688,2907.7271 980.2188,2907.7271 Q982.4453,2907.7271 984.0078,2907.2192 Q984.9063,2906.9458 985.9219,2906.0474 Q986.5859,2905.5396 986.9375,2905.3833 Q987.2891,2905.2271 987.7188,2905.2271 Q988.5391,2905.2271 989.125,2905.8911 Q989.75,2906.5161 989.75,2907.4146 Q989.75,2908.2739 988.8906,2909.2896 Q987.6406,2910.7739 985.6484,2911.5942 Q983.0313,2912.7271 979.8281,2912.7271 Q976.0781,2912.7271 973.0703,2911.2427 Q970.6484,2910.0708 968.9297,2907.5317 Q967.25,2904.9927 967.25,2901.9849 L967.25,2899.2505 Q967.25,2896.1255 968.7344,2893.3911 Q970.2578,2890.6567 972.875,2889.2114 Q975.5313,2887.7271 978.5,2887.7271 Q980.2969,2887.7271 981.8594,2888.3521 Q983.4219,2888.9771 984.75,2890.2271 Z " fill="#000000"/><ellipse cx="1037.75" cy="2897.7271" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="1102.75" y="2892.3853">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="422.5" x="1052.75" y="2930.1196">CardCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="897.5" x2="1527.5" y1="2949.2114" y2="2949.2114"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="897.5" x2="1527.5" y1="2969.2114" y2="2969.2114"/><ellipse cx="922.5" cy="2996.7114" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="570" x="945" y="3007.7588">CardCommunicationException (String message)</text><ellipse cx="922.5" cy="3031.3013" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="567.5" x="945" y="3042.3486">CardCommunicationException (String message,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="1005" y="3076.9385">Throwable cause)</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="50" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="462.5" x="1823.75" y="579.9927"/><ellipse cx="1861.25" cy="619.9927" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1866.25,611.2427 Q1866.7578,609.9927 1867.3438,609.3677 Q1867.9297,608.7427 1868.5938,608.7427 Q1869.7656,608.7427 1870.5078,609.4458 Q1871.25,610.1489 1871.25,611.7896 L1871.25,615.6958 Q1871.25,617.3364 1870.5469,618.0396 Q1869.8438,618.7427 1868.75,618.7427 Q1867.7734,618.7427 1867.1484,618.313 Q1866.5234,617.8833 1866.25,616.7505 Q1866.1328,615.9692 1865.7031,615.5396 Q1864.9219,614.7192 1863.5156,614.2505 Q1862.1094,613.7427 1860.7031,613.7427 Q1858.9453,613.7427 1857.4609,614.4458 Q1856.0156,615.1489 1854.8828,616.7114 Q1853.75,618.2739 1853.75,620.4224 L1853.75,622.7271 Q1853.75,625.3052 1855.8594,627.0239 Q1857.9688,628.7427 1861.7188,628.7427 Q1863.9453,628.7427 1865.5078,628.2349 Q1866.4063,627.9614 1867.4219,627.063 Q1868.0859,626.5552 1868.4375,626.3989 Q1868.7891,626.2427 1869.2188,626.2427 Q1870.0391,626.2427 1870.625,626.9067 Q1871.25,627.5317 1871.25,628.4302 Q1871.25,629.2896 1870.3906,630.3052 Q1869.1406,631.7896 1867.1484,632.6099 Q1864.5313,633.7427 1861.3281,633.7427 Q1857.5781,633.7427 1854.5703,632.2583 Q1852.1484,631.0864 1850.4297,628.5474 Q1848.75,626.0083 1848.75,623.0005 L1848.75,620.2661 Q1848.75,617.1411 1850.2344,614.4067 Q1851.7578,611.6724 1854.375,610.2271 Q1857.0313,608.7427 1860,608.7427 Q1861.7969,608.7427 1863.3594,609.3677 Q1864.9219,609.9927 1866.25,611.2427 Z " fill="#000000"/><ellipse cx="1908.75" cy="618.7427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1923.75" y="632.2681">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="287.5" x="1991.25" y="632.2681">ReaderApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1826.25" x2="2283.75" y1="659.9927" y2="659.9927"/><ellipse cx="1851.25" cy="687.4927" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="1873.75" y="698.54">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="1938.75" y="698.54">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1826.25" x2="2283.75" y1="714.5825" y2="714.5825"/><!--MD5=[9b9eb2a75cf02134ca888acb9ec1b2e1]
class CardReader--><rect codeLine="53" fill="#FEFECE" height="327.5391" id="CardReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="842.5" x="2373.75" y="493.7427"/><ellipse cx="2685.625" cy="533.7427" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2688.125,526.2427 L2688.125,541.2427 L2693.125,541.2427 L2694.3359,541.2427 L2695.625,542.8052 L2695.625,543.7427 L2695.625,544.6802 L2694.3359,546.2427 L2693.125,546.2427 L2678.125,546.2427 L2676.9141,546.2427 L2675.625,544.6802 L2675.625,543.7427 L2675.625,542.8052 L2676.9141,541.2427 L2678.125,541.2427 L2683.125,541.2427 L2683.125,526.2427 L2678.125,526.2427 L2676.9141,526.2427 L2675.625,524.6802 L2675.625,523.7427 L2675.625,522.8052 L2676.9141,521.2427 L2678.125,521.2427 L2693.125,521.2427 L2694.3359,521.2427 L2695.625,522.8052 L2695.625,523.7427 L2695.625,524.6802 L2694.3359,526.2427 L2693.125,526.2427 L2688.125,526.2427 Z " fill="#000000"/><ellipse cx="2749.375" cy="532.4927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="170" x="2764.375" y="546.0181">CardReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2376.25" x2="3213.75" y1="573.7427" y2="573.7427"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2376.25" x2="3213.75" y1="593.7427" y2="593.7427"/><ellipse cx="2401.25" cy="621.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2423.75" y="632.29">String getName ()</text><ellipse cx="2401.25" cy="655.8325" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="292.5" x="2423.75" y="666.8799">boolean isContactless ()</text><ellipse cx="2401.25" cy="690.4224" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="300" x="2423.75" y="701.4697">boolean isCardPresent ()</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="2431.25" y="736.0596"/><ellipse cx="2401.25" cy="759.6021" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="777.5" x="2423.75" y="770.6494">void activateProtocol (String readerProtocol, String cardProtocol)</text><ellipse cx="2401.25" cy="794.1919" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="562.5" x="2423.75" y="805.2393">void deactivateProtocol (String readerProtocol)</text><!--MD5=[d49bae05a0ef9926e55d34fb069365d5]
class ObservableCardReader--><rect codeLine="61" fill="#FEFECE" height="569.668" id="ObservableCardReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="892.5" x="2526.25" y="1102.4927"/><ellipse cx="2781.875" cy="1142.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2784.375,1134.9927 L2784.375,1149.9927 L2789.375,1149.9927 L2790.5859,1149.9927 L2791.875,1151.5552 L2791.875,1152.4927 L2791.875,1153.4302 L2790.5859,1154.9927 L2789.375,1154.9927 L2774.375,1154.9927 L2773.1641,1154.9927 L2771.875,1153.4302 L2771.875,1152.4927 L2771.875,1151.5552 L2773.1641,1149.9927 L2774.375,1149.9927 L2779.375,1149.9927 L2779.375,1134.9927 L2774.375,1134.9927 L2773.1641,1134.9927 L2771.875,1133.4302 L2771.875,1132.4927 L2771.875,1131.5552 L2773.1641,1129.9927 L2774.375,1129.9927 L2789.375,1129.9927 L2790.5859,1129.9927 L2791.875,1131.5552 L2791.875,1132.4927 L2791.875,1133.4302 L2790.5859,1134.9927 L2789.375,1134.9927 L2784.375,1134.9927 Z " fill="#000000"/><ellipse cx="2845.625" cy="1141.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="332.5" x="2860.625" y="1154.7681">ObservableCardReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2528.75" x2="3416.25" y1="1182.4927" y2="1182.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2528.75" x2="3416.25" y1="1202.4927" y2="1202.4927"/><ellipse cx="2553.75" cy="1229.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="512.5" x="2576.25" y="1241.04">void setEventNotificationExecutorService (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="617.5" x="2636.25" y="1275.6299">ExecutorService eventNotificationExecutorService)</text><ellipse cx="2553.75" cy="1299.1724" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="557.5" x="2576.25" y="1310.2197">void setReaderObservationExceptionHandler (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="767.5" x="2636.25" y="1344.8096">CardReaderObservationExceptionHandlerSpi exceptionHandler)</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="2583.75" y="1379.3994"/><ellipse cx="2553.75" cy="1402.9419" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="660" x="2576.25" y="1413.9893">void addObserver (CardReaderObserverSpi observer)</text><ellipse cx="2553.75" cy="1437.5317" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="705" x="2576.25" y="1448.5791">void removeObserver (CardReaderObserverSpi observer)</text><ellipse cx="2553.75" cy="1472.1216" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="2576.25" y="1483.1689">void clearObservers ()</text><ellipse cx="2553.75" cy="1506.7114" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="2576.25" y="1517.7588">int countObservers ()</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="2583.75" y="1552.3486"/><ellipse cx="2553.75" cy="1575.8911" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="670" x="2576.25" y="1586.9385">void startCardDetection (DetectionMode detectionMode)</text><ellipse cx="2553.75" cy="1610.481" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="307.5" x="2576.25" y="1621.5283">void stopCardDetection ()</text><ellipse cx="2553.75" cy="1645.0708" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="2576.25" y="1656.1182">void finalizeCardProcessing ()</text><!--MD5=[f9e56a49e679096f1681e872e7fe17dc]
class DetectionMode--><rect codeLine="76" fill="#FEFECE" height="189.1797" id="DetectionMode" style="stroke:#D4AC0D;stroke-width:3.75;" width="312.5" x="2036.25" y="1292.4927"/><ellipse cx="2073.75" cy="1332.4927" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M2070,1334.9927 L2070,1339.9927 L2080,1339.9927 L2080,1337.4927 L2080,1336.2817 L2081.5625,1334.9927 L2082.5,1334.9927 L2083.4375,1334.9927 L2085,1336.2817 L2085,1337.4927 L2085,1344.9927 L2065,1344.9927 L2063.7891,1344.9927 L2062.5,1343.4302 L2062.5,1342.4927 L2062.5,1341.5552 L2063.7891,1339.9927 L2065,1339.9927 L2065,1339.9927 L2065,1324.9927 L2065,1324.9927 L2063.7891,1324.9927 L2062.5,1323.4302 L2062.5,1322.4927 L2062.5,1321.5552 L2063.7891,1319.9927 L2065,1319.9927 L2085,1319.9927 L2085,1327.4927 L2085,1328.7036 L2083.4375,1329.9927 L2082.5,1329.9927 L2081.5625,1329.9927 L2080,1328.7036 L2080,1327.4927 L2080,1324.9927 L2070,1324.9927 L2070,1329.9927 L2072.5,1329.9927 L2072.5,1328.7817 L2072.5,1328.7817 L2074.0625,1327.4927 L2075,1327.4927 L2075.9375,1327.4927 L2077.5,1328.7817 L2077.5,1329.9927 L2077.5,1334.9927 L2077.5,1336.2036 L2075.9375,1337.4927 L2075.9375,1337.4927 L2075,1337.4927 L2074.0625,1337.4927 L2072.5,1336.2036 L2072.5,1336.2036 L2072.5,1334.9927 L2070,1334.9927 Z " fill="#000000"/><ellipse cx="2121.25" cy="1331.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="205" x="2136.25" y="1344.7681">DetectionMode</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2038.75" x2="2346.25" y1="1372.4927" y2="1372.4927"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="140" x="2051.25" y="1411.04">REPEATING</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="160" x="2051.25" y="1445.6299">SINGLESHOT</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2038.75" x2="2346.25" y1="1461.6724" y2="1461.6724"/><!--MD5=[b4b6a5721e02f7cea6ba89274ea67351]
class NotificationMode--><rect codeLine="80" fill="#FEFECE" height="189.1797" id="NotificationMode" style="stroke:#D4AC0D;stroke-width:3.75;" width="335" x="1822.5" y="1972.4927"/><ellipse cx="1860" cy="2012.4927" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1856.25,2014.9927 L1856.25,2019.9927 L1866.25,2019.9927 L1866.25,2017.4927 L1866.25,2016.2817 L1867.8125,2014.9927 L1868.75,2014.9927 L1869.6875,2014.9927 L1871.25,2016.2817 L1871.25,2017.4927 L1871.25,2024.9927 L1851.25,2024.9927 L1850.0391,2024.9927 L1848.75,2023.4302 L1848.75,2022.4927 L1848.75,2021.5552 L1850.0391,2019.9927 L1851.25,2019.9927 L1851.25,2019.9927 L1851.25,2004.9927 L1851.25,2004.9927 L1850.0391,2004.9927 L1848.75,2003.4302 L1848.75,2002.4927 L1848.75,2001.5552 L1850.0391,1999.9927 L1851.25,1999.9927 L1871.25,1999.9927 L1871.25,2007.4927 L1871.25,2008.7036 L1869.6875,2009.9927 L1868.75,2009.9927 L1867.8125,2009.9927 L1866.25,2008.7036 L1866.25,2007.4927 L1866.25,2004.9927 L1856.25,2004.9927 L1856.25,2009.9927 L1858.75,2009.9927 L1858.75,2008.7817 L1858.75,2008.7817 L1860.3125,2007.4927 L1861.25,2007.4927 L1862.1875,2007.4927 L1863.75,2008.7817 L1863.75,2009.9927 L1863.75,2014.9927 L1863.75,2016.2036 L1862.1875,2017.4927 L1862.1875,2017.4927 L1861.25,2017.4927 L1860.3125,2017.4927 L1858.75,2016.2036 L1858.75,2016.2036 L1858.75,2014.9927 L1856.25,2014.9927 Z " fill="#000000"/><ellipse cx="1907.5" cy="2011.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="227.5" x="1922.5" y="2024.7681">NotificationMode</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1825" x2="2155" y1="2052.4927" y2="2052.4927"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="117.5" x="1837.5" y="2091.04">ALWAYS</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1837.5" y="2125.6299">MATCHED_ONLY</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1825" x2="2155" y1="2141.6724" y2="2141.6724"/><!--MD5=[0929af63d3085909faf7f6bf84f6ab77]
class CardReaderEvent--><rect codeLine="84" fill="#FEFECE" height="223.7695" id="CardReaderEvent" style="stroke:#D4AC0D;stroke-width:3.75;" width="1002.5" x="1873.75" y="2422.4927"/><ellipse cx="2226.875" cy="2462.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2229.375,2454.9927 L2229.375,2469.9927 L2234.375,2469.9927 L2235.5859,2469.9927 L2236.875,2471.5552 L2236.875,2472.4927 L2236.875,2473.4302 L2235.5859,2474.9927 L2234.375,2474.9927 L2219.375,2474.9927 L2218.1641,2474.9927 L2216.875,2473.4302 L2216.875,2472.4927 L2216.875,2471.5552 L2218.1641,2469.9927 L2219.375,2469.9927 L2224.375,2469.9927 L2224.375,2454.9927 L2219.375,2454.9927 L2218.1641,2454.9927 L2216.875,2453.4302 L2216.875,2452.4927 L2216.875,2451.5552 L2218.1641,2449.9927 L2219.375,2449.9927 L2234.375,2449.9927 L2235.5859,2449.9927 L2236.875,2451.5552 L2236.875,2452.4927 L2236.875,2453.4302 L2235.5859,2454.9927 L2234.375,2454.9927 L2229.375,2454.9927 Z " fill="#000000"/><ellipse cx="2290.625" cy="2461.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="247.5" x="2305.625" y="2474.7681">CardReaderEvent</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1876.25" x2="2873.75" y1="2502.4927" y2="2502.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1876.25" x2="2873.75" y1="2522.4927" y2="2522.4927"/><ellipse cx="1901.25" cy="2549.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="297.5" x="1923.75" y="2561.04">String getReaderName ()</text><ellipse cx="1901.25" cy="2584.5825" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="192.5" x="1923.75" y="2595.6299">Type getType ()</text><ellipse cx="1901.25" cy="2619.1724" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="937.5" x="1923.75" y="2630.2197">ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()</text><!--MD5=[8c5299a29afee59ed68e59a232a2321d]
class CardReaderEventType--><rect codeLine="89" fill="#FEFECE" height="258.3594" id="CardReaderEventType" style="stroke:#D4AC0D;stroke-width:3.75;" width="242.5" x="2251.25" y="2842.4927"/><ellipse cx="2319.125" cy="2882.4927" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M2315.375,2884.9927 L2315.375,2889.9927 L2325.375,2889.9927 L2325.375,2887.4927 L2325.375,2886.2817 L2326.9375,2884.9927 L2327.875,2884.9927 L2328.8125,2884.9927 L2330.375,2886.2817 L2330.375,2887.4927 L2330.375,2894.9927 L2310.375,2894.9927 L2309.1641,2894.9927 L2307.875,2893.4302 L2307.875,2892.4927 L2307.875,2891.5552 L2309.1641,2889.9927 L2310.375,2889.9927 L2310.375,2889.9927 L2310.375,2874.9927 L2310.375,2874.9927 L2309.1641,2874.9927 L2307.875,2873.4302 L2307.875,2872.4927 L2307.875,2871.5552 L2309.1641,2869.9927 L2310.375,2869.9927 L2330.375,2869.9927 L2330.375,2877.4927 L2330.375,2878.7036 L2328.8125,2879.9927 L2327.875,2879.9927 L2326.9375,2879.9927 L2325.375,2878.7036 L2325.375,2877.4927 L2325.375,2874.9927 L2315.375,2874.9927 L2315.375,2879.9927 L2317.875,2879.9927 L2317.875,2878.7817 L2317.875,2878.7817 L2319.4375,2877.4927 L2320.375,2877.4927 L2321.3125,2877.4927 L2322.875,2878.7817 L2322.875,2879.9927 L2322.875,2884.9927 L2322.875,2886.2036 L2321.3125,2887.4927 L2321.3125,2887.4927 L2320.375,2887.4927 L2319.4375,2887.4927 L2317.875,2886.2036 L2317.875,2886.2036 L2317.875,2884.9927 L2315.375,2884.9927 Z " fill="#000000"/><ellipse cx="2373.375" cy="2881.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="67.5" x="2388.375" y="2894.7681">Type</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2253.75" x2="2491.25" y1="2922.4927" y2="2922.4927"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="207.5" x="2266.25" y="2961.04">CARD_INSERTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2266.25" y="2995.6299">CARD_MATCHED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="212.5" x="2266.25" y="3030.2197">CARD_REMOVED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="2266.25" y="3064.8096">UNAVAILABLE</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2253.75" x2="2491.25" y1="3080.8521" y2="3080.8521"/><!--MD5=[c890fc32568b07397f767fd1f5f57b26]
class CardReaderObserverSpi--><rect codeLine="97" fill="#FEFECE" height="189.1797" id="CardReaderObserverSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="565" x="2245" y="1972.4927"/><ellipse cx="2334.25" cy="2012.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2336.75,2004.9927 L2336.75,2019.9927 L2341.75,2019.9927 L2342.9609,2019.9927 L2344.25,2021.5552 L2344.25,2022.4927 L2344.25,2023.4302 L2342.9609,2024.9927 L2341.75,2024.9927 L2326.75,2024.9927 L2325.5391,2024.9927 L2324.25,2023.4302 L2324.25,2022.4927 L2324.25,2021.5552 L2325.5391,2019.9927 L2326.75,2019.9927 L2331.75,2019.9927 L2331.75,2004.9927 L2326.75,2004.9927 L2325.5391,2004.9927 L2324.25,2003.4302 L2324.25,2002.4927 L2324.25,2001.5552 L2325.5391,1999.9927 L2326.75,1999.9927 L2341.75,1999.9927 L2342.9609,1999.9927 L2344.25,2001.5552 L2344.25,2002.4927 L2344.25,2003.4302 L2342.9609,2004.9927 L2341.75,2004.9927 L2336.75,2004.9927 Z " fill="#000000"/><ellipse cx="2393.25" cy="2011.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="342.5" x="2408.25" y="2024.7681">CardReaderObserverSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2247.5" x2="2807.5" y1="2052.4927" y2="2052.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2247.5" x2="2807.5" y1="2072.4927" y2="2072.4927"/><ellipse cx="2272.5" cy="2099.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="2295" y="2111.04">void onReaderEvent (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="440" x="2355" y="2145.6299">CardReaderEvent cardReaderEvent)</text><!--MD5=[006db6bb96001c5e4b016d87418574ed]
class CardReaderObservationExceptionHandlerSpi--><rect codeLine="101" fill="#FEFECE" height="189.1797" id="CardReaderObservationExceptionHandlerSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="735" x="2897.5" y="1972.4927"/><ellipse cx="2935" cy="2012.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2937.5,2004.9927 L2937.5,2019.9927 L2942.5,2019.9927 L2943.7109,2019.9927 L2945,2021.5552 L2945,2022.4927 L2945,2023.4302 L2943.7109,2024.9927 L2942.5,2024.9927 L2927.5,2024.9927 L2926.2891,2024.9927 L2925,2023.4302 L2925,2022.4927 L2925,2021.5552 L2926.2891,2019.9927 L2927.5,2019.9927 L2932.5,2019.9927 L2932.5,2004.9927 L2927.5,2004.9927 L2926.2891,2004.9927 L2925,2003.4302 L2925,2002.4927 L2925,2001.5552 L2926.2891,1999.9927 L2927.5,1999.9927 L2942.5,1999.9927 L2943.7109,1999.9927 L2945,2001.5552 L2945,2002.4927 L2945,2003.4302 L2943.7109,2004.9927 L2942.5,2004.9927 L2937.5,2004.9927 Z " fill="#000000"/><ellipse cx="2982.5" cy="2011.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="627.5" x="2997.5" y="2024.7681">CardReaderObservationExceptionHandlerSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2900" x2="3630" y1="2052.4927" y2="2052.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2900" x2="3630" y1="2072.4927" y2="2072.4927"/><ellipse cx="2925" cy="2099.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="620" x="2947.5" y="2111.04">void onReaderObservationError (String contextInfo,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="3007.5" y="2145.6299">String readerName, Throwable e)</text><!--MD5=[0edb817d42c74369e16b7a8029bdc747]
class CardSelectionService--><rect codeLine="111" fill="#FEFECE" height="500.4883" id="CardSelectionService" style="stroke:#D4AC0D;stroke-width:3.75;" width="1105" x="577.5" y="407.4927"/><ellipse cx="956.875" cy="447.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M959.375,439.9927 L959.375,454.9927 L964.375,454.9927 L965.5859,454.9927 L966.875,456.5552 L966.875,457.4927 L966.875,458.4302 L965.5859,459.9927 L964.375,459.9927 L949.375,459.9927 L948.1641,459.9927 L946.875,458.4302 L946.875,457.4927 L946.875,456.5552 L948.1641,454.9927 L949.375,454.9927 L954.375,454.9927 L954.375,439.9927 L949.375,439.9927 L948.1641,439.9927 L946.875,438.4302 L946.875,437.4927 L946.875,436.5552 L948.1641,434.9927 L949.375,434.9927 L964.375,434.9927 L965.5859,434.9927 L966.875,436.5552 L966.875,437.4927 L966.875,438.4302 L965.5859,439.9927 L964.375,439.9927 L959.375,439.9927 Z " fill="#000000"/><ellipse cx="1020.625" cy="446.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="297.5" x="1035.625" y="459.7681">CardSelectionService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="580" x2="1680" y1="487.4927" y2="487.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="580" x2="1680" y1="507.4927" y2="507.4927"/><ellipse cx="605" cy="534.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="385" x="627.5" y="546.04">void setMultipleSelectionMode ()</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="635" y="580.6299"/><ellipse cx="605" cy="604.1724" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="627.5" y="615.2197">int prepareSelection (CardSelection cardSelection)</text><ellipse cx="605" cy="638.7622" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="627.5" y="649.8096">void prepareReleaseChannel ()</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="635" y="684.3994"/><ellipse cx="605" cy="707.9419" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="947.5" x="627.5" y="718.9893">CardSelectionResult processCardSelectionScenario (CardReader cardReader)</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="635" y="753.5791"/><ellipse cx="605" cy="777.1216" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1040" x="627.5" y="788.1689">void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="785" x="687.5" y="822.7588">DetectionMode detectionMode, NotificationMode notificationMode)</text><ellipse cx="605" cy="846.3013" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="770" x="627.5" y="857.3486">CardSelectionResult parseScheduledCardSelectionsResponse (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="880" x="687.5" y="891.9385">ScheduledCardSelectionsResponse scheduledCardSelectionsResponse)</text><!--MD5=[b048fcdbdb6b9f6911c1d2807b5ba439]
class CardSelectionResult--><rect codeLine="134" fill="#FEFECE" height="223.7695" id="CardSelectionResult" style="stroke:#D4AC0D;stroke-width:3.75;" width="585" x="140" y="1274.9927"/><ellipse cx="266.875" cy="1314.9927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M269.375,1307.4927 L269.375,1322.4927 L274.375,1322.4927 L275.5859,1322.4927 L276.875,1324.0552 L276.875,1324.9927 L276.875,1325.9302 L275.5859,1327.4927 L274.375,1327.4927 L259.375,1327.4927 L258.1641,1327.4927 L256.875,1325.9302 L256.875,1324.9927 L256.875,1324.0552 L258.1641,1322.4927 L259.375,1322.4927 L264.375,1322.4927 L264.375,1307.4927 L259.375,1307.4927 L258.1641,1307.4927 L256.875,1305.9302 L256.875,1304.9927 L256.875,1304.0552 L258.1641,1302.4927 L259.375,1302.4927 L274.375,1302.4927 L275.5859,1302.4927 L276.875,1304.0552 L276.875,1304.9927 L276.875,1305.9302 L275.5859,1307.4927 L274.375,1307.4927 L269.375,1307.4927 Z " fill="#000000"/><ellipse cx="330.625" cy="1313.7427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="282.5" x="345.625" y="1327.2681">CardSelectionResult</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="142.5" x2="722.5" y1="1354.9927" y2="1354.9927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="142.5" x2="722.5" y1="1374.9927" y2="1374.9927"/><ellipse cx="167.5" cy="1402.4927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="190" y="1413.54">Map&lt;Integer, SmartCard&gt; getSmartCards ()</text><ellipse cx="167.5" cy="1437.0825" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="190" y="1448.1299">SmartCard getActiveSmartCard ()</text><ellipse cx="167.5" cy="1471.6724" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="352.5" x="190" y="1482.7197">int getActiveSelectionIndex ()</text><!--MD5=[0fbebdc936aa14b829c88e48b951a711]
class ScheduledCardSelectionsResponse--><rect codeLine="139" fill="#FEFECE" height="120" id="ScheduledCardSelectionsResponse" style="stroke:#D4AC0D;stroke-width:3.75;" width="605" x="1077.5" y="1327.4927"/><ellipse cx="1115" cy="1367.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1117.5,1359.9927 L1117.5,1374.9927 L1122.5,1374.9927 L1123.7109,1374.9927 L1125,1376.5552 L1125,1377.4927 L1125,1378.4302 L1123.7109,1379.9927 L1122.5,1379.9927 L1107.5,1379.9927 L1106.2891,1379.9927 L1105,1378.4302 L1105,1377.4927 L1105,1376.5552 L1106.2891,1374.9927 L1107.5,1374.9927 L1112.5,1374.9927 L1112.5,1359.9927 L1107.5,1359.9927 L1106.2891,1359.9927 L1105,1358.4302 L1105,1357.4927 L1105,1356.5552 L1106.2891,1354.9927 L1107.5,1354.9927 L1122.5,1354.9927 L1123.7109,1354.9927 L1125,1356.5552 L1125,1357.4927 L1125,1358.4302 L1123.7109,1359.9927 L1122.5,1359.9927 L1117.5,1359.9927 Z " fill="#000000"/><ellipse cx="1162.5" cy="1366.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="497.5" x="1177.5" y="1379.7681">ScheduledCardSelectionsResponse</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1080" x2="1680" y1="1407.4927" y2="1407.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1080" x2="1680" y1="1427.4927" y2="1427.4927"/><!--MD5=[47f0011813555fb489a606ff84d44b55]
class CardSelection--><rect codeLine="127" fill="#FEFECE" height="120" id="CardSelection" style="stroke:#D4AC0D;stroke-width:3.75;" width="302.5" x="823.75" y="2007.4927"/><ellipse cx="861.25" cy="2047.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M863.75,2039.9927 L863.75,2054.9927 L868.75,2054.9927 L869.9609,2054.9927 L871.25,2056.5552 L871.25,2057.4927 L871.25,2058.4302 L869.9609,2059.9927 L868.75,2059.9927 L853.75,2059.9927 L852.5391,2059.9927 L851.25,2058.4302 L851.25,2057.4927 L851.25,2056.5552 L852.5391,2054.9927 L853.75,2054.9927 L858.75,2054.9927 L858.75,2039.9927 L853.75,2039.9927 L852.5391,2039.9927 L851.25,2038.4302 L851.25,2037.4927 L851.25,2036.5552 L852.5391,2034.9927 L853.75,2034.9927 L868.75,2034.9927 L869.9609,2034.9927 L871.25,2036.5552 L871.25,2037.4927 L871.25,2038.4302 L869.9609,2039.9927 L868.75,2039.9927 L863.75,2039.9927 Z " fill="#000000"/><ellipse cx="908.75" cy="2046.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="923.75" y="2059.7681">CardSelection</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="826.25" x2="1123.75" y1="2087.4927" y2="2087.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="826.25" x2="1123.75" y1="2107.4927" y2="2107.4927"/><!--MD5=[4d4351d1dd1d596b03b4778d9849998b]
class SmartCard--><rect codeLine="129" fill="#FEFECE" height="189.1797" id="SmartCard" style="stroke:#D4AC0D;stroke-width:3.75;" width="535" x="200" y="1972.4927"/><ellipse cx="368.125" cy="2012.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M370.625,2004.9927 L370.625,2019.9927 L375.625,2019.9927 L376.8359,2019.9927 L378.125,2021.5552 L378.125,2022.4927 L378.125,2023.4302 L376.8359,2024.9927 L375.625,2024.9927 L360.625,2024.9927 L359.4141,2024.9927 L358.125,2023.4302 L358.125,2022.4927 L358.125,2021.5552 L359.4141,2019.9927 L360.625,2019.9927 L365.625,2019.9927 L365.625,2004.9927 L360.625,2004.9927 L359.4141,2004.9927 L358.125,2003.4302 L358.125,2002.4927 L358.125,2001.5552 L359.4141,1999.9927 L360.625,1999.9927 L375.625,1999.9927 L376.8359,1999.9927 L378.125,2001.5552 L378.125,2002.4927 L378.125,2003.4302 L376.8359,2004.9927 L375.625,2004.9927 L370.625,2004.9927 Z " fill="#000000"/><ellipse cx="431.875" cy="2011.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="446.875" y="2024.7681">SmartCard</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="202.5" x2="732.5" y1="2052.4927" y2="2052.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="202.5" x2="732.5" y1="2072.4927" y2="2072.4927"/><ellipse cx="227.5" cy="2099.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="312.5" x="250" y="2111.04">String getPowerOnData ()</text><ellipse cx="227.5" cy="2134.5825" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="470" x="250" y="2145.6299">byte[] getSelectApplicationResponse ()</text><!--MD5=[40362253147766c9c743cec65354f353]
reverse link CardReader to ObservableCardReader--><path d="M2846.7,871.1502 C2864.35,943.2277 2884.375,1025.0377 2903.175,1101.8477 " fill="none" id="CardReader-backto-ObservableCardReader" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2829.5,874.5227,2834.625,821.7952,2863.5,866.1977,2829.5,874.5227" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[102e1d884686006ef209cb8bf85fc641]
reverse link ObservableCardReader to NotificationMode--><path codeLine="162" d="M2492.785,1618.9727 C2393.2925,1675.9202 2292.28,1741.2852 2205,1812.4927 C2148.3425,1858.7152 2094.9875,1921.2202 2055.6,1972.4752 " fill="none" id="ObservableCardReader-backto-NotificationMode" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="2508.3065" cy="1610.216" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2490.888" x2="2525.725" y1="1620.0442" y2="1600.3877"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2498.4782" x2="2518.1348" y1="1592.7974" y2="1627.6345"/><!--MD5=[66154b3cafeacecd1e2cf8a5b4606cfa]
link DetectionMode to ObservableCardReader--><path codeLine="163" d="M2348.965,1393.5802 C2368.805,1394.1627 2388.835,1394.6602 2407.9175,1394.9927 C2433.8975,1395.4452 2460.55,1395.7227 2487.46,1395.8577 " fill="none" id="DetectionMode-to-ObservableCardReader" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="2505.6251" cy="1395.9062" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2485.6251" x2="2525.625" y1="1395.8548" y2="1395.9577"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2505.6765" x2="2505.5736" y1="1375.9063" y2="1415.9062"/><!--MD5=[dbbe3a95d6beb8e83c2ba54b40633429]
reverse link DetectionMode to ObservableCardReader--><path codeLine="164" d="M2362.445,1387.4927 C2411.715,1387.4927 2467.9525,1387.4927 2525.9,1387.4927 " fill="none" id="DetectionMode-backto-ObservableCardReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2349.4075,1387.4927,2371.9075,1397.4927,2361.9075,1387.4927,2371.9075,1377.4927,2349.4075,1387.4927" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2392.5,1357.9321,2415.1127,1365.2794,2415.1127,1350.5848,2392.5,1357.9321" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2427.5" y="1371.2305">use</text><!--MD5=[f1012a22e38ec6ba8ebae710b6ed7740]
link ObservableCardReader to CardReaderObservationExceptionHandlerSpi--><path codeLine="165" d="M3095.275,1673.3202 C3139.35,1775.0302 3186.35,1883.4827 3219.675,1960.4152 " fill="none" id="ObservableCardReader-to-CardReaderObservationExceptionHandlerSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3224.925,1972.4852,3225.1479,1947.864,3219.9519,1961.017,3206.7989,1955.821,3224.925,1972.4852" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3159.9698,1781.9017,3157.721,1758.2319,3144.2377,1764.0743,3159.9698,1781.9017" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="3177.5" y="1783.7305">use</text><!--MD5=[340f8b1fa6e5f55e3decc3d0782fe370]
reverse link CardReaderEvent to CardReaderEventType--><path codeLine="167" d="M2340.1025,2685.4752 C2338.045,2697.9427 2336.2925,2710.4027 2335,2722.4927 C2330.8175,2761.6227 2334.3475,2804.0502 2340.635,2842.4852 " fill="none" id="CardReaderEvent-backto-CardReaderEventType" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="2343.3477" cy="2668.054" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2339.6828" x2="2347.0125" y1="2687.7154" y2="2648.3927"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2323.6863" x2="2363.009" y1="2664.3892" y2="2671.7189"/><!--MD5=[ea5d4584d91c2420faebe0edaa35dd07]
link CardReaderEvent to CardReaderEventType--><path codeLine="168" d="M2374.355,2648.5502 C2374.0375,2703.5377 2373.65,2770.4977 2373.31,2828.9402 " fill="none" id="CardReaderEvent-to-CardReaderEventType" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2373.235,2842.0452,2383.3634,2819.6027,2373.3064,2829.5454,2363.3637,2819.4884,2373.235,2842.0452" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="2384.9276,2757.9319,2392.4058,2735.3621,2377.7114,2735.277,2384.9276,2757.9319" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2407.5" y="2758.7305">provide</text><!--MD5=[288fe8b4bb69e8cb3939b387d62d61fe]
reverse link ScheduledCardSelectionsResponse to CardReaderEvent--><path codeLine="169" d="M1379.7525,1461.3577 C1383.105,1628.1402 1414.845,2047.1152 1640,2282.4927 C1686.9325,2331.5577 1810.765,2380.7227 1943.7,2422.3127 " fill="none" id="ScheduledCardSelectionsResponse-backto-CardReaderEvent" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1379.535,1447.9002,1369.9027,1470.56,1379.7385,1460.3985,1389.9001,1470.2344,1379.535,1447.9002" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="1646.1733,2057.1515,1651.2817,2080.3726,1663.9551,2072.9351,1646.1733,2057.1515" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1675" y="2081.2305">provide</text><!--MD5=[ec53f9149eb0a5572ddbd98e132e34ec]
link CardSelectionResult to SmartCard--><path codeLine="171" d="M438.24,1500.7002 C444.8225,1627.6202 455.5325,1834.1827 462.0075,1959.0627 " fill="none" id="CardSelectionResult-to-SmartCard" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="462.66,1971.6352,471.4829,1948.6481,462.0135,1959.1519,451.5097,1949.6825,462.66,1971.6352" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="468.1473,1782.9154,474.3138,1759.9525,459.6389,1760.7135,468.1473,1782.9154" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="490" y="1783.7305">provide</text><!--MD5=[eadf68009007b29cbcec9e1404ba9371]
link CardSelectionService to CardSelection--><path codeLine="173" d="M1004.345,908.2777 C978.79,970.1852 955.7025,1037.4902 942.5,1102.4927 C875.975,1429.9977 933.1475,1832.8452 961.41,1993.7277 " fill="none" id="CardSelectionService-to-CardSelection" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="963.72,2006.7152,969.6181,1982.8099,961.5273,1994.409,949.9282,1986.3182,963.72,2006.7152" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="954.5059,1400.4224,962.7413,1378.1177,948.0581,1377.5369,954.5059,1400.4224" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="977.5" y="1401.2305">use</text><!--MD5=[42249140b77a12de43f2de277da3d038]
link CardSelectionService to ScheduledCardSelectionsResponse--><path codeLine="174" d="M1215.685,908.4827 C1265.1975,1052.0627 1323.8675,1222.2102 1355.9925,1315.3727 " fill="none" id="CardSelectionService-to-ScheduledCardSelectionsResponse" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1360.1575,1327.4477,1362.2767,1302.9169,1356.0827,1315.6305,1343.3691,1309.4365,1360.1575,1327.4477" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1271.5749,1017.2493,1271.1493,993.4767,1257.2574,998.267,1271.5749,1017.2493" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1290" y="1018.7305">use</text><!--MD5=[7ba6139df91d5b10dfb19f3b9ece10ea]
link CardSelectionService to CardSelectionResult--><path codeLine="175" d="M816.6175,908.1702 C789.9825,932.5152 764.0625,957.4852 740,982.4927 C655.6825,1070.1252 572.7275,1180.5352 514.27,1263.5427 " fill="none" id="CardSelectionService-to-CardSelectionResult" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="506.545,1274.5527,527.6515,1261.8733,513.7224,1264.3187,511.2771,1250.3895,506.545,1274.5527" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="744.4,1014.9527,764.649,1002.4909,753.457,992.9688,744.4,1014.9527" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="775" y="1018.7305">provide</text><!--MD5=[0f42712be829b9897f4501fa9527391e]
link CardSelectionService to CardReader--><path codeLine="176" d="M1414.6225,407.3927 C1522.39,328.2177 1650.9675,250.7677 1782.5,209.9927 C2014.925,137.9427 2104.3075,119.0427 2330,209.9927 C2467.415,265.3677 2586.95,382.9427 2670.4,483.6677 " fill="none" id="CardSelectionService-to-CardReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2678.35,493.3677,2671.8274,469.6252,2670.4287,483.698,2656.3559,482.2993,2678.35,493.3677" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2007.477,96.19,1985.3513,87.4852,1984.4604,102.1528,2007.477,96.19" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2017.5" y="108.7305">use</text><!--MD5=[e58f155b93f4e19e2b0c8b1ffb2a3ca3]
link CardSelectionService to NotificationMode--><path codeLine="177" d="M1540.625,907.8977 C1609.9425,964.6777 1675.39,1029.9777 1725,1102.4927 C1774.0925,1174.2502 1909.0375,1724.8627 1965.085,1959.5627 " fill="none" id="CardSelectionService-to-NotificationMode" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1968.0175,1971.8552,1972.5255,1947.6492,1965.1179,1959.6961,1953.071,1952.2886,1968.0175,1971.8552" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1912.1784,1399.5236,1910.5284,1375.8045,1896.9018,1381.3043,1912.1784,1399.5236" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1930" y="1401.2305">use</text><!--MD5=[a8ece285fe76c1386b3e1146d77fb12a]
link CardSelectionService to DetectionMode--><path codeLine="178" d="M1682.8325,859.0402 C1752.3525,895.0127 1820.02,936.1002 1880,982.4927 C1986.9175,1065.1902 2077.5275,1192.5502 2133.21,1281.8002 " fill="none" id="CardSelectionService-to-DetectionMode" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2139.825,1292.4902,2136.4864,1268.0954,2133.2463,1281.8614,2119.4803,1278.6213,2139.825,1292.4902" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1954.1139,1013.9871,1942.6552,993.154,1932.5982,1003.868,1954.1139,1013.9871" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1967.5" y="1018.7305">use</text><!--MD5=[769bf36c235d3c29e1ab536906ddc491]
link ObservableCardReader to CardReaderObserverSpi--><path codeLine="180" d="M2785.725,1673.3202 C2718.375,1775.4502 2646.575,1884.3752 2595.825,1961.3627 " fill="none" id="ObservableCardReader-to-CardReaderObserverSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2588.475,1972.4852,2609.2144,1959.2139,2595.36,1962.0522,2592.5217,1948.1978,2588.475,1972.4852" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2740.6197,1780.8682,2759.2004,1766.0333,2746.9321,1757.945,2740.6197,1780.8682" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2770" y="1783.7305">use</text><!--MD5=[80beeb8e7435df23c483fb097999290c]
link CardReaderObserverSpi to CardReaderEvent--><path codeLine="182" d="M2496.64,2163.5877 C2473.26,2234.4927 2440.93,2332.5452 2415.475,2409.7402 " fill="none" id="CardReaderObserverSpi-to-CardReaderEvent" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2411.4525,2421.9427,2427.9952,2403.7057,2415.3668,2410.0713,2409.0011,2397.4429,2411.4525,2421.9427" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2453.5856,2337.3034,2467.6446,2318.1289,2453.689,2313.5272,2453.5856,2337.3034" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2480" y="2338.7305">use</text><!--MD5=[1eb259ccd641d78a15a582c900274490]
link SmartCard to ReaderProtocolNotSupportedException--><!--MD5=[21fcee3fe490d347e3ecc9417572c91b]
link ReaderProtocolNotSupportedException to ReaderCommunicationException--><!--MD5=[a1e51d2b42def1ea2068c5bed5dda84c]
link ReaderCommunicationException to CardCommunicationException--><!--MD5=[0960d5d06994e603eb09927307d01b64]
@startuml
title
    Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (07/06/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

package "org.calypsonet.terminal.reader" as readerApi {
    ' SERVICE
    together {
        +class "**final** ReaderApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardReader {
            +String getName ()
            +boolean isContactless ()
            +boolean isCardPresent ()

            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableCardReader extends CardReader {
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setReaderObservationExceptionHandler (
                \tCardReaderObservationExceptionHandlerSpi exceptionHandler)

            +void addObserver (CardReaderObserverSpi observer)
            +void removeObserver (CardReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()

            +void startCardDetection (DetectionMode detectionMode)
            +void stopCardDetection ()
            +void finalizeCardProcessing ()
        }
        +enum DetectionMode {
            REPEATING
            SINGLESHOT
        }
        +enum NotificationMode {
            ALWAYS
            MATCHED_ONLY
        }
        +interface CardReaderEvent {
            +String getReaderName ()
            +Type getType ()
            +ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()
        }
        +enum "Type" as CardReaderEventType {
            CARD_INSERTED
            CARD_MATCHED
            CARD_REMOVED
            UNAVAILABLE
        }
        ' SPI
        package "spi" as readerSpi {
            +interface CardReaderObserverSpi {
                +void onReaderEvent (
                    \tCardReaderEvent cardReaderEvent)
            }
            +interface CardReaderObservationExceptionHandlerSpi {
                +void onReaderObservationError (String contextInfo,
                    \tString readerName, Throwable e)
            }
        }
    }

    ' SELECTION
    package "selection" as selectionApi {
        ' Selection
        +interface CardSelectionService {
            +void setMultipleSelectionMode ()

            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()

            +CardSelectionResult processCardSelectionScenario (CardReader cardReader)

            +void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,
                \tDetectionMode detectionMode, NotificationMode notificationMode)
            +CardSelectionResult parseScheduledCardSelectionsResponse (
                \tScheduledCardSelectionsResponse scheduledCardSelectionsResponse)
        }

        ' Card Extension SPI
        package "spi" as selectionSpi {
            +interface CardSelection {
            }
            +interface "SmartCard" as SmartCard {
                +String getPowerOnData ()
                +byte[] getSelectApplicationResponse ()
            }
        }
        +interface CardSelectionResult {
            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getActiveSmartCard ()
            +int getActiveSelectionIndex ()
        }
        +interface ScheduledCardSelectionsResponse {
        }
    }
    ' EXCEPTIONS
    'together {
        +class "<<RuntimeException>>\nReaderCommunicationException" as ReaderCommunicationException {
            +ReaderCommunicationException (String message)
            +ReaderCommunicationException (String message,
                \tThrowable cause)
        }
        +class "<<RuntimeException>>\nReaderProtocolNotSupportedException" as ReaderProtocolNotSupportedException {
            +ReaderProtocolNotSupportedException (String cardProtocol)
        }
        +class "<<RuntimeException>>\nCardCommunicationException" as CardCommunicationException {
            +CardCommunicationException (String message)
            +CardCommunicationException (String message,
                \tThrowable cause)
        }
    '}
}

' Associations

ObservableCardReader +- - NotificationMode
ObservableCardReader +-left- DetectionMode
ObservableCardReader .left.> DetectionMode #C_USE : use >
ObservableCardReader ..> CardReaderObservationExceptionHandlerSpi #C_USE : use >

CardReaderEvent +- - CardReaderEventType
CardReaderEvent ..> CardReaderEventType #C_LINK : provide >
CardReaderEvent .up.> ScheduledCardSelectionsResponse #C_LINK : provide >

CardSelectionResult ..> SmartCard #C_LINK : provide >

CardSelectionService ..> CardSelection #C_USE : use >
CardSelectionService ..> ScheduledCardSelectionsResponse #C_USE : use >
CardSelectionService ..> CardSelectionResult #C_LINK : provide >
CardSelectionService .right.> CardReader #C_USE : use >
CardSelectionService ..> NotificationMode #C_USE : use >
CardSelectionService ..> DetectionMode #C_USE : use >

ObservableCardReader ..> CardReaderObserverSpi #C_USE : use >

CardReaderObserverSpi ..> CardReaderEvent #C_USE : use >

' == LAYOUT ==

SmartCard -[hidden]- ReaderProtocolNotSupportedException
ReaderProtocolNotSupportedException -[hidden]- ReaderCommunicationException
ReaderCommunicationException -[hidden]right- CardCommunicationException

' == STYLE ==

package readerApi #C_GREY1 {}
package readerSpi #C_GREY2 {}
package selectionApi #C_GREY2 {}
package selectionSpi #C_GREY3 {}

@enduml

@startuml
title
    Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (07/06/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


package "org.calypsonet.terminal.reader" as readerApi {
    together {
        +class "**final** ReaderApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardReader {
            +String getName ()
            +boolean isContactless ()
            +boolean isCardPresent ()

            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableCardReader extends CardReader {
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setReaderObservationExceptionHandler (
                \tCardReaderObservationExceptionHandlerSpi exceptionHandler)

            +void addObserver (CardReaderObserverSpi observer)
            +void removeObserver (CardReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()

            +void startCardDetection (DetectionMode detectionMode)
            +void stopCardDetection ()
            +void finalizeCardProcessing ()
        }
        +enum DetectionMode {
            REPEATING
            SINGLESHOT
        }
        +enum NotificationMode {
            ALWAYS
            MATCHED_ONLY
        }
        +interface CardReaderEvent {
            +String getReaderName ()
            +Type getType ()
            +ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()
        }
        +enum "Type" as CardReaderEventType {
            CARD_INSERTED
            CARD_MATCHED
            CARD_REMOVED
            UNAVAILABLE
        }
        package "spi" as readerSpi {
            +interface CardReaderObserverSpi {
                +void onReaderEvent (
                    \tCardReaderEvent cardReaderEvent)
            }
            +interface CardReaderObservationExceptionHandlerSpi {
                +void onReaderObservationError (String contextInfo,
                    \tString readerName, Throwable e)
            }
        }
    }

    package "selection" as selectionApi {
        +interface CardSelectionService {
            +void setMultipleSelectionMode ()

            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()

            +CardSelectionResult processCardSelectionScenario (CardReader cardReader)

            +void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,
                \tDetectionMode detectionMode, NotificationMode notificationMode)
            +CardSelectionResult parseScheduledCardSelectionsResponse (
                \tScheduledCardSelectionsResponse scheduledCardSelectionsResponse)
        }

        package "spi" as selectionSpi {
            +interface CardSelection {
            }
            +interface "SmartCard" as SmartCard {
                +String getPowerOnData ()
                +byte[] getSelectApplicationResponse ()
            }
        }
        +interface CardSelectionResult {
            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getActiveSmartCard ()
            +int getActiveSelectionIndex ()
        }
        +interface ScheduledCardSelectionsResponse {
        }
    }
        +class "<<RuntimeException>>\nReaderCommunicationException" as ReaderCommunicationException {
            +ReaderCommunicationException (String message)
            +ReaderCommunicationException (String message,
                \tThrowable cause)
        }
        +class "<<RuntimeException>>\nReaderProtocolNotSupportedException" as ReaderProtocolNotSupportedException {
            +ReaderProtocolNotSupportedException (String cardProtocol)
        }
        +class "<<RuntimeException>>\nCardCommunicationException" as CardCommunicationException {
            +CardCommunicationException (String message)
            +CardCommunicationException (String message,
                \tThrowable cause)
        }
}


ObservableCardReader +- - NotificationMode
ObservableCardReader +-left- DetectionMode
ObservableCardReader .left.> DetectionMode #27AE60 : use >
ObservableCardReader ..> CardReaderObservationExceptionHandlerSpi #27AE60 : use >

CardReaderEvent +- - CardReaderEventType
CardReaderEvent ..> CardReaderEventType #3498DB : provide >
CardReaderEvent .up.> ScheduledCardSelectionsResponse #3498DB : provide >

CardSelectionResult ..> SmartCard #3498DB : provide >

CardSelectionService ..> CardSelection #27AE60 : use >
CardSelectionService ..> ScheduledCardSelectionsResponse #27AE60 : use >
CardSelectionService ..> CardSelectionResult #3498DB : provide >
CardSelectionService .right.> CardReader #27AE60 : use >
CardSelectionService ..> NotificationMode #27AE60 : use >
CardSelectionService ..> DetectionMode #27AE60 : use >

ObservableCardReader ..> CardReaderObserverSpi #27AE60 : use >

CardReaderObserverSpi ..> CardReaderEvent #27AE60 : use >


SmartCard -[hidden]- ReaderProtocolNotSupportedException
ReaderProtocolNotSupportedException -[hidden]- ReaderCommunicationException
ReaderCommunicationException -[hidden]right- CardCommunicationException


package readerApi #F8F9F9 {}
package readerSpi #F2F3F4 {}
package selectionApi #F2F3F4 {}
package selectionSpi #E5E7E9 {}

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>