<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3858px" preserveAspectRatio="none" style="width:4602px;height:3858px;background:#FFFFFF;" version="1.1" viewBox="0 0 4602 3858" width="4602px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="54" lengthAdjust="spacing" textLength="1608" x="1477.5" y="56.0566">Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (04/06/2021)</text><!--MD5=[a5decc184066de113c6f9732c0892d3a]
cluster readerApi--><polygon fill="#F8F9F9" points="48,188.9912,714,188.9912,735,259.8193,4551,259.8193,4551,3839.9912,48,3839.9912,48,188.9912" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="48" x2="735" y1="259.8193" y2="259.8193"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="648" x="60" y="238.5908">org.calypsonet.terminal.reader</text><!--MD5=[0af762fd8359575df4da93533d6338ab]
cluster readerSpi--><polygon fill="#F2F3F4" points="2646,2198.9912,2727,2198.9912,2748,2269.8193,4407,2269.8193,4407,2642.9912,2646,2642.9912,2646,2198.9912" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="2646" x2="2748" y1="2269.8193" y2="2269.8193"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="63" x="2658" y="2248.5908">spi</text><!--MD5=[2ef70ab4f822c198fdf53fd79da95100]
cluster selectionApi--><polygon fill="#F2F3F4" points="120,320.9912,333,320.9912,354,391.8193,2067,391.8193,2067,2714.9912,120,2714.9912,120,320.9912" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="120" x2="354" y1="391.8193" y2="391.8193"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="195" x="132" y="370.5908">selection</text><!--MD5=[c96d8bee8ec60da1ef6ad554183a6a76]
cluster selectionSpi--><polygon fill="#E5E7E9" points="192,2198.9912,273,2198.9912,294,2269.8193,1401,2269.8193,1401,2642.9912,192,2642.9912,192,2198.9912" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="192" x2="294" y1="2269.8193" y2="2269.8193"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="63" x="204" y="2248.5908">spi</text><!--MD5=[0dee1c75f9ece47f254a0a355731a0bb]
class ReaderCommunicationException--><rect codeLine="144" fill="#FEFECE" height="293.0859" id="ReaderCommunicationException" style="stroke:#D4AC0D;stroke-width:4.5;" width="798" x="171" y="3418.4912"/><ellipse cx="270" cy="3478.7725" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M276,3468.2725 Q276.6094,3466.7725 277.3125,3466.0225 Q278.0156,3465.2725 278.8125,3465.2725 Q280.2188,3465.2725 281.1094,3466.1162 Q282,3466.96 282,3468.9287 L282,3473.6162 Q282,3475.585 281.1563,3476.4287 Q280.3125,3477.2725 279,3477.2725 Q277.8281,3477.2725 277.0781,3476.7568 Q276.3281,3476.2412 276,3474.8818 Q275.8594,3473.9443 275.3438,3473.4287 Q274.4063,3472.4443 272.7188,3471.8818 Q271.0313,3471.2725 269.3438,3471.2725 Q267.2344,3471.2725 265.4531,3472.1162 Q263.7188,3472.96 262.3594,3474.835 Q261,3476.71 261,3479.2881 L261,3482.0537 Q261,3485.1475 263.5313,3487.21 Q266.0625,3489.2725 270.5625,3489.2725 Q273.2344,3489.2725 275.1094,3488.6631 Q276.1875,3488.335 277.4063,3487.2568 Q278.2031,3486.6475 278.625,3486.46 Q279.0469,3486.2725 279.5625,3486.2725 Q280.5469,3486.2725 281.25,3487.0693 Q282,3487.8193 282,3488.8975 Q282,3489.9287 280.9688,3491.1475 Q279.4688,3492.9287 277.0781,3493.9131 Q273.9375,3495.2725 270.0938,3495.2725 Q265.5938,3495.2725 261.9844,3493.4912 Q259.0781,3492.085 257.0156,3489.0381 Q255,3485.9912 255,3482.3818 L255,3479.1006 Q255,3475.3506 256.7813,3472.0693 Q258.6094,3468.7881 261.75,3467.0537 Q264.9375,3465.2725 268.5,3465.2725 Q270.6563,3465.2725 272.5313,3466.0225 Q274.4063,3466.7725 276,3468.2725 Z " fill="#000000"/><ellipse cx="339" cy="3477.2725" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="387" x="438" y="3470.8623">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="549" x="357" y="3516.1436">ReaderCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="174" x2="966" y1="3539.0537" y2="3539.0537"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="174" x2="966" y1="3563.0537" y2="3563.0537"/><ellipse cx="204" cy="3596.0537" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="720" x="231" y="3609.3105">ReaderCommunicationException (String message)</text><ellipse cx="204" cy="3637.5615" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="717" x="231" y="3650.8184">ReaderCommunicationException (String message,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="267" x="303" y="3692.3262">Throwable cause)</text><!--MD5=[3f64bfe3b1698c1197202681f77be61a]
class ReaderProtocolNotSupportedException--><rect codeLine="149" fill="#FEFECE" height="210.0703" id="ReaderProtocolNotSupportedException" style="stroke:#D4AC0D;stroke-width:4.5;" width="948" x="96" y="2936.9912"/><ellipse cx="217.95" cy="2997.2725" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M223.95,2986.7725 Q224.5594,2985.2725 225.2625,2984.5225 Q225.9656,2983.7725 226.7625,2983.7725 Q228.1688,2983.7725 229.0594,2984.6162 Q229.95,2985.46 229.95,2987.4287 L229.95,2992.1162 Q229.95,2994.085 229.1063,2994.9287 Q228.2625,2995.7725 226.95,2995.7725 Q225.7781,2995.7725 225.0281,2995.2568 Q224.2781,2994.7412 223.95,2993.3818 Q223.8094,2992.4443 223.2938,2991.9287 Q222.3563,2990.9443 220.6688,2990.3818 Q218.9813,2989.7725 217.2938,2989.7725 Q215.1844,2989.7725 213.4031,2990.6162 Q211.6688,2991.46 210.3094,2993.335 Q208.95,2995.21 208.95,2997.7881 L208.95,3000.5537 Q208.95,3003.6475 211.4813,3005.71 Q214.0125,3007.7725 218.5125,3007.7725 Q221.1844,3007.7725 223.0594,3007.1631 Q224.1375,3006.835 225.3563,3005.7568 Q226.1531,3005.1475 226.575,3004.96 Q226.9969,3004.7725 227.5125,3004.7725 Q228.4969,3004.7725 229.2,3005.5693 Q229.95,3006.3193 229.95,3007.3975 Q229.95,3008.4287 228.9188,3009.6475 Q227.4188,3011.4287 225.0281,3012.4131 Q221.8875,3013.7725 218.0438,3013.7725 Q213.5438,3013.7725 209.9344,3011.9912 Q207.0281,3010.585 204.9656,3007.5381 Q202.95,3004.4912 202.95,3000.8818 L202.95,2997.6006 Q202.95,2993.8506 204.7313,2990.5693 Q206.5594,2987.2881 209.7,2985.5537 Q212.8875,2983.7725 216.45,2983.7725 Q218.6063,2983.7725 220.4813,2984.5225 Q222.3563,2985.2725 223.95,2986.7725 Z " fill="#000000"/><ellipse cx="292.05" cy="2995.7725" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="387" x="440.55" y="2989.3623">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="648" x="310.05" y="3034.6436">ReaderProtocolNotSupportedException</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="99" x2="1041" y1="3057.5537" y2="3057.5537"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="99" x2="1041" y1="3081.5537" y2="3081.5537"/><ellipse cx="129" cy="3114.5537" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="870" x="156" y="3127.8105">ReaderProtocolNotSupportedException (String cardProtocol)</text><!--MD5=[32fc7b65f340d78e9416d68a58b55b2e]
class CardCommunicationException--><rect codeLine="152" fill="#FEFECE" height="293.0859" id="CardCommunicationException" style="stroke:#D4AC0D;stroke-width:4.5;" width="762" x="1074" y="3418.4912"/><ellipse cx="1175.7" cy="3478.7725" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M1181.7,3468.2725 Q1182.3094,3466.7725 1183.0125,3466.0225 Q1183.7156,3465.2725 1184.5125,3465.2725 Q1185.9187,3465.2725 1186.8094,3466.1162 Q1187.7,3466.96 1187.7,3468.9287 L1187.7,3473.6162 Q1187.7,3475.585 1186.8562,3476.4287 Q1186.0125,3477.2725 1184.7,3477.2725 Q1183.5281,3477.2725 1182.7781,3476.7568 Q1182.0281,3476.2412 1181.7,3474.8818 Q1181.5594,3473.9443 1181.0437,3473.4287 Q1180.1062,3472.4443 1178.4187,3471.8818 Q1176.7312,3471.2725 1175.0437,3471.2725 Q1172.9344,3471.2725 1171.1531,3472.1162 Q1169.4187,3472.96 1168.0594,3474.835 Q1166.7,3476.71 1166.7,3479.2881 L1166.7,3482.0537 Q1166.7,3485.1475 1169.2312,3487.21 Q1171.7625,3489.2725 1176.2625,3489.2725 Q1178.9344,3489.2725 1180.8094,3488.6631 Q1181.8875,3488.335 1183.1062,3487.2568 Q1183.9031,3486.6475 1184.325,3486.46 Q1184.7469,3486.2725 1185.2625,3486.2725 Q1186.2469,3486.2725 1186.95,3487.0693 Q1187.7,3487.8193 1187.7,3488.8975 Q1187.7,3489.9287 1186.6687,3491.1475 Q1185.1687,3492.9287 1182.7781,3493.9131 Q1179.6375,3495.2725 1175.7937,3495.2725 Q1171.2937,3495.2725 1167.6844,3493.4912 Q1164.7781,3492.085 1162.7156,3489.0381 Q1160.7,3485.9912 1160.7,3482.3818 L1160.7,3479.1006 Q1160.7,3475.3506 1162.4812,3472.0693 Q1164.3094,3468.7881 1167.45,3467.0537 Q1170.6375,3465.2725 1174.2,3465.2725 Q1176.3562,3465.2725 1178.2312,3466.0225 Q1180.1062,3466.7725 1181.7,3468.2725 Z " fill="#000000"/><ellipse cx="1245.3" cy="3477.2725" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="387" x="1323.3" y="3470.8623">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="507" x="1263.3" y="3516.1436">CardCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1077" x2="1833" y1="3539.0537" y2="3539.0537"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1077" x2="1833" y1="3563.0537" y2="3563.0537"/><ellipse cx="1107" cy="3596.0537" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="684" x="1134" y="3609.3105">CardCommunicationException (String message)</text><ellipse cx="1107" cy="3637.5615" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="681" x="1134" y="3650.8184">CardCommunicationException (String message,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="267" x="1206" y="3692.3262">Throwable cause)</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="50" fill="#FEFECE" height="185.5078" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:4.5;" width="555" x="2188.5" y="695.9912"/><ellipse cx="2233.5" cy="743.9912" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M2239.5,733.4912 Q2240.1094,731.9912 2240.8125,731.2412 Q2241.5156,730.4912 2242.3125,730.4912 Q2243.7188,730.4912 2244.6094,731.335 Q2245.5,732.1787 2245.5,734.1475 L2245.5,738.835 Q2245.5,740.8037 2244.6563,741.6475 Q2243.8125,742.4912 2242.5,742.4912 Q2241.3281,742.4912 2240.5781,741.9756 Q2239.8281,741.46 2239.5,740.1006 Q2239.3594,739.1631 2238.8438,738.6475 Q2237.9063,737.6631 2236.2188,737.1006 Q2234.5313,736.4912 2232.8438,736.4912 Q2230.7344,736.4912 2228.9531,737.335 Q2227.2188,738.1787 2225.8594,740.0537 Q2224.5,741.9287 2224.5,744.5068 L2224.5,747.2725 Q2224.5,750.3662 2227.0313,752.4287 Q2229.5625,754.4912 2234.0625,754.4912 Q2236.7344,754.4912 2238.6094,753.8818 Q2239.6875,753.5537 2240.9063,752.4756 Q2241.7031,751.8662 2242.125,751.6787 Q2242.5469,751.4912 2243.0625,751.4912 Q2244.0469,751.4912 2244.75,752.2881 Q2245.5,753.0381 2245.5,754.1162 Q2245.5,755.1475 2244.4688,756.3662 Q2242.9688,758.1475 2240.5781,759.1318 Q2237.4375,760.4912 2233.5938,760.4912 Q2229.0938,760.4912 2225.4844,758.71 Q2222.5781,757.3037 2220.5156,754.2568 Q2218.5,751.21 2218.5,747.6006 L2218.5,744.3193 Q2218.5,740.5693 2220.2813,737.2881 Q2222.1094,734.0068 2225.25,732.2725 Q2228.4375,730.4912 2232,730.4912 Q2234.1563,730.4912 2236.0313,731.2412 Q2237.9063,731.9912 2239.5,733.4912 Z " fill="#000000"/><ellipse cx="2290.5" cy="742.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="72" x="2308.5" y="758.7217">final</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="345" x="2389.5" y="758.7217">ReaderApiProperties</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2191.5" x2="2740.5" y1="791.9912" y2="791.9912"/><ellipse cx="2221.5" cy="824.9912" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="33" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="69" x="2248.5" y="838.248">final</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" text-decoration="underline" textLength="228" x="2326.5" y="838.248">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2191.5" x2="2740.5" y1="857.499" y2="857.499"/><!--MD5=[9b9eb2a75cf02134ca888acb9ec1b2e1]
class CardReader--><rect codeLine="53" fill="#FEFECE" height="393.0469" id="CardReader" style="stroke:#D4AC0D;stroke-width:4.5;" width="1011" x="2848.5" y="592.4912"/><ellipse cx="3222.75" cy="640.4912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M3225.75,631.4912 L3225.75,649.4912 L3231.75,649.4912 L3233.2031,649.4912 L3234.75,651.3662 L3234.75,652.4912 L3234.75,653.6162 L3233.2031,655.4912 L3231.75,655.4912 L3213.75,655.4912 L3212.2969,655.4912 L3210.75,653.6162 L3210.75,652.4912 L3210.75,651.3662 L3212.2969,649.4912 L3213.75,649.4912 L3219.75,649.4912 L3219.75,631.4912 L3213.75,631.4912 L3212.2969,631.4912 L3210.75,629.6162 L3210.75,628.4912 L3210.75,627.3662 L3212.2969,625.4912 L3213.75,625.4912 L3231.75,625.4912 L3233.2031,625.4912 L3234.75,627.3662 L3234.75,628.4912 L3234.75,629.6162 L3233.2031,631.4912 L3231.75,631.4912 L3225.75,631.4912 Z " fill="#000000"/><ellipse cx="3299.25" cy="638.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="204" x="3317.25" y="655.2217">CardReader</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2851.5" x2="3856.5" y1="688.4912" y2="688.4912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2851.5" x2="3856.5" y1="712.4912" y2="712.4912"/><ellipse cx="2881.5" cy="745.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="252" x="2908.5" y="758.748">String getName ()</text><ellipse cx="2881.5" cy="786.999" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="351" x="2908.5" y="800.2559">boolean isContactless ()</text><ellipse cx="2881.5" cy="828.5068" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="360" x="2908.5" y="841.7637">boolean isCardPresent ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="2917.5" y="883.2715"/><ellipse cx="2881.5" cy="911.5225" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="933" x="2908.5" y="924.7793">void activateProtocol (String readerProtocol, String cardProtocol)</text><ellipse cx="2881.5" cy="953.0303" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="675" x="2908.5" y="966.2871">void deactivateProtocol (String readerProtocol)</text><!--MD5=[d49bae05a0ef9926e55d34fb069365d5]
class ObservableCardReader--><rect codeLine="61" fill="#FEFECE" height="683.6016" id="ObservableCardReader" style="stroke:#D4AC0D;stroke-width:4.5;" width="1071" x="3031.5" y="1322.9912"/><ellipse cx="3338.25" cy="1370.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M3341.25,1361.9912 L3341.25,1379.9912 L3347.25,1379.9912 L3348.7031,1379.9912 L3350.25,1381.8662 L3350.25,1382.9912 L3350.25,1384.1162 L3348.7031,1385.9912 L3347.25,1385.9912 L3329.25,1385.9912 L3327.7969,1385.9912 L3326.25,1384.1162 L3326.25,1382.9912 L3326.25,1381.8662 L3327.7969,1379.9912 L3329.25,1379.9912 L3335.25,1379.9912 L3335.25,1361.9912 L3329.25,1361.9912 L3327.7969,1361.9912 L3326.25,1360.1162 L3326.25,1358.9912 L3326.25,1357.8662 L3327.7969,1355.9912 L3329.25,1355.9912 L3347.25,1355.9912 L3348.7031,1355.9912 L3350.25,1357.8662 L3350.25,1358.9912 L3350.25,1360.1162 L3348.7031,1361.9912 L3347.25,1361.9912 L3341.25,1361.9912 Z " fill="#000000"/><ellipse cx="3414.75" cy="1369.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="399" x="3432.75" y="1385.7217">ObservableCardReader</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3034.5" x2="4099.5" y1="1418.9912" y2="1418.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3034.5" x2="4099.5" y1="1442.9912" y2="1442.9912"/><ellipse cx="3064.5" cy="1475.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="615" x="3091.5" y="1489.248">void setEventNotificationExecutorService (</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="741" x="3163.5" y="1530.7559">ExecutorService eventNotificationExecutorService)</text><ellipse cx="3064.5" cy="1559.0068" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="669" x="3091.5" y="1572.2637">void setReaderObservationExceptionHandler (</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="921" x="3163.5" y="1613.7715">CardReaderObservationExceptionHandlerSpi exceptionHandler)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3100.5" y="1655.2793"/><ellipse cx="3064.5" cy="1683.5303" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="792" x="3091.5" y="1696.7871">void addObserver (CardReaderObserverSpi observer)</text><ellipse cx="3064.5" cy="1725.0381" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="846" x="3091.5" y="1738.2949">void removeObserver (CardReaderObserverSpi observer)</text><ellipse cx="3064.5" cy="1766.5459" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="330" x="3091.5" y="1779.8027">void clearObservers ()</text><ellipse cx="3064.5" cy="1808.0537" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="312" x="3091.5" y="1821.3105">int countObservers ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3100.5" y="1862.8184"/><ellipse cx="3064.5" cy="1891.0693" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="804" x="3091.5" y="1904.3262">void startCardDetection (DetectionMode detectionMode)</text><ellipse cx="3064.5" cy="1932.5771" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="369" x="3091.5" y="1945.834">void stopCardDetection ()</text><ellipse cx="3064.5" cy="1974.085" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="435" x="3091.5" y="1987.3418">void finalizeCardProcessing ()</text><!--MD5=[f9e56a49e679096f1681e872e7fe17dc]
class DetectionMode--><rect codeLine="76" fill="#FEFECE" height="227.0156" id="DetectionMode" style="stroke:#D4AC0D;stroke-width:4.5;" width="375" x="2443.5" y="1550.9912"/><ellipse cx="2488.5" cy="1598.9912" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M2484,1601.9912 L2484,1607.9912 L2496,1607.9912 L2496,1604.9912 L2496,1603.5381 L2497.875,1601.9912 L2499,1601.9912 L2500.125,1601.9912 L2502,1603.5381 L2502,1604.9912 L2502,1613.9912 L2478,1613.9912 L2476.5469,1613.9912 L2475,1612.1162 L2475,1610.9912 L2475,1609.8662 L2476.5469,1607.9912 L2478,1607.9912 L2478,1607.9912 L2478,1589.9912 L2478,1589.9912 L2476.5469,1589.9912 L2475,1588.1162 L2475,1586.9912 L2475,1585.8662 L2476.5469,1583.9912 L2478,1583.9912 L2502,1583.9912 L2502,1592.9912 L2502,1594.4443 L2500.125,1595.9912 L2499,1595.9912 L2497.875,1595.9912 L2496,1594.4443 L2496,1592.9912 L2496,1589.9912 L2484,1589.9912 L2484,1595.9912 L2487,1595.9912 L2487,1594.5381 L2487,1594.5381 L2488.875,1592.9912 L2490,1592.9912 L2491.125,1592.9912 L2493,1594.5381 L2493,1595.9912 L2493,1601.9912 L2493,1603.4443 L2491.125,1604.9912 L2491.125,1604.9912 L2490,1604.9912 L2488.875,1604.9912 L2487,1603.4443 L2487,1603.4443 L2487,1601.9912 L2484,1601.9912 Z " fill="#000000"/><ellipse cx="2545.5" cy="1597.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="246" x="2563.5" y="1613.7217">DetectionMode</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2446.5" x2="2815.5" y1="1646.9912" y2="1646.9912"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="168" x="2461.5" y="1693.248">REPEATING</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="192" x="2461.5" y="1734.7559">SINGLESHOT</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2446.5" x2="2815.5" y1="1754.0068" y2="1754.0068"/><!--MD5=[b4b6a5721e02f7cea6ba89274ea67351]
class NotificationMode--><rect codeLine="80" fill="#FEFECE" height="227.0156" id="NotificationMode" style="stroke:#D4AC0D;stroke-width:4.5;" width="402" x="2187" y="2366.9912"/><ellipse cx="2232" cy="2414.9912" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M2227.5,2417.9912 L2227.5,2423.9912 L2239.5,2423.9912 L2239.5,2420.9912 L2239.5,2419.5381 L2241.375,2417.9912 L2242.5,2417.9912 L2243.625,2417.9912 L2245.5,2419.5381 L2245.5,2420.9912 L2245.5,2429.9912 L2221.5,2429.9912 L2220.0469,2429.9912 L2218.5,2428.1162 L2218.5,2426.9912 L2218.5,2425.8662 L2220.0469,2423.9912 L2221.5,2423.9912 L2221.5,2423.9912 L2221.5,2405.9912 L2221.5,2405.9912 L2220.0469,2405.9912 L2218.5,2404.1162 L2218.5,2402.9912 L2218.5,2401.8662 L2220.0469,2399.9912 L2221.5,2399.9912 L2245.5,2399.9912 L2245.5,2408.9912 L2245.5,2410.4443 L2243.625,2411.9912 L2242.5,2411.9912 L2241.375,2411.9912 L2239.5,2410.4443 L2239.5,2408.9912 L2239.5,2405.9912 L2227.5,2405.9912 L2227.5,2411.9912 L2230.5,2411.9912 L2230.5,2410.5381 L2230.5,2410.5381 L2232.375,2408.9912 L2233.5,2408.9912 L2234.625,2408.9912 L2236.5,2410.5381 L2236.5,2411.9912 L2236.5,2417.9912 L2236.5,2419.4443 L2234.625,2420.9912 L2234.625,2420.9912 L2233.5,2420.9912 L2232.375,2420.9912 L2230.5,2419.4443 L2230.5,2419.4443 L2230.5,2417.9912 L2227.5,2417.9912 Z " fill="#000000"/><ellipse cx="2289" cy="2413.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="273" x="2307" y="2429.7217">NotificationMode</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2190" x2="2586" y1="2462.9912" y2="2462.9912"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="141" x="2205" y="2509.248">ALWAYS</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="252" x="2205" y="2550.7559">MATCHED_ONLY</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2190" x2="2586" y1="2570.0068" y2="2570.0068"/><!--MD5=[0929af63d3085909faf7f6bf84f6ab77]
class CardReaderEvent--><rect codeLine="84" fill="#FEFECE" height="268.5234" id="CardReaderEvent" style="stroke:#D4AC0D;stroke-width:4.5;" width="1203" x="2248.5" y="2906.9912"/><ellipse cx="2672.25" cy="2954.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M2675.25,2945.9912 L2675.25,2963.9912 L2681.25,2963.9912 L2682.7031,2963.9912 L2684.25,2965.8662 L2684.25,2966.9912 L2684.25,2968.1162 L2682.7031,2969.9912 L2681.25,2969.9912 L2663.25,2969.9912 L2661.7969,2969.9912 L2660.25,2968.1162 L2660.25,2966.9912 L2660.25,2965.8662 L2661.7969,2963.9912 L2663.25,2963.9912 L2669.25,2963.9912 L2669.25,2945.9912 L2663.25,2945.9912 L2661.7969,2945.9912 L2660.25,2944.1162 L2660.25,2942.9912 L2660.25,2941.8662 L2661.7969,2939.9912 L2663.25,2939.9912 L2681.25,2939.9912 L2682.7031,2939.9912 L2684.25,2941.8662 L2684.25,2942.9912 L2684.25,2944.1162 L2682.7031,2945.9912 L2681.25,2945.9912 L2675.25,2945.9912 Z " fill="#000000"/><ellipse cx="2748.75" cy="2953.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="297" x="2766.75" y="2969.7217">CardReaderEvent</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2251.5" x2="3448.5" y1="3002.9912" y2="3002.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2251.5" x2="3448.5" y1="3026.9912" y2="3026.9912"/><ellipse cx="2281.5" cy="3059.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="357" x="2308.5" y="3073.248">String getReaderName ()</text><ellipse cx="2281.5" cy="3101.499" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="231" x="2308.5" y="3114.7559">Type getType ()</text><ellipse cx="2281.5" cy="3143.0068" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1125" x="2308.5" y="3156.2637">ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()</text><!--MD5=[8c5299a29afee59ed68e59a232a2321d]
class CardReaderEventType--><rect codeLine="89" fill="#FEFECE" height="310.0313" id="CardReaderEventType" style="stroke:#D4AC0D;stroke-width:4.5;" width="291" x="2701.5" y="3410.9912"/><ellipse cx="2782.95" cy="3458.9912" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M2778.45,3461.9912 L2778.45,3467.9912 L2790.45,3467.9912 L2790.45,3464.9912 L2790.45,3463.5381 L2792.325,3461.9912 L2793.45,3461.9912 L2794.575,3461.9912 L2796.45,3463.5381 L2796.45,3464.9912 L2796.45,3473.9912 L2772.45,3473.9912 L2770.9969,3473.9912 L2769.45,3472.1162 L2769.45,3470.9912 L2769.45,3469.8662 L2770.9969,3467.9912 L2772.45,3467.9912 L2772.45,3467.9912 L2772.45,3449.9912 L2772.45,3449.9912 L2770.9969,3449.9912 L2769.45,3448.1162 L2769.45,3446.9912 L2769.45,3445.8662 L2770.9969,3443.9912 L2772.45,3443.9912 L2796.45,3443.9912 L2796.45,3452.9912 L2796.45,3454.4443 L2794.575,3455.9912 L2793.45,3455.9912 L2792.325,3455.9912 L2790.45,3454.4443 L2790.45,3452.9912 L2790.45,3449.9912 L2778.45,3449.9912 L2778.45,3455.9912 L2781.45,3455.9912 L2781.45,3454.5381 L2781.45,3454.5381 L2783.325,3452.9912 L2784.45,3452.9912 L2785.575,3452.9912 L2787.45,3454.5381 L2787.45,3455.9912 L2787.45,3461.9912 L2787.45,3463.4443 L2785.575,3464.9912 L2785.575,3464.9912 L2784.45,3464.9912 L2783.325,3464.9912 L2781.45,3463.4443 L2781.45,3463.4443 L2781.45,3461.9912 L2778.45,3461.9912 Z " fill="#000000"/><ellipse cx="2848.05" cy="3457.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="81" x="2866.05" y="3473.7217">Type</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2704.5" x2="2989.5" y1="3506.9912" y2="3506.9912"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="249" x="2719.5" y="3553.248">CARD_INSERTED</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="252" x="2719.5" y="3594.7559">CARD_MATCHED</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="255" x="2719.5" y="3636.2637">CARD_REMOVED</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="219" x="2719.5" y="3677.7715">UNAVAILABLE</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2704.5" x2="2989.5" y1="3697.0225" y2="3697.0225"/><!--MD5=[c890fc32568b07397f767fd1f5f57b26]
class CardReaderObserverSpi--><rect codeLine="97" fill="#FEFECE" height="227.0156" id="CardReaderObserverSpi" style="stroke:#D4AC0D;stroke-width:4.5;" width="678" x="2694" y="2366.9912"/><ellipse cx="2801.1" cy="2414.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M2804.1,2405.9912 L2804.1,2423.9912 L2810.1,2423.9912 L2811.5531,2423.9912 L2813.1,2425.8662 L2813.1,2426.9912 L2813.1,2428.1162 L2811.5531,2429.9912 L2810.1,2429.9912 L2792.1,2429.9912 L2790.6469,2429.9912 L2789.1,2428.1162 L2789.1,2426.9912 L2789.1,2425.8662 L2790.6469,2423.9912 L2792.1,2423.9912 L2798.1,2423.9912 L2798.1,2405.9912 L2792.1,2405.9912 L2790.6469,2405.9912 L2789.1,2404.1162 L2789.1,2402.9912 L2789.1,2401.8662 L2790.6469,2399.9912 L2792.1,2399.9912 L2810.1,2399.9912 L2811.5531,2399.9912 L2813.1,2401.8662 L2813.1,2402.9912 L2813.1,2404.1162 L2811.5531,2405.9912 L2810.1,2405.9912 L2804.1,2405.9912 Z " fill="#000000"/><ellipse cx="2871.9" cy="2413.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="411" x="2889.9" y="2429.7217">CardReaderObserverSpi</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2697" x2="3369" y1="2462.9912" y2="2462.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2697" x2="3369" y1="2486.9912" y2="2486.9912"/><ellipse cx="2727" cy="2519.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="312" x="2754" y="2533.248">void onReaderEvent (</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="528" x="2826" y="2574.7559">CardReaderEvent cardReaderEvent)</text><!--MD5=[006db6bb96001c5e4b016d87418574ed]
class CardReaderObservationExceptionHandlerSpi--><rect codeLine="101" fill="#FEFECE" height="227.0156" id="CardReaderObservationExceptionHandlerSpi" style="stroke:#D4AC0D;stroke-width:4.5;" width="882" x="3477" y="2366.9912"/><ellipse cx="3522" cy="2414.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M3525,2405.9912 L3525,2423.9912 L3531,2423.9912 L3532.4531,2423.9912 L3534,2425.8662 L3534,2426.9912 L3534,2428.1162 L3532.4531,2429.9912 L3531,2429.9912 L3513,2429.9912 L3511.5469,2429.9912 L3510,2428.1162 L3510,2426.9912 L3510,2425.8662 L3511.5469,2423.9912 L3513,2423.9912 L3519,2423.9912 L3519,2405.9912 L3513,2405.9912 L3511.5469,2405.9912 L3510,2404.1162 L3510,2402.9912 L3510,2401.8662 L3511.5469,2399.9912 L3513,2399.9912 L3531,2399.9912 L3532.4531,2399.9912 L3534,2401.8662 L3534,2402.9912 L3534,2404.1162 L3532.4531,2405.9912 L3531,2405.9912 L3525,2405.9912 Z " fill="#000000"/><ellipse cx="3579" cy="2413.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="753" x="3597" y="2429.7217">CardReaderObservationExceptionHandlerSpi</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3480" x2="4356" y1="2462.9912" y2="2462.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3480" x2="4356" y1="2486.9912" y2="2486.9912"/><ellipse cx="3510" cy="2519.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="744" x="3537" y="2533.248">void onReaderObservationError (String contextInfo,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="483" x="3609" y="2574.7559">String readerName, Throwable e)</text><!--MD5=[0edb817d42c74369e16b7a8029bdc747]
class CardSelectionService--><rect codeLine="111" fill="#FEFECE" height="600.5859" id="CardSelectionService" style="stroke:#D4AC0D;stroke-width:4.5;" width="1326" x="693" y="488.9912"/><ellipse cx="1148.25" cy="536.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1151.25,527.9912 L1151.25,545.9912 L1157.25,545.9912 L1158.7031,545.9912 L1160.25,547.8662 L1160.25,548.9912 L1160.25,550.1162 L1158.7031,551.9912 L1157.25,551.9912 L1139.25,551.9912 L1137.7969,551.9912 L1136.25,550.1162 L1136.25,548.9912 L1136.25,547.8662 L1137.7969,545.9912 L1139.25,545.9912 L1145.25,545.9912 L1145.25,527.9912 L1139.25,527.9912 L1137.7969,527.9912 L1136.25,526.1162 L1136.25,524.9912 L1136.25,523.8662 L1137.7969,521.9912 L1139.25,521.9912 L1157.25,521.9912 L1158.7031,521.9912 L1160.25,523.8662 L1160.25,524.9912 L1160.25,526.1162 L1158.7031,527.9912 L1157.25,527.9912 L1151.25,527.9912 Z " fill="#000000"/><ellipse cx="1224.75" cy="535.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="357" x="1242.75" y="551.7217">CardSelectionService</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="696" x2="2016" y1="584.9912" y2="584.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="696" x2="2016" y1="608.9912" y2="608.9912"/><ellipse cx="726" cy="641.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="462" x="753" y="655.248">void setMultipleSelectionMode ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="762" y="696.7559"/><ellipse cx="726" cy="725.0068" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="729" x="753" y="738.2637">int prepareSelection (CardSelection cardSelection)</text><ellipse cx="726" cy="766.5146" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="450" x="753" y="779.7715">void prepareReleaseChannel ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="762" y="821.2793"/><ellipse cx="726" cy="849.5303" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1137" x="753" y="862.7871">CardSelectionResult processCardSelectionScenario (CardReader cardReader)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="762" y="904.2949"/><ellipse cx="726" cy="932.5459" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1248" x="753" y="945.8027">void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="942" x="825" y="987.3105">DetectionMode detectionMode, NotificationMode notificationMode)</text><ellipse cx="726" cy="1015.5615" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="924" x="753" y="1028.8184">CardSelectionResult parseScheduledCardSelectionsResponse (</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1056" x="825" y="1070.3262">ScheduledCardSelectionsResponse scheduledCardSelectionsResponse)</text><!--MD5=[b048fcdbdb6b9f6911c1d2807b5ba439]
class CardSelectionResult--><rect codeLine="134" fill="#FEFECE" height="268.5234" id="CardSelectionResult" style="stroke:#D4AC0D;stroke-width:4.5;" width="702" x="168" y="1529.9912"/><ellipse cx="320.25" cy="1577.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M323.25,1568.9912 L323.25,1586.9912 L329.25,1586.9912 L330.7031,1586.9912 L332.25,1588.8662 L332.25,1589.9912 L332.25,1591.1162 L330.7031,1592.9912 L329.25,1592.9912 L311.25,1592.9912 L309.7969,1592.9912 L308.25,1591.1162 L308.25,1589.9912 L308.25,1588.8662 L309.7969,1586.9912 L311.25,1586.9912 L317.25,1586.9912 L317.25,1568.9912 L311.25,1568.9912 L309.7969,1568.9912 L308.25,1567.1162 L308.25,1565.9912 L308.25,1564.8662 L309.7969,1562.9912 L311.25,1562.9912 L329.25,1562.9912 L330.7031,1562.9912 L332.25,1564.8662 L332.25,1565.9912 L332.25,1567.1162 L330.7031,1568.9912 L329.25,1568.9912 L323.25,1568.9912 Z " fill="#000000"/><ellipse cx="396.75" cy="1576.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="339" x="414.75" y="1592.7217">CardSelectionResult</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="171" x2="867" y1="1625.9912" y2="1625.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="171" x2="867" y1="1649.9912" y2="1649.9912"/><ellipse cx="201" cy="1682.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="624" x="228" y="1696.248">Map&lt;Integer, SmartCard&gt; getSmartCards ()</text><ellipse cx="201" cy="1724.499" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="486" x="228" y="1737.7559">SmartCard getActiveSmartCard ()</text><ellipse cx="201" cy="1766.0068" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="423" x="228" y="1779.2637">int getActiveSelectionIndex ()</text><!--MD5=[0fbebdc936aa14b829c88e48b951a711]
class ScheduledCardSelectionsResponse--><rect codeLine="139" fill="#FEFECE" height="144" id="ScheduledCardSelectionsResponse" style="stroke:#D4AC0D;stroke-width:4.5;" width="726" x="1293" y="1592.9912"/><ellipse cx="1338" cy="1640.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1341,1631.9912 L1341,1649.9912 L1347,1649.9912 L1348.4531,1649.9912 L1350,1651.8662 L1350,1652.9912 L1350,1654.1162 L1348.4531,1655.9912 L1347,1655.9912 L1329,1655.9912 L1327.5469,1655.9912 L1326,1654.1162 L1326,1652.9912 L1326,1651.8662 L1327.5469,1649.9912 L1329,1649.9912 L1335,1649.9912 L1335,1631.9912 L1329,1631.9912 L1327.5469,1631.9912 L1326,1630.1162 L1326,1628.9912 L1326,1627.8662 L1327.5469,1625.9912 L1329,1625.9912 L1347,1625.9912 L1348.4531,1625.9912 L1350,1627.8662 L1350,1628.9912 L1350,1630.1162 L1348.4531,1631.9912 L1347,1631.9912 L1341,1631.9912 Z " fill="#000000"/><ellipse cx="1395" cy="1639.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="597" x="1413" y="1655.7217">ScheduledCardSelectionsResponse</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1296" x2="2016" y1="1688.9912" y2="1688.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1296" x2="2016" y1="1712.9912" y2="1712.9912"/><!--MD5=[47f0011813555fb489a606ff84d44b55]
class CardSelection--><rect codeLine="127" fill="#FEFECE" height="144" id="CardSelection" style="stroke:#D4AC0D;stroke-width:4.5;" width="363" x="988.5" y="2408.9912"/><ellipse cx="1033.5" cy="2456.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1036.5,2447.9912 L1036.5,2465.9912 L1042.5,2465.9912 L1043.9531,2465.9912 L1045.5,2467.8662 L1045.5,2468.9912 L1045.5,2470.1162 L1043.9531,2471.9912 L1042.5,2471.9912 L1024.5,2471.9912 L1023.0469,2471.9912 L1021.5,2470.1162 L1021.5,2468.9912 L1021.5,2467.8662 L1023.0469,2465.9912 L1024.5,2465.9912 L1030.5,2465.9912 L1030.5,2447.9912 L1024.5,2447.9912 L1023.0469,2447.9912 L1021.5,2446.1162 L1021.5,2444.9912 L1021.5,2443.8662 L1023.0469,2441.9912 L1024.5,2441.9912 L1042.5,2441.9912 L1043.9531,2441.9912 L1045.5,2443.8662 L1045.5,2444.9912 L1045.5,2446.1162 L1043.9531,2447.9912 L1042.5,2447.9912 L1036.5,2447.9912 Z " fill="#000000"/><ellipse cx="1090.5" cy="2455.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="234" x="1108.5" y="2471.7217">CardSelection</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="991.5" x2="1348.5" y1="2504.9912" y2="2504.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="991.5" x2="1348.5" y1="2528.9912" y2="2528.9912"/><!--MD5=[4d4351d1dd1d596b03b4778d9849998b]
class SmartCard--><rect codeLine="129" fill="#FEFECE" height="227.0156" id="SmartCard" style="stroke:#D4AC0D;stroke-width:4.5;" width="642" x="240" y="2366.9912"/><ellipse cx="441.75" cy="2414.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M444.75,2405.9912 L444.75,2423.9912 L450.75,2423.9912 L452.2031,2423.9912 L453.75,2425.8662 L453.75,2426.9912 L453.75,2428.1162 L452.2031,2429.9912 L450.75,2429.9912 L432.75,2429.9912 L431.2969,2429.9912 L429.75,2428.1162 L429.75,2426.9912 L429.75,2425.8662 L431.2969,2423.9912 L432.75,2423.9912 L438.75,2423.9912 L438.75,2405.9912 L432.75,2405.9912 L431.2969,2405.9912 L429.75,2404.1162 L429.75,2402.9912 L429.75,2401.8662 L431.2969,2399.9912 L432.75,2399.9912 L450.75,2399.9912 L452.2031,2399.9912 L453.75,2401.8662 L453.75,2402.9912 L453.75,2404.1162 L452.2031,2405.9912 L450.75,2405.9912 L444.75,2405.9912 Z " fill="#000000"/><ellipse cx="518.25" cy="2413.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="180" x="536.25" y="2429.7217">SmartCard</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="243" x2="879" y1="2462.9912" y2="2462.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="243" x2="879" y1="2486.9912" y2="2486.9912"/><ellipse cx="273" cy="2519.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="372" x="300" y="2533.248">byte[] getPowerOnData ()</text><ellipse cx="273" cy="2561.499" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="564" x="300" y="2574.7559">byte[] getSelectApplicationResponse ()</text><!--MD5=[40362253147766c9c743cec65354f353]
reverse link CardReader to ObservableCardReader--><path d="M3416.04,1045.3802 C3437.22,1131.8732 3461.25,1230.0452 3483.81,1322.2172 " fill="none" id="CardReader-backto-ObservableCardReader" style="stroke:#A80036;stroke-width:3.0;"/><polygon fill="none" points="3395.4,1049.4272,3401.55,986.1542,3436.2,1039.4372,3395.4,1049.4272" style="stroke:#A80036;stroke-width:3.0;"/><!--MD5=[102e1d884686006ef209cb8bf85fc641]
reverse link ObservableCardReader to NotificationMode--><path codeLine="162" d="M2991.342,1942.7672 C2871.951,2011.1042 2750.736,2089.5422 2646,2174.9912 C2578.011,2230.4582 2513.985,2305.4642 2466.72,2366.9702 " fill="none" id="ObservableCardReader-backto-NotificationMode" style="stroke:#A80036;stroke-width:3.0;"/><ellipse cx="3009.9678" cy="1932.2591" fill="#FFFFFF" rx="24" ry="24" style="stroke:#A80036;stroke-width:3.0;"/><line style="stroke:#A80036;stroke-width:3.0;" x1="2989.0655" x2="3030.87" y1="1944.0531" y2="1920.4652"/><line style="stroke:#A80036;stroke-width:3.0;" x1="2998.1738" x2="3021.7617" y1="1911.3569" y2="1953.1614"/><!--MD5=[66154b3cafeacecd1e2cf8a5b4606cfa]
link DetectionMode to ObservableCardReader--><path codeLine="163" d="M2818.758,1672.2962 C2842.566,1672.9952 2866.602,1673.5922 2889.501,1673.9912 C2920.677,1674.5342 2952.66,1674.8672 2984.952,1675.0292 " fill="none" id="DetectionMode-to-ObservableCardReader" style="stroke:#A80036;stroke-width:3.0;"/><ellipse cx="3006.7501" cy="1675.0875" fill="#FFFFFF" rx="24" ry="24" style="stroke:#A80036;stroke-width:3.0;"/><line style="stroke:#A80036;stroke-width:3.0;" x1="2982.7502" x2="3030.75" y1="1675.0258" y2="1675.1492"/><line style="stroke:#A80036;stroke-width:3.0;" x1="3006.8118" x2="3006.6884" y1="1651.0876" y2="1699.0874"/><!--MD5=[dbbe3a95d6beb8e83c2ba54b40633429]
reverse link DetectionMode to ObservableCardReader--><path codeLine="164" d="M2834.934,1664.9912 C2894.058,1664.9912 2961.543,1664.9912 3031.08,1664.9912 " fill="none" id="DetectionMode-backto-ObservableCardReader" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2819.289,1664.9912,2846.289,1676.9912,2834.289,1664.9912,2846.289,1652.9912,2819.289,1664.9912" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2871,1629.5186,2898.1353,1638.3353,2898.1353,1620.7018,2871,1629.5186" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2913" y="1645.4766">use</text><!--MD5=[f1012a22e38ec6ba8ebae710b6ed7740]
link ObservableCardReader to CardReaderObservationExceptionHandlerSpi--><path codeLine="165" d="M3714.33,2007.9842 C3767.22,2130.0362 3823.62,2260.1792 3863.61,2352.4982 " fill="none" id="ObservableCardReader-to-CardReaderObservationExceptionHandlerSpi" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3869.91,2366.9822,3870.1775,2337.4368,3863.9423,2353.2204,3848.1587,2346.9852,3869.91,2366.9822" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="3791.9638,2138.282,3789.2652,2109.8782,3773.0852,2116.8891,3791.9638,2138.282" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="3813" y="2140.4766">use</text><!--MD5=[340f8b1fa6e5f55e3decc3d0782fe370]
reverse link CardReaderEvent to CardReaderEventType--><path codeLine="167" d="M2808.123,3222.5702 C2805.654,3237.5312 2803.551,3252.4832 2802,3266.9912 C2796.981,3313.9472 2801.217,3364.8602 2808.762,3410.9822 " fill="none" id="CardReaderEvent-backto-CardReaderEventType" style="stroke:#A80036;stroke-width:3.0;"/><ellipse cx="2812.0172" cy="3201.6648" fill="#FFFFFF" rx="24" ry="24" style="stroke:#A80036;stroke-width:3.0;"/><line style="stroke:#A80036;stroke-width:3.0;" x1="2807.6194" x2="2816.415" y1="3225.2585" y2="3178.0712"/><line style="stroke:#A80036;stroke-width:3.0;" x1="2788.4236" x2="2835.6108" y1="3197.267" y2="3206.0626"/><!--MD5=[ea5d4584d91c2420faebe0edaa35dd07]
link CardReaderEvent to CardReaderEventType--><path codeLine="168" d="M2849.226,3178.2602 C2848.845,3244.2452 2848.38,3324.5972 2847.972,3394.7282 " fill="none" id="CardReaderEvent-to-CardReaderEventType" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2847.882,3410.4542,2860.0361,3383.5232,2847.9677,3395.4545,2836.0365,3383.3861,2847.882,3410.4542" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="2861.9131,3309.5183,2870.8869,3282.4346,2853.2537,3282.3324,2861.9131,3309.5183" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="2889" y="3310.4766">provide</text><!--MD5=[288fe8b4bb69e8cb3939b387d62d61fe]
reverse link ScheduledCardSelectionsResponse to CardReaderEvent--><path codeLine="169" d="M1655.703,1753.6292 C1659.726,1953.7682 1697.814,2456.5382 1968,2738.9912 C2024.319,2797.8692 2172.918,2856.8672 2332.44,2906.7752 " fill="none" id="ScheduledCardSelectionsResponse-backto-CardReaderEvent" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1655.442,1737.4802,1643.8832,1764.672,1655.6863,1752.4782,1667.8801,1764.2812,1655.442,1737.4802" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="1975.4079,2468.5818,1981.5381,2496.4471,1996.7462,2487.5221,1975.4079,2468.5818" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="2010" y="2497.4766">provide</text><!--MD5=[ec53f9149eb0a5572ddbd98e132e34ec]
link CardSelectionResult to SmartCard--><path codeLine="171" d="M525.888,1800.8402 C533.787,1953.1442 546.639,2201.0192 554.409,2350.8752 " fill="none" id="CardSelectionResult-to-SmartCard" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="555.192,2365.9622,565.7795,2338.3777,554.4162,2350.9823,541.8116,2339.619,555.192,2365.9622" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="561.7768,2139.4984,569.1765,2111.943,551.5666,2112.8561,561.7768,2139.4984" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="588" y="2140.4766">provide</text><!--MD5=[eadf68009007b29cbcec9e1404ba9371]
link CardSelectionService to CardSelection--><path codeLine="173" d="M1205.214,1089.9332 C1174.548,1164.2222 1146.843,1244.9882 1131,1322.9912 C1051.17,1715.9972 1119.777,2199.4142 1153.692,2392.4732 " fill="none" id="CardSelectionService-to-CardSelection" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1156.464,2408.0582,1163.5417,2379.3719,1153.8328,2393.2908,1139.9139,2383.5818,1156.464,2408.0582" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="1145.4071,1680.5068,1155.2895,1653.7413,1137.6697,1653.0443,1145.4071,1680.5068" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="1173" y="1681.4766">use</text><!--MD5=[42249140b77a12de43f2de277da3d038]
link CardSelectionService to ScheduledCardSelectionsResponse--><path codeLine="174" d="M1458.822,1090.1792 C1518.237,1262.4752 1588.641,1466.6522 1627.191,1578.4472 " fill="none" id="CardSelectionService-to-ScheduledCardSelectionsResponse" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1632.189,1592.9372,1634.732,1563.5003,1627.2993,1578.7566,1612.043,1571.3238,1632.189,1592.9372" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="1525.8899,1220.6991,1525.3791,1192.172,1508.7089,1197.9204,1525.8899,1220.6991" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="1548" y="1222.4766">use</text><!--MD5=[7ba6139df91d5b10dfb19f3b9ece10ea]
link CardSelectionService to CardSelectionResult--><path codeLine="175" d="M979.941,1089.8042 C947.979,1119.0182 916.875,1148.9822 888,1178.9912 C786.819,1284.1502 687.273,1416.6422 617.124,1516.2512 " fill="none" id="CardSelectionService-to-CardSelectionResult" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="607.854,1529.4632,633.1818,1514.248,616.4669,1517.1824,613.5325,1500.4674,607.854,1529.4632" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="893.28,1217.9432,917.5788,1202.9891,904.1484,1191.5626,893.28,1217.9432" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="930" y="1222.4766">provide</text><!--MD5=[0f42712be829b9897f4501fa9527391e]
link CardSelectionService to CardReader--><path codeLine="176" d="M1697.547,488.8712 C1826.868,393.8612 1981.161,300.9212 2139,251.9912 C2417.91,165.5312 2525.169,142.8512 2796,251.9912 C2960.898,318.4412 3104.34,459.5312 3204.48,580.4012 " fill="none" id="CardSelectionService-to-CardReader" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3214.02,592.0412,3206.1929,563.5502,3204.5144,580.4376,3187.6271,578.7591,3214.02,592.0412" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2408.9724,115.428,2382.4216,104.9823,2381.3525,122.5834,2408.9724,115.428" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2421" y="130.4766">use</text><!--MD5=[e58f155b93f4e19e2b0c8b1ffb2a3ca3]
link CardSelectionService to NotificationMode--><path codeLine="177" d="M1848.75,1089.4772 C1931.931,1157.6132 2010.468,1235.9732 2070,1322.9912 C2128.911,1409.1002 2290.845,2069.8352 2358.102,2351.4752 " fill="none" id="CardSelectionService-to-NotificationMode" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2361.621,2366.2262,2367.0305,2337.1791,2358.1415,2351.6354,2343.6852,2342.7463,2361.621,2366.2262" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2294.6141,1679.4283,2292.6341,1650.9654,2276.2821,1657.5652,2294.6141,1679.4283" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2316" y="1681.4766">use</text><!--MD5=[a8ece285fe76c1386b3e1146d77fb12a]
link CardSelectionService to DetectionMode--><path codeLine="178" d="M2019.399,1030.8482 C2102.823,1074.0152 2184.024,1123.3202 2256,1178.9912 C2384.301,1278.2282 2493.033,1431.0602 2559.852,1538.1602 " fill="none" id="CardSelectionService-to-DetectionMode" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2567.79,1550.9882,2563.7836,1521.7145,2559.8956,1538.2337,2543.3764,1534.3456,2567.79,1550.9882" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2344.9366,1216.7845,2331.1863,1191.7848,2319.1179,1204.6416,2344.9366,1216.7845" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2361" y="1222.4766">use</text><!--MD5=[769bf36c235d3c29e1ab536906ddc491]
link ObservableCardReader to CardReaderObserverSpi--><path codeLine="180" d="M3342.87,2007.9842 C3262.05,2130.5402 3175.89,2261.2502 3114.99,2353.6352 " fill="none" id="ObservableCardReader-to-CardReaderObserverSpi" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3106.17,2366.9822,3131.0573,2351.0567,3114.432,2354.4627,3111.026,2337.8374,3106.17,2366.9822" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="3288.7437,2137.0419,3311.0405,2119.2399,3296.3185,2109.534,3288.7437,2137.0419" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="3324" y="2140.4766">use</text><!--MD5=[80beeb8e7435df23c483fb097999290c]
link CardReaderObserverSpi to CardReaderEvent--><path codeLine="182" d="M2995.968,2596.3052 C2967.912,2681.3912 2929.116,2799.0542 2898.57,2891.6882 " fill="none" id="CardReaderObserverSpi-to-CardReaderEvent" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2893.743,2906.3312,2913.5943,2884.4468,2898.4401,2892.0856,2890.8013,2876.9314,2893.743,2906.3312" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2944.3027,2804.7641,2961.1735,2781.7546,2944.4268,2776.2327,2944.3027,2804.7641" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2976" y="2806.4766">use</text><!--MD5=[1eb259ccd641d78a15a582c900274490]
link SmartCard to ReaderProtocolNotSupportedException--><!--MD5=[21fcee3fe490d347e3ecc9417572c91b]
link ReaderProtocolNotSupportedException to ReaderCommunicationException--><!--MD5=[a1e51d2b42def1ea2068c5bed5dda84c]
link ReaderCommunicationException to CardCommunicationException--><!--MD5=[467f6273ac42929c1ae70384befe9e16]
@startuml
title
    Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (04/06/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

package "org.calypsonet.terminal.reader" as readerApi {
    ' SERVICE
    together {
        +class "**final** ReaderApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardReader {
            +String getName ()
            +boolean isContactless ()
            +boolean isCardPresent ()

            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableCardReader extends CardReader {
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setReaderObservationExceptionHandler (
                \tCardReaderObservationExceptionHandlerSpi exceptionHandler)

            +void addObserver (CardReaderObserverSpi observer)
            +void removeObserver (CardReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()

            +void startCardDetection (DetectionMode detectionMode)
            +void stopCardDetection ()
            +void finalizeCardProcessing ()
        }
        +enum DetectionMode {
            REPEATING
            SINGLESHOT
        }
        +enum NotificationMode {
            ALWAYS
            MATCHED_ONLY
        }
        +interface CardReaderEvent {
            +String getReaderName ()
            +Type getType ()
            +ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()
        }
        +enum "Type" as CardReaderEventType {
            CARD_INSERTED
            CARD_MATCHED
            CARD_REMOVED
            UNAVAILABLE
        }
        ' SPI
        package "spi" as readerSpi {
            +interface CardReaderObserverSpi {
                +void onReaderEvent (
                    \tCardReaderEvent cardReaderEvent)
            }
            +interface CardReaderObservationExceptionHandlerSpi {
                +void onReaderObservationError (String contextInfo,
                    \tString readerName, Throwable e)
            }
        }
    }

    ' SELECTION
    package "selection" as selectionApi {
        ' Selection
        +interface CardSelectionService {
            +void setMultipleSelectionMode ()

            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()

            +CardSelectionResult processCardSelectionScenario (CardReader cardReader)

            +void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,
                \tDetectionMode detectionMode, NotificationMode notificationMode)
            +CardSelectionResult parseScheduledCardSelectionsResponse (
                \tScheduledCardSelectionsResponse scheduledCardSelectionsResponse)
        }

        ' Card Extension SPI
        package "spi" as selectionSpi {
            +interface CardSelection {
            }
            +interface "SmartCard" as SmartCard {
                +byte[] getPowerOnData ()
                +byte[] getSelectApplicationResponse ()
            }
        }
        +interface CardSelectionResult {
            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getActiveSmartCard ()
            +int getActiveSelectionIndex ()
        }
        +interface ScheduledCardSelectionsResponse {
        }
    }
    ' EXCEPTIONS
    'together {
        +class "<<RuntimeException>>\nReaderCommunicationException" as ReaderCommunicationException {
            +ReaderCommunicationException (String message)
            +ReaderCommunicationException (String message,
                \tThrowable cause)
        }
        +class "<<RuntimeException>>\nReaderProtocolNotSupportedException" as ReaderProtocolNotSupportedException {
            +ReaderProtocolNotSupportedException (String cardProtocol)
        }
        +class "<<RuntimeException>>\nCardCommunicationException" as CardCommunicationException {
            +CardCommunicationException (String message)
            +CardCommunicationException (String message,
                \tThrowable cause)
        }
    '}
}

' Associations

ObservableCardReader +- - NotificationMode
ObservableCardReader +-left- DetectionMode
ObservableCardReader .left.> DetectionMode #C_USE : use >
ObservableCardReader ..> CardReaderObservationExceptionHandlerSpi #C_USE : use >

CardReaderEvent +- - CardReaderEventType
CardReaderEvent ..> CardReaderEventType #C_LINK : provide >
CardReaderEvent .up.> ScheduledCardSelectionsResponse #C_LINK : provide >

CardSelectionResult ..> SmartCard #C_LINK : provide >

CardSelectionService ..> CardSelection #C_USE : use >
CardSelectionService ..> ScheduledCardSelectionsResponse #C_USE : use >
CardSelectionService ..> CardSelectionResult #C_LINK : provide >
CardSelectionService .right.> CardReader #C_USE : use >
CardSelectionService ..> NotificationMode #C_USE : use >
CardSelectionService ..> DetectionMode #C_USE : use >

ObservableCardReader ..> CardReaderObserverSpi #C_USE : use >

CardReaderObserverSpi ..> CardReaderEvent #C_USE : use >

' == LAYOUT ==

SmartCard -[hidden]- ReaderProtocolNotSupportedException
ReaderProtocolNotSupportedException -[hidden]- ReaderCommunicationException
ReaderCommunicationException -[hidden]right- CardCommunicationException

' == STYLE ==

package readerApi #C_GREY1 {}
package readerSpi #C_GREY2 {}
package selectionApi #C_GREY2 {}
package selectionSpi #C_GREY3 {}

@enduml

@startuml
title
    Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (04/06/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


package "org.calypsonet.terminal.reader" as readerApi {
    together {
        +class "**final** ReaderApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardReader {
            +String getName ()
            +boolean isContactless ()
            +boolean isCardPresent ()

            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableCardReader extends CardReader {
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setReaderObservationExceptionHandler (
                \tCardReaderObservationExceptionHandlerSpi exceptionHandler)

            +void addObserver (CardReaderObserverSpi observer)
            +void removeObserver (CardReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()

            +void startCardDetection (DetectionMode detectionMode)
            +void stopCardDetection ()
            +void finalizeCardProcessing ()
        }
        +enum DetectionMode {
            REPEATING
            SINGLESHOT
        }
        +enum NotificationMode {
            ALWAYS
            MATCHED_ONLY
        }
        +interface CardReaderEvent {
            +String getReaderName ()
            +Type getType ()
            +ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()
        }
        +enum "Type" as CardReaderEventType {
            CARD_INSERTED
            CARD_MATCHED
            CARD_REMOVED
            UNAVAILABLE
        }
        package "spi" as readerSpi {
            +interface CardReaderObserverSpi {
                +void onReaderEvent (
                    \tCardReaderEvent cardReaderEvent)
            }
            +interface CardReaderObservationExceptionHandlerSpi {
                +void onReaderObservationError (String contextInfo,
                    \tString readerName, Throwable e)
            }
        }
    }

    package "selection" as selectionApi {
        +interface CardSelectionService {
            +void setMultipleSelectionMode ()

            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()

            +CardSelectionResult processCardSelectionScenario (CardReader cardReader)

            +void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,
                \tDetectionMode detectionMode, NotificationMode notificationMode)
            +CardSelectionResult parseScheduledCardSelectionsResponse (
                \tScheduledCardSelectionsResponse scheduledCardSelectionsResponse)
        }

        package "spi" as selectionSpi {
            +interface CardSelection {
            }
            +interface "SmartCard" as SmartCard {
                +byte[] getPowerOnData ()
                +byte[] getSelectApplicationResponse ()
            }
        }
        +interface CardSelectionResult {
            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getActiveSmartCard ()
            +int getActiveSelectionIndex ()
        }
        +interface ScheduledCardSelectionsResponse {
        }
    }
        +class "<<RuntimeException>>\nReaderCommunicationException" as ReaderCommunicationException {
            +ReaderCommunicationException (String message)
            +ReaderCommunicationException (String message,
                \tThrowable cause)
        }
        +class "<<RuntimeException>>\nReaderProtocolNotSupportedException" as ReaderProtocolNotSupportedException {
            +ReaderProtocolNotSupportedException (String cardProtocol)
        }
        +class "<<RuntimeException>>\nCardCommunicationException" as CardCommunicationException {
            +CardCommunicationException (String message)
            +CardCommunicationException (String message,
                \tThrowable cause)
        }
}


ObservableCardReader +- - NotificationMode
ObservableCardReader +-left- DetectionMode
ObservableCardReader .left.> DetectionMode #27AE60 : use >
ObservableCardReader ..> CardReaderObservationExceptionHandlerSpi #27AE60 : use >

CardReaderEvent +- - CardReaderEventType
CardReaderEvent ..> CardReaderEventType #3498DB : provide >
CardReaderEvent .up.> ScheduledCardSelectionsResponse #3498DB : provide >

CardSelectionResult ..> SmartCard #3498DB : provide >

CardSelectionService ..> CardSelection #27AE60 : use >
CardSelectionService ..> ScheduledCardSelectionsResponse #27AE60 : use >
CardSelectionService ..> CardSelectionResult #3498DB : provide >
CardSelectionService .right.> CardReader #27AE60 : use >
CardSelectionService ..> NotificationMode #27AE60 : use >
CardSelectionService ..> DetectionMode #27AE60 : use >

ObservableCardReader ..> CardReaderObserverSpi #27AE60 : use >

CardReaderObserverSpi ..> CardReaderEvent #27AE60 : use >


SmartCard -[hidden]- ReaderProtocolNotSupportedException
ReaderProtocolNotSupportedException -[hidden]- ReaderCommunicationException
ReaderCommunicationException -[hidden]right- CardCommunicationException


package readerApi #F8F9F9 {}
package readerSpi #F2F3F4 {}
package selectionApi #F2F3F4 {}
package selectionSpi #E5E7E9 {}

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>