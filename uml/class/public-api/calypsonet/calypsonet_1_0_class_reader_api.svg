<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="4926px" preserveAspectRatio="none" style="width:4692px;height:4926px;background:#FFFFFF;" version="1.1" viewBox="0 0 4692 4926" width="4692px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="54" lengthAdjust="spacing" textLength="1608" x="1522.5" y="56.0566">Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (04/06/2021)</text><!--MD5=[a5decc184066de113c6f9732c0892d3a]
cluster readerApi--><polygon fill="#F8F9F9" points="48,188.9912,714,188.9912,735,259.8193,4641,259.8193,4641,4907.9912,48,4907.9912,48,188.9912" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="48" x2="735" y1="259.8193" y2="259.8193"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="648" x="60" y="238.5908">org.calypsonet.terminal.reader</text><!--MD5=[0af762fd8359575df4da93533d6338ab]
cluster readerSpi--><polygon fill="#F2F3F4" points="2736,2198.9912,2817,2198.9912,2838,2269.8193,4497,2269.8193,4497,2642.9912,2736,2642.9912,2736,2198.9912" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="2736" x2="2838" y1="2269.8193" y2="2269.8193"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="63" x="2748" y="2248.5908">spi</text><!--MD5=[2ef70ab4f822c198fdf53fd79da95100]
cluster selectionApi--><polygon fill="#F2F3F4" points="120,320.9912,333,320.9912,354,391.8193,2157,391.8193,2157,4388.9912,120,4388.9912,120,320.9912" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="120" x2="354" y1="391.8193" y2="391.8193"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="195" x="132" y="370.5908">selection</text><!--MD5=[c96d8bee8ec60da1ef6ad554183a6a76]
cluster selectionSpi--><polygon fill="#E5E7E9" points="195,2198.9912,276,2198.9912,297,2269.8193,1584,2269.8193,1584,4316.9912,195,4316.9912,195,2198.9912" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="195" x2="297" y1="2269.8193" y2="2269.8193"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="63" x="207" y="2248.5908">spi</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="50" fill="#FEFECE" height="185.5078" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:4.5;" width="555" x="2278.5" y="695.9912"/><ellipse cx="2323.5" cy="743.9912" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M2329.5,733.4912 Q2330.1094,731.9912 2330.8125,731.2412 Q2331.5156,730.4912 2332.3125,730.4912 Q2333.7188,730.4912 2334.6094,731.335 Q2335.5,732.1787 2335.5,734.1475 L2335.5,738.835 Q2335.5,740.8037 2334.6563,741.6475 Q2333.8125,742.4912 2332.5,742.4912 Q2331.3281,742.4912 2330.5781,741.9756 Q2329.8281,741.46 2329.5,740.1006 Q2329.3594,739.1631 2328.8438,738.6475 Q2327.9063,737.6631 2326.2188,737.1006 Q2324.5313,736.4912 2322.8438,736.4912 Q2320.7344,736.4912 2318.9531,737.335 Q2317.2188,738.1787 2315.8594,740.0537 Q2314.5,741.9287 2314.5,744.5068 L2314.5,747.2725 Q2314.5,750.3662 2317.0313,752.4287 Q2319.5625,754.4912 2324.0625,754.4912 Q2326.7344,754.4912 2328.6094,753.8818 Q2329.6875,753.5537 2330.9063,752.4756 Q2331.7031,751.8662 2332.125,751.6787 Q2332.5469,751.4912 2333.0625,751.4912 Q2334.0469,751.4912 2334.75,752.2881 Q2335.5,753.0381 2335.5,754.1162 Q2335.5,755.1475 2334.4688,756.3662 Q2332.9688,758.1475 2330.5781,759.1318 Q2327.4375,760.4912 2323.5938,760.4912 Q2319.0938,760.4912 2315.4844,758.71 Q2312.5781,757.3037 2310.5156,754.2568 Q2308.5,751.21 2308.5,747.6006 L2308.5,744.3193 Q2308.5,740.5693 2310.2813,737.2881 Q2312.1094,734.0068 2315.25,732.2725 Q2318.4375,730.4912 2322,730.4912 Q2324.1563,730.4912 2326.0313,731.2412 Q2327.9063,731.9912 2329.5,733.4912 Z " fill="#000000"/><ellipse cx="2380.5" cy="742.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="72" x="2398.5" y="758.7217">final</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="345" x="2479.5" y="758.7217">ReaderApiProperties</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2281.5" x2="2830.5" y1="791.9912" y2="791.9912"/><ellipse cx="2311.5" cy="824.9912" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="33" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="69" x="2338.5" y="838.248">final</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" text-decoration="underline" textLength="228" x="2416.5" y="838.248">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2281.5" x2="2830.5" y1="857.499" y2="857.499"/><!--MD5=[9b9eb2a75cf02134ca888acb9ec1b2e1]
class CardReader--><rect codeLine="53" fill="#FEFECE" height="393.0469" id="CardReader" style="stroke:#D4AC0D;stroke-width:4.5;" width="1011" x="2938.5" y="592.4912"/><ellipse cx="3312.75" cy="640.4912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M3315.75,631.4912 L3315.75,649.4912 L3321.75,649.4912 L3323.2031,649.4912 L3324.75,651.3662 L3324.75,652.4912 L3324.75,653.6162 L3323.2031,655.4912 L3321.75,655.4912 L3303.75,655.4912 L3302.2969,655.4912 L3300.75,653.6162 L3300.75,652.4912 L3300.75,651.3662 L3302.2969,649.4912 L3303.75,649.4912 L3309.75,649.4912 L3309.75,631.4912 L3303.75,631.4912 L3302.2969,631.4912 L3300.75,629.6162 L3300.75,628.4912 L3300.75,627.3662 L3302.2969,625.4912 L3303.75,625.4912 L3321.75,625.4912 L3323.2031,625.4912 L3324.75,627.3662 L3324.75,628.4912 L3324.75,629.6162 L3323.2031,631.4912 L3321.75,631.4912 L3315.75,631.4912 Z " fill="#000000"/><ellipse cx="3389.25" cy="638.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="204" x="3407.25" y="655.2217">CardReader</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2941.5" x2="3946.5" y1="688.4912" y2="688.4912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2941.5" x2="3946.5" y1="712.4912" y2="712.4912"/><ellipse cx="2971.5" cy="745.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="252" x="2998.5" y="758.748">String getName ()</text><ellipse cx="2971.5" cy="786.999" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="351" x="2998.5" y="800.2559">boolean isContactless ()</text><ellipse cx="2971.5" cy="828.5068" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="360" x="2998.5" y="841.7637">boolean isCardPresent ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3007.5" y="883.2715"/><ellipse cx="2971.5" cy="911.5225" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="933" x="2998.5" y="924.7793">void activateProtocol (String readerProtocol, String cardProtocol)</text><ellipse cx="2971.5" cy="953.0303" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="675" x="2998.5" y="966.2871">void deactivateProtocol (String readerProtocol)</text><!--MD5=[d49bae05a0ef9926e55d34fb069365d5]
class ObservableCardReader--><rect codeLine="61" fill="#FEFECE" height="683.6016" id="ObservableCardReader" style="stroke:#D4AC0D;stroke-width:4.5;" width="1071" x="3121.5" y="1322.9912"/><ellipse cx="3428.25" cy="1370.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M3431.25,1361.9912 L3431.25,1379.9912 L3437.25,1379.9912 L3438.7031,1379.9912 L3440.25,1381.8662 L3440.25,1382.9912 L3440.25,1384.1162 L3438.7031,1385.9912 L3437.25,1385.9912 L3419.25,1385.9912 L3417.7969,1385.9912 L3416.25,1384.1162 L3416.25,1382.9912 L3416.25,1381.8662 L3417.7969,1379.9912 L3419.25,1379.9912 L3425.25,1379.9912 L3425.25,1361.9912 L3419.25,1361.9912 L3417.7969,1361.9912 L3416.25,1360.1162 L3416.25,1358.9912 L3416.25,1357.8662 L3417.7969,1355.9912 L3419.25,1355.9912 L3437.25,1355.9912 L3438.7031,1355.9912 L3440.25,1357.8662 L3440.25,1358.9912 L3440.25,1360.1162 L3438.7031,1361.9912 L3437.25,1361.9912 L3431.25,1361.9912 Z " fill="#000000"/><ellipse cx="3504.75" cy="1369.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="399" x="3522.75" y="1385.7217">ObservableCardReader</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3124.5" x2="4189.5" y1="1418.9912" y2="1418.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3124.5" x2="4189.5" y1="1442.9912" y2="1442.9912"/><ellipse cx="3154.5" cy="1475.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="615" x="3181.5" y="1489.248">void setEventNotificationExecutorService (</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="741" x="3253.5" y="1530.7559">ExecutorService eventNotificationExecutorService)</text><ellipse cx="3154.5" cy="1559.0068" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="669" x="3181.5" y="1572.2637">void setReaderObservationExceptionHandler (</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="921" x="3253.5" y="1613.7715">CardReaderObservationExceptionHandlerSpi exceptionHandler)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3190.5" y="1655.2793"/><ellipse cx="3154.5" cy="1683.5303" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="792" x="3181.5" y="1696.7871">void addObserver (CardReaderObserverSpi observer)</text><ellipse cx="3154.5" cy="1725.0381" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="846" x="3181.5" y="1738.2949">void removeObserver (CardReaderObserverSpi observer)</text><ellipse cx="3154.5" cy="1766.5459" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="330" x="3181.5" y="1779.8027">void clearObservers ()</text><ellipse cx="3154.5" cy="1808.0537" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="312" x="3181.5" y="1821.3105">int countObservers ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3190.5" y="1862.8184"/><ellipse cx="3154.5" cy="1891.0693" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="804" x="3181.5" y="1904.3262">void startCardDetection (DetectionMode detectionMode)</text><ellipse cx="3154.5" cy="1932.5771" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="369" x="3181.5" y="1945.834">void stopCardDetection ()</text><ellipse cx="3154.5" cy="1974.085" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="435" x="3181.5" y="1987.3418">void finalizeCardProcessing ()</text><!--MD5=[f9e56a49e679096f1681e872e7fe17dc]
class DetectionMode--><rect codeLine="76" fill="#FEFECE" height="227.0156" id="DetectionMode" style="stroke:#D4AC0D;stroke-width:4.5;" width="375" x="2533.5" y="1550.9912"/><ellipse cx="2578.5" cy="1598.9912" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M2574,1601.9912 L2574,1607.9912 L2586,1607.9912 L2586,1604.9912 L2586,1603.5381 L2587.875,1601.9912 L2589,1601.9912 L2590.125,1601.9912 L2592,1603.5381 L2592,1604.9912 L2592,1613.9912 L2568,1613.9912 L2566.5469,1613.9912 L2565,1612.1162 L2565,1610.9912 L2565,1609.8662 L2566.5469,1607.9912 L2568,1607.9912 L2568,1607.9912 L2568,1589.9912 L2568,1589.9912 L2566.5469,1589.9912 L2565,1588.1162 L2565,1586.9912 L2565,1585.8662 L2566.5469,1583.9912 L2568,1583.9912 L2592,1583.9912 L2592,1592.9912 L2592,1594.4443 L2590.125,1595.9912 L2589,1595.9912 L2587.875,1595.9912 L2586,1594.4443 L2586,1592.9912 L2586,1589.9912 L2574,1589.9912 L2574,1595.9912 L2577,1595.9912 L2577,1594.5381 L2577,1594.5381 L2578.875,1592.9912 L2580,1592.9912 L2581.125,1592.9912 L2583,1594.5381 L2583,1595.9912 L2583,1601.9912 L2583,1603.4443 L2581.125,1604.9912 L2581.125,1604.9912 L2580,1604.9912 L2578.875,1604.9912 L2577,1603.4443 L2577,1603.4443 L2577,1601.9912 L2574,1601.9912 Z " fill="#000000"/><ellipse cx="2635.5" cy="1597.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="246" x="2653.5" y="1613.7217">DetectionMode</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2536.5" x2="2905.5" y1="1646.9912" y2="1646.9912"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="168" x="2551.5" y="1693.248">REPEATING</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="192" x="2551.5" y="1734.7559">SINGLESHOT</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2536.5" x2="2905.5" y1="1754.0068" y2="1754.0068"/><!--MD5=[b4b6a5721e02f7cea6ba89274ea67351]
class NotificationMode--><rect codeLine="80" fill="#FEFECE" height="227.0156" id="NotificationMode" style="stroke:#D4AC0D;stroke-width:4.5;" width="402" x="2277" y="2366.9912"/><ellipse cx="2322" cy="2414.9912" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M2317.5,2417.9912 L2317.5,2423.9912 L2329.5,2423.9912 L2329.5,2420.9912 L2329.5,2419.5381 L2331.375,2417.9912 L2332.5,2417.9912 L2333.625,2417.9912 L2335.5,2419.5381 L2335.5,2420.9912 L2335.5,2429.9912 L2311.5,2429.9912 L2310.0469,2429.9912 L2308.5,2428.1162 L2308.5,2426.9912 L2308.5,2425.8662 L2310.0469,2423.9912 L2311.5,2423.9912 L2311.5,2423.9912 L2311.5,2405.9912 L2311.5,2405.9912 L2310.0469,2405.9912 L2308.5,2404.1162 L2308.5,2402.9912 L2308.5,2401.8662 L2310.0469,2399.9912 L2311.5,2399.9912 L2335.5,2399.9912 L2335.5,2408.9912 L2335.5,2410.4443 L2333.625,2411.9912 L2332.5,2411.9912 L2331.375,2411.9912 L2329.5,2410.4443 L2329.5,2408.9912 L2329.5,2405.9912 L2317.5,2405.9912 L2317.5,2411.9912 L2320.5,2411.9912 L2320.5,2410.5381 L2320.5,2410.5381 L2322.375,2408.9912 L2323.5,2408.9912 L2324.625,2408.9912 L2326.5,2410.5381 L2326.5,2411.9912 L2326.5,2417.9912 L2326.5,2419.4443 L2324.625,2420.9912 L2324.625,2420.9912 L2323.5,2420.9912 L2322.375,2420.9912 L2320.5,2419.4443 L2320.5,2419.4443 L2320.5,2417.9912 L2317.5,2417.9912 Z " fill="#000000"/><ellipse cx="2379" cy="2413.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="273" x="2397" y="2429.7217">NotificationMode</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2280" x2="2676" y1="2462.9912" y2="2462.9912"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="141" x="2295" y="2509.248">ALWAYS</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="252" x="2295" y="2550.7559">MATCHED_ONLY</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2280" x2="2676" y1="2570.0068" y2="2570.0068"/><!--MD5=[0929af63d3085909faf7f6bf84f6ab77]
class CardReaderEvent--><rect codeLine="84" fill="#FEFECE" height="268.5234" id="CardReaderEvent" style="stroke:#D4AC0D;stroke-width:4.5;" width="1203" x="2338.5" y="3145.4912"/><ellipse cx="2762.25" cy="3193.4912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M2765.25,3184.4912 L2765.25,3202.4912 L2771.25,3202.4912 L2772.7031,3202.4912 L2774.25,3204.3662 L2774.25,3205.4912 L2774.25,3206.6162 L2772.7031,3208.4912 L2771.25,3208.4912 L2753.25,3208.4912 L2751.7969,3208.4912 L2750.25,3206.6162 L2750.25,3205.4912 L2750.25,3204.3662 L2751.7969,3202.4912 L2753.25,3202.4912 L2759.25,3202.4912 L2759.25,3184.4912 L2753.25,3184.4912 L2751.7969,3184.4912 L2750.25,3182.6162 L2750.25,3181.4912 L2750.25,3180.3662 L2751.7969,3178.4912 L2753.25,3178.4912 L2771.25,3178.4912 L2772.7031,3178.4912 L2774.25,3180.3662 L2774.25,3181.4912 L2774.25,3182.6162 L2772.7031,3184.4912 L2771.25,3184.4912 L2765.25,3184.4912 Z " fill="#000000"/><ellipse cx="2838.75" cy="3191.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="297" x="2856.75" y="3208.2217">CardReaderEvent</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2341.5" x2="3538.5" y1="3241.4912" y2="3241.4912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2341.5" x2="3538.5" y1="3265.4912" y2="3265.4912"/><ellipse cx="2371.5" cy="3298.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="357" x="2398.5" y="3311.748">String getReaderName ()</text><ellipse cx="2371.5" cy="3339.999" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="231" x="2398.5" y="3353.2559">Type getType ()</text><ellipse cx="2371.5" cy="3381.5068" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1125" x="2398.5" y="3394.7637">ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()</text><!--MD5=[8c5299a29afee59ed68e59a232a2321d]
class CardReaderEventType--><rect codeLine="89" fill="#FEFECE" height="310.0313" id="CardReaderEventType" style="stroke:#D4AC0D;stroke-width:4.5;" width="291" x="2791.5" y="3959.9912"/><ellipse cx="2872.95" cy="4007.9912" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M2868.45,4010.9912 L2868.45,4016.9912 L2880.45,4016.9912 L2880.45,4013.9912 L2880.45,4012.5381 L2882.325,4010.9912 L2883.45,4010.9912 L2884.575,4010.9912 L2886.45,4012.5381 L2886.45,4013.9912 L2886.45,4022.9912 L2862.45,4022.9912 L2860.9969,4022.9912 L2859.45,4021.1162 L2859.45,4019.9912 L2859.45,4018.8662 L2860.9969,4016.9912 L2862.45,4016.9912 L2862.45,4016.9912 L2862.45,3998.9912 L2862.45,3998.9912 L2860.9969,3998.9912 L2859.45,3997.1162 L2859.45,3995.9912 L2859.45,3994.8662 L2860.9969,3992.9912 L2862.45,3992.9912 L2886.45,3992.9912 L2886.45,4001.9912 L2886.45,4003.4443 L2884.575,4004.9912 L2883.45,4004.9912 L2882.325,4004.9912 L2880.45,4003.4443 L2880.45,4001.9912 L2880.45,3998.9912 L2868.45,3998.9912 L2868.45,4004.9912 L2871.45,4004.9912 L2871.45,4003.5381 L2871.45,4003.5381 L2873.325,4001.9912 L2874.45,4001.9912 L2875.575,4001.9912 L2877.45,4003.5381 L2877.45,4004.9912 L2877.45,4010.9912 L2877.45,4012.4443 L2875.575,4013.9912 L2875.575,4013.9912 L2874.45,4013.9912 L2873.325,4013.9912 L2871.45,4012.4443 L2871.45,4012.4443 L2871.45,4010.9912 L2868.45,4010.9912 Z " fill="#000000"/><ellipse cx="2938.05" cy="4006.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="81" x="2956.05" y="4022.7217">Type</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2794.5" x2="3079.5" y1="4055.9912" y2="4055.9912"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="249" x="2809.5" y="4102.248">CARD_INSERTED</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="252" x="2809.5" y="4143.7559">CARD_MATCHED</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="255" x="2809.5" y="4185.2637">CARD_REMOVED</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="219" x="2809.5" y="4226.7715">UNAVAILABLE</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2794.5" x2="3079.5" y1="4246.0225" y2="4246.0225"/><!--MD5=[c890fc32568b07397f767fd1f5f57b26]
class CardReaderObserverSpi--><rect codeLine="97" fill="#FEFECE" height="227.0156" id="CardReaderObserverSpi" style="stroke:#D4AC0D;stroke-width:4.5;" width="678" x="2784" y="2366.9912"/><ellipse cx="2891.1" cy="2414.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M2894.1,2405.9912 L2894.1,2423.9912 L2900.1,2423.9912 L2901.5531,2423.9912 L2903.1,2425.8662 L2903.1,2426.9912 L2903.1,2428.1162 L2901.5531,2429.9912 L2900.1,2429.9912 L2882.1,2429.9912 L2880.6469,2429.9912 L2879.1,2428.1162 L2879.1,2426.9912 L2879.1,2425.8662 L2880.6469,2423.9912 L2882.1,2423.9912 L2888.1,2423.9912 L2888.1,2405.9912 L2882.1,2405.9912 L2880.6469,2405.9912 L2879.1,2404.1162 L2879.1,2402.9912 L2879.1,2401.8662 L2880.6469,2399.9912 L2882.1,2399.9912 L2900.1,2399.9912 L2901.5531,2399.9912 L2903.1,2401.8662 L2903.1,2402.9912 L2903.1,2404.1162 L2901.5531,2405.9912 L2900.1,2405.9912 L2894.1,2405.9912 Z " fill="#000000"/><ellipse cx="2961.9" cy="2413.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="411" x="2979.9" y="2429.7217">CardReaderObserverSpi</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2787" x2="3459" y1="2462.9912" y2="2462.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2787" x2="3459" y1="2486.9912" y2="2486.9912"/><ellipse cx="2817" cy="2519.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="312" x="2844" y="2533.248">void onReaderEvent (</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="528" x="2916" y="2574.7559">CardReaderEvent cardReaderEvent)</text><!--MD5=[006db6bb96001c5e4b016d87418574ed]
class CardReaderObservationExceptionHandlerSpi--><rect codeLine="101" fill="#FEFECE" height="227.0156" id="CardReaderObservationExceptionHandlerSpi" style="stroke:#D4AC0D;stroke-width:4.5;" width="882" x="3567" y="2366.9912"/><ellipse cx="3612" cy="2414.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M3615,2405.9912 L3615,2423.9912 L3621,2423.9912 L3622.4531,2423.9912 L3624,2425.8662 L3624,2426.9912 L3624,2428.1162 L3622.4531,2429.9912 L3621,2429.9912 L3603,2429.9912 L3601.5469,2429.9912 L3600,2428.1162 L3600,2426.9912 L3600,2425.8662 L3601.5469,2423.9912 L3603,2423.9912 L3609,2423.9912 L3609,2405.9912 L3603,2405.9912 L3601.5469,2405.9912 L3600,2404.1162 L3600,2402.9912 L3600,2401.8662 L3601.5469,2399.9912 L3603,2399.9912 L3621,2399.9912 L3622.4531,2399.9912 L3624,2401.8662 L3624,2402.9912 L3624,2404.1162 L3622.4531,2405.9912 L3621,2405.9912 L3615,2405.9912 Z " fill="#000000"/><ellipse cx="3669" cy="2413.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="753" x="3687" y="2429.7217">CardReaderObservationExceptionHandlerSpi</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3570" x2="4446" y1="2462.9912" y2="2462.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3570" x2="4446" y1="2486.9912" y2="2486.9912"/><ellipse cx="3600" cy="2519.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="744" x="3627" y="2533.248">void onReaderObservationError (String contextInfo,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="483" x="3699" y="2574.7559">String readerName, Throwable e)</text><!--MD5=[0edb817d42c74369e16b7a8029bdc747]
class CardSelectionService--><rect codeLine="111" fill="#FEFECE" height="600.5859" id="CardSelectionService" style="stroke:#D4AC0D;stroke-width:4.5;" width="1326" x="783" y="488.9912"/><ellipse cx="1238.25" cy="536.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1241.25,527.9912 L1241.25,545.9912 L1247.25,545.9912 L1248.7031,545.9912 L1250.25,547.8662 L1250.25,548.9912 L1250.25,550.1162 L1248.7031,551.9912 L1247.25,551.9912 L1229.25,551.9912 L1227.7969,551.9912 L1226.25,550.1162 L1226.25,548.9912 L1226.25,547.8662 L1227.7969,545.9912 L1229.25,545.9912 L1235.25,545.9912 L1235.25,527.9912 L1229.25,527.9912 L1227.7969,527.9912 L1226.25,526.1162 L1226.25,524.9912 L1226.25,523.8662 L1227.7969,521.9912 L1229.25,521.9912 L1247.25,521.9912 L1248.7031,521.9912 L1250.25,523.8662 L1250.25,524.9912 L1250.25,526.1162 L1248.7031,527.9912 L1247.25,527.9912 L1241.25,527.9912 Z " fill="#000000"/><ellipse cx="1314.75" cy="535.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="357" x="1332.75" y="551.7217">CardSelectionService</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="786" x2="2106" y1="584.9912" y2="584.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="786" x2="2106" y1="608.9912" y2="608.9912"/><ellipse cx="816" cy="641.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="462" x="843" y="655.248">void setMultipleSelectionMode ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="852" y="696.7559"/><ellipse cx="816" cy="725.0068" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="729" x="843" y="738.2637">int prepareSelection (CardSelection cardSelection)</text><ellipse cx="816" cy="766.5146" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="450" x="843" y="779.7715">void prepareReleaseChannel ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="852" y="821.2793"/><ellipse cx="816" cy="849.5303" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1137" x="843" y="862.7871">CardSelectionResult processCardSelectionScenario (CardReader cardReader)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="852" y="904.2949"/><ellipse cx="816" cy="932.5459" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1248" x="843" y="945.8027">void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="942" x="915" y="987.3105">DetectionMode detectionMode, NotificationMode notificationMode)</text><ellipse cx="816" cy="1015.5615" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="924" x="843" y="1028.8184">CardSelectionResult parseScheduledCardSelectionsResponse (</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1056" x="915" y="1070.3262">ScheduledCardSelectionsResponse scheduledCardSelectionsResponse)</text><!--MD5=[b048fcdbdb6b9f6911c1d2807b5ba439]
class CardSelectionResult--><rect codeLine="167" fill="#FEFECE" height="434.5547" id="CardSelectionResult" style="stroke:#D4AC0D;stroke-width:4.5;" width="792" x="168" y="1447.4912"/><ellipse cx="365.25" cy="1495.4912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M368.25,1486.4912 L368.25,1504.4912 L374.25,1504.4912 L375.7031,1504.4912 L377.25,1506.3662 L377.25,1507.4912 L377.25,1508.6162 L375.7031,1510.4912 L374.25,1510.4912 L356.25,1510.4912 L354.7969,1510.4912 L353.25,1508.6162 L353.25,1507.4912 L353.25,1506.3662 L354.7969,1504.4912 L356.25,1504.4912 L362.25,1504.4912 L362.25,1486.4912 L356.25,1486.4912 L354.7969,1486.4912 L353.25,1484.6162 L353.25,1483.4912 L353.25,1482.3662 L354.7969,1480.4912 L356.25,1480.4912 L374.25,1480.4912 L375.7031,1480.4912 L377.25,1482.3662 L377.25,1483.4912 L377.25,1484.6162 L375.7031,1486.4912 L374.25,1486.4912 L368.25,1486.4912 Z " fill="#000000"/><ellipse cx="441.75" cy="1493.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="339" x="459.75" y="1510.2217">CardSelectionResult</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="171" x2="957" y1="1543.4912" y2="1543.4912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="171" x2="957" y1="1567.4912" y2="1567.4912"/><ellipse cx="201" cy="1600.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="435" x="228" y="1613.748">boolean hasActiveSelection ()</text><ellipse cx="201" cy="1641.999" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="423" x="228" y="1655.2559">int getActiveSelectionIndex ()</text><ellipse cx="201" cy="1683.5068" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="714" x="228" y="1696.7637">boolean hasSelectionMatched (int selectionIndex)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="237" y="1738.2715"/><ellipse cx="201" cy="1766.5225" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="624" x="228" y="1779.7793">Map&lt;Integer, SmartCard&gt; getSmartCards ()</text><ellipse cx="201" cy="1808.0303" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="642" x="228" y="1821.2871">SmartCard getSmartCard (int selectionIndex)</text><ellipse cx="201" cy="1849.5381" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="486" x="228" y="1862.7949">SmartCard getActiveSmartCard ()</text><!--MD5=[0fbebdc936aa14b829c88e48b951a711]
class ScheduledCardSelectionsResponse--><rect codeLine="176" fill="#FEFECE" height="144" id="ScheduledCardSelectionsResponse" style="stroke:#D4AC0D;stroke-width:4.5;" width="726" x="1383" y="1592.9912"/><ellipse cx="1428" cy="1640.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1431,1631.9912 L1431,1649.9912 L1437,1649.9912 L1438.4531,1649.9912 L1440,1651.8662 L1440,1652.9912 L1440,1654.1162 L1438.4531,1655.9912 L1437,1655.9912 L1419,1655.9912 L1417.5469,1655.9912 L1416,1654.1162 L1416,1652.9912 L1416,1651.8662 L1417.5469,1649.9912 L1419,1649.9912 L1425,1649.9912 L1425,1631.9912 L1419,1631.9912 L1417.5469,1631.9912 L1416,1630.1162 L1416,1628.9912 L1416,1627.8662 L1417.5469,1625.9912 L1419,1625.9912 L1437,1625.9912 L1438.4531,1625.9912 L1440,1627.8662 L1440,1628.9912 L1440,1630.1162 L1438.4531,1631.9912 L1437,1631.9912 L1431,1631.9912 Z " fill="#000000"/><ellipse cx="1485" cy="1639.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="597" x="1503" y="1655.7217">ScheduledCardSelectionsResponse</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1386" x2="2106" y1="1688.9912" y2="1688.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1386" x2="2106" y1="1712.9912" y2="1712.9912"/><!--MD5=[47f0011813555fb489a606ff84d44b55]
class CardSelection--><rect codeLine="127" fill="#FEFECE" height="185.5078" id="CardSelection" style="stroke:#D4AC0D;stroke-width:4.5;" width="543" x="991.5" y="2387.9912"/><ellipse cx="1117.5" cy="2435.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1120.5,2426.9912 L1120.5,2444.9912 L1126.5,2444.9912 L1127.9531,2444.9912 L1129.5,2446.8662 L1129.5,2447.9912 L1129.5,2449.1162 L1127.9531,2450.9912 L1126.5,2450.9912 L1108.5,2450.9912 L1107.0469,2450.9912 L1105.5,2449.1162 L1105.5,2447.9912 L1105.5,2446.8662 L1107.0469,2444.9912 L1108.5,2444.9912 L1114.5,2444.9912 L1114.5,2426.9912 L1108.5,2426.9912 L1107.0469,2426.9912 L1105.5,2425.1162 L1105.5,2423.9912 L1105.5,2422.8662 L1107.0469,2420.9912 L1108.5,2420.9912 L1126.5,2420.9912 L1127.9531,2420.9912 L1129.5,2422.8662 L1129.5,2423.9912 L1129.5,2425.1162 L1127.9531,2426.9912 L1126.5,2426.9912 L1120.5,2426.9912 Z " fill="#000000"/><ellipse cx="1192.5" cy="2434.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="234" x="1210.5" y="2450.7217">CardSelection</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="994.5" x2="1531.5" y1="2483.9912" y2="2483.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="994.5" x2="1531.5" y1="2507.9912" y2="2507.9912"/><ellipse cx="1024.5" cy="2540.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="465" x="1051.5" y="2554.248">CardSelector getCardSelector ()</text><!--MD5=[4d4351d1dd1d596b03b4778d9849998b]
class SmartCard--><rect codeLine="130" fill="#FEFECE" height="227.0156" id="SmartCard" style="stroke:#D4AC0D;stroke-width:4.5;" width="642" x="243" y="2366.9912"/><ellipse cx="444.75" cy="2414.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M447.75,2405.9912 L447.75,2423.9912 L453.75,2423.9912 L455.2031,2423.9912 L456.75,2425.8662 L456.75,2426.9912 L456.75,2428.1162 L455.2031,2429.9912 L453.75,2429.9912 L435.75,2429.9912 L434.2969,2429.9912 L432.75,2428.1162 L432.75,2426.9912 L432.75,2425.8662 L434.2969,2423.9912 L435.75,2423.9912 L441.75,2423.9912 L441.75,2405.9912 L435.75,2405.9912 L434.2969,2405.9912 L432.75,2404.1162 L432.75,2402.9912 L432.75,2401.8662 L434.2969,2399.9912 L435.75,2399.9912 L453.75,2399.9912 L455.2031,2399.9912 L456.75,2401.8662 L456.75,2402.9912 L456.75,2404.1162 L455.2031,2405.9912 L453.75,2405.9912 L447.75,2405.9912 Z " fill="#000000"/><ellipse cx="521.25" cy="2413.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="180" x="539.25" y="2429.7217">SmartCard</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="246" x2="882" y1="2462.9912" y2="2462.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="246" x2="882" y1="2486.9912" y2="2486.9912"/><ellipse cx="276" cy="2519.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="372" x="303" y="2533.248">byte[] getPowerOnData ()</text><ellipse cx="276" cy="2561.499" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="564" x="303" y="2574.7559">byte[] getSelectApplicationResponse ()</text><!--MD5=[d172dfe3fef1c01713438c88abcc6a2c]
class CardSelector--><rect codeLine="134" fill="#FEFECE" height="891.1406" id="CardSelector" style="stroke:#D4AC0D;stroke-width:4.5;" width="1284" x="252" y="2834.9912"/><ellipse cx="756.75" cy="2882.9912" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M759.75,2873.9912 L759.75,2891.9912 L765.75,2891.9912 L767.2031,2891.9912 L768.75,2893.8662 L768.75,2894.9912 L768.75,2896.1162 L767.2031,2897.9912 L765.75,2897.9912 L747.75,2897.9912 L746.2969,2897.9912 L744.75,2896.1162 L744.75,2894.9912 L744.75,2893.8662 L746.2969,2891.9912 L747.75,2891.9912 L753.75,2891.9912 L753.75,2873.9912 L747.75,2873.9912 L746.2969,2873.9912 L744.75,2872.1162 L744.75,2870.9912 L744.75,2869.8662 L746.2969,2867.9912 L747.75,2867.9912 L765.75,2867.9912 L767.2031,2867.9912 L768.75,2869.8662 L768.75,2870.9912 L768.75,2872.1162 L767.2031,2873.9912 L765.75,2873.9912 L759.75,2873.9912 Z " fill="#000000"/><ellipse cx="833.25" cy="2881.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="216" x="851.25" y="2897.7217">CardSelector</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="255" x2="1533" y1="2930.9912" y2="2930.9912"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="255" x2="1533" y1="2954.9912" y2="2954.9912"/><ellipse cx="285" cy="2987.9912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="795" x="312" y="3001.248">CardSelector filterByCardProtocol (String cardProtocol)</text><ellipse cx="285" cy="3029.499" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="927" x="312" y="3042.7559">CardSelector filterByPowerOnData (String powerOnDataRegex)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="321" y="3084.2637"/><ellipse cx="285" cy="3112.5146" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="579" x="312" y="3125.7715">CardSelector filterByDfName (byte[] aid)</text><ellipse cx="285" cy="3154.0225" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="582" x="312" y="3167.2793">CardSelector filterByDfName (String aid)</text><ellipse cx="285" cy="3195.5303" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="945" x="312" y="3208.7871">CardSelector setFileOccurrence (FileOccurrence fileOccurrence)</text><ellipse cx="285" cy="3237.0381" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1206" x="312" y="3250.2949">CardSelector setFileControlInformation (FileControlInformation fileControlInformation)</text><ellipse cx="285" cy="3278.5459" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="831" x="312" y="3291.8027">CardSelector addSuccessfulStatusWord (int statusWord)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="321" y="3333.3105"/><ellipse cx="285" cy="3361.5615" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="357" x="312" y="3374.8184">String getCardProtocol ()</text><ellipse cx="285" cy="3403.0693" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="468" x="312" y="3416.3262">String getPowerOnDataRegex ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="321" y="3457.834"/><ellipse cx="285" cy="3486.085" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="216" x="312" y="3499.3418">byte[] getAid ()</text><ellipse cx="285" cy="3527.5928" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="531" x="312" y="3540.8496">FileOccurrence getFileOccurrence ()</text><ellipse cx="285" cy="3569.1006" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="705" x="312" y="3582.3574">FileControlInformation getFileControlInformation ()</text><ellipse cx="285" cy="3610.6084" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="756" x="312" y="3623.8652">Set&lt;Integer&gt; getSuccessfulSelectionStatusWords ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="321" y="3665.373"/><ellipse cx="285" cy="3693.624" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="777" x="312" y="3706.8809">boolean powerOnDataMatches (byte[] powerOnData)</text><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><rect codeLine="154" fill="#FEFECE" height="310.0313" id="FileOccurrence" style="stroke:#D4AC0D;stroke-width:4.5;" width="378" x="501" y="3959.9912"/><ellipse cx="546" cy="4007.9912" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M541.5,4010.9912 L541.5,4016.9912 L553.5,4016.9912 L553.5,4013.9912 L553.5,4012.5381 L555.375,4010.9912 L556.5,4010.9912 L557.625,4010.9912 L559.5,4012.5381 L559.5,4013.9912 L559.5,4022.9912 L535.5,4022.9912 L534.0469,4022.9912 L532.5,4021.1162 L532.5,4019.9912 L532.5,4018.8662 L534.0469,4016.9912 L535.5,4016.9912 L535.5,4016.9912 L535.5,3998.9912 L535.5,3998.9912 L534.0469,3998.9912 L532.5,3997.1162 L532.5,3995.9912 L532.5,3994.8662 L534.0469,3992.9912 L535.5,3992.9912 L559.5,3992.9912 L559.5,4001.9912 L559.5,4003.4443 L557.625,4004.9912 L556.5,4004.9912 L555.375,4004.9912 L553.5,4003.4443 L553.5,4001.9912 L553.5,3998.9912 L541.5,3998.9912 L541.5,4004.9912 L544.5,4004.9912 L544.5,4003.5381 L544.5,4003.5381 L546.375,4001.9912 L547.5,4001.9912 L548.625,4001.9912 L550.5,4003.5381 L550.5,4004.9912 L550.5,4010.9912 L550.5,4012.4443 L548.625,4013.9912 L548.625,4013.9912 L547.5,4013.9912 L546.375,4013.9912 L544.5,4012.4443 L544.5,4012.4443 L544.5,4010.9912 L541.5,4010.9912 Z " fill="#000000"/><ellipse cx="603" cy="4006.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="249" x="621" y="4022.7217">FileOccurrence</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="504" x2="876" y1="4055.9912" y2="4055.9912"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="84" x="519" y="4102.248">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="81" x="519" y="4143.7559">LAST</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="78" x="519" y="4185.2637">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="153" x="519" y="4226.7715">PREVIOUS</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="504" x2="876" y1="4246.0225" y2="4246.0225"/><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><rect codeLine="160" fill="#FEFECE" height="310.0313" id="FileControlInformation" style="stroke:#D4AC0D;stroke-width:4.5;" width="498" x="984" y="3959.9912"/><ellipse cx="1029" cy="4007.9912" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M1024.5,4010.9912 L1024.5,4016.9912 L1036.5,4016.9912 L1036.5,4013.9912 L1036.5,4012.5381 L1038.375,4010.9912 L1039.5,4010.9912 L1040.625,4010.9912 L1042.5,4012.5381 L1042.5,4013.9912 L1042.5,4022.9912 L1018.5,4022.9912 L1017.0469,4022.9912 L1015.5,4021.1162 L1015.5,4019.9912 L1015.5,4018.8662 L1017.0469,4016.9912 L1018.5,4016.9912 L1018.5,4016.9912 L1018.5,3998.9912 L1018.5,3998.9912 L1017.0469,3998.9912 L1015.5,3997.1162 L1015.5,3995.9912 L1015.5,3994.8662 L1017.0469,3992.9912 L1018.5,3992.9912 L1042.5,3992.9912 L1042.5,4001.9912 L1042.5,4003.4443 L1040.625,4004.9912 L1039.5,4004.9912 L1038.375,4004.9912 L1036.5,4003.4443 L1036.5,4001.9912 L1036.5,3998.9912 L1024.5,3998.9912 L1024.5,4004.9912 L1027.5,4004.9912 L1027.5,4003.5381 L1027.5,4003.5381 L1029.375,4001.9912 L1030.5,4001.9912 L1031.625,4001.9912 L1033.5,4003.5381 L1033.5,4004.9912 L1033.5,4010.9912 L1033.5,4012.4443 L1031.625,4013.9912 L1031.625,4013.9912 L1030.5,4013.9912 L1029.375,4013.9912 L1027.5,4012.4443 L1027.5,4012.4443 L1027.5,4010.9912 L1024.5,4010.9912 Z " fill="#000000"/><ellipse cx="1086" cy="4006.4912" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="369" x="1104" y="4022.7217">FileControlInformation</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="987" x2="1479" y1="4055.9912" y2="4055.9912"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="45" x="1002" y="4102.248">FCI</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="57" x="1002" y="4143.7559">FCP</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="63" x="1002" y="4185.2637">FMD</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="225" x="1002" y="4226.7715">NO_RESPONSE</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="987" x2="1479" y1="4246.0225" y2="4246.0225"/><!--MD5=[0dee1c75f9ece47f254a0a355731a0bb]
class ReaderCommunicationException--><rect codeLine="181" fill="#FEFECE" height="251.5781" id="ReaderCommunicationException" style="stroke:#D4AC0D;stroke-width:4.5;" width="1071" x="1270.5" y="4535.9912"/><ellipse cx="1502.25" cy="4596.2725" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M1508.25,4585.7725 Q1508.8594,4584.2725 1509.5625,4583.5225 Q1510.2656,4582.7725 1511.0625,4582.7725 Q1512.4688,4582.7725 1513.3594,4583.6162 Q1514.25,4584.46 1514.25,4586.4287 L1514.25,4591.1162 Q1514.25,4593.085 1513.4063,4593.9287 Q1512.5625,4594.7725 1511.25,4594.7725 Q1510.0781,4594.7725 1509.3281,4594.2568 Q1508.5781,4593.7412 1508.25,4592.3818 Q1508.1094,4591.4443 1507.5938,4590.9287 Q1506.6563,4589.9443 1504.9688,4589.3818 Q1503.2813,4588.7725 1501.5938,4588.7725 Q1499.4844,4588.7725 1497.7031,4589.6162 Q1495.9688,4590.46 1494.6094,4592.335 Q1493.25,4594.21 1493.25,4596.7881 L1493.25,4599.5537 Q1493.25,4602.6475 1495.7813,4604.71 Q1498.3125,4606.7725 1502.8125,4606.7725 Q1505.4844,4606.7725 1507.3594,4606.1631 Q1508.4375,4605.835 1509.6563,4604.7568 Q1510.4531,4604.1475 1510.875,4603.96 Q1511.2969,4603.7725 1511.8125,4603.7725 Q1512.7969,4603.7725 1513.5,4604.5693 Q1514.25,4605.3193 1514.25,4606.3975 Q1514.25,4607.4287 1513.2188,4608.6475 Q1511.7188,4610.4287 1509.3281,4611.4131 Q1506.1875,4612.7725 1502.3438,4612.7725 Q1497.8438,4612.7725 1494.2344,4610.9912 Q1491.3281,4609.585 1489.2656,4606.5381 Q1487.25,4603.4912 1487.25,4599.8818 L1487.25,4596.6006 Q1487.25,4592.8506 1489.0313,4589.5693 Q1490.8594,4586.2881 1494,4584.5537 Q1497.1875,4582.7725 1500.75,4582.7725 Q1502.9063,4582.7725 1504.7813,4583.5225 Q1506.6563,4584.2725 1508.25,4585.7725 Z " fill="#000000"/><ellipse cx="1578.75" cy="4594.7725" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="387" x="1677.75" y="4588.3623">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="549" x="1596.75" y="4633.6436">ReaderCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1273.5" x2="2338.5" y1="4656.5537" y2="4656.5537"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1273.5" x2="2338.5" y1="4680.5537" y2="4680.5537"/><ellipse cx="1303.5" cy="4713.5537" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="720" x="1330.5" y="4726.8105">ReaderCommunicationException (String message)</text><ellipse cx="1303.5" cy="4755.0615" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="993" x="1330.5" y="4768.3184">ReaderCommunicationException (String message, Throwable cause)</text><!--MD5=[3f64bfe3b1698c1197202681f77be61a]
class ReaderProtocolNotSupportedException--><rect codeLine="185" fill="#FEFECE" height="210.0703" id="ReaderProtocolNotSupportedException" style="stroke:#D4AC0D;stroke-width:4.5;" width="948" x="216" y="4556.9912"/><ellipse cx="337.95" cy="4617.2725" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M343.95,4606.7725 Q344.5594,4605.2725 345.2625,4604.5225 Q345.9656,4603.7725 346.7625,4603.7725 Q348.1688,4603.7725 349.0594,4604.6162 Q349.95,4605.46 349.95,4607.4287 L349.95,4612.1162 Q349.95,4614.085 349.1063,4614.9287 Q348.2625,4615.7725 346.95,4615.7725 Q345.7781,4615.7725 345.0281,4615.2568 Q344.2781,4614.7412 343.95,4613.3818 Q343.8094,4612.4443 343.2938,4611.9287 Q342.3563,4610.9443 340.6688,4610.3818 Q338.9813,4609.7725 337.2938,4609.7725 Q335.1844,4609.7725 333.4031,4610.6162 Q331.6688,4611.46 330.3094,4613.335 Q328.95,4615.21 328.95,4617.7881 L328.95,4620.5537 Q328.95,4623.6475 331.4813,4625.71 Q334.0125,4627.7725 338.5125,4627.7725 Q341.1844,4627.7725 343.0594,4627.1631 Q344.1375,4626.835 345.3563,4625.7568 Q346.1531,4625.1475 346.575,4624.96 Q346.9969,4624.7725 347.5125,4624.7725 Q348.4969,4624.7725 349.2,4625.5693 Q349.95,4626.3193 349.95,4627.3975 Q349.95,4628.4287 348.9188,4629.6475 Q347.4188,4631.4287 345.0281,4632.4131 Q341.8875,4633.7725 338.0438,4633.7725 Q333.5438,4633.7725 329.9344,4631.9912 Q327.0281,4630.585 324.9656,4627.5381 Q322.95,4624.4912 322.95,4620.8818 L322.95,4617.6006 Q322.95,4613.8506 324.7313,4610.5693 Q326.5594,4607.2881 329.7,4605.5537 Q332.8875,4603.7725 336.45,4603.7725 Q338.6063,4603.7725 340.4813,4604.5225 Q342.3563,4605.2725 343.95,4606.7725 Z " fill="#000000"/><ellipse cx="412.05" cy="4615.7725" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="387" x="560.55" y="4609.3623">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="648" x="430.05" y="4654.6436">ReaderProtocolNotSupportedException</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="219" x2="1161" y1="4677.5537" y2="4677.5537"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="219" x2="1161" y1="4701.5537" y2="4701.5537"/><ellipse cx="249" cy="4734.5537" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="870" x="276" y="4747.8105">ReaderProtocolNotSupportedException (String cardProtocol)</text><!--MD5=[32fc7b65f340d78e9416d68a58b55b2e]
class CardCommunicationException--><rect codeLine="188" fill="#FEFECE" height="251.5781" id="CardCommunicationException" style="stroke:#D4AC0D;stroke-width:4.5;" width="1035" x="2446.5" y="4535.9912"/><ellipse cx="2681.25" cy="4596.2725" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M2687.25,4585.7725 Q2687.8594,4584.2725 2688.5625,4583.5225 Q2689.2656,4582.7725 2690.0625,4582.7725 Q2691.4688,4582.7725 2692.3594,4583.6162 Q2693.25,4584.46 2693.25,4586.4287 L2693.25,4591.1162 Q2693.25,4593.085 2692.4063,4593.9287 Q2691.5625,4594.7725 2690.25,4594.7725 Q2689.0781,4594.7725 2688.3281,4594.2568 Q2687.5781,4593.7412 2687.25,4592.3818 Q2687.1094,4591.4443 2686.5938,4590.9287 Q2685.6563,4589.9443 2683.9688,4589.3818 Q2682.2813,4588.7725 2680.5938,4588.7725 Q2678.4844,4588.7725 2676.7031,4589.6162 Q2674.9688,4590.46 2673.6094,4592.335 Q2672.25,4594.21 2672.25,4596.7881 L2672.25,4599.5537 Q2672.25,4602.6475 2674.7813,4604.71 Q2677.3125,4606.7725 2681.8125,4606.7725 Q2684.4844,4606.7725 2686.3594,4606.1631 Q2687.4375,4605.835 2688.6563,4604.7568 Q2689.4531,4604.1475 2689.875,4603.96 Q2690.2969,4603.7725 2690.8125,4603.7725 Q2691.7969,4603.7725 2692.5,4604.5693 Q2693.25,4605.3193 2693.25,4606.3975 Q2693.25,4607.4287 2692.2188,4608.6475 Q2690.7188,4610.4287 2688.3281,4611.4131 Q2685.1875,4612.7725 2681.3438,4612.7725 Q2676.8438,4612.7725 2673.2344,4610.9912 Q2670.3281,4609.585 2668.2656,4606.5381 Q2666.25,4603.4912 2666.25,4599.8818 L2666.25,4596.6006 Q2666.25,4592.8506 2668.0313,4589.5693 Q2669.8594,4586.2881 2673,4584.5537 Q2676.1875,4582.7725 2679.75,4582.7725 Q2681.9063,4582.7725 2683.7813,4583.5225 Q2685.6563,4584.2725 2687.25,4585.7725 Z " fill="#000000"/><ellipse cx="2757.75" cy="4594.7725" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="387" x="2835.75" y="4588.3623">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="507" x="2775.75" y="4633.6436">CardCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2449.5" x2="3478.5" y1="4656.5537" y2="4656.5537"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2449.5" x2="3478.5" y1="4680.5537" y2="4680.5537"/><ellipse cx="2479.5" cy="4713.5537" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="684" x="2506.5" y="4726.8105">CardCommunicationException (String message)</text><ellipse cx="2479.5" cy="4755.0615" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="957" x="2506.5" y="4768.3184">CardCommunicationException (String message, Throwable cause)</text><!--MD5=[40362253147766c9c743cec65354f353]
reverse link CardReader to ObservableCardReader--><path d="M3506.04,1045.3712 C3527.22,1131.8612 3551.25,1230.0512 3573.81,1322.2112 " fill="none" id="CardReader-backto-ObservableCardReader" style="stroke:#A80036;stroke-width:3.0;"/><polygon fill="none" points="3485.4,1049.4212,3491.55,986.1512,3526.2,1039.4312,3485.4,1049.4212" style="stroke:#A80036;stroke-width:3.0;"/><!--MD5=[102e1d884686006ef209cb8bf85fc641]
reverse link ObservableCardReader to NotificationMode--><path codeLine="197" d="M3081.33,1942.7612 C2961.951,2011.1042 2840.736,2089.5422 2736,2174.9912 C2668.011,2230.4582 2603.985,2305.4642 2556.72,2366.9702 " fill="none" id="ObservableCardReader-backto-NotificationMode" style="stroke:#A80036;stroke-width:3.0;"/><ellipse cx="3099.97" cy="1932.2691" fill="#FFFFFF" rx="24" ry="24" style="stroke:#A80036;stroke-width:3.0;"/><line style="stroke:#A80036;stroke-width:3.0;" x1="3079.07" x2="3120.87" y1="1944.0669" y2="1920.4712"/><line style="stroke:#A80036;stroke-width:3.0;" x1="3088.1721" x2="3111.7678" y1="1911.369" y2="1953.1691"/><!--MD5=[66154b3cafeacecd1e2cf8a5b4606cfa]
link DetectionMode to ObservableCardReader--><path codeLine="198" d="M2908.758,1672.2812 C2932.566,1673.0012 2956.602,1673.6012 2979.501,1673.9912 C3010.68,1674.5312 3042.66,1674.8612 3074.94,1675.0412 " fill="none" id="DetectionMode-to-ObservableCardReader" style="stroke:#A80036;stroke-width:3.0;"/><ellipse cx="3096.7501" cy="1675.0926" fill="#FFFFFF" rx="24" ry="24" style="stroke:#A80036;stroke-width:3.0;"/><line style="stroke:#A80036;stroke-width:3.0;" x1="3072.7502" x2="3120.75" y1="1675.0241" y2="1675.1612"/><line style="stroke:#A80036;stroke-width:3.0;" x1="3096.8187" x2="3096.6815" y1="1651.0927" y2="1699.0925"/><!--MD5=[dbbe3a95d6beb8e83c2ba54b40633429]
reverse link DetectionMode to ObservableCardReader--><path codeLine="199" d="M2924.934,1664.9912 C2984.058,1664.9912 3051.54,1664.9912 3121.08,1664.9912 " fill="none" id="DetectionMode-backto-ObservableCardReader" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2909.289,1664.9912,2936.289,1676.9912,2924.289,1664.9912,2936.289,1652.9912,2909.289,1664.9912" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2961,1629.5186,2988.1353,1638.3353,2988.1353,1620.7018,2961,1629.5186" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="3003" y="1645.4766">use</text><!--MD5=[f1012a22e38ec6ba8ebae710b6ed7740]
link ObservableCardReader to CardReaderObservationExceptionHandlerSpi--><path codeLine="200" d="M3804.33,2007.9842 C3857.22,2130.0362 3913.62,2260.1792 3953.61,2352.4982 " fill="none" id="ObservableCardReader-to-CardReaderObservationExceptionHandlerSpi" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3959.91,2366.9822,3960.1775,2337.4368,3953.9423,2353.2204,3938.1587,2346.9852,3959.91,2366.9822" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="3881.9638,2138.282,3879.2652,2109.8782,3863.0852,2116.8891,3881.9638,2138.282" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="3903" y="2140.4766">use</text><!--MD5=[340f8b1fa6e5f55e3decc3d0782fe370]
reverse link CardReaderEvent to CardReaderEventType--><path codeLine="202" d="M2909.382,3461.2562 C2893.308,3577.5932 2879.334,3732.8882 2892,3869.9912 C2894.667,3898.8692 2899.092,3929.4452 2904.153,3958.7792 " fill="none" id="CardReaderEvent-backto-CardReaderEventType" style="stroke:#A80036;stroke-width:3.0;"/><ellipse cx="2912.4843" cy="3440.0781" fill="#FFFFFF" rx="24" ry="24" style="stroke:#A80036;stroke-width:3.0;"/><line style="stroke:#A80036;stroke-width:3.0;" x1="2909.0077" x2="2915.961" y1="3463.8249" y2="3416.3312"/><line style="stroke:#A80036;stroke-width:3.0;" x1="2888.7375" x2="2936.2312" y1="3436.6014" y2="3443.5547"/><!--MD5=[ea5d4584d91c2420faebe0edaa35dd07]
link CardReaderEvent to CardReaderEventType--><path codeLine="203" d="M2939.52,3415.6052 C2939.004,3558.6242 2938.176,3787.1162 2937.612,3942.9632 " fill="none" id="CardReaderEvent-to-CardReaderEventType" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2937.552,3958.7552,2949.6522,3931.8,2937.6077,3943.7553,2925.6524,3931.7108,2937.552,3958.7552" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="2951.9457,3858.5185,2960.8606,3831.4153,2943.2272,3831.3515,2951.9457,3858.5185" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="2979" y="3859.4766">provide</text><!--MD5=[288fe8b4bb69e8cb3939b387d62d61fe]
reverse link ScheduledCardSelectionsResponse to CardReaderEvent--><path codeLine="204" d="M1753.962,1753.8812 C1774.773,1937.9312 1844.853,2377.1132 2058,2666.9912 C2212.725,2877.4142 2462.643,3040.5122 2657.01,3144.9842 " fill="none" id="ScheduledCardSelectionsResponse-backto-CardReaderEvent" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1752.21,1737.9512,1743.2926,1766.12,1753.8811,1752.8578,1767.1432,1763.4463,1752.21,1737.9512" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="2064.8326,2468.9371,2072.2123,2496.4979,2087.0028,2486.8965,2064.8326,2468.9371" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="2100" y="2497.4766">provide</text><!--MD5=[ec53f9149eb0a5572ddbd98e132e34ec]
link CardSelectionResult to SmartCard--><path codeLine="206" d="M564,1882.9412 C564,2032.1522 564,2225.8892 564,2351.0792 " fill="none" id="CardSelectionResult-to-SmartCard" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="564,2366.7572,576,2339.7572,564,2351.7572,552,2339.7572,564,2366.7572" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="579,2139.5186,587.8168,2112.3833,570.1832,2112.3833,579,2139.5186" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="606" y="2140.4766">provide</text><!--MD5=[cb74f2fd0d65b4e200068ba9c28e141d]
reverse link CardSelector to FileOccurrence--><path codeLine="208" d="M726.873,3771.9632 C723.345,3786.7502 720.039,3801.4472 717,3815.9912 C707.358,3862.1312 701.16,3913.0382 697.173,3959.4122 " fill="none" id="CardSelector-backto-FileOccurrence" style="stroke:#A80036;stroke-width:3.0;"/><ellipse cx="732.2285" cy="3750.6872" fill="#FFFFFF" rx="24" ry="24" style="stroke:#A80036;stroke-width:3.0;"/><line style="stroke:#A80036;stroke-width:3.0;" x1="726.37" x2="738.087" y1="3773.9612" y2="3727.4132"/><line style="stroke:#A80036;stroke-width:3.0;" x1="708.9545" x2="755.5025" y1="3744.8287" y2="3756.5457"/><!--MD5=[58bc09e0bcdf3ce9f9f56c7a01be4e53]
link CardSelector to FileOccurrence--><path codeLine="209" d="M784.833,3726.5792 C765.714,3804.1802 746.934,3880.4102 731.193,3944.2922 " fill="none" id="CardSelector-to-FileOccurrence" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="727.47,3959.4122,745.5794,3936.0659,731.0576,3944.8476,722.2759,3930.3258,727.47,3959.4122" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="773.4116,3858.083,788.4638,3833.8449,771.3423,3829.6265,773.4116,3858.083" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="804" y="3859.4766">provide</text><!--MD5=[661b5f2f8a397787768e389d55b9cc5c]
reverse link CardSelector to FileControlInformation--><path codeLine="210" d="M1058.214,3768.4532 C1072.056,3803.0702 1086.375,3837.2192 1101,3869.9912 C1114.047,3899.2262 1129.305,3929.7002 1144.725,3958.7612 " fill="none" id="CardSelector-backto-FileControlInformation" style="stroke:#A80036;stroke-width:3.0;"/><ellipse cx="1050.3434" cy="3748.4015" fill="#FFFFFF" rx="24" ry="24" style="stroke:#A80036;stroke-width:3.0;"/><line style="stroke:#A80036;stroke-width:3.0;" x1="1059.1108" x2="1041.576" y1="3770.7428" y2="3726.0602"/><line style="stroke:#A80036;stroke-width:3.0;" x1="1028.0021" x2="1072.6847" y1="3757.1689" y2="3739.6341"/><!--MD5=[3170a5a1181f825b4e376eb870e5f5c6]
link CardSelector to FileControlInformation--><path codeLine="211" d="M1075.41,3726.5792 C1107.315,3804.5072 1138.653,3881.0522 1164.876,3945.0992 " fill="none" id="CardSelector-to-FileControlInformation" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1170.735,3959.4122,1171.611,3929.8786,1165.052,3945.5304,1149.4002,3938.9714,1170.735,3959.4122" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="1154.6834,3857.4002,1152.5615,3828.9475,1136.2426,3835.6287,1154.6834,3857.4002" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="1176" y="3859.4766">provide</text><!--MD5=[eadf68009007b29cbcec9e1404ba9371]
link CardSelectionService to CardSelection--><path codeLine="213" d="M1295.214,1089.9212 C1264.548,1164.2312 1236.843,1244.9912 1221,1322.9912 C1143.924,1702.4612 1206.912,2166.1232 1242.6,2371.4372 " fill="none" id="CardSelectionService-to-CardSelection" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1245.33,2386.9502,1252.4656,2358.2782,1242.7286,2372.1775,1228.8293,2362.4405,1245.33,2386.9502" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="1235.3847,1680.5059,1245.3072,1653.7552,1227.6884,1653.0318,1235.3847,1680.5059" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="1263" y="1681.4766">use</text><!--MD5=[42249140b77a12de43f2de277da3d038]
link CardSelectionService to ScheduledCardSelectionsResponse--><path codeLine="214" d="M1548.822,1090.1912 C1608.237,1262.4812 1678.641,1466.6612 1717.191,1578.4412 " fill="none" id="CardSelectionService-to-ScheduledCardSelectionsResponse" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1722.189,1592.9312,1724.6605,1563.4882,1717.2648,1578.7625,1701.9905,1571.3668,1722.189,1592.9312" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="1615.89,1220.6991,1615.379,1192.172,1598.7088,1197.9206,1615.89,1220.6991" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="1638" y="1222.4766">use</text><!--MD5=[7ba6139df91d5b10dfb19f3b9ece10ea]
link CardSelectionService to CardSelectionResult--><path codeLine="215" d="M1074.186,1089.3812 C1040.994,1118.9312 1008.459,1149.0512 978,1178.9912 C897.279,1258.3112 814.854,1351.4912 745.02,1434.7412 " fill="none" id="CardSelectionService-to-CardSelectionResult" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="734.811,1446.9512,761.3218,1433.906,744.4201,1435.4332,742.8929,1418.5315,734.811,1446.9512" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="982.651,1217.3767,1007.7547,1203.8171,994.9903,1191.6512,982.651,1217.3767" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="1020" y="1222.4766">provide</text><!--MD5=[0f42712be829b9897f4501fa9527391e]
link CardSelectionService to CardReader--><path codeLine="216" d="M1787.547,488.8712 C1916.868,393.8612 2071.161,300.9212 2229,251.9912 C2507.91,165.5312 2615.169,142.8512 2886,251.9912 C3050.91,318.4412 3194.34,459.5312 3294.48,580.4012 " fill="none" id="CardSelectionService-to-CardReader" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3304.02,592.0412,3296.1929,563.5502,3294.5144,580.4376,3277.6271,578.7591,3304.02,592.0412" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2498.9724,115.428,2472.4216,104.9823,2471.3525,122.5834,2498.9724,115.428" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2511" y="130.4766">use</text><!--MD5=[e58f155b93f4e19e2b0c8b1ffb2a3ca3]
link CardSelectionService to NotificationMode--><path codeLine="217" d="M1938.75,1089.4712 C2021.931,1157.6012 2100.468,1235.9612 2160,1322.9912 C2218.911,1409.0912 2380.845,2069.8352 2448.102,2351.4752 " fill="none" id="CardSelectionService-to-NotificationMode" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2451.621,2366.2262,2457.0305,2337.1791,2448.1415,2351.6354,2433.6852,2342.7463,2451.621,2366.2262" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2384.6141,1679.4283,2382.6341,1650.9654,2366.2822,1657.5652,2384.6141,1679.4283" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2406" y="1681.4766">use</text><!--MD5=[a8ece285fe76c1386b3e1146d77fb12a]
link CardSelectionService to DetectionMode--><path codeLine="218" d="M2109.399,1030.8512 C2192.823,1074.0212 2274.024,1123.3112 2346,1178.9912 C2474.301,1278.2312 2583.033,1431.0512 2649.852,1538.1512 " fill="none" id="CardSelectionService-to-DetectionMode" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2657.79,1550.9912,2653.7979,1521.7156,2649.9018,1538.2329,2633.3845,1534.3367,2657.79,1550.9912" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2434.9367,1216.7844,2421.1861,1191.7849,2409.1179,1204.6418,2434.9367,1216.7844" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2451" y="1222.4766">use</text><!--MD5=[769bf36c235d3c29e1ab536906ddc491]
link ObservableCardReader to CardReaderObserverSpi--><path codeLine="220" d="M3432.87,2007.9842 C3352.05,2130.5402 3265.89,2261.2502 3204.99,2353.6352 " fill="none" id="ObservableCardReader-to-CardReaderObserverSpi" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3196.17,2366.9822,3221.0573,2351.0567,3204.432,2354.4627,3201.026,2337.8374,3196.17,2366.9822" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="3378.7437,2137.0419,3401.0405,2119.2399,3386.3185,2109.534,3378.7437,2137.0419" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="3414" y="2140.4766">use</text><!--MD5=[80beeb8e7435df23c483fb097999290c]
link CardReaderObserverSpi to CardReaderEvent--><path codeLine="222" d="M3097.35,2595.1592 C3065.16,2734.8212 3009.78,2974.9172 2974.047,3129.8672 " fill="none" id="CardReaderObserverSpi-to-CardReaderEvent" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2970.651,3144.5912,2988.4139,3120.9802,2974.0233,3129.9752,2965.0283,3115.5846,2970.651,3144.5912" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="3083.6295,2733.135,3098.3181,2708.6748,3081.1355,2704.7125,3083.6295,2733.135" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="3114" y="2734.4766">use</text><!--MD5=[78b9bf92d4f5ccd4dcf9e08b9abd9133]
link CardSelection to CardSelector--><path codeLine="224" d="M1061.775,2574.0512 C1015.035,2604.4982 970.632,2643.2102 942,2690.9912 C918.411,2730.3572 901.62,2773.9682 889.974,2819.1212 " fill="none" id="CardSelection-to-CardSelector" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="886.218,2834.4902,904.2853,2811.1113,889.7793,2819.9191,880.9715,2805.4132,886.218,2834.4902" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="948.3896,2730.8011,971.1855,2713.6428,956.7465,2703.5207,948.3896,2730.8011" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="984" y="2734.4766">provide</text><!--MD5=[8e8096991fa8a86898aeec29dfd3c57c]
link FileOccurrence to ReaderProtocolNotSupportedException--><!--MD5=[a1e51d2b42def1ea2068c5bed5dda84c]
link ReaderCommunicationException to CardCommunicationException--><!--MD5=[cc76fb21c98b4a95f29d0e2d7a45ebf7]
@startuml
title
    Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (04/06/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

package "org.calypsonet.terminal.reader" as readerApi {
    ' SERVICE
    together {
        +class "**final** ReaderApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardReader {
            +String getName ()
            +boolean isContactless ()
            +boolean isCardPresent ()

            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableCardReader extends CardReader {
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setReaderObservationExceptionHandler (
                \tCardReaderObservationExceptionHandlerSpi exceptionHandler)

            +void addObserver (CardReaderObserverSpi observer)
            +void removeObserver (CardReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()

            +void startCardDetection (DetectionMode detectionMode)
            +void stopCardDetection ()
            +void finalizeCardProcessing ()
        }
        +enum DetectionMode {
            REPEATING
            SINGLESHOT
        }
        +enum NotificationMode {
            ALWAYS
            MATCHED_ONLY
        }
        +interface CardReaderEvent {
            +String getReaderName ()
            +Type getType ()
            +ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()
        }
        +enum "Type" as CardReaderEventType {
            CARD_INSERTED
            CARD_MATCHED
            CARD_REMOVED
            UNAVAILABLE
        }
        ' SPI
        package "spi" as readerSpi {
            +interface CardReaderObserverSpi {
                +void onReaderEvent (
                    \tCardReaderEvent cardReaderEvent)
            }
            +interface CardReaderObservationExceptionHandlerSpi {
                +void onReaderObservationError (String contextInfo,
                    \tString readerName, Throwable e)
            }
        }
    }

    ' SELECTION
    package "selection" as selectionApi {
        ' Selection
        +interface CardSelectionService {
            +void setMultipleSelectionMode ()

            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()

            +CardSelectionResult processCardSelectionScenario (CardReader cardReader)

            +void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,
                \tDetectionMode detectionMode, NotificationMode notificationMode)
            +CardSelectionResult parseScheduledCardSelectionsResponse (
                \tScheduledCardSelectionsResponse scheduledCardSelectionsResponse)
        }

        ' Card Extension SPI
        package "spi" as selectionSpi {
            +interface CardSelection {
                +CardSelector getCardSelector ()
            }
            +interface "SmartCard" as SmartCard {
                +byte[] getPowerOnData ()
                +byte[] getSelectApplicationResponse ()
            }
            +interface CardSelector {
                +CardSelector filterByCardProtocol (String cardProtocol)
                +CardSelector filterByPowerOnData (String powerOnDataRegex)

                +CardSelector filterByDfName (byte[] aid)
                +CardSelector filterByDfName (String aid)
                +CardSelector setFileOccurrence (FileOccurrence fileOccurrence)
                +CardSelector setFileControlInformation (FileControlInformation fileControlInformation)
                +CardSelector addSuccessfulStatusWord (int statusWord)

                +String getCardProtocol ()
                +String getPowerOnDataRegex ()

                +byte[] getAid ()
                +FileOccurrence getFileOccurrence ()
                +FileControlInformation getFileControlInformation ()
                +Set<Integer> getSuccessfulSelectionStatusWords ()

                +boolean powerOnDataMatches (byte[] powerOnData)
            }
            +enum FileOccurrence {
                FIRST
                LAST
                NEXT
                PREVIOUS
            }
            +enum FileControlInformation {
                FCI
                FCP
                FMD
                NO_RESPONSE
            }
        }
        +interface CardSelectionResult {
            +boolean hasActiveSelection ()
            +int getActiveSelectionIndex ()
            +boolean hasSelectionMatched (int selectionIndex)

            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getSmartCard (int selectionIndex)
            +SmartCard getActiveSmartCard ()
        }
        +interface ScheduledCardSelectionsResponse {
        }
    }
    ' EXCEPTIONS
    together {
        +class "<<RuntimeException>>\nReaderCommunicationException" as ReaderCommunicationException {
            +ReaderCommunicationException (String message)
            +ReaderCommunicationException (String message, Throwable cause)
        }
        +class "<<RuntimeException>>\nReaderProtocolNotSupportedException" as ReaderProtocolNotSupportedException {
            +ReaderProtocolNotSupportedException (String cardProtocol)
        }
        +class "<<RuntimeException>>\nCardCommunicationException" as CardCommunicationException {
            +CardCommunicationException (String message)
            +CardCommunicationException (String message, Throwable cause)
        }
    }
}

' Associations

ObservableCardReader +- - NotificationMode
ObservableCardReader +-left- DetectionMode
ObservableCardReader .left.> DetectionMode #C_USE : use >
ObservableCardReader ..> CardReaderObservationExceptionHandlerSpi #C_USE : use >

CardReaderEvent +- - CardReaderEventType
CardReaderEvent ..> CardReaderEventType #C_LINK : provide >
CardReaderEvent .up.> ScheduledCardSelectionsResponse #C_LINK : provide >

CardSelectionResult ..> SmartCard #C_LINK : provide >

CardSelector +- - FileOccurrence
CardSelector ..> FileOccurrence #C_LINK : provide >
CardSelector +- - FileControlInformation
CardSelector ..> FileControlInformation #C_LINK : provide >

CardSelectionService ..> CardSelection #C_USE : use >
CardSelectionService ..> ScheduledCardSelectionsResponse #C_USE : use >
CardSelectionService ..> CardSelectionResult #C_LINK : provide >
CardSelectionService .right.> CardReader #C_USE : use >
CardSelectionService ..> NotificationMode #C_USE : use >
CardSelectionService ..> DetectionMode #C_USE : use >

ObservableCardReader ..> CardReaderObserverSpi #C_USE : use >

CardReaderObserverSpi ..> CardReaderEvent #C_USE : use >

CardSelection ..> CardSelector #C_LINK : provide >

' == LAYOUT ==

FileOccurrence -[hidden]- ReaderProtocolNotSupportedException
ReaderCommunicationException -[hidden]right- CardCommunicationException

' == STYLE ==

package readerApi #C_GREY1 {}
package readerSpi #C_GREY2 {}
package selectionApi #C_GREY2 {}
package selectionSpi #C_GREY3 {}

@enduml

@startuml
title
    Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (04/06/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


package "org.calypsonet.terminal.reader" as readerApi {
    together {
        +class "**final** ReaderApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardReader {
            +String getName ()
            +boolean isContactless ()
            +boolean isCardPresent ()

            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableCardReader extends CardReader {
            +void setEventNotificationExecutorService (
                \tExecutorService eventNotificationExecutorService)
            +void setReaderObservationExceptionHandler (
                \tCardReaderObservationExceptionHandlerSpi exceptionHandler)

            +void addObserver (CardReaderObserverSpi observer)
            +void removeObserver (CardReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()

            +void startCardDetection (DetectionMode detectionMode)
            +void stopCardDetection ()
            +void finalizeCardProcessing ()
        }
        +enum DetectionMode {
            REPEATING
            SINGLESHOT
        }
        +enum NotificationMode {
            ALWAYS
            MATCHED_ONLY
        }
        +interface CardReaderEvent {
            +String getReaderName ()
            +Type getType ()
            +ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()
        }
        +enum "Type" as CardReaderEventType {
            CARD_INSERTED
            CARD_MATCHED
            CARD_REMOVED
            UNAVAILABLE
        }
        package "spi" as readerSpi {
            +interface CardReaderObserverSpi {
                +void onReaderEvent (
                    \tCardReaderEvent cardReaderEvent)
            }
            +interface CardReaderObservationExceptionHandlerSpi {
                +void onReaderObservationError (String contextInfo,
                    \tString readerName, Throwable e)
            }
        }
    }

    package "selection" as selectionApi {
        +interface CardSelectionService {
            +void setMultipleSelectionMode ()

            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()

            +CardSelectionResult processCardSelectionScenario (CardReader cardReader)

            +void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,
                \tDetectionMode detectionMode, NotificationMode notificationMode)
            +CardSelectionResult parseScheduledCardSelectionsResponse (
                \tScheduledCardSelectionsResponse scheduledCardSelectionsResponse)
        }

        package "spi" as selectionSpi {
            +interface CardSelection {
                +CardSelector getCardSelector ()
            }
            +interface "SmartCard" as SmartCard {
                +byte[] getPowerOnData ()
                +byte[] getSelectApplicationResponse ()
            }
            +interface CardSelector {
                +CardSelector filterByCardProtocol (String cardProtocol)
                +CardSelector filterByPowerOnData (String powerOnDataRegex)

                +CardSelector filterByDfName (byte[] aid)
                +CardSelector filterByDfName (String aid)
                +CardSelector setFileOccurrence (FileOccurrence fileOccurrence)
                +CardSelector setFileControlInformation (FileControlInformation fileControlInformation)
                +CardSelector addSuccessfulStatusWord (int statusWord)

                +String getCardProtocol ()
                +String getPowerOnDataRegex ()

                +byte[] getAid ()
                +FileOccurrence getFileOccurrence ()
                +FileControlInformation getFileControlInformation ()
                +Set<Integer> getSuccessfulSelectionStatusWords ()

                +boolean powerOnDataMatches (byte[] powerOnData)
            }
            +enum FileOccurrence {
                FIRST
                LAST
                NEXT
                PREVIOUS
            }
            +enum FileControlInformation {
                FCI
                FCP
                FMD
                NO_RESPONSE
            }
        }
        +interface CardSelectionResult {
            +boolean hasActiveSelection ()
            +int getActiveSelectionIndex ()
            +boolean hasSelectionMatched (int selectionIndex)

            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getSmartCard (int selectionIndex)
            +SmartCard getActiveSmartCard ()
        }
        +interface ScheduledCardSelectionsResponse {
        }
    }
    together {
        +class "<<RuntimeException>>\nReaderCommunicationException" as ReaderCommunicationException {
            +ReaderCommunicationException (String message)
            +ReaderCommunicationException (String message, Throwable cause)
        }
        +class "<<RuntimeException>>\nReaderProtocolNotSupportedException" as ReaderProtocolNotSupportedException {
            +ReaderProtocolNotSupportedException (String cardProtocol)
        }
        +class "<<RuntimeException>>\nCardCommunicationException" as CardCommunicationException {
            +CardCommunicationException (String message)
            +CardCommunicationException (String message, Throwable cause)
        }
    }
}


ObservableCardReader +- - NotificationMode
ObservableCardReader +-left- DetectionMode
ObservableCardReader .left.> DetectionMode #27AE60 : use >
ObservableCardReader ..> CardReaderObservationExceptionHandlerSpi #27AE60 : use >

CardReaderEvent +- - CardReaderEventType
CardReaderEvent ..> CardReaderEventType #3498DB : provide >
CardReaderEvent .up.> ScheduledCardSelectionsResponse #3498DB : provide >

CardSelectionResult ..> SmartCard #3498DB : provide >

CardSelector +- - FileOccurrence
CardSelector ..> FileOccurrence #3498DB : provide >
CardSelector +- - FileControlInformation
CardSelector ..> FileControlInformation #3498DB : provide >

CardSelectionService ..> CardSelection #27AE60 : use >
CardSelectionService ..> ScheduledCardSelectionsResponse #27AE60 : use >
CardSelectionService ..> CardSelectionResult #3498DB : provide >
CardSelectionService .right.> CardReader #27AE60 : use >
CardSelectionService ..> NotificationMode #27AE60 : use >
CardSelectionService ..> DetectionMode #27AE60 : use >

ObservableCardReader ..> CardReaderObserverSpi #27AE60 : use >

CardReaderObserverSpi ..> CardReaderEvent #27AE60 : use >

CardSelection ..> CardSelector #3498DB : provide >


FileOccurrence -[hidden]- ReaderProtocolNotSupportedException
ReaderCommunicationException -[hidden]right- CardCommunicationException


package readerApi #F8F9F9 {}
package readerSpi #F2F3F4 {}
package selectionApi #F2F3F4 {}
package selectionSpi #E5E7E9 {}

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>