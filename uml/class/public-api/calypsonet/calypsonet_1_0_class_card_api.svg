<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3237px" preserveAspectRatio="none" style="width:4668px;height:3237px;background:#FFFFFF;" version="1.1" viewBox="0 0 4668 3237" width="4668px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="54" lengthAdjust="spacing" textLength="1557" x="1536" y="56.0566">Calypsonet - calypsonet-terminal-card-java-api - 1.0 (04/06/2021)</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="48,85.9219,666,85.9219,687,156.75,4617,156.75,4617,3217.9219,48,3217.9219,48,85.9219" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="48" x2="687" y1="156.75" y2="156.75"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="600" x="60" y="135.5215">org.calypsonet.terminal.card</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="144,241.9219,225,241.9219,246,312.75,2178,312.75,2178,2623.9219,144,2623.9219,144,241.9219" style="stroke:#000000;stroke-width:4.5;"/><line style="stroke:#000000;stroke-width:4.5;" x1="144" x2="246" y1="312.75" y2="312.75"/><text fill="#000000" font-family="sans-serif" font-size="42" font-weight="bold" lengthAdjust="spacing" textLength="63" x="156" y="291.5215">spi</text><!--MD5=[f120634a3fc1b9906ef904c08b168a9d]
class ProxyReaderApi--><rect codeLine="75" fill="#FEFECE" height="351.5391" id="ProxyReaderApi" style="stroke:#D4AC0D;stroke-width:4.5;" width="675" x="2251.5" y="1426.9219"/><ellipse cx="2424.75" cy="1474.9219" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M2427.75,1465.9219 L2427.75,1483.9219 L2433.75,1483.9219 L2435.2031,1483.9219 L2436.75,1485.7969 L2436.75,1486.9219 L2436.75,1488.0469 L2435.2031,1489.9219 L2433.75,1489.9219 L2415.75,1489.9219 L2414.2969,1489.9219 L2412.75,1488.0469 L2412.75,1486.9219 L2412.75,1485.7969 L2414.2969,1483.9219 L2415.75,1483.9219 L2421.75,1483.9219 L2421.75,1465.9219 L2415.75,1465.9219 L2414.2969,1465.9219 L2412.75,1464.0469 L2412.75,1462.9219 L2412.75,1461.7969 L2414.2969,1459.9219 L2415.75,1459.9219 L2433.75,1459.9219 L2435.2031,1459.9219 L2436.75,1461.7969 L2436.75,1462.9219 L2436.75,1464.0469 L2435.2031,1465.9219 L2433.75,1465.9219 L2427.75,1465.9219 Z " fill="#000000"/><ellipse cx="2501.25" cy="1473.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="270" x="2519.25" y="1489.6523">ProxyReaderApi</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2254.5" x2="2923.5" y1="1522.9219" y2="1522.9219"/><line style="stroke:#D4AC0D;stroke-width:3.0;" x1="2254.5" x2="2923.5" y1="1546.9219" y2="1546.9219"/><ellipse cx="2284.5" cy="1579.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="597" x="2311.5" y="1593.1787">CardResponseApi transmitCardRequest (</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="438" x="2383.5" y="1634.6865">CardRequestSpi cardRequest,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="456" x="2383.5" y="1676.1943">ChannelControl channelControl)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="2320.5" y="1717.7021"/><ellipse cx="2284.5" cy="1745.9531" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="327" x="2311.5" y="1759.21">void releaseChannel ()</text><!--MD5=[ee0d3336d8d2c9dd88a5ad188defe636]
class ChannelControl--><rect codeLine="83" fill="#FEFECE" height="227.0156" id="ChannelControl" style="stroke:#D4AC0D;stroke-width:4.5;" width="390" x="2394" y="903.4219"/><ellipse cx="2439" cy="951.4219" fill="#EB937F" rx="33" ry="33" style="stroke:#EB93DF;stroke-width:3.0;"/><path d="M2434.5,954.4219 L2434.5,960.4219 L2446.5,960.4219 L2446.5,957.4219 L2446.5,955.9688 L2448.375,954.4219 L2449.5,954.4219 L2450.625,954.4219 L2452.5,955.9688 L2452.5,957.4219 L2452.5,966.4219 L2428.5,966.4219 L2427.0469,966.4219 L2425.5,964.5469 L2425.5,963.4219 L2425.5,962.2969 L2427.0469,960.4219 L2428.5,960.4219 L2428.5,960.4219 L2428.5,942.4219 L2428.5,942.4219 L2427.0469,942.4219 L2425.5,940.5469 L2425.5,939.4219 L2425.5,938.2969 L2427.0469,936.4219 L2428.5,936.4219 L2452.5,936.4219 L2452.5,945.4219 L2452.5,946.875 L2450.625,948.4219 L2449.5,948.4219 L2448.375,948.4219 L2446.5,946.875 L2446.5,945.4219 L2446.5,942.4219 L2434.5,942.4219 L2434.5,948.4219 L2437.5,948.4219 L2437.5,946.9688 L2437.5,946.9688 L2439.375,945.4219 L2440.5,945.4219 L2441.625,945.4219 L2443.5,946.9688 L2443.5,948.4219 L2443.5,954.4219 L2443.5,955.875 L2441.625,957.4219 L2441.625,957.4219 L2440.5,957.4219 L2439.375,957.4219 L2437.5,955.875 L2437.5,955.875 L2437.5,954.4219 L2434.5,954.4219 Z " fill="#000000"/><ellipse cx="2496" cy="949.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="261" x="2514" y="966.1523">ChannelControl</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2397" x2="2781" y1="999.4219" y2="999.4219"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="174" x="2412" y="1045.6787">KEEP_OPEN</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="219" x="2412" y="1087.1865">CLOSE_AFTER</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="2397" x2="2781" y1="1106.4375" y2="1106.4375"/><!--MD5=[c0d9bbe2f46f90879b0aee291b4ddd3d]
class AbstractApduException--><rect codeLine="184" fill="#F4ECF7" height="666.6563" id="AbstractApduException" style="stroke:#8E44AD;stroke-width:4.5;" width="693" x="2251.5" y="2011.9219"/><ellipse cx="2377.5" cy="2072.2031" fill="#A9DCDF" rx="33" ry="33" style="stroke:#A9DCDF;stroke-width:3.0;"/><path d="M2382.75,2076.7031 L2372.8594,2076.7031 L2371.5469,2079.7031 L2371.5469,2079.7031 L2372.9531,2079.7031 L2374.5,2081.5781 L2374.5,2082.7031 L2374.5,2083.8281 L2372.9531,2085.7031 L2371.5469,2085.7031 L2365.875,2085.7031 L2364.0469,2085.7031 L2362.5,2083.8281 L2362.5,2082.7031 L2362.5,2081.5781 L2364.0469,2079.7031 L2365.875,2079.7031 L2372.8125,2061.7031 L2370.1875,2061.7031 L2367.0469,2061.7031 L2365.5,2059.8281 L2365.5,2058.7031 L2365.5,2057.5781 L2367.0469,2055.7031 L2370.1875,2055.7031 L2381.2031,2055.7031 L2389.2656,2079.7031 L2390.9531,2079.7031 L2390.9531,2079.7031 L2392.5,2081.5781 L2392.5,2082.7031 L2392.5,2083.8281 L2390.9531,2085.7031 L2389.2656,2085.7031 L2383.5938,2085.7031 L2382.0469,2085.7031 L2380.5,2083.8281 L2380.5,2082.7031 L2380.5,2081.5781 L2382.0469,2079.7031 L2383.5938,2079.7031 L2383.5938,2079.7031 L2382.75,2076.7031 Z M2381.1094,2070.7031 L2377.5,2059.9688 L2374.4063,2070.7031 L2381.1094,2070.7031 Z " fill="#000000"/><ellipse cx="2452.5" cy="2070.7031" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="246" x="2539.5" y="2064.293">&lt;&lt;Exception&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="384" x="2470.5" y="2109.5742">AbstractApduException</text><line style="stroke:#8E44AD;stroke-width:4.5;" x1="2254.5" x2="2941.5" y1="2132.4844" y2="2132.4844"/><line style="stroke:#8E44AD;stroke-width:3.0;" x1="2254.5" x2="2941.5" y1="2156.4844" y2="2156.4844"/><polygon fill="#FFFF44" points="2284.5,2174.4844,2296.5,2186.4844,2284.5,2198.4844,2272.5,2186.4844" style="stroke:#B38D22;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="366" x="2311.5" y="2202.7412">AbstractApduException (</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="543" x="2383.5" y="2244.249">CardResponseApi cardResponseApi,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="504" x="2383.5" y="2285.7568">boolean isCardResponseComplete,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="237" x="2383.5" y="2327.2646">String message)</text><polygon fill="#FFFF44" points="2284.5,2340.5156,2296.5,2352.5156,2284.5,2364.5156,2272.5,2352.5156" style="stroke:#B38D22;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="366" x="2311.5" y="2368.7725">AbstractApduException (</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="543" x="2383.5" y="2410.2803">CardResponseApi cardResponseApi,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="504" x="2383.5" y="2451.7881">boolean isCardResponseComplete,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="234" x="2383.5" y="2493.2959">String message,</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="267" x="2383.5" y="2534.8037">Throwable cause)</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="2320.5" y="2576.3115"/><ellipse cx="2284.5" cy="2604.5625" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="567" x="2311.5" y="2617.8193">CardResponseApi getCardResponse ()</text><ellipse cx="2284.5" cy="2646.0703" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="528" x="2311.5" y="2659.3271">boolean isCardResponseComplete ()</text><!--MD5=[aa6ba6f3ca2ecd56ccab2f9c90ece8a4]
class ReaderBrokenCommunicationException--><rect codeLine="185" fill="#F4ECF7" height="310.0313" id="ReaderBrokenCommunicationException" style="stroke:#8E44AD;stroke-width:4.5;" width="1197" x="709.5" y="2860.9219"/><ellipse cx="944.25" cy="2908.9219" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M950.25,2898.4219 Q950.8594,2896.9219 951.5625,2896.1719 Q952.2656,2895.4219 953.0625,2895.4219 Q954.4688,2895.4219 955.3594,2896.2656 Q956.25,2897.1094 956.25,2899.0781 L956.25,2903.7656 Q956.25,2905.7344 955.4063,2906.5781 Q954.5625,2907.4219 953.25,2907.4219 Q952.0781,2907.4219 951.3281,2906.9063 Q950.5781,2906.3906 950.25,2905.0313 Q950.1094,2904.0938 949.5938,2903.5781 Q948.6563,2902.5938 946.9688,2902.0313 Q945.2813,2901.4219 943.5938,2901.4219 Q941.4844,2901.4219 939.7031,2902.2656 Q937.9688,2903.1094 936.6094,2904.9844 Q935.25,2906.8594 935.25,2909.4375 L935.25,2912.2031 Q935.25,2915.2969 937.7813,2917.3594 Q940.3125,2919.4219 944.8125,2919.4219 Q947.4844,2919.4219 949.3594,2918.8125 Q950.4375,2918.4844 951.6563,2917.4063 Q952.4531,2916.7969 952.875,2916.6094 Q953.2969,2916.4219 953.8125,2916.4219 Q954.7969,2916.4219 955.5,2917.2188 Q956.25,2917.9688 956.25,2919.0469 Q956.25,2920.0781 955.2188,2921.2969 Q953.7188,2923.0781 951.3281,2924.0625 Q948.1875,2925.4219 944.3438,2925.4219 Q939.8438,2925.4219 936.2344,2923.6406 Q933.3281,2922.2344 931.2656,2919.1875 Q929.25,2916.1406 929.25,2912.5313 L929.25,2909.25 Q929.25,2905.5 931.0313,2902.2188 Q932.8594,2898.9375 936,2897.2031 Q939.1875,2895.4219 942.75,2895.4219 Q944.9063,2895.4219 946.7813,2896.1719 Q948.6563,2896.9219 950.25,2898.4219 Z " fill="#000000"/><ellipse cx="1020.75" cy="2907.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="669" x="1038.75" y="2923.6523">ReaderBrokenCommunicationException</text><line style="stroke:#8E44AD;stroke-width:4.5;" x1="712.5" x2="1903.5" y1="2956.9219" y2="2956.9219"/><line style="stroke:#8E44AD;stroke-width:3.0;" x1="712.5" x2="1903.5" y1="2980.9219" y2="2980.9219"/><ellipse cx="742.5" cy="3013.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1119" x="769.5" y="3027.1787">ReaderBrokenCommunicationException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="750" x="841.5" y="3068.6865">boolean isCardResponseComplete, String message)</text><ellipse cx="742.5" cy="3096.9375" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1119" x="769.5" y="3110.1943">ReaderBrokenCommunicationException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1023" x="841.5" y="3151.7021">boolean isCardResponseComplete, String message, Throwable cause)</text><!--MD5=[e6757fe437aef25d7a30ee1e8a4a916b]
class CardBrokenCommunicationException--><rect codeLine="186" fill="#F4ECF7" height="310.0313" id="CardBrokenCommunicationException" style="stroke:#8E44AD;stroke-width:4.5;" width="1173" x="2011.5" y="2860.9219"/><ellipse cx="2255.25" cy="2908.9219" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M2261.25,2898.4219 Q2261.8594,2896.9219 2262.5625,2896.1719 Q2263.2656,2895.4219 2264.0625,2895.4219 Q2265.4688,2895.4219 2266.3594,2896.2656 Q2267.25,2897.1094 2267.25,2899.0781 L2267.25,2903.7656 Q2267.25,2905.7344 2266.4063,2906.5781 Q2265.5625,2907.4219 2264.25,2907.4219 Q2263.0781,2907.4219 2262.3281,2906.9063 Q2261.5781,2906.3906 2261.25,2905.0313 Q2261.1094,2904.0938 2260.5938,2903.5781 Q2259.6563,2902.5938 2257.9688,2902.0313 Q2256.2813,2901.4219 2254.5938,2901.4219 Q2252.4844,2901.4219 2250.7031,2902.2656 Q2248.9688,2903.1094 2247.6094,2904.9844 Q2246.25,2906.8594 2246.25,2909.4375 L2246.25,2912.2031 Q2246.25,2915.2969 2248.7813,2917.3594 Q2251.3125,2919.4219 2255.8125,2919.4219 Q2258.4844,2919.4219 2260.3594,2918.8125 Q2261.4375,2918.4844 2262.6563,2917.4063 Q2263.4531,2916.7969 2263.875,2916.6094 Q2264.2969,2916.4219 2264.8125,2916.4219 Q2265.7969,2916.4219 2266.5,2917.2188 Q2267.25,2917.9688 2267.25,2919.0469 Q2267.25,2920.0781 2266.2188,2921.2969 Q2264.7188,2923.0781 2262.3281,2924.0625 Q2259.1875,2925.4219 2255.3438,2925.4219 Q2250.8438,2925.4219 2247.2344,2923.6406 Q2244.3281,2922.2344 2242.2656,2919.1875 Q2240.25,2916.1406 2240.25,2912.5313 L2240.25,2909.25 Q2240.25,2905.5 2242.0313,2902.2188 Q2243.8594,2898.9375 2247,2897.2031 Q2250.1875,2895.4219 2253.75,2895.4219 Q2255.9063,2895.4219 2257.7813,2896.1719 Q2259.6563,2896.9219 2261.25,2898.4219 Z " fill="#000000"/><ellipse cx="2331.75" cy="2907.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="627" x="2349.75" y="2923.6523">CardBrokenCommunicationException</text><line style="stroke:#8E44AD;stroke-width:4.5;" x1="2014.5" x2="3181.5" y1="2956.9219" y2="2956.9219"/><line style="stroke:#8E44AD;stroke-width:3.0;" x1="2014.5" x2="3181.5" y1="2980.9219" y2="2980.9219"/><ellipse cx="2044.5" cy="3013.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1083" x="2071.5" y="3027.1787">CardBrokenCommunicationException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="750" x="2143.5" y="3068.6865">boolean isCardResponseComplete, String message)</text><ellipse cx="2044.5" cy="3096.9375" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1083" x="2071.5" y="3110.1943">CardBrokenCommunicationException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1023" x="2143.5" y="3151.7021">boolean isCardResponseComplete, String message, Throwable cause)</text><!--MD5=[a6bc7e572d7d352b602d88577660db31]
class UnexpectedStatusWordException--><rect codeLine="187" fill="#F4ECF7" height="310.0313" id="UnexpectedStatusWordException" style="stroke:#8E44AD;stroke-width:4.5;" width="1173" x="3289.5" y="2860.9219"/><ellipse cx="3572.25" cy="2908.9219" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M3578.25,2898.4219 Q3578.8594,2896.9219 3579.5625,2896.1719 Q3580.2656,2895.4219 3581.0625,2895.4219 Q3582.4688,2895.4219 3583.3594,2896.2656 Q3584.25,2897.1094 3584.25,2899.0781 L3584.25,2903.7656 Q3584.25,2905.7344 3583.4063,2906.5781 Q3582.5625,2907.4219 3581.25,2907.4219 Q3580.0781,2907.4219 3579.3281,2906.9063 Q3578.5781,2906.3906 3578.25,2905.0313 Q3578.1094,2904.0938 3577.5938,2903.5781 Q3576.6563,2902.5938 3574.9688,2902.0313 Q3573.2813,2901.4219 3571.5938,2901.4219 Q3569.4844,2901.4219 3567.7031,2902.2656 Q3565.9688,2903.1094 3564.6094,2904.9844 Q3563.25,2906.8594 3563.25,2909.4375 L3563.25,2912.2031 Q3563.25,2915.2969 3565.7813,2917.3594 Q3568.3125,2919.4219 3572.8125,2919.4219 Q3575.4844,2919.4219 3577.3594,2918.8125 Q3578.4375,2918.4844 3579.6563,2917.4063 Q3580.4531,2916.7969 3580.875,2916.6094 Q3581.2969,2916.4219 3581.8125,2916.4219 Q3582.7969,2916.4219 3583.5,2917.2188 Q3584.25,2917.9688 3584.25,2919.0469 Q3584.25,2920.0781 3583.2188,2921.2969 Q3581.7188,2923.0781 3579.3281,2924.0625 Q3576.1875,2925.4219 3572.3438,2925.4219 Q3567.8438,2925.4219 3564.2344,2923.6406 Q3561.3281,2922.2344 3559.2656,2919.1875 Q3557.25,2916.1406 3557.25,2912.5313 L3557.25,2909.25 Q3557.25,2905.5 3559.0313,2902.2188 Q3560.8594,2898.9375 3564,2897.2031 Q3567.1875,2895.4219 3570.75,2895.4219 Q3572.9063,2895.4219 3574.7813,2896.1719 Q3576.6563,2896.9219 3578.25,2898.4219 Z " fill="#000000"/><ellipse cx="3648.75" cy="2907.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="549" x="3666.75" y="2923.6523">UnexpectedStatusWordException</text><line style="stroke:#8E44AD;stroke-width:4.5;" x1="3292.5" x2="4459.5" y1="2956.9219" y2="2956.9219"/><line style="stroke:#8E44AD;stroke-width:3.0;" x1="3292.5" x2="4459.5" y1="2980.9219" y2="2980.9219"/><ellipse cx="3322.5" cy="3013.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1041" x="3349.5" y="3027.1787">UnexpectedStatusWordException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="750" x="3421.5" y="3068.6865">boolean isCardResponseComplete, String message)</text><ellipse cx="3322.5" cy="3096.9375" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1041" x="3349.5" y="3110.1943">UnexpectedStatusWordException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1023" x="3421.5" y="3151.7021">boolean isCardResponseComplete, String message, Throwable cause)</text><!--MD5=[e210ee7b55cb4fcef849a017d68619f7]
class CardSelectionSpi--><rect codeLine="50" fill="#FEFECE" height="227.0156" id="CardSelectionSpi" style="stroke:#D4AC0D;stroke-width:4.5;" width="1200" x="849" y="373.9219"/><ellipse cx="1275.75" cy="421.9219" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1278.75,412.9219 L1278.75,430.9219 L1284.75,430.9219 L1286.2031,430.9219 L1287.75,432.7969 L1287.75,433.9219 L1287.75,435.0469 L1286.2031,436.9219 L1284.75,436.9219 L1266.75,436.9219 L1265.2969,436.9219 L1263.75,435.0469 L1263.75,433.9219 L1263.75,432.7969 L1265.2969,430.9219 L1266.75,430.9219 L1272.75,430.9219 L1272.75,412.9219 L1266.75,412.9219 L1265.2969,412.9219 L1263.75,411.0469 L1263.75,409.9219 L1263.75,408.7969 L1265.2969,406.9219 L1266.75,406.9219 L1284.75,406.9219 L1286.2031,406.9219 L1287.75,408.7969 L1287.75,409.9219 L1287.75,411.0469 L1286.2031,412.9219 L1284.75,412.9219 L1278.75,412.9219 Z " fill="#000000"/><ellipse cx="1352.25" cy="420.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="288" x="1370.25" y="436.6523">CardSelectionSpi</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="852" x2="2046" y1="469.9219" y2="469.9219"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="852" x2="2046" y1="493.9219" y2="493.9219"/><ellipse cx="882" cy="526.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="774" x="909" y="540.1787">CardSelectionRequestSpi getCardSelectionRequest ()</text><ellipse cx="882" cy="568.4297" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="1122" x="909" y="581.6865">SmartCardSpi parse (CardSelectionResponseApi cardSelectionResponseApi)</text><!--MD5=[dccdbbb850bf03879ac099cfa435f162]
class CardSelectorSpi--><rect codeLine="54" fill="#FEFECE" height="144" id="CardSelectorSpi" style="stroke:#D4AC0D;stroke-width:4.5;" width="399" x="568.5" y="945.4219"/><ellipse cx="613.5" cy="993.4219" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M616.5,984.4219 L616.5,1002.4219 L622.5,1002.4219 L623.9531,1002.4219 L625.5,1004.2969 L625.5,1005.4219 L625.5,1006.5469 L623.9531,1008.4219 L622.5,1008.4219 L604.5,1008.4219 L603.0469,1008.4219 L601.5,1006.5469 L601.5,1005.4219 L601.5,1004.2969 L603.0469,1002.4219 L604.5,1002.4219 L610.5,1002.4219 L610.5,984.4219 L604.5,984.4219 L603.0469,984.4219 L601.5,982.5469 L601.5,981.4219 L601.5,980.2969 L603.0469,978.4219 L604.5,978.4219 L622.5,978.4219 L623.9531,978.4219 L625.5,980.2969 L625.5,981.4219 L625.5,982.5469 L623.9531,984.4219 L622.5,984.4219 L616.5,984.4219 Z " fill="#000000"/><ellipse cx="670.5" cy="991.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="270" x="688.5" y="1008.1523">CardSelectorSpi</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="571.5" x2="964.5" y1="1041.4219" y2="1041.4219"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="571.5" x2="964.5" y1="1065.4219" y2="1065.4219"/><!--MD5=[c089e258773b765d812cd5d8bc232f90]
class SmartCardSpi--><rect codeLine="56" fill="#FEFECE" height="144" id="SmartCardSpi" style="stroke:#D4AC0D;stroke-width:4.5;" width="363" x="217.5" y="415.9219"/><ellipse cx="262.5" cy="463.9219" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M265.5,454.9219 L265.5,472.9219 L271.5,472.9219 L272.9531,472.9219 L274.5,474.7969 L274.5,475.9219 L274.5,477.0469 L272.9531,478.9219 L271.5,478.9219 L253.5,478.9219 L252.0469,478.9219 L250.5,477.0469 L250.5,475.9219 L250.5,474.7969 L252.0469,472.9219 L253.5,472.9219 L259.5,472.9219 L259.5,454.9219 L253.5,454.9219 L252.0469,454.9219 L250.5,453.0469 L250.5,451.9219 L250.5,450.7969 L252.0469,448.9219 L253.5,448.9219 L271.5,448.9219 L272.9531,448.9219 L274.5,450.7969 L274.5,451.9219 L274.5,453.0469 L272.9531,454.9219 L271.5,454.9219 L265.5,454.9219 Z " fill="#000000"/><ellipse cx="319.5" cy="462.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="234" x="337.5" y="478.6523">SmartCardSpi</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="220.5" x2="577.5" y1="511.9219" y2="511.9219"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="220.5" x2="577.5" y1="535.9219" y2="535.9219"/><!--MD5=[8d87e43a1a915ffb33ab992212a28e16]
class CardSelectionRequestSpi--><rect codeLine="60" fill="#FEFECE" height="227.0156" id="CardSelectionRequestSpi" style="stroke:#D4AC0D;stroke-width:4.5;" width="588" x="1236" y="903.4219"/><ellipse cx="1295.85" cy="951.4219" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1298.85,942.4219 L1298.85,960.4219 L1304.85,960.4219 L1306.3031,960.4219 L1307.85,962.2969 L1307.85,963.4219 L1307.85,964.5469 L1306.3031,966.4219 L1304.85,966.4219 L1286.85,966.4219 L1285.3969,966.4219 L1283.85,964.5469 L1283.85,963.4219 L1283.85,962.2969 L1285.3969,960.4219 L1286.85,960.4219 L1292.85,960.4219 L1292.85,942.4219 L1286.85,942.4219 L1285.3969,942.4219 L1283.85,940.5469 L1283.85,939.4219 L1283.85,938.2969 L1285.3969,936.4219 L1286.85,936.4219 L1304.85,936.4219 L1306.3031,936.4219 L1307.85,938.2969 L1307.85,939.4219 L1307.85,940.5469 L1306.3031,942.4219 L1304.85,942.4219 L1298.85,942.4219 Z " fill="#000000"/><ellipse cx="1356.15" cy="949.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="426" x="1374.15" y="966.1523">CardSelectionRequestSpi</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1239" x2="1821" y1="999.4219" y2="999.4219"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1239" x2="1821" y1="1023.4219" y2="1023.4219"/><ellipse cx="1269" cy="1056.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="510" x="1296" y="1069.6787">CardSelectorSpi getCardSelector ()</text><ellipse cx="1269" cy="1097.9297" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="510" x="1296" y="1111.1865">CardRequestSpi getCardRequest ()</text><!--MD5=[b26cc63de5889bffd0c8769786a5769b]
class CardRequestSpi--><rect codeLine="64" fill="#FEFECE" height="227.0156" id="CardRequestSpi" style="stroke:#D4AC0D;stroke-width:4.5;" width="711" x="1207.5" y="1488.4219"/><ellipse cx="1397.25" cy="1536.4219" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1400.25,1527.4219 L1400.25,1545.4219 L1406.25,1545.4219 L1407.7031,1545.4219 L1409.25,1547.2969 L1409.25,1548.4219 L1409.25,1549.5469 L1407.7031,1551.4219 L1406.25,1551.4219 L1388.25,1551.4219 L1386.7969,1551.4219 L1385.25,1549.5469 L1385.25,1548.4219 L1385.25,1547.2969 L1386.7969,1545.4219 L1388.25,1545.4219 L1394.25,1545.4219 L1394.25,1527.4219 L1388.25,1527.4219 L1386.7969,1527.4219 L1385.25,1525.5469 L1385.25,1524.4219 L1385.25,1523.2969 L1386.7969,1521.4219 L1388.25,1521.4219 L1406.25,1521.4219 L1407.7031,1521.4219 L1409.25,1523.2969 L1409.25,1524.4219 L1409.25,1525.5469 L1407.7031,1527.4219 L1406.25,1527.4219 L1400.25,1527.4219 Z " fill="#000000"/><ellipse cx="1473.75" cy="1534.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="273" x="1491.75" y="1551.1523">CardRequestSpi</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1210.5" x2="1915.5" y1="1584.4219" y2="1584.4219"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1210.5" x2="1915.5" y1="1608.4219" y2="1608.4219"/><ellipse cx="1240.5" cy="1641.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="633" x="1267.5" y="1654.6787">List&lt;ApduRequestSpi&gt; getApduRequests ()</text><ellipse cx="1240.5" cy="1682.9297" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="633" x="1267.5" y="1696.1865">boolean stopOnUnsuccessfulStatusWord ()</text><!--MD5=[1499b49b6a3daea27e4b5ae092e773a3]
class ApduRequestSpi--><rect codeLine="68" fill="#FEFECE" height="268.5234" id="ApduRequestSpi" style="stroke:#D4AC0D;stroke-width:4.5;" width="702" x="1212" y="2209.9219"/><ellipse cx="1394.25" cy="2257.9219" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M1397.25,2248.9219 L1397.25,2266.9219 L1403.25,2266.9219 L1404.7031,2266.9219 L1406.25,2268.7969 L1406.25,2269.9219 L1406.25,2271.0469 L1404.7031,2272.9219 L1403.25,2272.9219 L1385.25,2272.9219 L1383.7969,2272.9219 L1382.25,2271.0469 L1382.25,2269.9219 L1382.25,2268.7969 L1383.7969,2266.9219 L1385.25,2266.9219 L1391.25,2266.9219 L1391.25,2248.9219 L1385.25,2248.9219 L1383.7969,2248.9219 L1382.25,2247.0469 L1382.25,2245.9219 L1382.25,2244.7969 L1383.7969,2242.9219 L1385.25,2242.9219 L1403.25,2242.9219 L1404.7031,2242.9219 L1406.25,2244.7969 L1406.25,2245.9219 L1406.25,2247.0469 L1404.7031,2248.9219 L1403.25,2248.9219 L1397.25,2248.9219 Z " fill="#000000"/><ellipse cx="1470.75" cy="2256.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="279" x="1488.75" y="2272.6523">ApduRequestSpi</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1215" x2="1911" y1="2305.9219" y2="2305.9219"/><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="1215" x2="1911" y1="2329.9219" y2="2329.9219"/><ellipse cx="1245" cy="2362.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="303" x="1272" y="2376.1787">byte[] getRawData ()</text><ellipse cx="1245" cy="2404.4297" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="624" x="1272" y="2417.6865">Set&lt;Integer&gt; getSuccessfulStatusWords ()</text><ellipse cx="1245" cy="2445.9375" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="225" x="1272" y="2459.1943">String getInfo ()</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="89" fill="#FEFECE" height="185.5078" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:4.5;" width="513" x="3982.5" y="924.4219"/><ellipse cx="4027.5" cy="972.4219" fill="#ADD1B2" rx="33" ry="33" style="stroke:#ADD1B2;stroke-width:3.0;"/><path d="M4033.5,961.9219 Q4034.1094,960.4219 4034.8125,959.6719 Q4035.5156,958.9219 4036.3125,958.9219 Q4037.7188,958.9219 4038.6094,959.7656 Q4039.5,960.6094 4039.5,962.5781 L4039.5,967.2656 Q4039.5,969.2344 4038.6563,970.0781 Q4037.8125,970.9219 4036.5,970.9219 Q4035.3281,970.9219 4034.5781,970.4063 Q4033.8281,969.8906 4033.5,968.5313 Q4033.3594,967.5938 4032.8438,967.0781 Q4031.9063,966.0938 4030.2188,965.5313 Q4028.5313,964.9219 4026.8438,964.9219 Q4024.7344,964.9219 4022.9531,965.7656 Q4021.2188,966.6094 4019.8594,968.4844 Q4018.5,970.3594 4018.5,972.9375 L4018.5,975.7031 Q4018.5,978.7969 4021.0313,980.8594 Q4023.5625,982.9219 4028.0625,982.9219 Q4030.7344,982.9219 4032.6094,982.3125 Q4033.6875,981.9844 4034.9063,980.9063 Q4035.7031,980.2969 4036.125,980.1094 Q4036.5469,979.9219 4037.0625,979.9219 Q4038.0469,979.9219 4038.75,980.7188 Q4039.5,981.4688 4039.5,982.5469 Q4039.5,983.5781 4038.4688,984.7969 Q4036.9688,986.5781 4034.5781,987.5625 Q4031.4375,988.9219 4027.5938,988.9219 Q4023.0938,988.9219 4019.4844,987.1406 Q4016.5781,985.7344 4014.5156,982.6875 Q4012.5,979.6406 4012.5,976.0313 L4012.5,972.75 Q4012.5,969 4014.2813,965.7188 Q4016.1094,962.4375 4019.25,960.7031 Q4022.4375,958.9219 4026,958.9219 Q4028.1563,958.9219 4030.0313,959.6719 Q4031.9063,960.4219 4033.5,961.9219 Z " fill="#000000"/><ellipse cx="4084.5" cy="970.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="72" x="4102.5" y="987.1523">final</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="303" x="4183.5" y="987.1523">CardApiProperties</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3985.5" x2="4492.5" y1="1020.4219" y2="1020.4219"/><ellipse cx="4015.5" cy="1053.4219" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="33" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="69" x="4042.5" y="1066.6787">final</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" text-decoration="underline" textLength="228" x="4120.5" y="1066.6787">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:4.5;" x1="3985.5" x2="4492.5" y1="1085.9297" y2="1085.9297"/><!--MD5=[752ddf5140aacf2af4e16923ec5562ef]
class CardSelectionResponseApi--><rect codeLine="181" fill="#F4ECF7" height="351.5391" id="CardSelectionResponseApi" style="stroke:#8E44AD;stroke-width:4.5;" width="834" x="3042" y="841.9219"/><ellipse cx="3201.75" cy="889.9219" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M3204.75,880.9219 L3204.75,898.9219 L3210.75,898.9219 L3212.2031,898.9219 L3213.75,900.7969 L3213.75,901.9219 L3213.75,903.0469 L3212.2031,904.9219 L3210.75,904.9219 L3192.75,904.9219 L3191.2969,904.9219 L3189.75,903.0469 L3189.75,901.9219 L3189.75,900.7969 L3191.2969,898.9219 L3192.75,898.9219 L3198.75,898.9219 L3198.75,880.9219 L3192.75,880.9219 L3191.2969,880.9219 L3189.75,879.0469 L3189.75,877.9219 L3189.75,876.7969 L3191.2969,874.9219 L3192.75,874.9219 L3210.75,874.9219 L3212.2031,874.9219 L3213.75,876.7969 L3213.75,877.9219 L3213.75,879.0469 L3212.2031,880.9219 L3210.75,880.9219 L3204.75,880.9219 Z " fill="#000000"/><ellipse cx="3278.25" cy="888.4219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="456" x="3296.25" y="904.6523">CardSelectionResponseApi</text><line style="stroke:#8E44AD;stroke-width:4.5;" x1="3045" x2="3873" y1="937.9219" y2="937.9219"/><line style="stroke:#8E44AD;stroke-width:4.5;" x1="3045" x2="3873" y1="961.9219" y2="961.9219"/><ellipse cx="3075" cy="994.9219" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="372" x="3102" y="1008.1787">byte[] getPowerOnData ()</text><ellipse cx="3075" cy="1036.4297" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="756" x="3102" y="1049.6865">ApduResponseApi getSelectApplicationResponse ()</text><ellipse cx="3075" cy="1077.9375" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="333" x="3102" y="1091.1943">boolean hasMatched ()</text><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="0" x="3111" y="1132.7021"/><ellipse cx="3075" cy="1160.9531" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="567" x="3102" y="1174.21">CardResponseApi getCardResponse ()</text><!--MD5=[8f79ecf97aaeb6df1ec4123222024fca]
class CardResponseApi--><rect codeLine="182" fill="#F4ECF7" height="251.5781" id="CardResponseApi" style="stroke:#8E44AD;stroke-width:4.5;" width="768" x="3195" y="1476.4219"/><ellipse cx="3398.25" cy="1536.7031" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M3401.25,1527.7031 L3401.25,1545.7031 L3407.25,1545.7031 L3408.7031,1545.7031 L3410.25,1547.5781 L3410.25,1548.7031 L3410.25,1549.8281 L3408.7031,1551.7031 L3407.25,1551.7031 L3389.25,1551.7031 L3387.7969,1551.7031 L3386.25,1549.8281 L3386.25,1548.7031 L3386.25,1547.5781 L3387.7969,1545.7031 L3389.25,1545.7031 L3395.25,1545.7031 L3395.25,1527.7031 L3389.25,1527.7031 L3387.7969,1527.7031 L3386.25,1525.8281 L3386.25,1524.7031 L3386.25,1523.5781 L3387.7969,1521.7031 L3389.25,1521.7031 L3407.25,1521.7031 L3408.7031,1521.7031 L3410.25,1523.5781 L3410.25,1524.7031 L3410.25,1525.8281 L3408.7031,1527.7031 L3407.25,1527.7031 L3401.25,1527.7031 Z " fill="#000000"/><ellipse cx="3474.75" cy="1535.2031" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="285" x="3501.75" y="1528.793">&lt;&lt;Serializable&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="303" x="3492.75" y="1574.0742">CardResponseApi</text><line style="stroke:#8E44AD;stroke-width:4.5;" x1="3198" x2="3960" y1="1596.9844" y2="1596.9844"/><line style="stroke:#8E44AD;stroke-width:4.5;" x1="3198" x2="3960" y1="1620.9844" y2="1620.9844"/><ellipse cx="3228" cy="1653.9844" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="690" x="3255" y="1667.2412">List&lt;ApduResponseApi&gt; getApduResponses ()</text><ellipse cx="3228" cy="1695.4922" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="477" x="3255" y="1708.749">boolean isLogicalChannelOpen ()</text><!--MD5=[593363c87188d3912986ed4ab95ef26f]
class ApduResponseApi--><rect codeLine="183" fill="#F4ECF7" height="293.0859" id="ApduResponseApi" style="stroke:#8E44AD;stroke-width:4.5;" width="438" x="3804" y="2197.9219"/><ellipse cx="3849" cy="2258.2031" fill="#B4A7E5" rx="33" ry="33" style="stroke:#B4A7E5;stroke-width:3.0;"/><path d="M3852,2249.2031 L3852,2267.2031 L3858,2267.2031 L3859.4531,2267.2031 L3861,2269.0781 L3861,2270.2031 L3861,2271.3281 L3859.4531,2273.2031 L3858,2273.2031 L3840,2273.2031 L3838.5469,2273.2031 L3837,2271.3281 L3837,2270.2031 L3837,2269.0781 L3838.5469,2267.2031 L3840,2267.2031 L3846,2267.2031 L3846,2249.2031 L3840,2249.2031 L3838.5469,2249.2031 L3837,2247.3281 L3837,2246.2031 L3837,2245.0781 L3838.5469,2243.2031 L3840,2243.2031 L3858,2243.2031 L3859.4531,2243.2031 L3861,2245.0781 L3861,2246.2031 L3861,2247.3281 L3859.4531,2249.2031 L3858,2249.2031 L3852,2249.2031 Z " fill="#000000"/><ellipse cx="3906" cy="2256.7031" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="285" x="3936" y="2250.293">&lt;&lt;Serializable&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="36" font-style="italic" lengthAdjust="spacing" textLength="309" x="3924" y="2295.5742">ApduResponseApi</text><line style="stroke:#8E44AD;stroke-width:4.5;" x1="3807" x2="4239" y1="2318.4844" y2="2318.4844"/><line style="stroke:#8E44AD;stroke-width:4.5;" x1="3807" x2="4239" y1="2342.4844" y2="2342.4844"/><ellipse cx="3837" cy="2375.4844" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="303" x="3864" y="2388.7412">byte[] getRawData ()</text><ellipse cx="3837" cy="2416.9922" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="285" x="3864" y="2430.249">byte[] getDataOut ()</text><ellipse cx="3837" cy="2458.5" fill="#84BE84" rx="9" ry="9" style="stroke:#038048;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="33" lengthAdjust="spacing" textLength="291" x="3864" y="2471.7568">int getStatusWord ()</text><!--MD5=[1009538229b8579f9307b4ea464024c7]
reverse link AbstractApduException to ReaderBrokenCommunicationException--><path d="M2197.545,2558.7109 C2121.417,2598.4939 2042.328,2639.6209 1968,2677.9219 C1850.955,2738.2339 1721.829,2803.8739 1609.065,2860.9069 " fill="none" id="AbstractApduException-backto-ReaderBrokenCommunicationException" style="stroke:#A80036;stroke-width:3.0;"/><polygon fill="none" points="2188.11,2539.9489,2251.008,2530.7419,2207.58,2577.1639,2188.11,2539.9489" style="stroke:#A80036;stroke-width:3.0;"/><!--MD5=[c10792058e4ee269d9b4d3b1dd341ade]
reverse link AbstractApduException to CardBrokenCommunicationException--><path d="M2598,2739.2929 C2598,2782.0699 2598,2823.4969 2598,2860.6099 " fill="none" id="AbstractApduException-backto-CardBrokenCommunicationException" style="stroke:#A80036;stroke-width:3.0;"/><polygon fill="none" points="2577,2738.2249,2598,2678.2249,2619,2738.2249,2577,2738.2249" style="stroke:#A80036;stroke-width:3.0;"/><!--MD5=[de95e7d471be8c3d8011decaa2cfd536]
reverse link AbstractApduException to UnexpectedStatusWordException--><path d="M2997.534,2677.9819 C3145.29,2761.9459 3270.36,2815.8859 3388.92,2860.6429 " fill="none" id="AbstractApduException-backto-UnexpectedStatusWordException" style="stroke:#A80036;stroke-width:3.0;"/><polygon fill="none" points="2986.722,2695.9849,2945.418,2647.6639,3007.83,2659.6819,2986.722,2695.9849" style="stroke:#A80036;stroke-width:3.0;"/><!--MD5=[411862f75c10ec92656fcdaedc63ae5a]
reverse link SmartCardSpi to CardSelectionSpi--><path codeLine="149" d="M596.184,487.9219 C669.789,487.9219 757.731,487.9219 848.751,487.9219 " fill="none" id="SmartCardSpi-backto-CardSelectionSpi" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="580.698,487.9219,607.698,499.9219,595.698,487.9219,607.698,475.9219,580.698,487.9219" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="632.25,452.4492,659.3853,461.266,659.3853,443.6324,632.25,452.4492" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="674.25" y="468.4072">provide</text><!--MD5=[b2c6f4503e09f276de0cb6ba332bc40d]
link CardSelectionSpi to CardSelectionRequestSpi--><path codeLine="150" d="M1466.178,601.9429 C1479.129,685.6399 1496.904,800.5279 1510.407,887.8009 " fill="none" id="CardSelectionSpi-to-CardSelectionRequestSpi" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1512.708,902.6599,1520.44,874.1429,1510.4152,887.8361,1496.722,877.8114,1512.708,902.6599" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="1505.2936,734.2728,1509.8576,706.1085,1492.4314,708.8048,1505.2936,734.2728" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="1530" y="735.4072">provide</text><!--MD5=[5562132985776398c1b044e39fade6ed]
link CardSelectionSpi to CardSelectionResponseApi--><path codeLine="151" d="M1927.902,602.1679 C2162.976,653.0419 2451.078,709.8769 2712,745.9219 C2852.403,765.3169 2894.457,728.4859 3030,769.9219 C3081.72,785.7289 3133.98,808.5859 3183.39,834.0619 " fill="none" id="CardSelectionSpi-to-CardSelectionResponseApi" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3197.25,841.3129,3178.8752,818.1749,3183.9549,834.3674,3167.7624,839.447,3197.25,841.3129" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2741.7505,722.1737,2716.668,708.5749,2713.4652,725.9152,2741.7505,722.1737" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2754" y="735.4072">use</text><!--MD5=[b588842ff93523625a87f083bb0c2650]
reverse link CardSelectorSpi to CardSelectionRequestSpi--><path codeLine="153" d="M983.667,1017.4219 C1061.754,1017.4219 1151.337,1017.4219 1235.067,1017.4219 " fill="none" id="CardSelectorSpi-backto-CardSelectionRequestSpi" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="968.208,1017.4219,995.208,1029.4219,983.208,1017.4219,995.208,1005.4219,968.208,1017.4219" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="1019.25,981.9492,1046.3853,990.766,1046.3853,973.1324,1019.25,981.9492" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="1061.25" y="997.9072">provide</text><!--MD5=[81e5de53e28fbdb8de61555fc5ff1266]
link CardSelectionRequestSpi to CardRequestSpi--><path codeLine="154" d="M1451.22,1131.4369 C1418.115,1191.3529 1391.148,1267.1419 1410,1336.9219 C1422.966,1384.9159 1447.125,1433.1529 1472.475,1474.9459 " fill="none" id="CardSelectionRequestSpi-to-CardRequestSpi" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1480.368,1487.7019,1476.3616,1458.4282,1472.4736,1474.9473,1455.9544,1471.0593,1480.368,1487.7019" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="1425.9264,1325.4206,1433.0505,1297.7926,1415.4506,1298.8816,1425.9264,1325.4206" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="1452" y="1326.4072">provide</text><!--MD5=[8d072c8ae4c2a923e36ed15f691653c0]
link CardRequestSpi to ApduRequestSpi--><path codeLine="156" d="M1490.715,1717.0819 C1465.647,1762.0669 1440.66,1815.6229 1428,1867.9219 C1401.246,1978.4359 1438.647,2101.9429 1480.806,2195.1709 " fill="none" id="CardRequestSpi-to-ApduRequestSpi" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1487.604,2209.8679,1487.1566,2180.3247,1481.3051,2196.2545,1465.3753,2190.4029,1487.604,2209.8679" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="1442.6892,1910.446,1452.0664,1883.4993,1434.4366,1883.1339,1442.6892,1910.446" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="1470" y="1911.4072">provide</text><!--MD5=[eb83ee6c6de48d735f24ac7b8e798bf7]
link CardSelectionResponseApi to ApduResponseApi--><path codeLine="158" d="M3800.88,1193.5489 C3886.98,1254.8299 3968.58,1332.5389 4017,1426.9219 C4140.03,1666.8379 4102.56,1990.8319 4063.35,2181.9559 " fill="none" id="CardSelectionResponseApi-to-ApduResponseApi" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4060.02,2197.7569,4077.2974,2173.7883,4063.0933,2183.0751,4053.8066,2168.871,4060.02,2197.7569" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="4116.8498,1617.4468,4118.4069,1588.9576,4101.364,1593.4833,4116.8498,1617.4468" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="4140" y="1618.9072">provide</text><!--MD5=[1714241acd7d2133df19efd008721ab1]
link CardSelectionResponseApi to CardResponseApi--><path codeLine="159" d="M3494.85,1193.3569 C3512.58,1278.9979 3533.73,1380.9739 3550.38,1461.3109 " fill="none" id="CardSelectionResponseApi-to-CardResponseApi" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3553.44,1476.0499,3559.7099,1447.1762,3550.3954,1461.3621,3536.2095,1452.0476,3553.44,1476.0499" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="3540.0439,1325.1371,3543.1708,1296.7773,3525.9041,1300.3556,3540.0439,1325.1371" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="3564" y="1326.4072">provide</text><!--MD5=[6cdd032d6f0a6ec5d0180056f5b276fc]
link CardResponseApi to ApduResponseApi--><path codeLine="161" d="M3653.31,1728.6949 C3728.64,1853.6569 3845.49,2047.4959 3927.63,2183.7199 " fill="none" id="CardResponseApi-to-ApduResponseApi" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3935.46,2196.7189,3931.8083,2167.3988,3927.7205,2183.8697,3911.2496,2179.782,3935.46,2196.7189" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="3781.7445,1908.2953,3775.2853,1880.5044,3760.1838,1889.6086,3781.7445,1908.2953" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="3801" y="1911.4072">provide</text><!--MD5=[204afea56fbb341093958fd5ccf00e7a]
link CardResponseApi to AbstractApduException--><path codeLine="163" d="M3392.94,1728.6259 C3276.48,1807.2139 3124.35,1912.6189 2994,2011.9219 C2988.243,2016.3079 2982.456,2020.7449 2976.645,2025.2269 " fill="none" id="CardResponseApi-to-AbstractApduException" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#3498DB" points="2945.385,2049.5749,2966.9595,2047.9806,2973.7857,2027.4525,2952.2112,2029.0468,2945.385,2049.5749" style="stroke:#3498DB;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="66" x="3293.3964" y="1792.2243">0..1</text><!--MD5=[480721e67db7582f707caf330eceae59]
reverse link CardRequestSpi to ProxyReaderApi--><path codeLine="165" d="M1934.169,1602.4219 C2037.642,1602.4219 2149.47,1602.4219 2250.927,1602.4219 " fill="none" id="CardRequestSpi-backto-ProxyReaderApi" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1918.965,1602.4219,1945.965,1614.4219,1933.965,1602.4219,1945.965,1590.4219,1918.965,1602.4219" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2031,1566.9492,2058.1353,1575.766,2058.1353,1558.1324,2031,1566.9492" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2073" y="1582.9072">use</text><!--MD5=[b63362a26eb7d18875e37857d756049e]
reverse link ChannelControl to ProxyReaderApi--><path codeLine="166" d="M2589,1148.0749 C2589,1229.9059 2589,1337.1619 2589,1426.5859 " fill="none" id="ChannelControl-backto-ProxyReaderApi" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2589,1132.0579,2577,1159.0579,2589,1147.0579,2601,1159.0579,2589,1132.0579" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2604,1295.4492,2595.1832,1322.5845,2612.8168,1322.5845,2604,1295.4492" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="63" x="2631" y="1326.4072">use</text><!--MD5=[130a5f5d3437aac467d122a6fe4d357e]
link ProxyReaderApi to CardResponseApi--><path codeLine="168" d="M2926.932,1602.4219 C3008.13,1602.4219 3095.64,1602.4219 3179.37,1602.4219 " fill="none" id="ProxyReaderApi-to-CardResponseApi" style="stroke:#3498DB;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3194.94,1602.4219,3167.94,1590.4219,3179.94,1602.4219,3167.94,1614.4219,3194.94,1602.4219" style="stroke:#3498DB;stroke-width:3.0;"/><polygon fill="#000000" points="3008.25,1566.9492,2981.1147,1558.1324,2981.1147,1575.766,3008.25,1566.9492" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="120" x="3020.25" y="1582.9072">provide</text><!--MD5=[61bae4c705f5ef877f3c562fe0e8c403]
link ProxyReaderApi to AbstractApduException--><path codeLine="169" d="M2591.109,1778.0989 C2591.91,1843.4689 2592.849,1920.4219 2593.773,1996.1059 " fill="none" id="ProxyReaderApi-to-AbstractApduException" style="stroke:#27AE60;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2593.959,2011.2229,2605.6264,1984.0775,2593.7747,1996.224,2581.6282,1984.3723,2593.959,2011.2229" style="stroke:#27AE60;stroke-width:3.0;"/><polygon fill="#000000" points="2610.1833,1910.4481,2618.6678,1883.2071,2601.0356,1883.4226,2610.1833,1910.4481" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="39" lengthAdjust="spacing" textLength="93" x="2637" y="1911.4072">throw</text><!--MD5=[86c6230f4a215fdb6b827cba34ea9e52]
link CardSelectionResponseApi to ApiProperties--><!--MD5=[654318a40bd4e5097d571be5c7fab819]
link spi to CardSelectionResponseApi--><!--MD5=[b1eb25c0c44b845ded0e1deba5718b55]
@startuml
title
        Calypsonet - calypsonet-terminal-card-java-api - 1.0 (04/06/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

package "org.calypsonet.terminal.card" as api {
    ' SPI
    package spi {
        +interface CardSelectionSpi {
            +CardSelectionRequestSpi getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponseApi cardSelectionResponseApi)
        }
        +interface CardSelectorSpi {
        }
        +interface SmartCardSpi {
        }
        ' REQUEST
        together {
            +interface CardSelectionRequestSpi {
                +CardSelectorSpi getCardSelector ()
                +CardRequestSpi getCardRequest ()
            }
            +interface CardRequestSpi {
                +List<ApduRequestSpi> getApduRequests ()
                +boolean stopOnUnsuccessfulStatusWord ()
            }
            +interface ApduRequestSpi {
                +byte[] getRawData ()
                +Set<Integer> getSuccessfulStatusWords ()
                +String getInfo ()
            }
        }
    }
    +interface ProxyReaderApi {
        - -
        +CardResponseApi transmitCardRequest (
            \tCardRequestSpi cardRequest,
            \tChannelControl channelControl)

        +void releaseChannel ()
    }
    +enum ChannelControl {
        KEEP_OPEN
        CLOSE_AFTER
    }
    ' RESPONSE
    together {
        +class "**final** CardApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardSelectionResponseApi {
            +byte[] getPowerOnData ()
            +ApduResponseApi getSelectApplicationResponse ()
            +boolean hasMatched ()

            +CardResponseApi getCardResponse ()
        }
        +interface "<<Serializable>>\nCardResponseApi" as CardResponseApi {
            +List<ApduResponseApi> getApduResponses ()
            +boolean isLogicalChannelOpen ()
        }
        +interface "<<Serializable>>\nApduResponseApi" as ApduResponseApi {
            +byte[] getRawData ()
            +byte[] getDataOut ()
            +int getStatusWord ()
        }
    }
    +abstract class "<<Exception>>\nAbstractApduException" as AbstractApduException {
        - -
        #AbstractApduException (
            \tCardResponseApi cardResponseApi,
            \tboolean isCardResponseComplete,
            \tString message)
        #AbstractApduException (
            \tCardResponseApi cardResponseApi,
            \tboolean isCardResponseComplete,
            \tString message,
            \tThrowable cause)

        +CardResponseApi getCardResponse ()
        +boolean isCardResponseComplete ()
    }
    +class ReaderBrokenCommunicationException extends AbstractApduException {
        - -
        +ReaderBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +ReaderBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
    +class CardBrokenCommunicationException extends AbstractApduException {
        - -
        +CardBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +CardBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
    +class UnexpectedStatusWordException extends AbstractApduException {
        - -
        +UnexpectedStatusWordException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +UnexpectedStatusWordException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
}

' Associations

CardSelectionSpi .left.> SmartCardSpi #C_LINK : provide >
CardSelectionSpi ..> CardSelectionRequestSpi #C_LINK : provide >
CardSelectionSpi ..> CardSelectionResponseApi #C_USE : use >

CardSelectionRequestSpi .left.> CardSelectorSpi #C_LINK : provide >
CardSelectionRequestSpi ..> CardRequestSpi #C_LINK : provide >

CardRequestSpi ..> ApduRequestSpi #C_LINK : provide >

CardSelectionResponseApi ..> ApduResponseApi #C_LINK : provide >
CardSelectionResponseApi ..> CardResponseApi #C_LINK : provide >

CardResponseApi ..> ApduResponseApi #C_LINK : provide >

AbstractApduException *-up- "0..1" CardResponseApi #C_LINK

ProxyReaderApi .left.> CardRequestSpi #C_USE : use >
ProxyReaderApi .up.> ChannelControl #C_USE : use >

ProxyReaderApi .right.> CardResponseApi #C_LINK : provide >
ProxyReaderApi ..> AbstractApduException #C_USE : throw >

' == LAYOUT ==

ApiProperties -[hidden]left- CardSelectionResponseApi
spi -[hidden]- CardSelectionResponseApi

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}

interface CardSelectionResponseApi <<purple>>
interface CardResponseApi <<purple>>
interface ApduResponseApi <<purple>>
abstract class AbstractApduException <<purple>>
class ReaderBrokenCommunicationException <<purple>>
class CardBrokenCommunicationException <<purple>>
class UnexpectedStatusWordException <<purple>>

@enduml

@startuml
title
        Calypsonet - calypsonet-terminal-card-java-api - 1.0 (04/06/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


package "org.calypsonet.terminal.card" as api {
    package spi {
        +interface CardSelectionSpi {
            +CardSelectionRequestSpi getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponseApi cardSelectionResponseApi)
        }
        +interface CardSelectorSpi {
        }
        +interface SmartCardSpi {
        }
        together {
            +interface CardSelectionRequestSpi {
                +CardSelectorSpi getCardSelector ()
                +CardRequestSpi getCardRequest ()
            }
            +interface CardRequestSpi {
                +List<ApduRequestSpi> getApduRequests ()
                +boolean stopOnUnsuccessfulStatusWord ()
            }
            +interface ApduRequestSpi {
                +byte[] getRawData ()
                +Set<Integer> getSuccessfulStatusWords ()
                +String getInfo ()
            }
        }
    }
    +interface ProxyReaderApi {
        - -
        +CardResponseApi transmitCardRequest (
            \tCardRequestSpi cardRequest,
            \tChannelControl channelControl)

        +void releaseChannel ()
    }
    +enum ChannelControl {
        KEEP_OPEN
        CLOSE_AFTER
    }
    together {
        +class "**final** CardApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardSelectionResponseApi {
            +byte[] getPowerOnData ()
            +ApduResponseApi getSelectApplicationResponse ()
            +boolean hasMatched ()

            +CardResponseApi getCardResponse ()
        }
        +interface "<<Serializable>>\nCardResponseApi" as CardResponseApi {
            +List<ApduResponseApi> getApduResponses ()
            +boolean isLogicalChannelOpen ()
        }
        +interface "<<Serializable>>\nApduResponseApi" as ApduResponseApi {
            +byte[] getRawData ()
            +byte[] getDataOut ()
            +int getStatusWord ()
        }
    }
    +abstract class "<<Exception>>\nAbstractApduException" as AbstractApduException {
        - -
        #AbstractApduException (
            \tCardResponseApi cardResponseApi,
            \tboolean isCardResponseComplete,
            \tString message)
        #AbstractApduException (
            \tCardResponseApi cardResponseApi,
            \tboolean isCardResponseComplete,
            \tString message,
            \tThrowable cause)

        +CardResponseApi getCardResponse ()
        +boolean isCardResponseComplete ()
    }
    +class ReaderBrokenCommunicationException extends AbstractApduException {
        - -
        +ReaderBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +ReaderBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
    +class CardBrokenCommunicationException extends AbstractApduException {
        - -
        +CardBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +CardBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
    +class UnexpectedStatusWordException extends AbstractApduException {
        - -
        +UnexpectedStatusWordException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +UnexpectedStatusWordException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
}


CardSelectionSpi .left.> SmartCardSpi #3498DB : provide >
CardSelectionSpi ..> CardSelectionRequestSpi #3498DB : provide >
CardSelectionSpi ..> CardSelectionResponseApi #27AE60 : use >

CardSelectionRequestSpi .left.> CardSelectorSpi #3498DB : provide >
CardSelectionRequestSpi ..> CardRequestSpi #3498DB : provide >

CardRequestSpi ..> ApduRequestSpi #3498DB : provide >

CardSelectionResponseApi ..> ApduResponseApi #3498DB : provide >
CardSelectionResponseApi ..> CardResponseApi #3498DB : provide >

CardResponseApi ..> ApduResponseApi #3498DB : provide >

AbstractApduException *-up- "0..1" CardResponseApi #3498DB

ProxyReaderApi .left.> CardRequestSpi #27AE60 : use >
ProxyReaderApi .up.> ChannelControl #27AE60 : use >

ProxyReaderApi .right.> CardResponseApi #3498DB : provide >
ProxyReaderApi ..> AbstractApduException #27AE60 : throw >


ApiProperties -[hidden]left- CardSelectionResponseApi
spi -[hidden]- CardSelectionResponseApi


package api #F8F9F9 {}
package spi #F2F3F4 {}

interface CardSelectionResponseApi <<purple>>
interface CardResponseApi <<purple>>
interface ApduResponseApi <<purple>>
abstract class AbstractApduException <<purple>>
class ReaderBrokenCommunicationException <<purple>>
class CardBrokenCommunicationException <<purple>>
class UnexpectedStatusWordException <<purple>>

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>