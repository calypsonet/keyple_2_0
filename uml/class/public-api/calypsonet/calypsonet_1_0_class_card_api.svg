<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2637.5px" preserveAspectRatio="none" style="width:3775px;height:2637px;" version="1.1" viewBox="0 0 3775 2637" width="3775px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1125" x="1308.75" y="46.7139">Calypsonet - calypsonet-java-card-api - 1.0 (20/05/2021)</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="40,71.6016,555,71.6016,572.5,130.625,3732.5,130.625,3732.5,2621.6016,40,2621.6016,40,71.6016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="572.5" y1="130.625" y2="130.625"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="500" x="50" y="112.9346">org.calypsonet.terminal.card</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="570,201.6016,637.5,201.6016,655,260.625,2607.5,260.625,2607.5,561.6016,570,561.6016,570,201.6016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="570" x2="655" y1="260.625" y2="260.625"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="580" y="242.9346">spi</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="48" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="427.5" x="81.25" y="329.1016"/><ellipse cx="118.75" cy="369.1016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M123.75,360.3516 Q124.2578,359.1016 124.8438,358.4766 Q125.4297,357.8516 126.0938,357.8516 Q127.2656,357.8516 128.0078,358.5547 Q128.75,359.2578 128.75,360.8984 L128.75,364.8047 Q128.75,366.4453 128.0469,367.1484 Q127.3438,367.8516 126.25,367.8516 Q125.2734,367.8516 124.6484,367.4219 Q124.0234,366.9922 123.75,365.8594 Q123.6328,365.0781 123.2031,364.6484 Q122.4219,363.8281 121.0156,363.3594 Q119.6094,362.8516 118.2031,362.8516 Q116.4453,362.8516 114.9609,363.5547 Q113.5156,364.2578 112.3828,365.8203 Q111.25,367.3828 111.25,369.5313 L111.25,371.8359 Q111.25,374.4141 113.3594,376.1328 Q115.4688,377.8516 119.2188,377.8516 Q121.4453,377.8516 123.0078,377.3438 Q123.9063,377.0703 124.9219,376.1719 Q125.5859,375.6641 125.9375,375.5078 Q126.2891,375.3516 126.7188,375.3516 Q127.5391,375.3516 128.125,376.0156 Q128.75,376.6406 128.75,377.5391 Q128.75,378.3984 127.8906,379.4141 Q126.6406,380.8984 124.6484,381.7188 Q122.0313,382.8516 118.8281,382.8516 Q115.0781,382.8516 112.0703,381.3672 Q109.6484,380.1953 107.9297,377.6563 Q106.25,375.1172 106.25,372.1094 L106.25,369.375 Q106.25,366.25 107.7344,363.5156 Q109.2578,360.7813 111.875,359.3359 Q114.5313,357.8516 117.5,357.8516 Q119.2969,357.8516 120.8594,358.4766 Q122.4219,359.1016 123.75,360.3516 Z " fill="#000000"/><ellipse cx="166.25" cy="367.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="181.25" y="381.377">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="248.75" y="381.377">CardApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="83.75" x2="506.25" y1="409.1016" y2="409.1016"/><ellipse cx="108.75" cy="436.6016" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="131.25" y="447.6489">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="196.25" y="447.6489">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="83.75" x2="506.25" y1="463.6914" y2="463.6914"/><!--MD5=[96a4004012a1c08588eb87adf87ec875]
class ProxyReader--><rect codeLine="51" fill="#FEFECE" height="278.3594" id="ProxyReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="522.5" x="1688.75" y="1274.1016"/><ellipse cx="1835.625" cy="1314.1016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1838.125,1306.6016 L1838.125,1321.6016 L1843.125,1321.6016 L1844.3359,1321.6016 L1845.625,1323.1641 L1845.625,1324.1016 L1845.625,1325.0391 L1844.3359,1326.6016 L1843.125,1326.6016 L1828.125,1326.6016 L1826.9141,1326.6016 L1825.625,1325.0391 L1825.625,1324.1016 L1825.625,1323.1641 L1826.9141,1321.6016 L1828.125,1321.6016 L1833.125,1321.6016 L1833.125,1306.6016 L1828.125,1306.6016 L1826.9141,1306.6016 L1825.625,1305.0391 L1825.625,1304.1016 L1825.625,1303.1641 L1826.9141,1301.6016 L1828.125,1301.6016 L1843.125,1301.6016 L1844.3359,1301.6016 L1845.625,1303.1641 L1845.625,1304.1016 L1845.625,1305.0391 L1844.3359,1306.6016 L1843.125,1306.6016 L1838.125,1306.6016 Z " fill="#000000"/><ellipse cx="1899.375" cy="1312.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="1914.375" y="1326.377">ProxyReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1691.25" x2="2208.75" y1="1354.1016" y2="1354.1016"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1691.25" x2="2208.75" y1="1374.1016" y2="1374.1016"/><ellipse cx="1716.25" cy="1401.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="457.5" x="1738.75" y="1412.6489">CardResponse transmitCardRequest (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="327.5" x="1798.75" y="1447.2388">CardRequest cardRequest,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="1798.75" y="1481.8286">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1691.25" x2="2208.75" y1="1497.8711" y2="1497.8711"/><ellipse cx="1716.25" cy="1525.3711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="1738.75" y="1536.4185">void releaseChannel ()</text><!--MD5=[c0d9bbe2f46f90879b0aee291b4ddd3d]
class AbstractApduException--><rect codeLine="230" fill="#F4ECF7" height="402.5977" id="AbstractApduException" style="stroke:#8E44AD;stroke-width:3.75;" width="550" x="1700" y="1801.6016"/><ellipse cx="1792.625" cy="1851.8359" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M1797,1855.5859 L1788.7578,1855.5859 L1787.6641,1858.0859 L1787.6641,1858.0859 L1788.8359,1858.0859 L1790.125,1859.6484 L1790.125,1860.5859 L1790.125,1861.5234 L1788.8359,1863.0859 L1787.6641,1863.0859 L1782.9375,1863.0859 L1781.4141,1863.0859 L1780.125,1861.5234 L1780.125,1860.5859 L1780.125,1859.6484 L1781.4141,1858.0859 L1782.9375,1858.0859 L1788.7188,1843.0859 L1786.5313,1843.0859 L1783.9141,1843.0859 L1782.625,1841.5234 L1782.625,1840.5859 L1782.625,1839.6484 L1783.9141,1838.0859 L1786.5313,1838.0859 L1795.7109,1838.0859 L1802.4297,1858.0859 L1803.8359,1858.0859 L1803.8359,1858.0859 L1805.125,1859.6484 L1805.125,1860.5859 L1805.125,1861.5234 L1803.8359,1863.0859 L1802.4297,1863.0859 L1797.7031,1863.0859 L1796.4141,1863.0859 L1795.125,1861.5234 L1795.125,1860.5859 L1795.125,1859.6484 L1796.4141,1858.0859 L1797.7031,1858.0859 L1797.7031,1858.0859 L1797,1855.5859 Z M1795.6328,1850.5859 L1792.625,1841.6406 L1790.0469,1850.5859 L1795.6328,1850.5859 Z " fill="#000000"/><ellipse cx="1852.375" cy="1850.5859" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="205" x="1924.875" y="1845.2441">&lt;&lt;Exception&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="320" x="1867.375" y="1882.9785">AbstractApduException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1702.5" x2="2247.5" y1="1902.0703" y2="1902.0703"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="1702.5" x2="2247.5" y1="1922.0703" y2="1922.0703"/><polygon fill="#FFFF44" points="1727.5,1937.0703,1737.5,1947.0703,1727.5,1957.0703,1717.5,1947.0703" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="305" x="1750" y="1960.6177">AbstractApduException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="1810" y="1995.2075">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="1810" y="2029.7974">String message)</text><polygon fill="#FFFF44" points="1727.5,2040.8398,1737.5,2050.8398,1727.5,2060.8398,1717.5,2050.8398" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="305" x="1750" y="2064.3872">AbstractApduException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="372.5" x="1810" y="2098.9771">CardResponse cardResponse,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1810" y="2133.5669">String message, Throwable cause)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1702.5" x2="2247.5" y1="2149.6094" y2="2149.6094"/><ellipse cx="1727.5" cy="2177.1094" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="1750" y="2188.1567">CardResponse getCardResponse ()</text><!--MD5=[aa6ba6f3ca2ecd56ccab2f9c90ece8a4]
class ReaderBrokenCommunicationException--><rect codeLine="231" fill="#F4ECF7" height="223.7695" id="ReaderBrokenCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="1130" x="207.5" y="2356.6016"/><ellipse cx="469.375" cy="2396.6016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M474.375,2387.8516 Q474.8828,2386.6016 475.4688,2385.9766 Q476.0547,2385.3516 476.7188,2385.3516 Q477.8906,2385.3516 478.6328,2386.0547 Q479.375,2386.7578 479.375,2388.3984 L479.375,2392.3047 Q479.375,2393.9453 478.6719,2394.6484 Q477.9688,2395.3516 476.875,2395.3516 Q475.8984,2395.3516 475.2734,2394.9219 Q474.6484,2394.4922 474.375,2393.3594 Q474.2578,2392.5781 473.8281,2392.1484 Q473.0469,2391.3281 471.6406,2390.8594 Q470.2344,2390.3516 468.8281,2390.3516 Q467.0703,2390.3516 465.5859,2391.0547 Q464.1406,2391.7578 463.0078,2393.3203 Q461.875,2394.8828 461.875,2397.0313 L461.875,2399.3359 Q461.875,2401.9141 463.9844,2403.6328 Q466.0938,2405.3516 469.8438,2405.3516 Q472.0703,2405.3516 473.6328,2404.8438 Q474.5313,2404.5703 475.5469,2403.6719 Q476.2109,2403.1641 476.5625,2403.0078 Q476.9141,2402.8516 477.3438,2402.8516 Q478.1641,2402.8516 478.75,2403.5156 Q479.375,2404.1406 479.375,2405.0391 Q479.375,2405.8984 478.5156,2406.9141 Q477.2656,2408.3984 475.2734,2409.2188 Q472.6563,2410.3516 469.4531,2410.3516 Q465.7031,2410.3516 462.6953,2408.8672 Q460.2734,2407.6953 458.5547,2405.1563 Q456.875,2402.6172 456.875,2399.6094 L456.875,2396.875 Q456.875,2393.75 458.3594,2391.0156 Q459.8828,2388.2813 462.5,2386.8359 Q465.1563,2385.3516 468.125,2385.3516 Q469.9219,2385.3516 471.4844,2385.9766 Q473.0469,2386.6016 474.375,2387.8516 Z " fill="#000000"/><ellipse cx="533.125" cy="2395.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="557.5" x="548.125" y="2408.877">ReaderBrokenCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="210" x2="1335" y1="2436.6016" y2="2436.6016"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="210" x2="1335" y1="2456.6016" y2="2456.6016"/><ellipse cx="235" cy="2484.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1065" x="257.5" y="2495.1489">ReaderBrokenCommunicationException (CardResponse cardResponse, String message)</text><ellipse cx="235" cy="2518.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1062.5" x="257.5" y="2529.7388">ReaderBrokenCommunicationException (CardResponse cardResponse, String message,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="317.5" y="2564.3286">Throwable cause)</text><!--MD5=[e6757fe437aef25d7a30ee1e8a4a916b]
class CardBrokenCommunicationException--><rect codeLine="232" fill="#F4ECF7" height="223.7695" id="CardBrokenCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="1100" x="1425" y="2356.6016"/><ellipse cx="1689.375" cy="2396.6016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1694.375,2387.8516 Q1694.8828,2386.6016 1695.4688,2385.9766 Q1696.0547,2385.3516 1696.7188,2385.3516 Q1697.8906,2385.3516 1698.6328,2386.0547 Q1699.375,2386.7578 1699.375,2388.3984 L1699.375,2392.3047 Q1699.375,2393.9453 1698.6719,2394.6484 Q1697.9688,2395.3516 1696.875,2395.3516 Q1695.8984,2395.3516 1695.2734,2394.9219 Q1694.6484,2394.4922 1694.375,2393.3594 Q1694.2578,2392.5781 1693.8281,2392.1484 Q1693.0469,2391.3281 1691.6406,2390.8594 Q1690.2344,2390.3516 1688.8281,2390.3516 Q1687.0703,2390.3516 1685.5859,2391.0547 Q1684.1406,2391.7578 1683.0078,2393.3203 Q1681.875,2394.8828 1681.875,2397.0313 L1681.875,2399.3359 Q1681.875,2401.9141 1683.9844,2403.6328 Q1686.0938,2405.3516 1689.8438,2405.3516 Q1692.0703,2405.3516 1693.6328,2404.8438 Q1694.5313,2404.5703 1695.5469,2403.6719 Q1696.2109,2403.1641 1696.5625,2403.0078 Q1696.9141,2402.8516 1697.3438,2402.8516 Q1698.1641,2402.8516 1698.75,2403.5156 Q1699.375,2404.1406 1699.375,2405.0391 Q1699.375,2405.8984 1698.5156,2406.9141 Q1697.2656,2408.3984 1695.2734,2409.2188 Q1692.6563,2410.3516 1689.4531,2410.3516 Q1685.7031,2410.3516 1682.6953,2408.8672 Q1680.2734,2407.6953 1678.5547,2405.1563 Q1676.875,2402.6172 1676.875,2399.6094 L1676.875,2396.875 Q1676.875,2393.75 1678.3594,2391.0156 Q1679.8828,2388.2813 1682.5,2386.8359 Q1685.1563,2385.3516 1688.125,2385.3516 Q1689.9219,2385.3516 1691.4844,2385.9766 Q1693.0469,2386.6016 1694.375,2387.8516 Z " fill="#000000"/><ellipse cx="1753.125" cy="2395.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="522.5" x="1768.125" y="2408.877">CardBrokenCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1427.5" x2="2522.5" y1="2436.6016" y2="2436.6016"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="1427.5" x2="2522.5" y1="2456.6016" y2="2456.6016"/><ellipse cx="1452.5" cy="2484.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1035" x="1475" y="2495.1489">CardBrokenCommunicationException (CardResponse cardResponse, String message)</text><ellipse cx="1452.5" cy="2518.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1032.5" x="1475" y="2529.7388">CardBrokenCommunicationException (CardResponse cardResponse, String message,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="1535" y="2564.3286">Throwable cause)</text><!--MD5=[6696a02f29d49c7f8b6cca09e559753d]
class UnexpectedStatusCodeException--><rect codeLine="233" fill="#F4ECF7" height="223.7695" id="UnexpectedStatusCodeException" style="stroke:#8E44AD;stroke-width:3.75;" width="1062.5" x="2613.75" y="2356.6016"/><ellipse cx="2890.625" cy="2396.6016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2895.625,2387.8516 Q2896.1328,2386.6016 2896.7188,2385.9766 Q2897.3047,2385.3516 2897.9688,2385.3516 Q2899.1406,2385.3516 2899.8828,2386.0547 Q2900.625,2386.7578 2900.625,2388.3984 L2900.625,2392.3047 Q2900.625,2393.9453 2899.9219,2394.6484 Q2899.2188,2395.3516 2898.125,2395.3516 Q2897.1484,2395.3516 2896.5234,2394.9219 Q2895.8984,2394.4922 2895.625,2393.3594 Q2895.5078,2392.5781 2895.0781,2392.1484 Q2894.2969,2391.3281 2892.8906,2390.8594 Q2891.4844,2390.3516 2890.0781,2390.3516 Q2888.3203,2390.3516 2886.8359,2391.0547 Q2885.3906,2391.7578 2884.2578,2393.3203 Q2883.125,2394.8828 2883.125,2397.0313 L2883.125,2399.3359 Q2883.125,2401.9141 2885.2344,2403.6328 Q2887.3438,2405.3516 2891.0938,2405.3516 Q2893.3203,2405.3516 2894.8828,2404.8438 Q2895.7813,2404.5703 2896.7969,2403.6719 Q2897.4609,2403.1641 2897.8125,2403.0078 Q2898.1641,2402.8516 2898.5938,2402.8516 Q2899.4141,2402.8516 2900,2403.5156 Q2900.625,2404.1406 2900.625,2405.0391 Q2900.625,2405.8984 2899.7656,2406.9141 Q2898.5156,2408.3984 2896.5234,2409.2188 Q2893.9063,2410.3516 2890.7031,2410.3516 Q2886.9531,2410.3516 2883.9453,2408.8672 Q2881.5234,2407.6953 2879.8047,2405.1563 Q2878.125,2402.6172 2878.125,2399.6094 L2878.125,2396.875 Q2878.125,2393.75 2879.6094,2391.0156 Q2881.1328,2388.2813 2883.75,2386.8359 Q2886.4063,2385.3516 2889.375,2385.3516 Q2891.1719,2385.3516 2892.7344,2385.9766 Q2894.2969,2386.6016 2895.625,2387.8516 Z " fill="#000000"/><ellipse cx="2954.375" cy="2395.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="460" x="2969.375" y="2408.877">UnexpectedStatusCodeException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2616.25" x2="3673.75" y1="2436.6016" y2="2436.6016"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2616.25" x2="3673.75" y1="2456.6016" y2="2456.6016"/><ellipse cx="2641.25" cy="2484.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="997.5" x="2663.75" y="2495.1489">UnexpectedStatusCodeException (CardResponse cardResponse, String message)</text><ellipse cx="2641.25" cy="2518.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="995" x="2663.75" y="2529.7388">UnexpectedStatusCodeException (CardResponse cardResponse, String message,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="2723.75" y="2564.3286">Throwable cause)</text><!--MD5=[ee0d3336d8d2c9dd88a5ad188defe636]
class ChannelControl--><rect codeLine="221" fill="#E9F7EF" height="189.1797" id="ChannelControl" style="stroke:#27AE60;stroke-width:3.75;" width="325" x="1282.5" y="790.3516"/><ellipse cx="1320" cy="830.3516" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M1316.25,832.8516 L1316.25,837.8516 L1326.25,837.8516 L1326.25,835.3516 L1326.25,834.1406 L1327.8125,832.8516 L1328.75,832.8516 L1329.6875,832.8516 L1331.25,834.1406 L1331.25,835.3516 L1331.25,842.8516 L1311.25,842.8516 L1310.0391,842.8516 L1308.75,841.2891 L1308.75,840.3516 L1308.75,839.4141 L1310.0391,837.8516 L1311.25,837.8516 L1311.25,837.8516 L1311.25,822.8516 L1311.25,822.8516 L1310.0391,822.8516 L1308.75,821.2891 L1308.75,820.3516 L1308.75,819.4141 L1310.0391,817.8516 L1311.25,817.8516 L1331.25,817.8516 L1331.25,825.3516 L1331.25,826.5625 L1329.6875,827.8516 L1328.75,827.8516 L1327.8125,827.8516 L1326.25,826.5625 L1326.25,825.3516 L1326.25,822.8516 L1316.25,822.8516 L1316.25,827.8516 L1318.75,827.8516 L1318.75,826.6406 L1318.75,826.6406 L1320.3125,825.3516 L1321.25,825.3516 L1322.1875,825.3516 L1323.75,826.6406 L1323.75,827.8516 L1323.75,832.8516 L1323.75,834.0625 L1322.1875,835.3516 L1322.1875,835.3516 L1321.25,835.3516 L1320.3125,835.3516 L1318.75,834.0625 L1318.75,834.0625 L1318.75,832.8516 L1316.25,832.8516 Z " fill="#000000"/><ellipse cx="1367.5" cy="829.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="217.5" x="1382.5" y="842.627">ChannelControl</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1285" x2="1605" y1="870.3516" y2="870.3516"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="145" x="1297.5" y="908.8989">KEEP_OPEN</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="1297.5" y="943.4888">CLOSE_AFTER</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="1285" x2="1605" y1="959.5313" y2="959.5313"/><!--MD5=[d7ab57eb2840e7832714f3f9db0d2391]
class CardSelectionRequest--><rect codeLine="220" fill="#E9F7EF" height="278.3594" id="CardSelectionRequest" style="stroke:#27AE60;stroke-width:3.75;" width="1052.5" x="141.25" y="746.6016"/><ellipse cx="454.375" cy="786.6016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M459.375,777.8516 Q459.8828,776.6016 460.4688,775.9766 Q461.0547,775.3516 461.7188,775.3516 Q462.8906,775.3516 463.6328,776.0547 Q464.375,776.7578 464.375,778.3984 L464.375,782.3047 Q464.375,783.9453 463.6719,784.6484 Q462.9688,785.3516 461.875,785.3516 Q460.8984,785.3516 460.2734,784.9219 Q459.6484,784.4922 459.375,783.3594 Q459.2578,782.5781 458.8281,782.1484 Q458.0469,781.3281 456.6406,780.8594 Q455.2344,780.3516 453.8281,780.3516 Q452.0703,780.3516 450.5859,781.0547 Q449.1406,781.7578 448.0078,783.3203 Q446.875,784.8828 446.875,787.0313 L446.875,789.3359 Q446.875,791.9141 448.9844,793.6328 Q451.0938,795.3516 454.8438,795.3516 Q457.0703,795.3516 458.6328,794.8438 Q459.5313,794.5703 460.5469,793.6719 Q461.2109,793.1641 461.5625,793.0078 Q461.9141,792.8516 462.3438,792.8516 Q463.1641,792.8516 463.75,793.5156 Q464.375,794.1406 464.375,795.0391 Q464.375,795.8984 463.5156,796.9141 Q462.2656,798.3984 460.2734,799.2188 Q457.6563,800.3516 454.4531,800.3516 Q450.7031,800.3516 447.6953,798.8672 Q445.2734,797.6953 443.5547,795.1563 Q441.875,792.6172 441.875,789.6094 L441.875,786.875 Q441.875,783.75 443.3594,781.0156 Q444.8828,778.2813 447.5,776.8359 Q450.1563,775.3516 453.125,775.3516 Q454.9219,775.3516 456.4844,775.9766 Q458.0469,776.6016 459.375,777.8516 Z " fill="#000000"/><ellipse cx="518.125" cy="785.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="533.125" y="798.877">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="310" x="600.625" y="798.877">CardSelectionRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="143.75" x2="1191.25" y1="826.6016" y2="826.6016"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="143.75" x2="1191.25" y1="846.6016" y2="846.6016"/><ellipse cx="168.75" cy="874.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="652.5" x="191.25" y="885.1489">CardSelectionRequest (CardSelectorSpi cardSelector)</text><ellipse cx="168.75" cy="908.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="987.5" x="191.25" y="919.7388">CardSelectionRequest (CardSelectorSpi cardSelector, CardRequest cardRequest)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="143.75" x2="1191.25" y1="935.7813" y2="935.7813"/><ellipse cx="168.75" cy="963.2813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="191.25" y="974.3286">CardSelectorSpi getCardSelector ()</text><ellipse cx="168.75" cy="997.8711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="387.5" x="191.25" y="1008.9185">CardRequest getCardRequest ()</text><!--MD5=[d4546fa1b310652d2e612bec588497f1]
class CardRequest--><rect codeLine="222" fill="#E9F7EF" height="243.7695" id="CardRequest" style="stroke:#27AE60;stroke-width:3.75;" width="1195" x="227.5" y="1290.3516"/><ellipse cx="675.625" cy="1330.3516" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M680.625,1321.6016 Q681.1328,1320.3516 681.7188,1319.7266 Q682.3047,1319.1016 682.9688,1319.1016 Q684.1406,1319.1016 684.8828,1319.8047 Q685.625,1320.5078 685.625,1322.1484 L685.625,1326.0547 Q685.625,1327.6953 684.9219,1328.3984 Q684.2188,1329.1016 683.125,1329.1016 Q682.1484,1329.1016 681.5234,1328.6719 Q680.8984,1328.2422 680.625,1327.1094 Q680.5078,1326.3281 680.0781,1325.8984 Q679.2969,1325.0781 677.8906,1324.6094 Q676.4844,1324.1016 675.0781,1324.1016 Q673.3203,1324.1016 671.8359,1324.8047 Q670.3906,1325.5078 669.2578,1327.0703 Q668.125,1328.6328 668.125,1330.7813 L668.125,1333.0859 Q668.125,1335.6641 670.2344,1337.3828 Q672.3438,1339.1016 676.0938,1339.1016 Q678.3203,1339.1016 679.8828,1338.5938 Q680.7813,1338.3203 681.7969,1337.4219 Q682.4609,1336.9141 682.8125,1336.7578 Q683.1641,1336.6016 683.5938,1336.6016 Q684.4141,1336.6016 685,1337.2656 Q685.625,1337.8906 685.625,1338.7891 Q685.625,1339.6484 684.7656,1340.6641 Q683.5156,1342.1484 681.5234,1342.9688 Q678.9063,1344.1016 675.7031,1344.1016 Q671.9531,1344.1016 668.9453,1342.6172 Q666.5234,1341.4453 664.8047,1338.9063 Q663.125,1336.3672 663.125,1333.3594 L663.125,1330.625 Q663.125,1327.5 664.6094,1324.7656 Q666.1328,1322.0313 668.75,1320.5859 Q671.4063,1319.1016 674.375,1319.1016 Q676.1719,1319.1016 677.7344,1319.7266 Q679.2969,1320.3516 680.625,1321.6016 Z " fill="#000000"/><ellipse cx="739.375" cy="1329.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="754.375" y="1342.627">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="182.5" x="821.875" y="1342.627">CardRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="230" x2="1420" y1="1370.3516" y2="1370.3516"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="230" x2="1420" y1="1390.3516" y2="1390.3516"/><ellipse cx="255" cy="1417.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1130" x="277.5" y="1428.8989">CardRequest (List&lt;ApduRequest&gt; apduRequests, boolean isStatusCodesVerificationEnabled)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="230" x2="1420" y1="1444.9414" y2="1444.9414"/><ellipse cx="255" cy="1472.4414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="490" x="277.5" y="1483.4888">List&lt;ApduRequest&gt; getApduRequests ()</text><ellipse cx="255" cy="1507.0313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="537.5" x="277.5" y="1518.0786">boolean isStatusCodesVerificationEnabled ()</text><!--MD5=[8d2debdbb32bf9c83697f345c4529e73]
class ApduRequest--><rect codeLine="223" fill="#E9F7EF" height="387.5391" id="ApduRequest" style="stroke:#27AE60;stroke-width:3.75;" width="897.5" x="376.25" y="1809.1016"/><ellipse cx="673.125" cy="1849.1016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M678.125,1840.3516 Q678.6328,1839.1016 679.2188,1838.4766 Q679.8047,1837.8516 680.4688,1837.8516 Q681.6406,1837.8516 682.3828,1838.5547 Q683.125,1839.2578 683.125,1840.8984 L683.125,1844.8047 Q683.125,1846.4453 682.4219,1847.1484 Q681.7188,1847.8516 680.625,1847.8516 Q679.6484,1847.8516 679.0234,1847.4219 Q678.3984,1846.9922 678.125,1845.8594 Q678.0078,1845.0781 677.5781,1844.6484 Q676.7969,1843.8281 675.3906,1843.3594 Q673.9844,1842.8516 672.5781,1842.8516 Q670.8203,1842.8516 669.3359,1843.5547 Q667.8906,1844.2578 666.7578,1845.8203 Q665.625,1847.3828 665.625,1849.5313 L665.625,1851.8359 Q665.625,1854.4141 667.7344,1856.1328 Q669.8438,1857.8516 673.5938,1857.8516 Q675.8203,1857.8516 677.3828,1857.3438 Q678.2813,1857.0703 679.2969,1856.1719 Q679.9609,1855.6641 680.3125,1855.5078 Q680.6641,1855.3516 681.0938,1855.3516 Q681.9141,1855.3516 682.5,1856.0156 Q683.125,1856.6406 683.125,1857.5391 Q683.125,1858.3984 682.2656,1859.4141 Q681.0156,1860.8984 679.0234,1861.7188 Q676.4063,1862.8516 673.2031,1862.8516 Q669.4531,1862.8516 666.4453,1861.3672 Q664.0234,1860.1953 662.3047,1857.6563 Q660.625,1855.1172 660.625,1852.1094 L660.625,1849.375 Q660.625,1846.25 662.1094,1843.5156 Q663.6328,1840.7813 666.25,1839.3359 Q668.9063,1837.8516 671.875,1837.8516 Q673.6719,1837.8516 675.2344,1838.4766 Q676.7969,1839.1016 678.125,1840.3516 Z " fill="#000000"/><ellipse cx="736.875" cy="1847.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="751.875" y="1861.377">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="187.5" x="819.375" y="1861.377">ApduRequest</text><line style="stroke:#27AE60;stroke-width:3.75;" x1="378.75" x2="1271.25" y1="1889.1016" y2="1889.1016"/><line style="stroke:#27AE60;stroke-width:2.5;" x1="378.75" x2="1271.25" y1="1909.1016" y2="1909.1016"/><ellipse cx="403.75" cy="1936.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="335" x="426.25" y="1947.6489">ApduRequest (byte[] bytes)</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="378.75" x2="1271.25" y1="1963.6914" y2="1963.6914"/><ellipse cx="403.75" cy="1991.1914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="832.5" x="426.25" y="2002.2388">ApduRequest addSuccessfulStatusCode (int successfulStatusCode)</text><ellipse cx="403.75" cy="2025.7813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="517.5" x="426.25" y="2036.8286">Set&lt;Integer&gt; getSuccessfulStatusCodes ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="378.75" x2="1271.25" y1="2052.8711" y2="2052.8711"/><ellipse cx="403.75" cy="2080.3711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="426.25" y="2091.4185">ApduRequest setName (String name)</text><ellipse cx="403.75" cy="2114.9609" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="426.25" y="2126.0083">String getName ()</text><line style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="378.75" x2="1271.25" y1="2142.0508" y2="2142.0508"/><ellipse cx="403.75" cy="2169.5508" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="426.25" y="2180.5981">byte[] getBytes ()</text><!--MD5=[ad88d8106adc0f21766a2a077a674dda]
class CardSelectionResponse--><rect codeLine="225" fill="#F4ECF7" height="243.7695" id="CardSelectionResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="1142.5" x="2436.25" y="762.8516"/><ellipse cx="2781.875" cy="802.8516" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2786.875,794.1016 Q2787.3828,792.8516 2787.9688,792.2266 Q2788.5547,791.6016 2789.2188,791.6016 Q2790.3906,791.6016 2791.1328,792.3047 Q2791.875,793.0078 2791.875,794.6484 L2791.875,798.5547 Q2791.875,800.1953 2791.1719,800.8984 Q2790.4688,801.6016 2789.375,801.6016 Q2788.3984,801.6016 2787.7734,801.1719 Q2787.1484,800.7422 2786.875,799.6094 Q2786.7578,798.8281 2786.3281,798.3984 Q2785.5469,797.5781 2784.1406,797.1094 Q2782.7344,796.6016 2781.3281,796.6016 Q2779.5703,796.6016 2778.0859,797.3047 Q2776.6406,798.0078 2775.5078,799.5703 Q2774.375,801.1328 2774.375,803.2813 L2774.375,805.5859 Q2774.375,808.1641 2776.4844,809.8828 Q2778.5938,811.6016 2782.3438,811.6016 Q2784.5703,811.6016 2786.1328,811.0938 Q2787.0313,810.8203 2788.0469,809.9219 Q2788.7109,809.4141 2789.0625,809.2578 Q2789.4141,809.1016 2789.8438,809.1016 Q2790.6641,809.1016 2791.25,809.7656 Q2791.875,810.3906 2791.875,811.2891 Q2791.875,812.1484 2791.0156,813.1641 Q2789.7656,814.6484 2787.7734,815.4688 Q2785.1563,816.6016 2781.9531,816.6016 Q2778.2031,816.6016 2775.1953,815.1172 Q2772.7734,813.9453 2771.0547,811.4063 Q2769.375,808.8672 2769.375,805.8594 L2769.375,803.125 Q2769.375,800 2770.8594,797.2656 Q2772.3828,794.5313 2775,793.0859 Q2777.6563,791.6016 2780.625,791.6016 Q2782.4219,791.6016 2783.9844,792.2266 Q2785.5469,792.8516 2786.875,794.1016 Z " fill="#000000"/><ellipse cx="2845.625" cy="801.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2860.625" y="815.127">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="335" x="2928.125" y="815.127">CardSelectionResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2438.75" x2="3576.25" y1="842.8516" y2="842.8516"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2438.75" x2="3576.25" y1="862.8516" y2="862.8516"/><ellipse cx="2463.75" cy="890.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1077.5" x="2486.25" y="901.3989">CardSelectionResponse (SelectionStatus selectionStatus, CardResponse cardResponse)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2438.75" x2="3576.25" y1="917.4414" y2="917.4414"/><ellipse cx="2463.75" cy="944.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="447.5" x="2486.25" y="955.9888">SelectionStatus getSelectionStatus ()</text><ellipse cx="2463.75" cy="979.5313" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="432.5" x="2486.25" y="990.5786">CardResponse getCardResponse ()</text><!--MD5=[62519695b550f8cbf5b64cbd0e08e475]
class CardResponse--><rect codeLine="226" fill="#F4ECF7" height="388.0078" id="CardResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="735" x="2435" y="1219.1016"/><ellipse cx="2640.625" cy="1269.3359" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2645.625,1260.5859 Q2646.1328,1259.3359 2646.7188,1258.7109 Q2647.3047,1258.0859 2647.9688,1258.0859 Q2649.1406,1258.0859 2649.8828,1258.7891 Q2650.625,1259.4922 2650.625,1261.1328 L2650.625,1265.0391 Q2650.625,1266.6797 2649.9219,1267.3828 Q2649.2188,1268.0859 2648.125,1268.0859 Q2647.1484,1268.0859 2646.5234,1267.6563 Q2645.8984,1267.2266 2645.625,1266.0938 Q2645.5078,1265.3125 2645.0781,1264.8828 Q2644.2969,1264.0625 2642.8906,1263.5938 Q2641.4844,1263.0859 2640.0781,1263.0859 Q2638.3203,1263.0859 2636.8359,1263.7891 Q2635.3906,1264.4922 2634.2578,1266.0547 Q2633.125,1267.6172 2633.125,1269.7656 L2633.125,1272.0703 Q2633.125,1274.6484 2635.2344,1276.3672 Q2637.3438,1278.0859 2641.0938,1278.0859 Q2643.3203,1278.0859 2644.8828,1277.5781 Q2645.7813,1277.3047 2646.7969,1276.4063 Q2647.4609,1275.8984 2647.8125,1275.7422 Q2648.1641,1275.5859 2648.5938,1275.5859 Q2649.4141,1275.5859 2650,1276.25 Q2650.625,1276.875 2650.625,1277.7734 Q2650.625,1278.6328 2649.7656,1279.6484 Q2648.5156,1281.1328 2646.5234,1281.9531 Q2643.9063,1283.0859 2640.7031,1283.0859 Q2636.9531,1283.0859 2633.9453,1281.6016 Q2631.5234,1280.4297 2629.8047,1277.8906 Q2628.125,1275.3516 2628.125,1272.3438 L2628.125,1269.6094 Q2628.125,1266.4844 2629.6094,1263.75 Q2631.1328,1261.0156 2633.75,1259.5703 Q2636.4063,1258.0859 2639.375,1258.0859 Q2641.1719,1258.0859 2642.7344,1258.7109 Q2644.2969,1259.3359 2645.625,1260.5859 Z " fill="#000000"/><ellipse cx="2704.375" cy="1268.0859" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="237.5" x="2738.125" y="1262.7441">&lt;&lt;Serializable&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2719.375" y="1300.4785">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="207.5" x="2786.875" y="1300.4785">CardResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2437.5" x2="3167.5" y1="1319.5703" y2="1319.5703"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2437.5" x2="3167.5" y1="1339.5703" y2="1339.5703"/><ellipse cx="2462.5" cy="1367.0703" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="670" x="2485" y="1378.1177">CardResponse (List&lt;ApduResponse&gt; apduResponses,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="377.5" x="2545" y="1412.7075">boolean isLogicalChannelOpen,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="242.5" x="2545" y="1447.2974">boolean isComplete)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2437.5" x2="3167.5" y1="1463.3398" y2="1463.3398"/><ellipse cx="2462.5" cy="1490.8398" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="2485" y="1501.8872">List&lt;ApduResponse&gt; getApduResponses ()</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2437.5" x2="3167.5" y1="1517.9297" y2="1517.9297"/><ellipse cx="2462.5" cy="1545.4297" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="2485" y="1556.4771">boolean isLogicalChannelOpen ()</text><ellipse cx="2462.5" cy="1580.0195" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="2485" y="1591.0669">boolean isComplete ()</text><!--MD5=[020bc233d237158d8be37d9dae17a65e]
class ApduResponse--><rect codeLine="227" fill="#F4ECF7" height="298.8281" id="ApduResponse" style="stroke:#8E44AD;stroke-width:3.75;" width="422.5" x="2636.25" y="1852.8516"/><ellipse cx="2689.5" cy="1903.0859" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2694.5,1894.3359 Q2695.0078,1893.0859 2695.5938,1892.4609 Q2696.1797,1891.8359 2696.8438,1891.8359 Q2698.0156,1891.8359 2698.7578,1892.5391 Q2699.5,1893.2422 2699.5,1894.8828 L2699.5,1898.7891 Q2699.5,1900.4297 2698.7969,1901.1328 Q2698.0938,1901.8359 2697,1901.8359 Q2696.0234,1901.8359 2695.3984,1901.4063 Q2694.7734,1900.9766 2694.5,1899.8438 Q2694.3828,1899.0625 2693.9531,1898.6328 Q2693.1719,1897.8125 2691.7656,1897.3438 Q2690.3594,1896.8359 2688.9531,1896.8359 Q2687.1953,1896.8359 2685.7109,1897.5391 Q2684.2656,1898.2422 2683.1328,1899.8047 Q2682,1901.3672 2682,1903.5156 L2682,1905.8203 Q2682,1908.3984 2684.1094,1910.1172 Q2686.2188,1911.8359 2689.9688,1911.8359 Q2692.1953,1911.8359 2693.7578,1911.3281 Q2694.6563,1911.0547 2695.6719,1910.1563 Q2696.3359,1909.6484 2696.6875,1909.4922 Q2697.0391,1909.3359 2697.4688,1909.3359 Q2698.2891,1909.3359 2698.875,1910 Q2699.5,1910.625 2699.5,1911.5234 Q2699.5,1912.3828 2698.6406,1913.3984 Q2697.3906,1914.8828 2695.3984,1915.7031 Q2692.7813,1916.8359 2689.5781,1916.8359 Q2685.8281,1916.8359 2682.8203,1915.3516 Q2680.3984,1914.1797 2678.6797,1911.6406 Q2677,1909.1016 2677,1906.0938 L2677,1903.3594 Q2677,1900.2344 2678.4844,1897.5 Q2680.0078,1894.7656 2682.625,1893.3203 Q2685.2813,1891.8359 2688.25,1891.8359 Q2690.0469,1891.8359 2691.6094,1892.4609 Q2693.1719,1893.0859 2694.5,1894.3359 Z " fill="#000000"/><ellipse cx="2740.5" cy="1901.8359" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="237.5" x="2776.75" y="1896.4941">&lt;&lt;Serializable&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2755.5" y="1934.2285">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="2823" y="1934.2285">ApduResponse</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2638.75" x2="3056.25" y1="1953.3203" y2="1953.3203"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2638.75" x2="3056.25" y1="1973.3203" y2="1973.3203"/><ellipse cx="2663.75" cy="2000.8203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="357.5" x="2686.25" y="2011.8677">ApduResponse (byte[] bytes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="2638.75" x2="3056.25" y1="2027.9102" y2="2027.9102"/><ellipse cx="2663.75" cy="2055.4102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2686.25" y="2066.4575">byte[] getBytes ()</text><ellipse cx="2663.75" cy="2090" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="2686.25" y="2101.0474">byte[] getDataOut ()</text><ellipse cx="2663.75" cy="2124.5898" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="2686.25" y="2135.6372">int getStatusCode ()</text><!--MD5=[17146a741b3becbcb08fff440a5eba97]
class SelectionStatus--><rect codeLine="228" fill="#F4ECF7" height="382.1289" id="SelectionStatus" style="stroke:#8E44AD;stroke-width:3.75;" width="375" x="3257.5" y="1221.6016"/><ellipse cx="3319.75" cy="1261.6016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3324.75,1252.8516 Q3325.2578,1251.6016 3325.8438,1250.9766 Q3326.4297,1250.3516 3327.0938,1250.3516 Q3328.2656,1250.3516 3329.0078,1251.0547 Q3329.75,1251.7578 3329.75,1253.3984 L3329.75,1257.3047 Q3329.75,1258.9453 3329.0469,1259.6484 Q3328.3438,1260.3516 3327.25,1260.3516 Q3326.2734,1260.3516 3325.6484,1259.9219 Q3325.0234,1259.4922 3324.75,1258.3594 Q3324.6328,1257.5781 3324.2031,1257.1484 Q3323.4219,1256.3281 3322.0156,1255.8594 Q3320.6094,1255.3516 3319.2031,1255.3516 Q3317.4453,1255.3516 3315.9609,1256.0547 Q3314.5156,1256.7578 3313.3828,1258.3203 Q3312.25,1259.8828 3312.25,1262.0313 L3312.25,1264.3359 Q3312.25,1266.9141 3314.3594,1268.6328 Q3316.4688,1270.3516 3320.2188,1270.3516 Q3322.4453,1270.3516 3324.0078,1269.8438 Q3324.9063,1269.5703 3325.9219,1268.6719 Q3326.5859,1268.1641 3326.9375,1268.0078 Q3327.2891,1267.8516 3327.7188,1267.8516 Q3328.5391,1267.8516 3329.125,1268.5156 Q3329.75,1269.1406 3329.75,1270.0391 Q3329.75,1270.8984 3328.8906,1271.9141 Q3327.6406,1273.3984 3325.6484,1274.2188 Q3323.0313,1275.3516 3319.8281,1275.3516 Q3316.0781,1275.3516 3313.0703,1273.8672 Q3310.6484,1272.6953 3308.9297,1270.1563 Q3307.25,1267.6172 3307.25,1264.6094 L3307.25,1261.875 Q3307.25,1258.75 3308.7344,1256.0156 Q3310.2578,1253.2813 3312.875,1251.8359 Q3315.5313,1250.3516 3318.5,1250.3516 Q3320.2969,1250.3516 3321.8594,1250.9766 Q3323.4219,1251.6016 3324.75,1252.8516 Z " fill="#000000"/><ellipse cx="3372.75" cy="1260.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="3387.75" y="1273.877">SelectionStatus</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3260" x2="3630" y1="1301.6016" y2="1301.6016"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3260" x2="3630" y1="1321.6016" y2="1321.6016"/><ellipse cx="3285" cy="1349.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="205" x="3307.5" y="1360.1489">SelectionStatus (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="247.5" x="3367.5" y="1394.7388">AnswerToReset atr,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="232.5" x="3367.5" y="1429.3286">ApduResponse fci,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="240" x="3367.5" y="1463.9185">boolean isMatching)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3260" x2="3630" y1="1479.9609" y2="1479.9609"/><ellipse cx="3285" cy="1507.4609" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="3307.5" y="1518.5083">AnswerToReset getAtr ()</text><ellipse cx="3285" cy="1542.0508" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="295" x="3307.5" y="1553.0981">ApduResponse getFci ()</text><ellipse cx="3285" cy="1576.6406" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="277.5" x="3307.5" y="1587.688">boolean hasMatched ()</text><!--MD5=[08697d5c41fb59880dad310582db5b30]
class AnswerToReset--><rect codeLine="229" fill="#F4ECF7" height="209.1797" id="AnswerToReset" style="stroke:#8E44AD;stroke-width:3.75;" width="470" x="3162.5" y="1897.8516"/><ellipse cx="3266.375" cy="1937.8516" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3271.375,1929.1016 Q3271.8828,1927.8516 3272.4688,1927.2266 Q3273.0547,1926.6016 3273.7188,1926.6016 Q3274.8906,1926.6016 3275.6328,1927.3047 Q3276.375,1928.0078 3276.375,1929.6484 L3276.375,1933.5547 Q3276.375,1935.1953 3275.6719,1935.8984 Q3274.9688,1936.6016 3273.875,1936.6016 Q3272.8984,1936.6016 3272.2734,1936.1719 Q3271.6484,1935.7422 3271.375,1934.6094 Q3271.2578,1933.8281 3270.8281,1933.3984 Q3270.0469,1932.5781 3268.6406,1932.1094 Q3267.2344,1931.6016 3265.8281,1931.6016 Q3264.0703,1931.6016 3262.5859,1932.3047 Q3261.1406,1933.0078 3260.0078,1934.5703 Q3258.875,1936.1328 3258.875,1938.2813 L3258.875,1940.5859 Q3258.875,1943.1641 3260.9844,1944.8828 Q3263.0938,1946.6016 3266.8438,1946.6016 Q3269.0703,1946.6016 3270.6328,1946.0938 Q3271.5313,1945.8203 3272.5469,1944.9219 Q3273.2109,1944.4141 3273.5625,1944.2578 Q3273.9141,1944.1016 3274.3438,1944.1016 Q3275.1641,1944.1016 3275.75,1944.7656 Q3276.375,1945.3906 3276.375,1946.2891 Q3276.375,1947.1484 3275.5156,1948.1641 Q3274.2656,1949.6484 3272.2734,1950.4688 Q3269.6563,1951.6016 3266.4531,1951.6016 Q3262.7031,1951.6016 3259.6953,1950.1172 Q3257.2734,1948.9453 3255.5547,1946.4063 Q3253.875,1943.8672 3253.875,1940.8594 L3253.875,1938.125 Q3253.875,1935 3255.3594,1932.2656 Q3256.8828,1929.5313 3259.5,1928.0859 Q3262.1563,1926.6016 3265.125,1926.6016 Q3266.9219,1926.6016 3268.4844,1927.2266 Q3270.0469,1927.8516 3271.375,1929.1016 Z " fill="#000000"/><ellipse cx="3328.625" cy="1936.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="215" x="3343.625" y="1950.127">AnswerToReset</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3165" x2="3630" y1="1977.8516" y2="1977.8516"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="3165" x2="3630" y1="1997.8516" y2="1997.8516"/><ellipse cx="3190" cy="2025.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="3212.5" y="2036.3989">AnswerToReset (byte[] atrBytes)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="3165" x2="3630" y1="2052.4414" y2="2052.4414"/><ellipse cx="3190" cy="2079.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3212.5" y="2090.9888">byte[] getBytes ()</text><!--MD5=[e210ee7b55cb4fcef849a017d68619f7]
class CardSelectionSpi--><rect codeLine="141" fill="#FEFECE" height="189.1797" id="CardSelectionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="920" x="1052.5" y="311.6016"/><ellipse cx="1368.125" cy="351.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1370.625,344.1016 L1370.625,359.1016 L1375.625,359.1016 L1376.8359,359.1016 L1378.125,360.6641 L1378.125,361.6016 L1378.125,362.5391 L1376.8359,364.1016 L1375.625,364.1016 L1360.625,364.1016 L1359.4141,364.1016 L1358.125,362.5391 L1358.125,361.6016 L1358.125,360.6641 L1359.4141,359.1016 L1360.625,359.1016 L1365.625,359.1016 L1365.625,344.1016 L1360.625,344.1016 L1359.4141,344.1016 L1358.125,342.5391 L1358.125,341.6016 L1358.125,340.6641 L1359.4141,339.1016 L1360.625,339.1016 L1375.625,339.1016 L1376.8359,339.1016 L1378.125,340.6641 L1378.125,341.6016 L1378.125,342.5391 L1376.8359,344.1016 L1375.625,344.1016 L1370.625,344.1016 Z " fill="#000000"/><ellipse cx="1431.875" cy="350.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="240" x="1446.875" y="363.877">CardSelectionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1055" x2="1970" y1="391.6016" y2="391.6016"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1055" x2="1970" y1="411.6016" y2="411.6016"/><ellipse cx="1080" cy="439.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="1102.5" y="450.1489">CardSelectionRequest getCardSelectionRequest ()</text><ellipse cx="1080" cy="473.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="855" x="1102.5" y="484.7388">SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)</text><!--MD5=[dccdbbb850bf03879ac099cfa435f162]
class CardSelectorSpi--><rect codeLine="145" fill="#FEFECE" height="120" id="CardSelectorSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="332.5" x="631.25" y="346.6016"/><ellipse cx="668.75" cy="386.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M671.25,379.1016 L671.25,394.1016 L676.25,394.1016 L677.4609,394.1016 L678.75,395.6641 L678.75,396.6016 L678.75,397.5391 L677.4609,399.1016 L676.25,399.1016 L661.25,399.1016 L660.0391,399.1016 L658.75,397.5391 L658.75,396.6016 L658.75,395.6641 L660.0391,394.1016 L661.25,394.1016 L666.25,394.1016 L666.25,379.1016 L661.25,379.1016 L660.0391,379.1016 L658.75,377.5391 L658.75,376.6016 L658.75,375.6641 L660.0391,374.1016 L661.25,374.1016 L676.25,374.1016 L677.4609,374.1016 L678.75,375.6641 L678.75,376.6016 L678.75,377.5391 L677.4609,379.1016 L676.25,379.1016 L671.25,379.1016 Z " fill="#000000"/><ellipse cx="716.25" cy="385.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="225" x="731.25" y="398.877">CardSelectorSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="633.75" x2="961.25" y1="426.6016" y2="426.6016"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="633.75" x2="961.25" y1="446.6016" y2="446.6016"/><!--MD5=[c089e258773b765d812cd5d8bc232f90]
class SmartCardSpi--><rect codeLine="147" fill="#FEFECE" height="120" id="SmartCardSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="302.5" x="2196.25" y="346.6016"/><ellipse cx="2233.75" cy="386.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2236.25,379.1016 L2236.25,394.1016 L2241.25,394.1016 L2242.4609,394.1016 L2243.75,395.6641 L2243.75,396.6016 L2243.75,397.5391 L2242.4609,399.1016 L2241.25,399.1016 L2226.25,399.1016 L2225.0391,399.1016 L2223.75,397.5391 L2223.75,396.6016 L2223.75,395.6641 L2225.0391,394.1016 L2226.25,394.1016 L2231.25,394.1016 L2231.25,379.1016 L2226.25,379.1016 L2225.0391,379.1016 L2223.75,377.5391 L2223.75,376.6016 L2223.75,375.6641 L2225.0391,374.1016 L2226.25,374.1016 L2241.25,374.1016 L2242.4609,374.1016 L2243.75,375.6641 L2243.75,376.6016 L2243.75,377.5391 L2242.4609,379.1016 L2241.25,379.1016 L2236.25,379.1016 Z " fill="#000000"/><ellipse cx="2281.25" cy="385.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="2296.25" y="398.877">SmartCardSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2198.75" x2="2496.25" y1="426.6016" y2="426.6016"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2198.75" x2="2496.25" y1="446.6016" y2="446.6016"/><!--MD5=[1009538229b8579f9307b4ea464024c7]
reverse link AbstractApduException to ReaderBrokenCommunicationException--><path d="M1695.4975,2231.1966 C1679.63,2240.3816 1663.5825,2248.9316 1647.5,2256.6016 C1550.9075,2302.6641 1443.36,2339.1116 1337.6325,2367.7916 " fill="none" id="AbstractApduException-backto-ReaderBrokenCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1686.56,2216.1466,1738.2825,2204.7041,1704.985,2245.9041,1686.56,2216.1466" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[c10792058e4ee269d9b4d3b1dd341ade]
reverse link AbstractApduException to CardBrokenCommunicationException--><path d="M1975,2254.7691 C1975,2290.4291 1975,2325.4866 1975,2356.4991 " fill="none" id="AbstractApduException-backto-CardBrokenCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1957.5,2254.3091,1975,2204.3091,1992.5,2254.3091,1957.5,2254.3091" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[1abcbd4ae47d9af07fed6fed62eade2e]
reverse link AbstractApduException to UnexpectedStatusCodeException--><path d="M2295.4075,2208.6341 C2328.4375,2226.0541 2361.995,2242.4116 2395,2256.6016 C2484.1275,2294.9216 2582.2,2328.2591 2677.225,2356.3941 " fill="none" id="AbstractApduException-backto-UnexpectedStatusCodeException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2286.325,2223.6166,2250.795,2184.3241,2303.0725,2192.8816,2286.325,2223.6166" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[0650cc34d72c7e8c430f86199a6befbd]
link CardSelectionSpi to SmartCardSpi--><path codeLine="183" d="M1972.7425,406.6016 C2047.925,406.6016 2121.2375,406.6016 2182.7925,406.6016 " fill="none" id="CardSelectionSpi-to-SmartCardSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2195.745,406.6016,2173.245,396.6016,2183.245,406.6016,2173.245,416.6016,2195.745,406.6016" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2040.625,377.041,2018.0123,369.6937,2018.0123,384.3883,2040.625,377.041" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2050.625" y="390.3394">provide</text><!--MD5=[c8106daf25e9cdedce10383aaf9a9de6]
link CardSelectionSpi to CardSelectionRequest--><path codeLine="184" d="M1346.5625,502.1341 C1225.715,569.8866 1059.7975,662.9091 922.22,740.0416 " fill="none" id="CardSelectionSpi-to-CardSelectionRequest" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="910.685,746.5091,935.2017,744.2325,921.5893,740.3979,925.4239,726.7856,910.685,746.5091" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1119.0967,650.6539,1142.4141,646.0043,1135.2279,633.1867,1119.0967,650.6539" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1152.5" y="657.8394">provide</text><!--MD5=[f4d74ae726dd4c518129abf87e5f3dcf]
link CardSelectionSpi to CardSelectionResponse--><path codeLine="185" d="M1805.19,501.8516 C2036.7675,575.2366 2362.295,678.3941 2616.225,758.8641 " fill="none" id="CardSelectionSpi-to-CardSelectionResponse" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2628.275,762.6766,2609.8597,746.3325,2616.3619,758.8912,2603.8032,765.3934,2628.275,762.6766" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2329.416,648.3171,2310.0793,634.482,2305.6402,648.4901,2329.416,648.3171" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2340" y="657.8394">use</text><!--MD5=[ba353f77b720853e2c843d4c932d6e59]
link CardSelectorSpi to CardSelectionRequest--><path codeLine="187" d="M781.56,467.1916 C764.785,528.3191 737.5925,627.4191 713.965,713.5266 " fill="none" id="CardSelectorSpi-to-CardSelectionRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="705.1125,745.7841,718.7251,733.9648,713.0506,716.8534,699.438,728.6727,705.1125,745.7841" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="758.0418" y="520.6803">1</text><!--MD5=[9835af9204c9210f827ba24cc91945f0]
reverse link CardSelectionRequest to CardRequest--><path codeLine="188" d="M693.7375,1057.2891 C699.7275,1086.4916 706.795,1116.3591 715,1144.1016 C729.4675,1193.0216 749.8675,1245.2266 769.1775,1290.3316 " fill="none" id="CardSelectionRequest-backto-CardRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="687.4325,1024.7491,680.4701,1041.3781,693.1422,1054.2007,700.1046,1037.5717,687.4325,1024.7491" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="701.9395" y="1263.2916">0..1</text><!--MD5=[d401507d432a199d6c8d10fa177dfeb2]
reverse link CardRequest to ApduRequest--><path codeLine="190" d="M825,1568.4391 C825,1641.9066 825,1730.6916 825,1808.6091 " fill="none" id="CardRequest-backto-ApduRequest" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="825,1535.8541,815,1550.8541,825,1565.8541,835,1550.8541,825,1535.8541" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="762.1406" y="1781.9669">1..N</text><!--MD5=[77f859707804abe419614d0e91d95dfe]
reverse link CardSelectionResponse to CardResponse--><path codeLine="192" d="M2948.325,1038.6541 C2926.275,1094.8516 2900.95,1159.4066 2877.65,1218.7816 " fill="none" id="CardSelectionResponse-backto-CardResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2960.2,1008.3791,2945.4114,1018.6891,2949.2404,1036.3055,2964.029,1025.9955,2960.2,1008.3791" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="2866.4788" y="1192.1335">1</text><!--MD5=[4905b2efbeb6b377be21c40fb1d79f57]
reverse link CardSelectionResponse to SelectionStatus--><path codeLine="193" d="M3129.425,1033.4641 C3178,1091.4916 3234.575,1159.0541 3286.3,1220.8191 " fill="none" id="CardSelectionResponse-backto-SelectionStatus" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3108.425,1008.3791,3110.3965,1026.2987,3127.696,1031.371,3125.7245,1013.4514,3108.425,1008.3791" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="17.5" x="3252.8399" y="1194.4071">1</text><!--MD5=[9424ef5399bf3a67a4952b2f5019cc6d]
reverse link CardResponse to ApduResponse--><path codeLine="195" d="M2819.8,1640.1341 C2825.25,1711.1216 2831.15,1787.7391 2836.075,1851.9866 " fill="none" id="CardResponse-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2817.225,1606.9016,2808.4041,1622.6239,2819.5244,1636.8133,2828.3453,1621.091,2817.225,1606.9016" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="60" x="2771.2852" y="1826.0867">1..N</text><!--MD5=[1cd47721a07c040e565e1a09c1eba3b5]
reverse link SelectionStatus to ApduResponse--><path codeLine="197" d="M3233.075,1622.8541 C3155.725,1698.5741 3069.9,1782.6166 2998.875,1852.1441 " fill="none" id="SelectionStatus-backto-ApduResponse" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3256.775,1599.6466,3239.0617,1602.9993,3235.3438,1620.6395,3253.057,1617.2868,3256.775,1599.6466" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="2958.9723" y="1825.2018">0..1</text><!--MD5=[24cbd97995d68a7170e91f5c730befab]
reverse link SelectionStatus to AnswerToReset--><path codeLine="198" d="M3427,1636.9116 C3419.75,1726.2841 3411.725,1825.0591 3405.9,1897.0491 " fill="none" id="SelectionStatus-backto-AnswerToReset" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="3429.65,1604.4766,3418.468,1618.6174,3427.2203,1634.378,3438.4023,1620.2372,3429.65,1604.4766" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="3347.8559" y="1870.8725">0..1</text><!--MD5=[5ef0c786fdf4311530333c4705a89fd8]
link CardResponse to AbstractApduException--><path codeLine="200" d="M2531.55,1606.9016 C2450.095,1664.4841 2360.23,1728.0141 2276.91,1786.9166 " fill="none" id="CardResponse-to-AbstractApduException" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2250.105,1805.8666,2268.126,1805.3737,2274.6022,1788.5494,2256.5812,1789.0422,2250.105,1805.8666" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="2448.0985" y="1661.0587">0..1</text><!--MD5=[c545f7e69e1fd10e93a83a4930be8cac]
reverse link CardSelectionRequest to ProxyReader--><path codeLine="202" d="M1158.7075,1028.5466 C1317.8425,1080.7691 1493.0575,1145.4716 1647.5,1219.1016 C1681.1525,1235.1441 1715.645,1254.1741 1748.7375,1273.9066 " fill="none" id="CardSelectionRequest-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1146.3025,1024.4891,1164.5798,1040.9873,1158.1833,1028.3744,1170.7963,1021.9779,1146.3025,1024.4891" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1468.4582,1117.2414,1486.5164,1132.7081,1492.1587,1119.1398,1468.4582,1117.2414" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1502.5" y="1135.3394">use</text><!--MD5=[2442a7d7f46532290415533a60537508]
link ProxyReader to CardRequest--><path codeLine="203" d="M1688.4325,1412.8516 C1611.8625,1412.8516 1524.7475,1412.8516 1436.0125,1412.8516 " fill="none" id="ProxyReader-to-CardRequest" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1422.91,1412.8516,1445.41,1422.8516,1435.41,1412.8516,1445.41,1402.8516,1422.91,1412.8516" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1510.625,1383.291,1533.2377,1390.6383,1533.2377,1375.9437,1510.625,1383.291" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1545.625" y="1396.5894">use</text><!--MD5=[86fbc7b023257ef37098cf7570a66f83]
reverse link ChannelControl to ProxyReader--><path codeLine="204" d="M1544.655,990.9616 C1622.81,1071.8241 1732.285,1185.0916 1817.765,1273.5341 " fill="none" id="ChannelControl-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1535.285,981.2641,1543.7279,1004.3934,1543.9707,990.2534,1558.1108,990.4962,1535.285,981.2641" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1686.3129,1113.053,1696.7449,1134.4186,1707.311,1124.2064,1686.3129,1113.053" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1717.5" y="1135.3394">use</text><!--MD5=[ef2297562df3bdaf27e19b497e1f04bc]
reverse link CardSelectionResponse to ProxyReader--><path codeLine="206" d="M2752.525,1013.8366 C2588.725,1094.7591 2376.56,1199.5916 2211.515,1281.1391 " fill="none" id="CardSelectionResponse-backto-ProxyReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2764.225,1008.0516,2739.6231,1009.0502,2753.0176,1013.5874,2748.4804,1026.9819,2764.225,1008.0516" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2596.2067,1116.504,2572.679,1119.9334,2579.1881,1133.1077,2596.2067,1116.504" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2607.5" y="1135.3394">provide</text><!--MD5=[07ed8df3c1c3d85fbf148d2489e3f22f]
link ProxyReader to CardResponse--><path codeLine="207" d="M2211.5725,1412.8516 C2277.9225,1412.8516 2350.5625,1412.8516 2421.5125,1412.8516 " fill="none" id="ProxyReader-to-CardResponse" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2434.74,1412.8516,2412.24,1402.8516,2422.24,1412.8516,2412.24,1422.8516,2434.74,1412.8516" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2279.375,1383.291,2256.7623,1375.9437,2256.7623,1390.6383,2279.375,1383.291" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2289.375" y="1396.5894">provide</text><!--MD5=[94a500118d32d5bb81fc8b20e6f1bd8b]
link ProxyReader to AbstractApduException--><path codeLine="208" d="M1955.83,1551.7691 C1958.8425,1622.2741 1962.5875,1709.8916 1965.965,1788.9316 " fill="none" id="ProxyReader-to-AbstractApduException" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1966.5025,1801.5391,1975.5353,1778.6337,1965.9702,1789.0504,1955.5535,1779.4853,1966.5025,1801.5391" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1978.0337,1717.0296,1984.4088,1694.1238,1969.7276,1694.7512,1978.0337,1717.0296" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="77.5" x="2000" y="1717.8394">throw</text><!--MD5=[e51e55530cc9c55b286c5e20c089e764]
link spi to CardSelectionRequest--><!--MD5=[bf15129783f09dcfe1fe52433c011c69]
link spi to CardSelectionResponse--><!--MD5=[085432b74674c740c0f3ca7eb925c10c]
@startuml
title
        Calypsonet - calypsonet-java-card-api - 1.0 (20/05/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

package "org.calypsonet.terminal.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +CardResponse transmitCardRequest (
        \tCardRequest cardRequest,
        \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    ' REQUEST
    together {
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (CardSelectorSpi cardSelector)
            +CardSelectionRequest (CardSelectorSpi cardSelector, CardRequest cardRequest)
            ..
            +CardSelectorSpi getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests, boolean isStatusCodesVerificationEnabled)
            ..
            +List<ApduRequest> getApduRequests ()
            +boolean isStatusCodesVerificationEnabled ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes)
            ..
            +ApduRequest addSuccessfulStatusCode (int successfulStatusCode)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
        }
    }
    ' RESPONSE
    together {
        +class "**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (SelectionStatus selectionStatus, CardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "<<Serializable>>\n**final** CardResponse" as CardResponse {
            - -
            +CardResponse (List<ApduResponse> apduResponses,
                \tboolean isLogicalChannelOpen,
                \tboolean isComplete)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
            +boolean isComplete ()
        }
        +class "<<Serializable>>\n**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] bytes)
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusCode ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
    }
    ' SPI
    package spi {
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface CardSelectorSpi {
        }
        +interface SmartCardSpi {
        }
    }
    +abstract class "<<Exception>>\nAbstractApduException" as AbstractApduException {
        - -
        #AbstractApduException (
            \tCardResponse cardResponse,
            \tString message)
        #AbstractApduException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
        ..
        +CardResponse getCardResponse ()
    }
    +class ReaderBrokenCommunicationException extends AbstractApduException {
        - -
        +ReaderBrokenCommunicationException (CardResponse cardResponse, String message)
        +ReaderBrokenCommunicationException (CardResponse cardResponse, String message,
            \tThrowable cause)
    }
    +class CardBrokenCommunicationException extends AbstractApduException {
        - -
        +CardBrokenCommunicationException (CardResponse cardResponse, String message)
        +CardBrokenCommunicationException (CardResponse cardResponse, String message,
            \tThrowable cause)
    }
    +class UnexpectedStatusCodeException extends AbstractApduException {
        - -
        +UnexpectedStatusCodeException (CardResponse cardResponse, String message)
        +UnexpectedStatusCodeException (CardResponse cardResponse, String message,
            \tThrowable cause)
    }
}

' Associations

CardSelectionSpi .right.> SmartCardSpi #C_USE : provide >
CardSelectionSpi ..> CardSelectionRequest #C_USE : provide >
CardSelectionSpi ..> CardSelectionResponse #C_USE : use >

CardSelectionRequest *-up- "1" CardSelectorSpi #C_LINK
CardSelectionRequest *- - "0..1" CardRequest #C_LINK

CardRequest *- - "1..N" ApduRequest #C_LINK

CardSelectionResponse *- - "1" CardResponse #C_LINK
CardSelectionResponse *- - "1" SelectionStatus #C_LINK

CardResponse *- - "1..N" ApduResponse #C_LINK

SelectionStatus *- - "0..1" ApduResponse  #C_LINK
SelectionStatus *- - "0..1" AnswerToReset  #C_LINK

AbstractApduException *-up- "0..1" CardResponse #C_LINK

ProxyReader .left.> CardSelectionRequest #C_USE : use >
ProxyReader ..> CardRequest #C_USE : use >
ProxyReader .up.> ChannelControl #C_USE : use >

ProxyReader .up.> CardSelectionResponse #C_USE : provide >
ProxyReader .> CardResponse #C_USE : provide >
ProxyReader ..> AbstractApduException #C_USE : throw >

' == LAYOUT ==

spi -[hidden]- CardSelectionRequest
spi -[hidden]- CardSelectionResponse

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}

class CardSelectionRequest <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractApduException <<purple>>
class ReaderBrokenCommunicationException <<purple>>
class CardBrokenCommunicationException <<purple>>
class UnexpectedStatusCodeException <<purple>>

@enduml

@startuml
title
        Calypsonet - calypsonet-java-card-api - 1.0 (20/05/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


package "org.calypsonet.terminal.card" as api {
    +class "**final** CardApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +interface ProxyReader {
        - -
        +CardResponse transmitCardRequest (
        \tCardRequest cardRequest,
        \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    together {
        +enum ChannelControl {
            KEEP_OPEN
            CLOSE_AFTER
        }
        +class "**final** CardSelectionRequest" as CardSelectionRequest {
            - -
            +CardSelectionRequest (CardSelectorSpi cardSelector)
            +CardSelectionRequest (CardSelectorSpi cardSelector, CardRequest cardRequest)
            ..
            +CardSelectorSpi getCardSelector ()
            +CardRequest getCardRequest ()
        }
        +class "**final** CardRequest" as CardRequest {
            - -
            +CardRequest (List<ApduRequest> apduRequests, boolean isStatusCodesVerificationEnabled)
            ..
            +List<ApduRequest> getApduRequests ()
            +boolean isStatusCodesVerificationEnabled ()
        }
        +class "**final** ApduRequest" as ApduRequest {
            - -
            +ApduRequest (byte[] bytes)
            ..
            +ApduRequest addSuccessfulStatusCode (int successfulStatusCode)
            +Set<Integer> getSuccessfulStatusCodes ()
            ..
            +ApduRequest setName (String name)
            +String getName ()
            ..
            +byte[] getBytes ()
        }
    }
    together {
        +class "**final** CardSelectionResponse" as CardSelectionResponse {
            - -
            +CardSelectionResponse (SelectionStatus selectionStatus, CardResponse cardResponse)
            ..
            +SelectionStatus getSelectionStatus ()
            +CardResponse getCardResponse ()
        }
        +class "<<Serializable>>\n**final** CardResponse" as CardResponse {
            - -
            +CardResponse (List<ApduResponse> apduResponses,
                \tboolean isLogicalChannelOpen,
                \tboolean isComplete)
            ..
            +List<ApduResponse> getApduResponses ()
            ..
            +boolean isLogicalChannelOpen ()
            +boolean isComplete ()
        }
        +class "<<Serializable>>\n**final** ApduResponse" as ApduResponse {
            - -
            +ApduResponse (byte[] bytes)
            ..
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusCode ()
        }
        +class SelectionStatus {
            - -
            +SelectionStatus (
                \tAnswerToReset atr,
                \tApduResponse fci,
                \tboolean isMatching)
            ..
            +AnswerToReset getAtr ()
            +ApduResponse getFci ()
            +boolean hasMatched ()
        }
        +class AnswerToReset {
            - -
            +AnswerToReset (byte[] atrBytes)
            ..
            +byte[] getBytes ()
        }
    }
    package spi {
        +interface CardSelectionSpi {
            +CardSelectionRequest getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponse cardSelectionResponse)
        }
        +interface CardSelectorSpi {
        }
        +interface SmartCardSpi {
        }
    }
    +abstract class "<<Exception>>\nAbstractApduException" as AbstractApduException {
        - -
        #AbstractApduException (
            \tCardResponse cardResponse,
            \tString message)
        #AbstractApduException (
            \tCardResponse cardResponse,
            \tString message, Throwable cause)
        ..
        +CardResponse getCardResponse ()
    }
    +class ReaderBrokenCommunicationException extends AbstractApduException {
        - -
        +ReaderBrokenCommunicationException (CardResponse cardResponse, String message)
        +ReaderBrokenCommunicationException (CardResponse cardResponse, String message,
            \tThrowable cause)
    }
    +class CardBrokenCommunicationException extends AbstractApduException {
        - -
        +CardBrokenCommunicationException (CardResponse cardResponse, String message)
        +CardBrokenCommunicationException (CardResponse cardResponse, String message,
            \tThrowable cause)
    }
    +class UnexpectedStatusCodeException extends AbstractApduException {
        - -
        +UnexpectedStatusCodeException (CardResponse cardResponse, String message)
        +UnexpectedStatusCodeException (CardResponse cardResponse, String message,
            \tThrowable cause)
    }
}


CardSelectionSpi .right.> SmartCardSpi #27AE60 : provide >
CardSelectionSpi ..> CardSelectionRequest #27AE60 : provide >
CardSelectionSpi ..> CardSelectionResponse #27AE60 : use >

CardSelectionRequest *-up- "1" CardSelectorSpi #3498DB
CardSelectionRequest *- - "0..1" CardRequest #3498DB

CardRequest *- - "1..N" ApduRequest #3498DB

CardSelectionResponse *- - "1" CardResponse #3498DB
CardSelectionResponse *- - "1" SelectionStatus #3498DB

CardResponse *- - "1..N" ApduResponse #3498DB

SelectionStatus *- - "0..1" ApduResponse  #3498DB
SelectionStatus *- - "0..1" AnswerToReset  #3498DB

AbstractApduException *-up- "0..1" CardResponse #3498DB

ProxyReader .left.> CardSelectionRequest #27AE60 : use >
ProxyReader ..> CardRequest #27AE60 : use >
ProxyReader .up.> ChannelControl #27AE60 : use >

ProxyReader .up.> CardSelectionResponse #27AE60 : provide >
ProxyReader .> CardResponse #27AE60 : provide >
ProxyReader ..> AbstractApduException #27AE60 : throw >


spi -[hidden]- CardSelectionRequest
spi -[hidden]- CardSelectionResponse


package api #F8F9F9 {}
package spi #F2F3F4 {}

class CardSelectionRequest <<green>>
enum ChannelControl <<green>>
class CardRequest <<green>>
class ApduRequest <<green>>

class CardSelectionResponse <<purple>>
class CardResponse <<purple>>
class ApduResponse <<purple>>
class SelectionStatus <<purple>>
class AnswerToReset <<purple>>
abstract class AbstractApduException <<purple>>
class ReaderBrokenCommunicationException <<purple>>
class CardBrokenCommunicationException <<purple>>
class UnexpectedStatusCodeException <<purple>>

@enduml

PlantUML version 1.2021.5(Sun Apr 25 13:20:28 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>