<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2667.5px" preserveAspectRatio="none" style="width:3890px;height:2667px;background:#FFFFFF;" version="1.1" viewBox="0 0 3890 2667" width="3890px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1297.5" x="1280" y="46.7139">Calypsonet - calypsonet-terminal-card-java-api - 1.0 (03/06/2021)</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="40,71.6016,555,71.6016,572.5,130.625,3847.5,130.625,3847.5,2651.6016,40,2651.6016,40,71.6016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="572.5" y1="130.625" y2="130.625"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="500" x="50" y="112.9346">org.calypsonet.terminal.card</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="120,201.6016,187.5,201.6016,205,260.625,1815,260.625,1815,2164.1016,120,2164.1016,120,201.6016" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="120" x2="205" y1="260.625" y2="260.625"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="130" y="242.9346">spi</text><!--MD5=[f120634a3fc1b9906ef904c08b168a9d]
class ProxyReaderApi--><rect codeLine="75" fill="#FEFECE" height="278.3594" id="ProxyReaderApi" style="stroke:#D4AC0D;stroke-width:3.75;" width="562.5" x="1876.25" y="1189.1016"/><ellipse cx="2020.625" cy="1229.1016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2023.125,1221.6016 L2023.125,1236.6016 L2028.125,1236.6016 L2029.3359,1236.6016 L2030.625,1238.1641 L2030.625,1239.1016 L2030.625,1240.0391 L2029.3359,1241.6016 L2028.125,1241.6016 L2013.125,1241.6016 L2011.9141,1241.6016 L2010.625,1240.0391 L2010.625,1239.1016 L2010.625,1238.1641 L2011.9141,1236.6016 L2013.125,1236.6016 L2018.125,1236.6016 L2018.125,1221.6016 L2013.125,1221.6016 L2011.9141,1221.6016 L2010.625,1220.0391 L2010.625,1219.1016 L2010.625,1218.1641 L2011.9141,1216.6016 L2013.125,1216.6016 L2028.125,1216.6016 L2029.3359,1216.6016 L2030.625,1218.1641 L2030.625,1219.1016 L2030.625,1220.0391 L2029.3359,1221.6016 L2028.125,1221.6016 L2023.125,1221.6016 Z " fill="#000000"/><ellipse cx="2084.375" cy="1227.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="225" x="2099.375" y="1241.377">ProxyReaderApi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1878.75" x2="2436.25" y1="1269.1016" y2="1269.1016"/><line style="stroke:#D4AC0D;stroke-width:2.5;" x1="1878.75" x2="2436.25" y1="1289.1016" y2="1289.1016"/><ellipse cx="1903.75" cy="1316.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="497.5" x="1926.25" y="1327.6489">CardResponseApi transmitCardRequest (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="365" x="1986.25" y="1362.2388">CardRequestSpi cardRequest,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="380" x="1986.25" y="1396.8286">ChannelControl channelControl)</text><line style="stroke:#D4AC0D;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1878.75" x2="2436.25" y1="1412.8711" y2="1412.8711"/><ellipse cx="1903.75" cy="1440.3711" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="1926.25" y="1451.4185">void releaseChannel ()</text><!--MD5=[ee0d3336d8d2c9dd88a5ad188defe636]
class ChannelControl--><rect codeLine="83" fill="#FEFECE" height="189.1797" id="ChannelControl" style="stroke:#D4AC0D;stroke-width:3.75;" width="325" x="1995" y="752.8516"/><ellipse cx="2032.5" cy="792.8516" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M2028.75,795.3516 L2028.75,800.3516 L2038.75,800.3516 L2038.75,797.8516 L2038.75,796.6406 L2040.3125,795.3516 L2041.25,795.3516 L2042.1875,795.3516 L2043.75,796.6406 L2043.75,797.8516 L2043.75,805.3516 L2023.75,805.3516 L2022.5391,805.3516 L2021.25,803.7891 L2021.25,802.8516 L2021.25,801.9141 L2022.5391,800.3516 L2023.75,800.3516 L2023.75,800.3516 L2023.75,785.3516 L2023.75,785.3516 L2022.5391,785.3516 L2021.25,783.7891 L2021.25,782.8516 L2021.25,781.9141 L2022.5391,780.3516 L2023.75,780.3516 L2043.75,780.3516 L2043.75,787.8516 L2043.75,789.0625 L2042.1875,790.3516 L2041.25,790.3516 L2040.3125,790.3516 L2038.75,789.0625 L2038.75,787.8516 L2038.75,785.3516 L2028.75,785.3516 L2028.75,790.3516 L2031.25,790.3516 L2031.25,789.1406 L2031.25,789.1406 L2032.8125,787.8516 L2033.75,787.8516 L2034.6875,787.8516 L2036.25,789.1406 L2036.25,790.3516 L2036.25,795.3516 L2036.25,796.5625 L2034.6875,797.8516 L2034.6875,797.8516 L2033.75,797.8516 L2032.8125,797.8516 L2031.25,796.5625 L2031.25,796.5625 L2031.25,795.3516 L2028.75,795.3516 Z " fill="#000000"/><ellipse cx="2080" cy="791.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="217.5" x="2095" y="805.127">ChannelControl</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1997.5" x2="2317.5" y1="832.8516" y2="832.8516"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="145" x="2010" y="871.3989">KEEP_OPEN</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="2010" y="905.9888">CLOSE_AFTER</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1997.5" x2="2317.5" y1="922.0313" y2="922.0313"/><!--MD5=[c0d9bbe2f46f90879b0aee291b4ddd3d]
class AbstractApduException--><rect codeLine="184" fill="#F4ECF7" height="540.957" id="AbstractApduException" style="stroke:#8E44AD;stroke-width:3.75;" width="577.5" x="1876.25" y="1661.6016"/><ellipse cx="1981.25" cy="1711.8359" fill="#A9DCDF" rx="27.5" ry="27.5" style="stroke:#A9DCDF;stroke-width:2.5;"/><path d="M1985.625,1715.5859 L1977.3828,1715.5859 L1976.2891,1718.0859 L1976.2891,1718.0859 L1977.4609,1718.0859 L1978.75,1719.6484 L1978.75,1720.5859 L1978.75,1721.5234 L1977.4609,1723.0859 L1976.2891,1723.0859 L1971.5625,1723.0859 L1970.0391,1723.0859 L1968.75,1721.5234 L1968.75,1720.5859 L1968.75,1719.6484 L1970.0391,1718.0859 L1971.5625,1718.0859 L1977.3438,1703.0859 L1975.1563,1703.0859 L1972.5391,1703.0859 L1971.25,1701.5234 L1971.25,1700.5859 L1971.25,1699.6484 L1972.5391,1698.0859 L1975.1563,1698.0859 L1984.3359,1698.0859 L1991.0547,1718.0859 L1992.4609,1718.0859 L1992.4609,1718.0859 L1993.75,1719.6484 L1993.75,1720.5859 L1993.75,1721.5234 L1992.4609,1723.0859 L1991.0547,1723.0859 L1986.3281,1723.0859 L1985.0391,1723.0859 L1983.75,1721.5234 L1983.75,1720.5859 L1983.75,1719.6484 L1985.0391,1718.0859 L1986.3281,1718.0859 L1986.3281,1718.0859 L1985.625,1715.5859 Z M1984.2578,1710.5859 L1981.25,1701.6406 L1978.6719,1710.5859 L1984.2578,1710.5859 Z " fill="#000000"/><ellipse cx="2043.75" cy="1710.5859" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="205" x="2116.25" y="1705.2441">&lt;&lt;Exception&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="320" x="2058.75" y="1742.9785">AbstractApduException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1878.75" x2="2451.25" y1="1762.0703" y2="1762.0703"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="1878.75" x2="2451.25" y1="1782.0703" y2="1782.0703"/><polygon fill="#FFFF44" points="1903.75,1797.0703,1913.75,1807.0703,1903.75,1817.0703,1893.75,1807.0703" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="305" x="1926.25" y="1820.6177">AbstractApduException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="452.5" x="1986.25" y="1855.2075">CardResponseApi cardResponseApi,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="1986.25" y="1889.7974">boolean isCardResponseComplete,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="197.5" x="1986.25" y="1924.3872">String message)</text><polygon fill="#FFFF44" points="1903.75,1935.4297,1913.75,1945.4297,1903.75,1955.4297,1893.75,1945.4297" style="stroke:#B38D22;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="305" x="1926.25" y="1958.9771">AbstractApduException (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="452.5" x="1986.25" y="1993.5669">CardResponseApi cardResponseApi,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="420" x="1986.25" y="2028.1567">boolean isCardResponseComplete,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="195" x="1986.25" y="2062.7466">String message,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="1986.25" y="2097.3364">Throwable cause)</text><line style="stroke:#8E44AD;stroke-width:2.5;stroke-dasharray:1.0,2.0;" x1="1878.75" x2="2451.25" y1="2113.3789" y2="2113.3789"/><ellipse cx="1903.75" cy="2140.8789" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="472.5" x="1926.25" y="2151.9263">CardResponseApi getCardResponse ()</text><ellipse cx="1903.75" cy="2175.4688" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="440" x="1926.25" y="2186.5161">boolean isCardResponseComplete ()</text><!--MD5=[aa6ba6f3ca2ecd56ccab2f9c90ece8a4]
class ReaderBrokenCommunicationException--><rect codeLine="185" fill="#F4ECF7" height="258.3594" id="ReaderBrokenCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="997.5" x="591.25" y="2354.1016"/><ellipse cx="786.875" cy="2394.1016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M791.875,2385.3516 Q792.3828,2384.1016 792.9688,2383.4766 Q793.5547,2382.8516 794.2188,2382.8516 Q795.3906,2382.8516 796.1328,2383.5547 Q796.875,2384.2578 796.875,2385.8984 L796.875,2389.8047 Q796.875,2391.4453 796.1719,2392.1484 Q795.4688,2392.8516 794.375,2392.8516 Q793.3984,2392.8516 792.7734,2392.4219 Q792.1484,2391.9922 791.875,2390.8594 Q791.7578,2390.0781 791.3281,2389.6484 Q790.5469,2388.8281 789.1406,2388.3594 Q787.7344,2387.8516 786.3281,2387.8516 Q784.5703,2387.8516 783.0859,2388.5547 Q781.6406,2389.2578 780.5078,2390.8203 Q779.375,2392.3828 779.375,2394.5313 L779.375,2396.8359 Q779.375,2399.4141 781.4844,2401.1328 Q783.5938,2402.8516 787.3438,2402.8516 Q789.5703,2402.8516 791.1328,2402.3438 Q792.0313,2402.0703 793.0469,2401.1719 Q793.7109,2400.6641 794.0625,2400.5078 Q794.4141,2400.3516 794.8438,2400.3516 Q795.6641,2400.3516 796.25,2401.0156 Q796.875,2401.6406 796.875,2402.5391 Q796.875,2403.3984 796.0156,2404.4141 Q794.7656,2405.8984 792.7734,2406.7188 Q790.1563,2407.8516 786.9531,2407.8516 Q783.2031,2407.8516 780.1953,2406.3672 Q777.7734,2405.1953 776.0547,2402.6563 Q774.375,2400.1172 774.375,2397.1094 L774.375,2394.375 Q774.375,2391.25 775.8594,2388.5156 Q777.3828,2385.7813 780,2384.3359 Q782.6563,2382.8516 785.625,2382.8516 Q787.4219,2382.8516 788.9844,2383.4766 Q790.5469,2384.1016 791.875,2385.3516 Z " fill="#000000"/><ellipse cx="850.625" cy="2392.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="557.5" x="865.625" y="2406.377">ReaderBrokenCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="593.75" x2="1586.25" y1="2434.1016" y2="2434.1016"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="593.75" x2="1586.25" y1="2454.1016" y2="2454.1016"/><ellipse cx="618.75" cy="2481.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="932.5" x="641.25" y="2492.6489">ReaderBrokenCommunicationException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="625" x="701.25" y="2527.2388">boolean isCardResponseComplete, String message)</text><ellipse cx="618.75" cy="2550.7813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="932.5" x="641.25" y="2561.8286">ReaderBrokenCommunicationException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="852.5" x="701.25" y="2596.4185">boolean isCardResponseComplete, String message, Throwable cause)</text><!--MD5=[e6757fe437aef25d7a30ee1e8a4a916b]
class CardBrokenCommunicationException--><rect codeLine="186" fill="#F4ECF7" height="258.3594" id="CardBrokenCommunicationException" style="stroke:#8E44AD;stroke-width:3.75;" width="977.5" x="1676.25" y="2354.1016"/><ellipse cx="1879.375" cy="2394.1016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1884.375,2385.3516 Q1884.8828,2384.1016 1885.4688,2383.4766 Q1886.0547,2382.8516 1886.7188,2382.8516 Q1887.8906,2382.8516 1888.6328,2383.5547 Q1889.375,2384.2578 1889.375,2385.8984 L1889.375,2389.8047 Q1889.375,2391.4453 1888.6719,2392.1484 Q1887.9688,2392.8516 1886.875,2392.8516 Q1885.8984,2392.8516 1885.2734,2392.4219 Q1884.6484,2391.9922 1884.375,2390.8594 Q1884.2578,2390.0781 1883.8281,2389.6484 Q1883.0469,2388.8281 1881.6406,2388.3594 Q1880.2344,2387.8516 1878.8281,2387.8516 Q1877.0703,2387.8516 1875.5859,2388.5547 Q1874.1406,2389.2578 1873.0078,2390.8203 Q1871.875,2392.3828 1871.875,2394.5313 L1871.875,2396.8359 Q1871.875,2399.4141 1873.9844,2401.1328 Q1876.0938,2402.8516 1879.8438,2402.8516 Q1882.0703,2402.8516 1883.6328,2402.3438 Q1884.5313,2402.0703 1885.5469,2401.1719 Q1886.2109,2400.6641 1886.5625,2400.5078 Q1886.9141,2400.3516 1887.3438,2400.3516 Q1888.1641,2400.3516 1888.75,2401.0156 Q1889.375,2401.6406 1889.375,2402.5391 Q1889.375,2403.3984 1888.5156,2404.4141 Q1887.2656,2405.8984 1885.2734,2406.7188 Q1882.6563,2407.8516 1879.4531,2407.8516 Q1875.7031,2407.8516 1872.6953,2406.3672 Q1870.2734,2405.1953 1868.5547,2402.6563 Q1866.875,2400.1172 1866.875,2397.1094 L1866.875,2394.375 Q1866.875,2391.25 1868.3594,2388.5156 Q1869.8828,2385.7813 1872.5,2384.3359 Q1875.1563,2382.8516 1878.125,2382.8516 Q1879.9219,2382.8516 1881.4844,2383.4766 Q1883.0469,2384.1016 1884.375,2385.3516 Z " fill="#000000"/><ellipse cx="1943.125" cy="2392.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="522.5" x="1958.125" y="2406.377">CardBrokenCommunicationException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="1678.75" x2="2651.25" y1="2434.1016" y2="2434.1016"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="1678.75" x2="2651.25" y1="2454.1016" y2="2454.1016"/><ellipse cx="1703.75" cy="2481.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="902.5" x="1726.25" y="2492.6489">CardBrokenCommunicationException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="625" x="1786.25" y="2527.2388">boolean isCardResponseComplete, String message)</text><ellipse cx="1703.75" cy="2550.7813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="902.5" x="1726.25" y="2561.8286">CardBrokenCommunicationException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="852.5" x="1786.25" y="2596.4185">boolean isCardResponseComplete, String message, Throwable cause)</text><!--MD5=[a6bc7e572d7d352b602d88577660db31]
class UnexpectedStatusWordException--><rect codeLine="187" fill="#F4ECF7" height="258.3594" id="UnexpectedStatusWordException" style="stroke:#8E44AD;stroke-width:3.75;" width="977.5" x="2741.25" y="2354.1016"/><ellipse cx="2976.875" cy="2394.1016" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2981.875,2385.3516 Q2982.3828,2384.1016 2982.9688,2383.4766 Q2983.5547,2382.8516 2984.2188,2382.8516 Q2985.3906,2382.8516 2986.1328,2383.5547 Q2986.875,2384.2578 2986.875,2385.8984 L2986.875,2389.8047 Q2986.875,2391.4453 2986.1719,2392.1484 Q2985.4688,2392.8516 2984.375,2392.8516 Q2983.3984,2392.8516 2982.7734,2392.4219 Q2982.1484,2391.9922 2981.875,2390.8594 Q2981.7578,2390.0781 2981.3281,2389.6484 Q2980.5469,2388.8281 2979.1406,2388.3594 Q2977.7344,2387.8516 2976.3281,2387.8516 Q2974.5703,2387.8516 2973.0859,2388.5547 Q2971.6406,2389.2578 2970.5078,2390.8203 Q2969.375,2392.3828 2969.375,2394.5313 L2969.375,2396.8359 Q2969.375,2399.4141 2971.4844,2401.1328 Q2973.5938,2402.8516 2977.3438,2402.8516 Q2979.5703,2402.8516 2981.1328,2402.3438 Q2982.0313,2402.0703 2983.0469,2401.1719 Q2983.7109,2400.6641 2984.0625,2400.5078 Q2984.4141,2400.3516 2984.8438,2400.3516 Q2985.6641,2400.3516 2986.25,2401.0156 Q2986.875,2401.6406 2986.875,2402.5391 Q2986.875,2403.3984 2986.0156,2404.4141 Q2984.7656,2405.8984 2982.7734,2406.7188 Q2980.1563,2407.8516 2976.9531,2407.8516 Q2973.2031,2407.8516 2970.1953,2406.3672 Q2967.7734,2405.1953 2966.0547,2402.6563 Q2964.375,2400.1172 2964.375,2397.1094 L2964.375,2394.375 Q2964.375,2391.25 2965.8594,2388.5156 Q2967.3828,2385.7813 2970,2384.3359 Q2972.6563,2382.8516 2975.625,2382.8516 Q2977.4219,2382.8516 2978.9844,2383.4766 Q2980.5469,2384.1016 2981.875,2385.3516 Z " fill="#000000"/><ellipse cx="3040.625" cy="2392.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="457.5" x="3055.625" y="2406.377">UnexpectedStatusWordException</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2743.75" x2="3716.25" y1="2434.1016" y2="2434.1016"/><line style="stroke:#8E44AD;stroke-width:2.5;" x1="2743.75" x2="3716.25" y1="2454.1016" y2="2454.1016"/><ellipse cx="2768.75" cy="2481.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="867.5" x="2791.25" y="2492.6489">UnexpectedStatusWordException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="625" x="2851.25" y="2527.2388">boolean isCardResponseComplete, String message)</text><ellipse cx="2768.75" cy="2550.7813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="867.5" x="2791.25" y="2561.8286">UnexpectedStatusWordException (CardResponseApi cardResponseApi</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="852.5" x="2851.25" y="2596.4185">boolean isCardResponseComplete, String message, Throwable cause)</text><!--MD5=[e210ee7b55cb4fcef849a017d68619f7]
class CardSelectionSpi--><rect codeLine="50" fill="#FEFECE" height="189.1797" id="CardSelectionSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="1000" x="707.5" y="311.6016"/><ellipse cx="1063.125" cy="351.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1065.625,344.1016 L1065.625,359.1016 L1070.625,359.1016 L1071.8359,359.1016 L1073.125,360.6641 L1073.125,361.6016 L1073.125,362.5391 L1071.8359,364.1016 L1070.625,364.1016 L1055.625,364.1016 L1054.4141,364.1016 L1053.125,362.5391 L1053.125,361.6016 L1053.125,360.6641 L1054.4141,359.1016 L1055.625,359.1016 L1060.625,359.1016 L1060.625,344.1016 L1055.625,344.1016 L1054.4141,344.1016 L1053.125,342.5391 L1053.125,341.6016 L1053.125,340.6641 L1054.4141,339.1016 L1055.625,339.1016 L1070.625,339.1016 L1071.8359,339.1016 L1073.125,340.6641 L1073.125,341.6016 L1073.125,342.5391 L1071.8359,344.1016 L1070.625,344.1016 L1065.625,344.1016 Z " fill="#000000"/><ellipse cx="1126.875" cy="350.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="240" x="1141.875" y="363.877">CardSelectionSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="710" x2="1705" y1="391.6016" y2="391.6016"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="710" x2="1705" y1="411.6016" y2="411.6016"/><ellipse cx="735" cy="439.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="645" x="757.5" y="450.1489">CardSelectionRequestSpi getCardSelectionRequest ()</text><ellipse cx="735" cy="473.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="935" x="757.5" y="484.7388">SmartCardSpi parse (CardSelectionResponseApi cardSelectionResponseApi)</text><!--MD5=[dccdbbb850bf03879ac099cfa435f162]
class CardSelectorSpi--><rect codeLine="54" fill="#FEFECE" height="120" id="CardSelectorSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="332.5" x="473.75" y="787.8516"/><ellipse cx="511.25" cy="827.8516" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M513.75,820.3516 L513.75,835.3516 L518.75,835.3516 L519.9609,835.3516 L521.25,836.9141 L521.25,837.8516 L521.25,838.7891 L519.9609,840.3516 L518.75,840.3516 L503.75,840.3516 L502.5391,840.3516 L501.25,838.7891 L501.25,837.8516 L501.25,836.9141 L502.5391,835.3516 L503.75,835.3516 L508.75,835.3516 L508.75,820.3516 L503.75,820.3516 L502.5391,820.3516 L501.25,818.7891 L501.25,817.8516 L501.25,816.9141 L502.5391,815.3516 L503.75,815.3516 L518.75,815.3516 L519.9609,815.3516 L521.25,816.9141 L521.25,817.8516 L521.25,818.7891 L519.9609,820.3516 L518.75,820.3516 L513.75,820.3516 Z " fill="#000000"/><ellipse cx="558.75" cy="826.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="225" x="573.75" y="840.127">CardSelectorSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="476.25" x2="803.75" y1="867.8516" y2="867.8516"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="476.25" x2="803.75" y1="887.8516" y2="887.8516"/><!--MD5=[c089e258773b765d812cd5d8bc232f90]
class SmartCardSpi--><rect codeLine="56" fill="#FEFECE" height="120" id="SmartCardSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="302.5" x="181.25" y="346.6016"/><ellipse cx="218.75" cy="386.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M221.25,379.1016 L221.25,394.1016 L226.25,394.1016 L227.4609,394.1016 L228.75,395.6641 L228.75,396.6016 L228.75,397.5391 L227.4609,399.1016 L226.25,399.1016 L211.25,399.1016 L210.0391,399.1016 L208.75,397.5391 L208.75,396.6016 L208.75,395.6641 L210.0391,394.1016 L211.25,394.1016 L216.25,394.1016 L216.25,379.1016 L211.25,379.1016 L210.0391,379.1016 L208.75,377.5391 L208.75,376.6016 L208.75,375.6641 L210.0391,374.1016 L211.25,374.1016 L226.25,374.1016 L227.4609,374.1016 L228.75,375.6641 L228.75,376.6016 L228.75,377.5391 L227.4609,379.1016 L226.25,379.1016 L221.25,379.1016 Z " fill="#000000"/><ellipse cx="266.25" cy="385.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="281.25" y="398.877">SmartCardSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="183.75" x2="481.25" y1="426.6016" y2="426.6016"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="183.75" x2="481.25" y1="446.6016" y2="446.6016"/><!--MD5=[8d87e43a1a915ffb33ab992212a28e16]
class CardSelectionRequestSpi--><rect codeLine="60" fill="#FEFECE" height="189.1797" id="CardSelectionRequestSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="490" x="1030" y="752.8516"/><ellipse cx="1079.875" cy="792.8516" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1082.375,785.3516 L1082.375,800.3516 L1087.375,800.3516 L1088.5859,800.3516 L1089.875,801.9141 L1089.875,802.8516 L1089.875,803.7891 L1088.5859,805.3516 L1087.375,805.3516 L1072.375,805.3516 L1071.1641,805.3516 L1069.875,803.7891 L1069.875,802.8516 L1069.875,801.9141 L1071.1641,800.3516 L1072.375,800.3516 L1077.375,800.3516 L1077.375,785.3516 L1072.375,785.3516 L1071.1641,785.3516 L1069.875,783.7891 L1069.875,782.8516 L1069.875,781.9141 L1071.1641,780.3516 L1072.375,780.3516 L1087.375,780.3516 L1088.5859,780.3516 L1089.875,781.9141 L1089.875,782.8516 L1089.875,783.7891 L1088.5859,785.3516 L1087.375,785.3516 L1082.375,785.3516 Z " fill="#000000"/><ellipse cx="1130.125" cy="791.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="355" x="1145.125" y="805.127">CardSelectionRequestSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1032.5" x2="1517.5" y1="832.8516" y2="832.8516"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1032.5" x2="1517.5" y1="852.8516" y2="852.8516"/><ellipse cx="1057.5" cy="880.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1080" y="891.3989">CardSelectorSpi getCardSelector ()</text><ellipse cx="1057.5" cy="914.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="425" x="1080" y="925.9888">CardRequestSpi getCardRequest ()</text><!--MD5=[b26cc63de5889bffd0c8769786a5769b]
class CardRequestSpi--><rect codeLine="64" fill="#FEFECE" height="189.1797" id="CardRequestSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="592.5" x="1006.25" y="1232.8516"/><ellipse cx="1164.375" cy="1272.8516" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1166.875,1265.3516 L1166.875,1280.3516 L1171.875,1280.3516 L1173.0859,1280.3516 L1174.375,1281.9141 L1174.375,1282.8516 L1174.375,1283.7891 L1173.0859,1285.3516 L1171.875,1285.3516 L1156.875,1285.3516 L1155.6641,1285.3516 L1154.375,1283.7891 L1154.375,1282.8516 L1154.375,1281.9141 L1155.6641,1280.3516 L1156.875,1280.3516 L1161.875,1280.3516 L1161.875,1265.3516 L1156.875,1265.3516 L1155.6641,1265.3516 L1154.375,1263.7891 L1154.375,1262.8516 L1154.375,1261.9141 L1155.6641,1260.3516 L1156.875,1260.3516 L1171.875,1260.3516 L1173.0859,1260.3516 L1174.375,1261.9141 L1174.375,1262.8516 L1174.375,1263.7891 L1173.0859,1265.3516 L1171.875,1265.3516 L1166.875,1265.3516 Z " fill="#000000"/><ellipse cx="1228.125" cy="1271.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="227.5" x="1243.125" y="1285.127">CardRequestSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1008.75" x2="1596.25" y1="1312.8516" y2="1312.8516"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1008.75" x2="1596.25" y1="1332.8516" y2="1332.8516"/><ellipse cx="1033.75" cy="1360.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="527.5" x="1056.25" y="1371.3989">List&lt;ApduRequestSpi&gt; getApduRequests ()</text><ellipse cx="1033.75" cy="1394.9414" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="527.5" x="1056.25" y="1405.9888">boolean stopOnUnsuccessfulStatusWord ()</text><!--MD5=[1499b49b6a3daea27e4b5ae092e773a3]
class ApduRequestSpi--><rect codeLine="68" fill="#FEFECE" height="223.7695" id="ApduRequestSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="585" x="1010" y="1819.1016"/><ellipse cx="1161.875" cy="1859.1016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1164.375,1851.6016 L1164.375,1866.6016 L1169.375,1866.6016 L1170.5859,1866.6016 L1171.875,1868.1641 L1171.875,1869.1016 L1171.875,1870.0391 L1170.5859,1871.6016 L1169.375,1871.6016 L1154.375,1871.6016 L1153.1641,1871.6016 L1151.875,1870.0391 L1151.875,1869.1016 L1151.875,1868.1641 L1153.1641,1866.6016 L1154.375,1866.6016 L1159.375,1866.6016 L1159.375,1851.6016 L1154.375,1851.6016 L1153.1641,1851.6016 L1151.875,1850.0391 L1151.875,1849.1016 L1151.875,1848.1641 L1153.1641,1846.6016 L1154.375,1846.6016 L1169.375,1846.6016 L1170.5859,1846.6016 L1171.875,1848.1641 L1171.875,1849.1016 L1171.875,1850.0391 L1170.5859,1851.6016 L1169.375,1851.6016 L1164.375,1851.6016 Z " fill="#000000"/><ellipse cx="1225.625" cy="1857.8516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="232.5" x="1240.625" y="1871.377">ApduRequestSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1012.5" x2="1592.5" y1="1899.1016" y2="1899.1016"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1012.5" x2="1592.5" y1="1919.1016" y2="1919.1016"/><ellipse cx="1037.5" cy="1946.6016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="187.5" x="1060" y="1957.6489">String getInfo ()</text><ellipse cx="1037.5" cy="1981.1914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="1060" y="1992.2388">byte[] getBytes ()</text><ellipse cx="1037.5" cy="2015.7813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="1060" y="2026.8286">Set&lt;Integer&gt; getSuccessfulStatusWords ()</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="89" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="427.5" x="3318.75" y="770.3516"/><ellipse cx="3356.25" cy="810.3516" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M3361.25,801.6016 Q3361.7578,800.3516 3362.3438,799.7266 Q3362.9297,799.1016 3363.5938,799.1016 Q3364.7656,799.1016 3365.5078,799.8047 Q3366.25,800.5078 3366.25,802.1484 L3366.25,806.0547 Q3366.25,807.6953 3365.5469,808.3984 Q3364.8438,809.1016 3363.75,809.1016 Q3362.7734,809.1016 3362.1484,808.6719 Q3361.5234,808.2422 3361.25,807.1094 Q3361.1328,806.3281 3360.7031,805.8984 Q3359.9219,805.0781 3358.5156,804.6094 Q3357.1094,804.1016 3355.7031,804.1016 Q3353.9453,804.1016 3352.4609,804.8047 Q3351.0156,805.5078 3349.8828,807.0703 Q3348.75,808.6328 3348.75,810.7813 L3348.75,813.0859 Q3348.75,815.6641 3350.8594,817.3828 Q3352.9688,819.1016 3356.7188,819.1016 Q3358.9453,819.1016 3360.5078,818.5938 Q3361.4063,818.3203 3362.4219,817.4219 Q3363.0859,816.9141 3363.4375,816.7578 Q3363.7891,816.6016 3364.2188,816.6016 Q3365.0391,816.6016 3365.625,817.2656 Q3366.25,817.8906 3366.25,818.7891 Q3366.25,819.6484 3365.3906,820.6641 Q3364.1406,822.1484 3362.1484,822.9688 Q3359.5313,824.1016 3356.3281,824.1016 Q3352.5781,824.1016 3349.5703,822.6172 Q3347.1484,821.4453 3345.4297,818.9063 Q3343.75,816.3672 3343.75,813.3594 L3343.75,810.625 Q3343.75,807.5 3345.2344,804.7656 Q3346.7578,802.0313 3349.375,800.5859 Q3352.0313,799.1016 3355,799.1016 Q3356.7969,799.1016 3358.3594,799.7266 Q3359.9219,800.3516 3361.25,801.6016 Z " fill="#000000"/><ellipse cx="3403.75" cy="809.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="3418.75" y="822.627">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="3486.25" y="822.627">CardApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3321.25" x2="3743.75" y1="850.3516" y2="850.3516"/><ellipse cx="3346.25" cy="877.8516" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="3368.75" y="888.8989">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="3433.75" y="888.8989">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3321.25" x2="3743.75" y1="904.9414" y2="904.9414"/><!--MD5=[752ddf5140aacf2af4e16923ec5562ef]
class CardSelectionResponseApi--><rect codeLine="181" fill="#F4ECF7" height="292.9492" id="CardSelectionResponseApi" style="stroke:#8E44AD;stroke-width:3.75;" width="695" x="2535" y="701.6016"/><ellipse cx="2668.125" cy="741.6016" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2670.625,734.1016 L2670.625,749.1016 L2675.625,749.1016 L2676.8359,749.1016 L2678.125,750.6641 L2678.125,751.6016 L2678.125,752.5391 L2676.8359,754.1016 L2675.625,754.1016 L2660.625,754.1016 L2659.4141,754.1016 L2658.125,752.5391 L2658.125,751.6016 L2658.125,750.6641 L2659.4141,749.1016 L2660.625,749.1016 L2665.625,749.1016 L2665.625,734.1016 L2660.625,734.1016 L2659.4141,734.1016 L2658.125,732.5391 L2658.125,731.6016 L2658.125,730.6641 L2659.4141,729.1016 L2660.625,729.1016 L2675.625,729.1016 L2676.8359,729.1016 L2678.125,730.6641 L2678.125,731.6016 L2678.125,732.5391 L2676.8359,734.1016 L2675.625,734.1016 L2670.625,734.1016 Z " fill="#000000"/><ellipse cx="2731.875" cy="740.3516" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="380" x="2746.875" y="753.877">CardSelectionResponseApi</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2537.5" x2="3227.5" y1="781.6016" y2="781.6016"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2537.5" x2="3227.5" y1="801.6016" y2="801.6016"/><ellipse cx="2562.5" cy="829.1016" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="2585" y="840.1489">byte[] getPowerOnData ()</text><ellipse cx="2562.5" cy="863.6914" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="630" x="2585" y="874.7388">ApduResponseApi getSelectApplicationResponse ()</text><ellipse cx="2562.5" cy="898.2813" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="277.5" x="2585" y="909.3286">boolean hasMatched ()</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="2592.5" y="943.9185"/><ellipse cx="2562.5" cy="967.4609" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="472.5" x="2585" y="978.5083">CardResponseApi getCardResponse ()</text><!--MD5=[8f79ecf97aaeb6df1ec4123222024fca]
class CardResponseApi--><rect codeLine="182" fill="#F4ECF7" height="209.6484" id="CardResponseApi" style="stroke:#8E44AD;stroke-width:3.75;" width="640" x="2662.5" y="1222.8516"/><ellipse cx="2831.875" cy="1273.0859" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2834.375,1265.5859 L2834.375,1280.5859 L2839.375,1280.5859 L2840.5859,1280.5859 L2841.875,1282.1484 L2841.875,1283.0859 L2841.875,1284.0234 L2840.5859,1285.5859 L2839.375,1285.5859 L2824.375,1285.5859 L2823.1641,1285.5859 L2821.875,1284.0234 L2821.875,1283.0859 L2821.875,1282.1484 L2823.1641,1280.5859 L2824.375,1280.5859 L2829.375,1280.5859 L2829.375,1265.5859 L2824.375,1265.5859 L2823.1641,1265.5859 L2821.875,1264.0234 L2821.875,1263.0859 L2821.875,1262.1484 L2823.1641,1260.5859 L2824.375,1260.5859 L2839.375,1260.5859 L2840.5859,1260.5859 L2841.875,1262.1484 L2841.875,1263.0859 L2841.875,1264.0234 L2840.5859,1265.5859 L2839.375,1265.5859 L2834.375,1265.5859 Z " fill="#000000"/><ellipse cx="2895.625" cy="1271.8359" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="237.5" x="2918.125" y="1266.4941">&lt;&lt;Serializable&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="2910.625" y="1304.2285">CardResponseApi</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2665" x2="3300" y1="1323.3203" y2="1323.3203"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="2665" x2="3300" y1="1343.3203" y2="1343.3203"/><ellipse cx="2690" cy="1370.8203" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="575" x="2712.5" y="1381.8677">List&lt;ApduResponseApi&gt; getApduResponses ()</text><ellipse cx="2690" cy="1405.4102" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="397.5" x="2712.5" y="1416.4575">boolean isLogicalChannelOpen ()</text><!--MD5=[593363c87188d3912986ed4ab95ef26f]
class ApduResponseApi--><rect codeLine="183" fill="#F4ECF7" height="244.2383" id="ApduResponseApi" style="stroke:#8E44AD;stroke-width:3.75;" width="365" x="3170" y="1809.1016"/><ellipse cx="3207.5" cy="1859.3359" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3210,1851.8359 L3210,1866.8359 L3215,1866.8359 L3216.2109,1866.8359 L3217.5,1868.3984 L3217.5,1869.3359 L3217.5,1870.2734 L3216.2109,1871.8359 L3215,1871.8359 L3200,1871.8359 L3198.7891,1871.8359 L3197.5,1870.2734 L3197.5,1869.3359 L3197.5,1868.3984 L3198.7891,1866.8359 L3200,1866.8359 L3205,1866.8359 L3205,1851.8359 L3200,1851.8359 L3198.7891,1851.8359 L3197.5,1850.2734 L3197.5,1849.3359 L3197.5,1848.3984 L3198.7891,1846.8359 L3200,1846.8359 L3215,1846.8359 L3216.2109,1846.8359 L3217.5,1848.3984 L3217.5,1849.3359 L3217.5,1850.2734 L3216.2109,1851.8359 L3215,1851.8359 L3210,1851.8359 Z " fill="#000000"/><ellipse cx="3255" cy="1858.0859" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="237.5" x="3280" y="1852.7441">&lt;&lt;Serializable&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="257.5" x="3270" y="1890.4785">ApduResponseApi</text><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3172.5" x2="3532.5" y1="1909.5703" y2="1909.5703"/><line style="stroke:#8E44AD;stroke-width:3.75;" x1="3172.5" x2="3532.5" y1="1929.5703" y2="1929.5703"/><ellipse cx="3197.5" cy="1957.0703" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="3220" y="1968.1177">byte[] getBytes ()</text><ellipse cx="3197.5" cy="1991.6602" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="237.5" x="3220" y="2002.7075">byte[] getDataOut ()</text><ellipse cx="3197.5" cy="2026.25" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="242.5" x="3220" y="2037.2974">int getStatusWord ()</text><!--MD5=[1009538229b8579f9307b4ea464024c7]
reverse link AbstractApduException to ReaderBrokenCommunicationException--><path d="M1831.1825,2106.3841 C1767.75,2138.9491 1701.875,2172.6541 1640,2204.1016 C1543.0775,2253.3641 1436.315,2307.1066 1342.845,2353.9866 " fill="none" id="AbstractApduException-backto-ReaderBrokenCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1823.2625,2090.7791,1875.7325,2083.4941,1839.2575,2121.9091,1823.2625,2090.7791" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[c10792058e4ee269d9b4d3b1dd341ade]
reverse link AbstractApduException to CardBrokenCommunicationException--><path d="M2165,2252.3641 C2165,2287.9416 2165,2322.4666 2165,2353.4366 " fill="none" id="AbstractApduException-backto-CardBrokenCommunicationException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2147.5,2251.6266,2165,2201.6266,2182.5,2251.6266,2147.5,2251.6266" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[de95e7d471be8c3d8011decaa2cfd536]
reverse link AbstractApduException to UnexpectedStatusWordException--><path d="M2498.725,2204.6141 C2621.05,2273.1441 2724.425,2317.3316 2822.5,2354.0991 " fill="none" id="AbstractApduException-backto-UnexpectedStatusWordException" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2489.315,2219.3916,2454.65,2179.3341,2506.725,2189.0316,2489.315,2219.3916" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[411862f75c10ec92656fcdaedc63ae5a]
reverse link SmartCardSpi to CardSelectionSpi--><path codeLine="149" d="M496.82,406.6016 C558.1575,406.6016 631.4425,406.6016 707.2925,406.6016 " fill="none" id="SmartCardSpi-backto-CardSelectionSpi" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="483.915,406.6016,506.415,416.6016,496.415,406.6016,506.415,396.6016,483.915,406.6016" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="526.875,377.041,549.4877,384.3883,549.4877,369.6937,526.875,377.041" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="561.875" y="390.3394">provide</text><!--MD5=[b2c6f4503e09f276de0cb6ba332bc40d]
link CardSelectionSpi to CardSelectionRequestSpi--><path codeLine="150" d="M1221.815,501.6191 C1232.6075,571.3666 1247.42,667.1066 1258.6725,739.8341 " fill="none" id="CardSelectionSpi-to-CardSelectionRequestSpi" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1260.59,752.2166,1267.0333,728.4524,1258.6794,739.8634,1247.2683,731.5095,1260.59,752.2166" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="1254.4113,611.894,1258.2146,588.4238,1243.6928,590.6707,1254.4113,611.894" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1275" y="612.8394">provide</text><!--MD5=[5562132985776398c1b044e39fade6ed]
link CardSelectionSpi to CardSelectionResponseApi--><path codeLine="151" d="M1606.585,501.8066 C1802.48,544.2016 2042.565,591.5641 2260,621.6016 C2377.0025,637.7641 2412.0475,607.0716 2525,641.6016 C2568.1,654.7741 2611.65,673.8216 2652.825,695.0516 " fill="none" id="CardSelectionSpi-to-CardSelectionResponseApi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2664.375,701.0941,2649.0627,681.8124,2653.2957,695.3061,2639.802,699.5392,2664.375,701.0941" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2284.7921,601.8114,2263.89,590.4791,2261.221,604.9293,2284.7921,601.8114" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2295" y="612.8394">use</text><!--MD5=[b588842ff93523625a87f083bb0c2650]
reverse link CardSelectorSpi to CardSelectionRequestSpi--><path codeLine="153" d="M819.7225,847.8516 C884.795,847.8516 959.4475,847.8516 1029.2225,847.8516 " fill="none" id="CardSelectorSpi-backto-CardSelectionRequestSpi" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="806.84,847.8516,829.34,857.8516,819.34,847.8516,829.34,837.8516,806.84,847.8516" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="849.375,818.291,871.9877,825.6383,871.9877,810.9437,849.375,818.291" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="884.375" y="831.5894">provide</text><!--MD5=[81e5de53e28fbdb8de61555fc5ff1266]
link CardSelectionRequestSpi to CardRequestSpi--><path codeLine="154" d="M1208.99,942.9616 C1181.3,992.9216 1158.845,1056.0741 1175,1114.1016 C1185.425,1151.5491 1204.48,1188.9916 1224.735,1221.7266 " fill="none" id="CardSelectionRequestSpi-to-CardRequestSpi" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1231.64,1232.6416,1228.0636,1208.2805,1224.958,1222.0775,1211.1611,1218.9718,1231.64,1232.6416" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="1188.2049,1104.5211,1194.2654,1081.5301,1179.5941,1082.3587,1188.2049,1104.5211" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1210" y="1105.3394">provide</text><!--MD5=[8d072c8ae4c2a923e36ed15f691653c0]
link CardRequestSpi to ApduRequestSpi--><path codeLine="156" d="M1240.4925,1423.0741 C1220.2125,1458.5916 1200.2675,1500.4816 1190,1541.6016 C1167.69,1630.9541 1197.965,1730.7266 1232.6975,1806.6541 " fill="none" id="CardRequestSpi-to-ApduRequestSpi" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1238.3025,1818.6291,1237.8197,1794.0117,1233.0028,1807.3082,1219.7062,1802.4913,1238.3025,1818.6291" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="1202.246,1577.0384,1210.0513,1554.5797,1195.3597,1554.2811,1202.246,1577.0384" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1225" y="1577.8394">provide</text><!--MD5=[eb83ee6c6de48d735f24ac7b8e798bf7]
link CardSelectionResponseApi to ApduResponseApi--><path codeLine="158" d="M3167.4,994.6291 C3239.125,1045.6991 3307.15,1110.4516 3347.5,1189.1016 C3446.175,1381.4541 3417.3,1640.6541 3385.9,1795.7166 " fill="none" id="CardSelectionResponseApi-to-ApduResponseApi" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3383.25,1808.5441,3397.5976,1788.5341,3385.7803,1796.3028,3378.0116,1784.4856,3383.25,1808.5441" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="3428.2893,1340.3505,3429.4273,1316.6013,3415.2505,1320.4681,3428.2893,1340.3505" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3447.5" y="1341.5894">provide</text><!--MD5=[1714241acd7d2133df19efd008721ab1]
link CardSelectionResponseApi to CardResponseApi--><path codeLine="159" d="M2912.775,994.1566 C2927.325,1063.2741 2944.525,1144.9991 2958.2,1209.9741 " fill="none" id="CardSelectionResponseApi-to-CardResponseApi" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2960.9,1222.7366,2966.0368,1198.6562,2958.318,1210.5061,2946.4681,1202.7874,2960.9,1222.7366" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="2950.0746,1104.273,2952.6069,1080.6318,2938.2273,1083.6584,2950.0746,1104.273" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2970" y="1105.3394">provide</text><!--MD5=[6cdd032d6f0a6ec5d0180056f5b276fc]
link CardResponseApi to ApduResponseApi--><path codeLine="161" d="M3046.1,1433.2816 C3108.425,1534.1366 3203.675,1688.2491 3271.4,1797.8616 " fill="none" id="CardResponseApi-to-ApduResponseApi" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3278.275,1808.9941,3274.9629,1784.5957,3271.7079,1798.3581,3257.9454,1795.1031,3278.275,1808.9941" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="3151.5712,1575.1744,3145.934,1552.076,3133.4336,1559.8008,3151.5712,1575.1744" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="3167.5" y="1577.8394">provide</text><!--MD5=[204afea56fbb341093958fd5ccf00e7a]
link CardResponseApi to AbstractApduException--><path codeLine="163" d="M2824.275,1432.9741 C2727.725,1496.7916 2602.6,1581.6566 2495,1661.6016 C2490.2125,1665.1591 2485.4,1668.7566 2480.565,1672.3916 " fill="none" id="CardResponseApi-to-AbstractApduException" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#3498DB" points="2454.5575,1692.1366,2472.5513,1691.0309,2478.4514,1673.996,2460.4576,1675.1016,2454.5575,1692.1366" style="stroke:#3498DB;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="55" x="2740.8359" y="1485.9654">0..1</text><!--MD5=[480721e67db7582f707caf330eceae59]
reverse link CardRequestSpi to ProxyReaderApi--><path codeLine="165" d="M1611.8075,1327.8516 C1698.035,1327.8516 1791.225,1327.8516 1875.7725,1327.8516 " fill="none" id="CardRequestSpi-backto-ProxyReaderApi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1599.1375,1327.8516,1621.6375,1337.8516,1611.6375,1327.8516,1621.6375,1317.8516,1599.1375,1327.8516" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1692.5,1298.291,1715.1127,1305.6383,1715.1127,1290.9437,1692.5,1298.291" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1727.5" y="1311.5894">use</text><!--MD5=[b63362a26eb7d18875e37857d756049e]
reverse link ChannelControl to ProxyReaderApi--><path codeLine="166" d="M2157.5,955.6266 C2157.5,1024.2966 2157.5,1114.6141 2157.5,1188.7916 " fill="none" id="ChannelControl-backto-ProxyReaderApi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2157.5,943.0641,2147.5,965.5641,2157.5,955.5641,2167.5,965.5641,2157.5,943.0641" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2170,1079.541,2162.6527,1102.1537,2177.3473,1102.1537,2170,1079.541" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2192.5" y="1105.3394">use</text><!--MD5=[130a5f5d3437aac467d122a6fe4d357e]
link ProxyReaderApi to CardResponseApi--><path codeLine="168" d="M2439.11,1327.8516 C2506.775,1327.8516 2579.7,1327.8516 2649.475,1327.8516 " fill="none" id="ProxyReaderApi-to-CardResponseApi" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2662.45,1327.8516,2639.95,1317.8516,2649.95,1327.8516,2639.95,1337.8516,2662.45,1327.8516" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="2506.875,1298.291,2484.2623,1290.9437,2484.2623,1305.6383,2506.875,1298.291" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2516.875" y="1311.5894">provide</text><!--MD5=[61bae4c705f5ef877f3c562fe0e8c403]
link ProxyReaderApi to AbstractApduException--><path codeLine="169" d="M2159.2125,1466.9666 C2159.8875,1521.0041 2160.6925,1585.2041 2161.4825,1648.3016 " fill="none" id="ProxyReaderApi-to-AbstractApduException" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2161.64,1660.9041,2171.3563,1638.2801,2161.4828,1648.4051,2151.3579,1638.5316,2161.64,1660.9041" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2175.1565,1577.04,2182.2202,1554.3371,2167.5267,1554.5211,2175.1565,1577.04" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="77.5" x="2197.5" y="1577.8394">throw</text><!--MD5=[86c6230f4a215fdb6b827cba34ea9e52]
link CardSelectionResponseApi to ApiProperties--><!--MD5=[654318a40bd4e5097d571be5c7fab819]
link spi to CardSelectionResponseApi--><!--MD5=[2a80d54beea81050bdc42027463cd69b]
@startuml
title
        Calypsonet - calypsonet-terminal-card-java-api - 1.0 (03/06/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

package "org.calypsonet.terminal.card" as api {
    ' SPI
    package spi {
        +interface CardSelectionSpi {
            +CardSelectionRequestSpi getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponseApi cardSelectionResponseApi)
        }
        +interface CardSelectorSpi {
        }
        +interface SmartCardSpi {
        }
        ' REQUEST
        together {
            +interface CardSelectionRequestSpi {
                +CardSelectorSpi getCardSelector ()
                +CardRequestSpi getCardRequest ()
            }
            +interface CardRequestSpi {
                +List<ApduRequestSpi> getApduRequests ()
                +boolean stopOnUnsuccessfulStatusWord ()
            }
            +interface ApduRequestSpi {
                +String getInfo ()
                +byte[] getBytes ()
                +Set<Integer> getSuccessfulStatusWords ()
            }
        }
    }
    +interface ProxyReaderApi {
        - -
        +CardResponseApi transmitCardRequest (
        \tCardRequestSpi cardRequest,
        \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    +enum ChannelControl {
        KEEP_OPEN
        CLOSE_AFTER
    }
    ' RESPONSE
    together {
        +class "**final** CardApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardSelectionResponseApi {
            +byte[] getPowerOnData ()
            +ApduResponseApi getSelectApplicationResponse ()
            +boolean hasMatched ()

            +CardResponseApi getCardResponse ()
        }
        +interface "<<Serializable>>\nCardResponseApi" as CardResponseApi {
            +List<ApduResponseApi> getApduResponses ()
            +boolean isLogicalChannelOpen ()
        }
        +interface "<<Serializable>>\nApduResponseApi" as ApduResponseApi {
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusWord ()
        }
    }
    +abstract class "<<Exception>>\nAbstractApduException" as AbstractApduException {
        - -
        #AbstractApduException (
            \tCardResponseApi cardResponseApi,
            \tboolean isCardResponseComplete,
            \tString message)
        #AbstractApduException (
            \tCardResponseApi cardResponseApi,
            \tboolean isCardResponseComplete,
            \tString message,
            \tThrowable cause)
        ..
        +CardResponseApi getCardResponse ()
        +boolean isCardResponseComplete ()
    }
    +class ReaderBrokenCommunicationException extends AbstractApduException {
        - -
        +ReaderBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +ReaderBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
    +class CardBrokenCommunicationException extends AbstractApduException {
        - -
        +CardBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +CardBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
    +class UnexpectedStatusWordException extends AbstractApduException {
        - -
        +UnexpectedStatusWordException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +UnexpectedStatusWordException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
}

' Associations

CardSelectionSpi .left.> SmartCardSpi #C_LINK : provide >
CardSelectionSpi ..> CardSelectionRequestSpi #C_LINK : provide >
CardSelectionSpi ..> CardSelectionResponseApi #C_USE : use >

CardSelectionRequestSpi .left.> CardSelectorSpi #C_LINK : provide >
CardSelectionRequestSpi ..> CardRequestSpi #C_LINK : provide >

CardRequestSpi ..> ApduRequestSpi #C_LINK : provide >

CardSelectionResponseApi ..> ApduResponseApi #C_LINK : provide >
CardSelectionResponseApi ..> CardResponseApi #C_LINK : provide >

CardResponseApi ..> ApduResponseApi #C_LINK : provide >

AbstractApduException *-up- "0..1" CardResponseApi #C_LINK

ProxyReaderApi .left.> CardRequestSpi #C_USE : use >
ProxyReaderApi .up.> ChannelControl #C_USE : use >

ProxyReaderApi .right.> CardResponseApi #C_LINK : provide >
ProxyReaderApi ..> AbstractApduException #C_USE : throw >

' == LAYOUT ==

ApiProperties -[hidden]left- CardSelectionResponseApi
spi -[hidden]- CardSelectionResponseApi

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}

interface CardSelectionResponseApi <<purple>>
interface CardResponseApi <<purple>>
interface ApduResponseApi <<purple>>
abstract class AbstractApduException <<purple>>
class ReaderBrokenCommunicationException <<purple>>
class CardBrokenCommunicationException <<purple>>
class UnexpectedStatusWordException <<purple>>

@enduml

@startuml
title
        Calypsonet - calypsonet-terminal-card-java-api - 1.0 (03/06/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


package "org.calypsonet.terminal.card" as api {
    package spi {
        +interface CardSelectionSpi {
            +CardSelectionRequestSpi getCardSelectionRequest ()
            +SmartCardSpi parse (CardSelectionResponseApi cardSelectionResponseApi)
        }
        +interface CardSelectorSpi {
        }
        +interface SmartCardSpi {
        }
        together {
            +interface CardSelectionRequestSpi {
                +CardSelectorSpi getCardSelector ()
                +CardRequestSpi getCardRequest ()
            }
            +interface CardRequestSpi {
                +List<ApduRequestSpi> getApduRequests ()
                +boolean stopOnUnsuccessfulStatusWord ()
            }
            +interface ApduRequestSpi {
                +String getInfo ()
                +byte[] getBytes ()
                +Set<Integer> getSuccessfulStatusWords ()
            }
        }
    }
    +interface ProxyReaderApi {
        - -
        +CardResponseApi transmitCardRequest (
        \tCardRequestSpi cardRequest,
        \tChannelControl channelControl)
        ..
        +void releaseChannel ()
    }
    +enum ChannelControl {
        KEEP_OPEN
        CLOSE_AFTER
    }
    together {
        +class "**final** CardApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardSelectionResponseApi {
            +byte[] getPowerOnData ()
            +ApduResponseApi getSelectApplicationResponse ()
            +boolean hasMatched ()

            +CardResponseApi getCardResponse ()
        }
        +interface "<<Serializable>>\nCardResponseApi" as CardResponseApi {
            +List<ApduResponseApi> getApduResponses ()
            +boolean isLogicalChannelOpen ()
        }
        +interface "<<Serializable>>\nApduResponseApi" as ApduResponseApi {
            +byte[] getBytes ()
            +byte[] getDataOut ()
            +int getStatusWord ()
        }
    }
    +abstract class "<<Exception>>\nAbstractApduException" as AbstractApduException {
        - -
        #AbstractApduException (
            \tCardResponseApi cardResponseApi,
            \tboolean isCardResponseComplete,
            \tString message)
        #AbstractApduException (
            \tCardResponseApi cardResponseApi,
            \tboolean isCardResponseComplete,
            \tString message,
            \tThrowable cause)
        ..
        +CardResponseApi getCardResponse ()
        +boolean isCardResponseComplete ()
    }
    +class ReaderBrokenCommunicationException extends AbstractApduException {
        - -
        +ReaderBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +ReaderBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
    +class CardBrokenCommunicationException extends AbstractApduException {
        - -
        +CardBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +CardBrokenCommunicationException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
    +class UnexpectedStatusWordException extends AbstractApduException {
        - -
        +UnexpectedStatusWordException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message)
        +UnexpectedStatusWordException (CardResponseApi cardResponseApi
            \tboolean isCardResponseComplete, String message, Throwable cause)
    }
}


CardSelectionSpi .left.> SmartCardSpi #3498DB : provide >
CardSelectionSpi ..> CardSelectionRequestSpi #3498DB : provide >
CardSelectionSpi ..> CardSelectionResponseApi #27AE60 : use >

CardSelectionRequestSpi .left.> CardSelectorSpi #3498DB : provide >
CardSelectionRequestSpi ..> CardRequestSpi #3498DB : provide >

CardRequestSpi ..> ApduRequestSpi #3498DB : provide >

CardSelectionResponseApi ..> ApduResponseApi #3498DB : provide >
CardSelectionResponseApi ..> CardResponseApi #3498DB : provide >

CardResponseApi ..> ApduResponseApi #3498DB : provide >

AbstractApduException *-up- "0..1" CardResponseApi #3498DB

ProxyReaderApi .left.> CardRequestSpi #27AE60 : use >
ProxyReaderApi .up.> ChannelControl #27AE60 : use >

ProxyReaderApi .right.> CardResponseApi #3498DB : provide >
ProxyReaderApi ..> AbstractApduException #27AE60 : throw >


ApiProperties -[hidden]left- CardSelectionResponseApi
spi -[hidden]- CardSelectionResponseApi


package api #F8F9F9 {}
package spi #F2F3F4 {}

interface CardSelectionResponseApi <<purple>>
interface CardResponseApi <<purple>>
interface ApduResponseApi <<purple>>
abstract class AbstractApduException <<purple>>
class ReaderBrokenCommunicationException <<purple>>
class CardBrokenCommunicationException <<purple>>
class UnexpectedStatusWordException <<purple>>

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>