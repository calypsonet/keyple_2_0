<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3782.5px" preserveAspectRatio="none" style="width:2992px;height:3782px;background:#FFFFFF;" version="1.1" viewBox="0 0 2992 3782" width="2992.5px" zoomAndPan="magnify"><defs><filter height="1" id="b5wy8z39s10fr0" width="1" x="0" y="0"><feFlood flood-color="#FFFF00" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="b5wy8z39s10fr1" width="1" x="0" y="0"><feFlood flood-color="#00FFFF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1105" x="927.5" y="46.7139">Keyple 2.0 - keyple-service-java-lib - 2.0.0 (21/06/2021)</text><rect fill="#DDDDDD" height="201.0938" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:2.5;" width="720" x="1118.75" y="76.6016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" text-decoration="underline" textLength="220" x="1133.75" y="125.4346">Colors legend</text><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="10" x="1363.75" y="125.4346">:</text><ellipse cx="1147.5" cy="158.3984" fill="#000000" rx="6.25" ry="6.25" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" text-decoration="underline" textLength="472.5" x="1166.25" y="169.458">External public API references</text><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacing" textLength="10" x="1648.75" y="169.458">:</text><rect fill="#000000" height="8.75" style="stroke:#000000;stroke-width:0.0;" width="8.75" x="1186.25" y="201.1719"/><text fill="#000000" filter="url(#b5wy8z39s10fr0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="625" x="1198.75" y="213.4814">calypsonet-terminal-reader-java-api</text><rect fill="#000000" height="8.75" style="stroke:#000000;stroke-width:0.0;" width="8.75" x="1186.25" y="245.1953"/><text fill="#000000" filter="url(#b5wy8z39s10fr1)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="425" x="1198.75" y="257.5049">keyple-common-java-api</text><!--MD5=[7579d5565d2521d5936cec86ed3dadee]
cluster service--><polygon fill="#F8F9F9" points="40,315.1953,610,315.1953,627.5,374.2188,2950,374.2188,2950,3765.1953,40,3765.1953,40,315.1953" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="627.5" y1="374.2188" y2="374.2188"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="555" x="50" y="356.5283">org.eclipse.keyple.core.service</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="112.5,2635.1953,180,2635.1953,197.5,2694.2188,1720,2694.2188,1720,2920.1953,112.5,2920.1953,112.5,2635.1953" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="112.5" x2="197.5" y1="2694.2188" y2="2694.2188"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="122.5" y="2676.5283">spi</text><!--MD5=[28295972733bc8add2f44d28a858566b]
class SmartCardServiceProvider--><rect codeLine="56" fill="#FEFECE" height="154.5898" id="SmartCardServiceProvider" style="stroke:#D4AC0D;stroke-width:3.75;" width="542.5" x="1543.75" y="405.1953"/><ellipse cx="1581.25" cy="445.1953" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1586.25,436.4453 Q1586.7578,435.1953 1587.3438,434.5703 Q1587.9297,433.9453 1588.5938,433.9453 Q1589.7656,433.9453 1590.5078,434.6484 Q1591.25,435.3516 1591.25,436.9922 L1591.25,440.8984 Q1591.25,442.5391 1590.5469,443.2422 Q1589.8438,443.9453 1588.75,443.9453 Q1587.7734,443.9453 1587.1484,443.5156 Q1586.5234,443.0859 1586.25,441.9531 Q1586.1328,441.1719 1585.7031,440.7422 Q1584.9219,439.9219 1583.5156,439.4531 Q1582.1094,438.9453 1580.7031,438.9453 Q1578.9453,438.9453 1577.4609,439.6484 Q1576.0156,440.3516 1574.8828,441.9141 Q1573.75,443.4766 1573.75,445.625 L1573.75,447.9297 Q1573.75,450.5078 1575.8594,452.2266 Q1577.9688,453.9453 1581.7188,453.9453 Q1583.9453,453.9453 1585.5078,453.4375 Q1586.4063,453.1641 1587.4219,452.2656 Q1588.0859,451.7578 1588.4375,451.6016 Q1588.7891,451.4453 1589.2188,451.4453 Q1590.0391,451.4453 1590.625,452.1094 Q1591.25,452.7344 1591.25,453.6328 Q1591.25,454.4922 1590.3906,455.5078 Q1589.1406,456.9922 1587.1484,457.8125 Q1584.5313,458.9453 1581.3281,458.9453 Q1577.5781,458.9453 1574.5703,457.4609 Q1572.1484,456.2891 1570.4297,453.75 Q1568.75,451.2109 1568.75,448.2031 L1568.75,445.4688 Q1568.75,442.3438 1570.2344,439.6094 Q1571.7578,436.875 1574.375,435.4297 Q1577.0313,433.9453 1580,433.9453 Q1581.7969,433.9453 1583.3594,434.5703 Q1584.9219,435.1953 1586.25,436.4453 Z " fill="#000000"/><ellipse cx="1628.75" cy="443.9453" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1643.75" y="457.4707">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="367.5" x="1711.25" y="457.4707">SmartCardServiceProvider</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1546.25" x2="2083.75" y1="485.1953" y2="485.1953"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1546.25" x2="2083.75" y1="505.1953" y2="505.1953"/><ellipse cx="1571.25" cy="532.6953" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="385" x="1593.75" y="543.7427">SmartCardService getService ()</text><!--MD5=[bc3f57c567736ad71a70f1388d085699]
class SmartCardService--><rect codeLine="59" fill="#FEFECE" height="569.668" id="SmartCardService" style="stroke:#D4AC0D;stroke-width:3.75;" width="1722.5" x="953.75" y="755.1953"/><ellipse cx="1664.375" cy="795.1953" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1666.875,787.6953 L1666.875,802.6953 L1671.875,802.6953 L1673.0859,802.6953 L1674.375,804.2578 L1674.375,805.1953 L1674.375,806.1328 L1673.0859,807.6953 L1671.875,807.6953 L1656.875,807.6953 L1655.6641,807.6953 L1654.375,806.1328 L1654.375,805.1953 L1654.375,804.2578 L1655.6641,802.6953 L1656.875,802.6953 L1661.875,802.6953 L1661.875,787.6953 L1656.875,787.6953 L1655.6641,787.6953 L1654.375,786.1328 L1654.375,785.1953 L1654.375,784.2578 L1655.6641,782.6953 L1656.875,782.6953 L1671.875,782.6953 L1673.0859,782.6953 L1674.375,784.2578 L1674.375,785.1953 L1674.375,786.1328 L1673.0859,787.6953 L1671.875,787.6953 L1666.875,787.6953 Z " fill="#000000"/><ellipse cx="1728.125" cy="793.9453" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="252.5" x="1743.125" y="807.4707">SmartCardService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="956.25" x2="2673.75" y1="835.1953" y2="835.1953"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="956.25" x2="2673.75" y1="855.1953" y2="855.1953"/><ellipse cx="981.25" cy="882.6953" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="257.5" x="1003.75" y="893.7427">Plugin registerPlugin (</text><text fill="#000000" filter="url(#b5wy8z39s10fr1)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="1261.25" y="893.7427">KeyplePluginExtensionFactory</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="172.5" x="1631.25" y="893.7427">pluginFactory)</text><ellipse cx="981.25" cy="917.2852" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="492.5" x="1003.75" y="928.3325">void unregisterPlugin (String pluginName)</text><ellipse cx="981.25" cy="951.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="365" x="1003.75" y="962.9224">Set&lt;String&gt; getPluginNames ()</text><ellipse cx="981.25" cy="986.4648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="297.5" x="1003.75" y="997.5122">Set&lt;Plugin&gt; getPlugins ()</text><ellipse cx="981.25" cy="1021.0547" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="427.5" x="1003.75" y="1032.1021">Plugin getPlugin (String pluginName)</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="1011.25" y="1066.6919"/><ellipse cx="981.25" cy="1090.2344" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="322.5" x="1003.75" y="1101.2817">void checkCardExtension (</text><text fill="#000000" filter="url(#b5wy8z39s10fr1)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="257.5" x="1326.25" y="1101.2817">KeypleCardExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="1591.25" y="1101.2817">cardExtension)</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="1011.25" y="1135.8716"/><ellipse cx="981.25" cy="1159.4141" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="687.5" x="1003.75" y="1170.4614">DistributedLocalService registerDistributedLocalService (</text><text fill="#000000" filter="url(#b5wy8z39s10fr1)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="577.5" x="1691.25" y="1170.4614">KeypleDistributedLocalServiceExtensionFactory</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="385" x="2276.25" y="1170.4614">distributedLocalServiceFactory)</text><ellipse cx="981.25" cy="1194.0039" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="920" x="1003.75" y="1205.0513">void unregisterDistributedLocalService (String distributedLocalServiceName)</text><ellipse cx="981.25" cy="1228.5938" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1070" x="1003.75" y="1239.6411">DistributedLocalService getDistributedLocalService (String distributedLocalServiceName)</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="1011.25" y="1274.231"/><ellipse cx="981.25" cy="1297.7734" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" filter="url(#b5wy8z39s10fr0)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="272.5" x="1003.75" y="1308.8208">CardSelectionManager</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="377.5" x="1283.75" y="1308.8208">createCardSelectionManager ()</text><!--MD5=[b628511dd50102041730ee0512f882c8]
class Plugin--><rect codeLine="74" fill="#FEFECE" height="327.5391" id="Plugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="1080" x="810" y="1520.1953"/><ellipse cx="1281.875" cy="1560.1953" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1284.375,1552.6953 L1284.375,1567.6953 L1289.375,1567.6953 L1290.5859,1567.6953 L1291.875,1569.2578 L1291.875,1570.1953 L1291.875,1571.1328 L1290.5859,1572.6953 L1289.375,1572.6953 L1274.375,1572.6953 L1273.1641,1572.6953 L1271.875,1571.1328 L1271.875,1570.1953 L1271.875,1569.2578 L1273.1641,1567.6953 L1274.375,1567.6953 L1279.375,1567.6953 L1279.375,1552.6953 L1274.375,1552.6953 L1273.1641,1552.6953 L1271.875,1551.1328 L1271.875,1550.1953 L1271.875,1549.2578 L1273.1641,1547.6953 L1274.375,1547.6953 L1289.375,1547.6953 L1290.5859,1547.6953 L1291.875,1549.2578 L1291.875,1550.1953 L1291.875,1551.1328 L1290.5859,1552.6953 L1289.375,1552.6953 L1284.375,1552.6953 Z " fill="#000000"/><ellipse cx="1345.625" cy="1558.9453" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="87.5" x="1360.625" y="1572.4707">Plugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="812.5" x2="1887.5" y1="1600.1953" y2="1600.1953"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="812.5" x2="1887.5" y1="1620.1953" y2="1620.1953"/><ellipse cx="837.5" cy="1647.6953" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="860" y="1658.7427">String getName ()</text><ellipse cx="837.5" cy="1682.2852" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="860" y="1693.3325">&lt;T extends</text><text fill="#000000" filter="url(#b5wy8z39s10fr1)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="270" x="1002.5" y="1693.3325">KeyplePluginExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="602.5" x="1272.5" y="1693.3325">&gt; T getExtension (Class&lt;T&gt; pluginExtensionClass)</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="867.5" y="1727.9224"/><ellipse cx="837.5" cy="1751.4648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="382.5" x="860" y="1762.5122">Set&lt;String&gt; getReaderNames ()</text><ellipse cx="837.5" cy="1786.0547" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="332.5" x="860" y="1797.1021">Set&lt;Reader&gt; getReaders ()</text><ellipse cx="837.5" cy="1820.6445" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="472.5" x="860" y="1831.6919">Reader getReader (String readerName)</text><!--MD5=[f7984cadeded08cae48982a67518e715]
class DistributedLocalService--><rect codeLine="82" fill="#FEFECE" height="223.7695" id="DistributedLocalService" style="stroke:#D4AC0D;stroke-width:3.75;" width="910" x="1977.5" y="1571.4453"/><ellipse cx="2244.375" cy="1611.4453" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2246.875,1603.9453 L2246.875,1618.9453 L2251.875,1618.9453 L2253.0859,1618.9453 L2254.375,1620.5078 L2254.375,1621.4453 L2254.375,1622.3828 L2253.0859,1623.9453 L2251.875,1623.9453 L2236.875,1623.9453 L2235.6641,1623.9453 L2234.375,1622.3828 L2234.375,1621.4453 L2234.375,1620.5078 L2235.6641,1618.9453 L2236.875,1618.9453 L2241.875,1618.9453 L2241.875,1603.9453 L2236.875,1603.9453 L2235.6641,1603.9453 L2234.375,1602.3828 L2234.375,1601.4453 L2234.375,1600.5078 L2235.6641,1598.9453 L2236.875,1598.9453 L2251.875,1598.9453 L2253.0859,1598.9453 L2254.375,1600.5078 L2254.375,1601.4453 L2254.375,1602.3828 L2253.0859,1603.9453 L2251.875,1603.9453 L2246.875,1603.9453 Z " fill="#000000"/><ellipse cx="2308.125" cy="1610.1953" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="327.5" x="2323.125" y="1623.7207">DistributedLocalService</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1980" x2="2885" y1="1651.4453" y2="1651.4453"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1980" x2="2885" y1="1671.4453" y2="1671.4453"/><ellipse cx="2005" cy="1698.9453" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2027.5" y="1709.9927">String getName ()</text><ellipse cx="2005" cy="1733.5352" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="2027.5" y="1744.5825">&lt;T extends</text><text fill="#000000" filter="url(#b5wy8z39s10fr1)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="2170" y="1744.5825">KeypleDistributedLocalServiceExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="217.5" x="2655" y="1744.5825">&gt; T getExtension (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="597.5" x="2087.5" y="1779.1724">Class&lt;T&gt; distributedLocalServiceExtensionClass)</text><!--MD5=[1fa9a61019755e60a0cb03f0bc3590aa]
class ObservablePlugin--><rect codeLine="87" fill="#FEFECE" height="431.3086" id="ObservablePlugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="817.5" x="81.25" y="2042.6953"/><ellipse cx="340.625" cy="2082.6953" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M343.125,2075.1953 L343.125,2090.1953 L348.125,2090.1953 L349.3359,2090.1953 L350.625,2091.7578 L350.625,2092.6953 L350.625,2093.6328 L349.3359,2095.1953 L348.125,2095.1953 L333.125,2095.1953 L331.9141,2095.1953 L330.625,2093.6328 L330.625,2092.6953 L330.625,2091.7578 L331.9141,2090.1953 L333.125,2090.1953 L338.125,2090.1953 L338.125,2075.1953 L333.125,2075.1953 L331.9141,2075.1953 L330.625,2073.6328 L330.625,2072.6953 L330.625,2071.7578 L331.9141,2070.1953 L333.125,2070.1953 L348.125,2070.1953 L349.3359,2070.1953 L350.625,2071.7578 L350.625,2072.6953 L350.625,2073.6328 L349.3359,2075.1953 L348.125,2075.1953 L343.125,2075.1953 Z " fill="#000000"/><ellipse cx="404.375" cy="2081.4453" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="250" x="419.375" y="2094.9707">ObservablePlugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="83.75" x2="896.25" y1="2122.6953" y2="2122.6953"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="83.75" x2="896.25" y1="2142.6953" y2="2142.6953"/><ellipse cx="108.75" cy="2170.1953" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="512.5" x="131.25" y="2181.2427">void setEventNotificationExecutorService (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="617.5" x="191.25" y="2215.8325">ExecutorService eventNotificationExecutorService)</text><ellipse cx="108.75" cy="2239.375" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="540" x="131.25" y="2250.4224">void setPluginObservationExceptionHandler (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="692.5" x="191.25" y="2285.0122">PluginObservationExceptionHandlerSpi exceptionHandler)</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="138.75" y="2319.6021"/><ellipse cx="108.75" cy="2343.1445" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="585" x="131.25" y="2354.1919">void addObserver (PluginObserverSpi observer)</text><ellipse cx="108.75" cy="2377.7344" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="630" x="131.25" y="2388.7817">void removeObserver (PluginObserverSpi observer)</text><ellipse cx="108.75" cy="2412.3242" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="131.25" y="2423.3716">void clearObservers ()</text><ellipse cx="108.75" cy="2446.9141" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="131.25" y="2457.9614">int countObservers ()</text><!--MD5=[c8cbac6d6d9e600bce6d5400427f5af6]
class PoolPlugin--><rect codeLine="98" fill="#FEFECE" height="258.3594" id="PoolPlugin" style="stroke:#D4AC0D;stroke-width:3.75;" width="727.5" x="986.25" y="2130.1953"/><ellipse cx="1250.625" cy="2170.1953" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1253.125,2162.6953 L1253.125,2177.6953 L1258.125,2177.6953 L1259.3359,2177.6953 L1260.625,2179.2578 L1260.625,2180.1953 L1260.625,2181.1328 L1259.3359,2182.6953 L1258.125,2182.6953 L1243.125,2182.6953 L1241.9141,2182.6953 L1240.625,2181.1328 L1240.625,2180.1953 L1240.625,2179.2578 L1241.9141,2177.6953 L1243.125,2177.6953 L1248.125,2177.6953 L1248.125,2162.6953 L1243.125,2162.6953 L1241.9141,2162.6953 L1240.625,2161.1328 L1240.625,2160.1953 L1240.625,2159.2578 L1241.9141,2157.6953 L1243.125,2157.6953 L1258.125,2157.6953 L1259.3359,2157.6953 L1260.625,2159.2578 L1260.625,2160.1953 L1260.625,2161.1328 L1259.3359,2162.6953 L1258.125,2162.6953 L1253.125,2162.6953 Z " fill="#000000"/><ellipse cx="1314.375" cy="2168.9453" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="1329.375" y="2182.4707">PoolPlugin</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="988.75" x2="1711.25" y1="2210.1953" y2="2210.1953"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="988.75" x2="1711.25" y1="2230.1953" y2="2230.1953"/><ellipse cx="1013.75" cy="2257.6953" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="597.5" x="1036.25" y="2268.7427">SortedSet&lt;String&gt; getReaderGroupReferences ()</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="1043.75" y="2303.3325"/><ellipse cx="1013.75" cy="2326.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="662.5" x="1036.25" y="2337.9224">Reader allocateReader (String readerGroupReference)</text><ellipse cx="1013.75" cy="2361.4648" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="437.5" x="1036.25" y="2372.5122">void releaseReader (Reader reader)</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect codeLine="104" fill="#FEFECE" height="175.0586" id="Reader" style="stroke:#D4AC0D;stroke-width:3.75;" width="1107.5" x="1801.25" y="2171.4453"/><ellipse cx="2210.625" cy="2221.6797" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2213.125,2214.1797 L2213.125,2229.1797 L2218.125,2229.1797 L2219.3359,2229.1797 L2220.625,2230.7422 L2220.625,2231.6797 L2220.625,2232.6172 L2219.3359,2234.1797 L2218.125,2234.1797 L2203.125,2234.1797 L2201.9141,2234.1797 L2200.625,2232.6172 L2200.625,2231.6797 L2200.625,2230.7422 L2201.9141,2229.1797 L2203.125,2229.1797 L2208.125,2229.1797 L2208.125,2214.1797 L2203.125,2214.1797 L2201.9141,2214.1797 L2200.625,2212.6172 L2200.625,2211.6797 L2200.625,2210.7422 L2201.9141,2209.1797 L2203.125,2209.1797 L2218.125,2209.1797 L2219.3359,2209.1797 L2220.625,2210.7422 L2220.625,2211.6797 L2220.625,2212.6172 L2219.3359,2214.1797 L2218.125,2214.1797 L2213.125,2214.1797 Z " fill="#000000"/><ellipse cx="2274.375" cy="2220.4297" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2289.375" y="2215.0879">&lt;&lt;</text><text fill="#000000" filter="url(#b5wy8z39s10fr0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="170" x="2324.375" y="2215.0879">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2494.375" y="2215.0879">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="102.5" x="2358.125" y="2252.8223">Reader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1803.75" x2="2906.25" y1="2271.9141" y2="2271.9141"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1803.75" x2="2906.25" y1="2291.9141" y2="2291.9141"/><ellipse cx="1828.75" cy="2319.4141" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="135" x="1851.25" y="2330.4614">&lt;T extends</text><text fill="#000000" filter="url(#b5wy8z39s10fr1)" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="287.5" x="1993.75" y="2330.4614">KeypleReaderExtension</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="612.5" x="2281.25" y="2330.4614">&gt; T getExtension (Class&lt;T&gt; readerExtensionClass)</text><!--MD5=[e2341a3d5316e117132fc49473ae3219]
class ObservableReader--><rect codeLine="107" fill="#FEFECE" height="140.4688" id="ObservableReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="510" x="2100" y="2732.6953"/><ellipse cx="2137.5" cy="2782.9297" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2140,2775.4297 L2140,2790.4297 L2145,2790.4297 L2146.2109,2790.4297 L2147.5,2791.9922 L2147.5,2792.9297 L2147.5,2793.8672 L2146.2109,2795.4297 L2145,2795.4297 L2130,2795.4297 L2128.7891,2795.4297 L2127.5,2793.8672 L2127.5,2792.9297 L2127.5,2791.9922 L2128.7891,2790.4297 L2130,2790.4297 L2135,2790.4297 L2135,2775.4297 L2130,2775.4297 L2128.7891,2775.4297 L2127.5,2773.8672 L2127.5,2772.9297 L2127.5,2771.9922 L2128.7891,2770.4297 L2130,2770.4297 L2145,2770.4297 L2146.2109,2770.4297 L2147.5,2771.9922 L2147.5,2772.9297 L2147.5,2773.8672 L2146.2109,2775.4297 L2145,2775.4297 L2140,2775.4297 Z " fill="#000000"/><ellipse cx="2185" cy="2781.6797" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2200" y="2776.3379">&lt;&lt;</text><text fill="#000000" filter="url(#b5wy8z39s10fr0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="332.5" x="2235" y="2776.3379">ObservableCardReader</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2567.5" y="2776.3379">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="265" x="2268.75" y="2814.0723">ObservableReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2102.5" x2="2607.5" y1="2833.1641" y2="2833.1641"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2102.5" x2="2607.5" y1="2853.1641" y2="2853.1641"/><!--MD5=[9a5f54023274c57ee24edb1ade6872b1]
class ReaderEvent--><rect codeLine="119" fill="#FEFECE" height="175.0586" id="ReaderEvent" style="stroke:#D4AC0D;stroke-width:3.75;" width="425" x="2142.5" y="3105.1953"/><ellipse cx="2180" cy="3155.4297" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2182.5,3147.9297 L2182.5,3162.9297 L2187.5,3162.9297 L2188.7109,3162.9297 L2190,3164.4922 L2190,3165.4297 L2190,3166.3672 L2188.7109,3167.9297 L2187.5,3167.9297 L2172.5,3167.9297 L2171.2891,3167.9297 L2170,3166.3672 L2170,3165.4297 L2170,3164.4922 L2171.2891,3162.9297 L2172.5,3162.9297 L2177.5,3162.9297 L2177.5,3147.9297 L2172.5,3147.9297 L2171.2891,3147.9297 L2170,3146.3672 L2170,3145.4297 L2170,3144.4922 L2171.2891,3142.9297 L2172.5,3142.9297 L2187.5,3142.9297 L2188.7109,3142.9297 L2190,3144.4922 L2190,3145.4297 L2190,3146.3672 L2188.7109,3147.9297 L2187.5,3147.9297 L2182.5,3147.9297 Z " fill="#000000"/><ellipse cx="2227.5" cy="3154.1797" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2242.5" y="3148.8379">&lt;&lt;</text><text fill="#000000" filter="url(#b5wy8z39s10fr0)" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="247.5" x="2277.5" y="3148.8379">CardReaderEvent</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="35" x="2525" y="3148.8379">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="180" x="2311.25" y="3186.5723">ReaderEvent</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2145" x2="2565" y1="3205.6641" y2="3205.6641"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2145" x2="2565" y1="3225.6641" y2="3225.6641"/><ellipse cx="2170" cy="3253.1641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="280" x="2192.5" y="3264.2114">String getPluginName ()</text><!--MD5=[df72700ac22eeb6165072f159208e08c]
class PluginEvent--><rect codeLine="122" fill="#FEFECE" height="223.7695" id="PluginEvent" style="stroke:#D4AC0D;stroke-width:3.75;" width="527.5" x="188.75" y="3080.1953"/><ellipse cx="345.625" cy="3120.1953" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M348.125,3112.6953 L348.125,3127.6953 L353.125,3127.6953 L354.3359,3127.6953 L355.625,3129.2578 L355.625,3130.1953 L355.625,3131.1328 L354.3359,3132.6953 L353.125,3132.6953 L338.125,3132.6953 L336.9141,3132.6953 L335.625,3131.1328 L335.625,3130.1953 L335.625,3129.2578 L336.9141,3127.6953 L338.125,3127.6953 L343.125,3127.6953 L343.125,3112.6953 L338.125,3112.6953 L336.9141,3112.6953 L335.625,3111.1328 L335.625,3110.1953 L335.625,3109.2578 L336.9141,3107.6953 L338.125,3107.6953 L353.125,3107.6953 L354.3359,3107.6953 L355.625,3109.2578 L355.625,3110.1953 L355.625,3111.1328 L354.3359,3112.6953 L353.125,3112.6953 L348.125,3112.6953 Z " fill="#000000"/><ellipse cx="409.375" cy="3118.9453" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="165" x="424.375" y="3132.4707">PluginEvent</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="191.25" x2="713.75" y1="3160.1953" y2="3160.1953"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="191.25" x2="713.75" y1="3180.1953" y2="3180.1953"/><ellipse cx="216.25" cy="3207.6953" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="280" x="238.75" y="3218.7427">String getPluginName ()</text><ellipse cx="216.25" cy="3242.2852" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="462.5" x="238.75" y="3253.3325">SortedSet&lt;String&gt; getReaderNames ()</text><ellipse cx="216.25" cy="3276.875" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="192.5" x="238.75" y="3287.9224">Type getType ()</text><!--MD5=[615672f8f9e7dc1c0373737ea5be9f3b]
class PluginEventType--><rect codeLine="127" fill="#FEFECE" height="223.7695" id="PluginEventType" style="stroke:#D4AC0D;stroke-width:3.75;" width="340" x="285" y="3500.1953"/><ellipse cx="396.875" cy="3540.1953" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M393.125,3542.6953 L393.125,3547.6953 L403.125,3547.6953 L403.125,3545.1953 L403.125,3543.9844 L404.6875,3542.6953 L405.625,3542.6953 L406.5625,3542.6953 L408.125,3543.9844 L408.125,3545.1953 L408.125,3552.6953 L388.125,3552.6953 L386.9141,3552.6953 L385.625,3551.1328 L385.625,3550.1953 L385.625,3549.2578 L386.9141,3547.6953 L388.125,3547.6953 L388.125,3547.6953 L388.125,3532.6953 L388.125,3532.6953 L386.9141,3532.6953 L385.625,3531.1328 L385.625,3530.1953 L385.625,3529.2578 L386.9141,3527.6953 L388.125,3527.6953 L408.125,3527.6953 L408.125,3535.1953 L408.125,3536.4063 L406.5625,3537.6953 L405.625,3537.6953 L404.6875,3537.6953 L403.125,3536.4063 L403.125,3535.1953 L403.125,3532.6953 L393.125,3532.6953 L393.125,3537.6953 L395.625,3537.6953 L395.625,3536.4844 L395.625,3536.4844 L397.1875,3535.1953 L398.125,3535.1953 L399.0625,3535.1953 L400.625,3536.4844 L400.625,3537.6953 L400.625,3542.6953 L400.625,3543.9063 L399.0625,3545.1953 L399.0625,3545.1953 L398.125,3545.1953 L397.1875,3545.1953 L395.625,3543.9063 L395.625,3543.9063 L395.625,3542.6953 L393.125,3542.6953 Z " fill="#000000"/><ellipse cx="460.625" cy="3538.9453" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="67.5" x="475.625" y="3552.4707">Type</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="287.5" x2="622.5" y1="3580.1953" y2="3580.1953"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="270" x="300" y="3618.7427">READER_CONNECTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="310" x="300" y="3653.3325">READER_DISCONNECTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="300" y="3687.9224">UNAVAILABLE</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="287.5" x2="622.5" y1="3703.9648" y2="3703.9648"/><!--MD5=[e28c18b0b47d723f04b587528ac0b111]
class KeyplePluginException--><rect codeLine="133" fill="#FEFECE" height="209.6484" id="KeyplePluginException" style="stroke:#D4AC0D;stroke-width:3.75;" width="777.5" x="1966.25" y="3507.6953"/><ellipse cx="2169.375" cy="3557.9297" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2174.375,3549.1797 Q2174.8828,3547.9297 2175.4688,3547.3047 Q2176.0547,3546.6797 2176.7188,3546.6797 Q2177.8906,3546.6797 2178.6328,3547.3828 Q2179.375,3548.0859 2179.375,3549.7266 L2179.375,3553.6328 Q2179.375,3555.2734 2178.6719,3555.9766 Q2177.9688,3556.6797 2176.875,3556.6797 Q2175.8984,3556.6797 2175.2734,3556.25 Q2174.6484,3555.8203 2174.375,3554.6875 Q2174.2578,3553.9063 2173.8281,3553.4766 Q2173.0469,3552.6563 2171.6406,3552.1875 Q2170.2344,3551.6797 2168.8281,3551.6797 Q2167.0703,3551.6797 2165.5859,3552.3828 Q2164.1406,3553.0859 2163.0078,3554.6484 Q2161.875,3556.2109 2161.875,3558.3594 L2161.875,3560.6641 Q2161.875,3563.2422 2163.9844,3564.9609 Q2166.0938,3566.6797 2169.8438,3566.6797 Q2172.0703,3566.6797 2173.6328,3566.1719 Q2174.5313,3565.8984 2175.5469,3565 Q2176.2109,3564.4922 2176.5625,3564.3359 Q2176.9141,3564.1797 2177.3438,3564.1797 Q2178.1641,3564.1797 2178.75,3564.8438 Q2179.375,3565.4688 2179.375,3566.3672 Q2179.375,3567.2266 2178.5156,3568.2422 Q2177.2656,3569.7266 2175.2734,3570.5469 Q2172.6563,3571.6797 2169.4531,3571.6797 Q2165.7031,3571.6797 2162.6953,3570.1953 Q2160.2734,3569.0234 2158.5547,3566.4844 Q2156.875,3563.9453 2156.875,3560.9375 L2156.875,3558.2031 Q2156.875,3555.0781 2158.3594,3552.3438 Q2159.8828,3549.6094 2162.5,3548.1641 Q2165.1563,3546.6797 2168.125,3546.6797 Q2169.9219,3546.6797 2171.4844,3547.3047 Q2173.0469,3547.9297 2174.375,3549.1797 Z " fill="#000000"/><ellipse cx="2233.125" cy="3556.6797" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="2248.125" y="3551.3379">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="317.5" x="2250.625" y="3589.0723">KeyplePluginException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1968.75" x2="2741.25" y1="3608.1641" y2="3608.1641"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1968.75" x2="2741.25" y1="3628.1641" y2="3628.1641"/><ellipse cx="1993.75" cy="3655.6641" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="485" x="2016.25" y="3666.7114">KeyplePluginException (String message)</text><ellipse cx="1993.75" cy="3690.2539" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="712.5" x="2016.25" y="3701.3013">KeyplePluginException (String message, Throwable cause)</text><!--MD5=[bb05bfd1c5059058d457654d4573d9ac]
class PluginObserverSpi--><rect codeLine="111" fill="#FEFECE" height="154.5898" id="PluginObserverSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="600" x="152.5" y="2725.1953"/><ellipse cx="298.125" cy="2765.1953" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M300.625,2757.6953 L300.625,2772.6953 L305.625,2772.6953 L306.8359,2772.6953 L308.125,2774.2578 L308.125,2775.1953 L308.125,2776.1328 L306.8359,2777.6953 L305.625,2777.6953 L290.625,2777.6953 L289.4141,2777.6953 L288.125,2776.1328 L288.125,2775.1953 L288.125,2774.2578 L289.4141,2772.6953 L290.625,2772.6953 L295.625,2772.6953 L295.625,2757.6953 L290.625,2757.6953 L289.4141,2757.6953 L288.125,2756.1328 L288.125,2755.1953 L288.125,2754.2578 L289.4141,2752.6953 L290.625,2752.6953 L305.625,2752.6953 L306.8359,2752.6953 L308.125,2754.2578 L308.125,2755.1953 L308.125,2756.1328 L306.8359,2757.6953 L305.625,2757.6953 L300.625,2757.6953 Z " fill="#000000"/><ellipse cx="361.875" cy="2763.9453" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="260" x="376.875" y="2777.4707">PluginObserverSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="155" x2="750" y1="2805.1953" y2="2805.1953"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="155" x2="750" y1="2825.1953" y2="2825.1953"/><ellipse cx="180" cy="2852.6953" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="535" x="202.5" y="2863.7427">void onPluginEvent (PluginEvent pluginEvent)</text><!--MD5=[f9fcd30113853d8738bc1c3769de9355]
class PluginObservationExceptionHandlerSpi--><rect codeLine="114" fill="#FEFECE" height="154.5898" id="PluginObservationExceptionHandlerSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="840" x="840" y="2725.1953"/><ellipse cx="963.125" cy="2765.1953" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M965.625,2757.6953 L965.625,2772.6953 L970.625,2772.6953 L971.8359,2772.6953 L973.125,2774.2578 L973.125,2775.1953 L973.125,2776.1328 L971.8359,2777.6953 L970.625,2777.6953 L955.625,2777.6953 L954.4141,2777.6953 L953.125,2776.1328 L953.125,2775.1953 L953.125,2774.2578 L954.4141,2772.6953 L955.625,2772.6953 L960.625,2772.6953 L960.625,2757.6953 L955.625,2757.6953 L954.4141,2757.6953 L953.125,2756.1328 L953.125,2755.1953 L953.125,2754.2578 L954.4141,2752.6953 L955.625,2752.6953 L970.625,2752.6953 L971.8359,2752.6953 L973.125,2754.2578 L973.125,2755.1953 L973.125,2756.1328 L971.8359,2757.6953 L970.625,2757.6953 L965.625,2757.6953 Z " fill="#000000"/><ellipse cx="1026.875" cy="2763.9453" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="545" x="1041.875" y="2777.4707">PluginObservationExceptionHandlerSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="842.5" x2="1677.5" y1="2805.1953" y2="2805.1953"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="842.5" x2="1677.5" y1="2825.1953" y2="2825.1953"/><ellipse cx="867.5" cy="2852.6953" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="775" x="890" y="2863.7427">void onPluginObservationError (String pluginName, Throwable e)</text><!--MD5=[550a12816f88094ca7e979a72eedae9c]
reverse link Plugin to ObservablePlugin--><path d="M1063.3275,1876.4478 C982.95,1929.7228 895.0275,1987.9978 812.7075,2042.5578 " fill="none" id="Plugin-backto-ObservablePlugin" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1054.515,1861.2953,1105.86,1848.2603,1073.85,1890.4703,1054.515,1861.2953" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[2219806bdc996f946b60beec9aa5725f]
reverse link Plugin to PoolPlugin--><path d="M1350,1899.1178 C1350,1976.6453 1350,2061.8178 1350,2129.5578 " fill="none" id="Plugin-backto-PoolPlugin" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="1332.5,1898.2603,1350,1848.2603,1367.5,1898.2603,1332.5,1898.2603" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[495ccb80ac82bdc45a1b0288016f2c00]
reverse link Reader to ObservableReader--><path d="M2355,2397.2853 C2355,2504.1428 2355,2648.5303 2355,2732.2853 " fill="none" id="Reader-backto-ObservableReader" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="2337.5,2396.8128,2355,2346.8128,2372.5,2396.8128,2337.5,2396.8128" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[5cdd6db3f87ea720c4af6714bfe3a64b]
link SmartCardServiceProvider to SmartCardService--><path codeLine="142" d="M1815,560.8703 C1815,608.9953 1815,674.7453 1815,742.0453 " fill="none" id="SmartCardServiceProvider-to-SmartCardService" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1815,754.6453,1825,732.1453,1815,742.1453,1805,732.1453,1815,754.6453" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="1827.5,670.6348,1834.8473,648.0221,1820.1527,648.0221,1827.5,670.6348" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1850" y="671.4331">provide</text><!--MD5=[230717490673261be3b1e9de94e2929c]
link SmartCardService to Plugin--><path codeLine="144" d="M1609.0125,1325.6503 C1563.5025,1388.1653 1516.62,1452.5653 1475.4625,1509.1028 " fill="none" id="SmartCardService-to-Plugin" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1467.845,1519.5678,1489.1714,1507.2619,1475.2014,1509.4617,1473.0016,1495.4917,1467.845,1519.5678" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="1557.6432,1433.2406,1576.8918,1419.2832,1565.0118,1410.6348,1557.6432,1433.2406" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1587.5" y="1436.4331">provide</text><!--MD5=[f48b7937c7540434699c851cdd554ad5]
link SmartCardService to DistributedLocalService--><path codeLine="145" d="M2088.54,1325.6503 C2168.485,1408.3453 2251.62,1494.3403 2316.1275,1561.0678 " fill="none" id="SmartCardService-to-DistributedLocalService" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2325.5075,1570.7703,2317.0599,1547.6427,2316.8199,1561.7828,2302.6798,1561.5428,2325.5075,1570.7703" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="2216.1881,1432.1218,2205.7536,1410.7574,2195.1887,1420.9709,2216.1881,1432.1218" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2230" y="1436.4331">provide</text><!--MD5=[dbf27993ab668861900a3380d05f6dc2]
reverse link PluginEvent to PluginEventType--><path codeLine="147" d="M416.4925,3343.4253 C413.2775,3370.5553 412.165,3398.6728 415,3425.1953 C417.585,3449.3753 422.0175,3475.0328 427.0125,3499.2953 " fill="none" id="PluginEvent-backto-PluginEventType" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="419.2071" cy="3325.7658" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="416.1693" x2="422.245" y1="3345.5337" y2="3305.9978"/><line style="stroke:#A80036;stroke-width:2.5;" x1="399.4392" x2="438.9751" y1="3322.7279" y2="3328.8036"/><!--MD5=[a3bdeda43de7112adffede22a7220b58]
link PluginEvent to PluginEventType--><path codeLine="148" d="M453.1625,3305.3178 C453.5,3361.1303 453.91,3429.0953 454.255,3486.6803 " fill="none" id="PluginEvent-to-PluginEventType" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="454.3325,3499.5578,464.1973,3476.9982,454.2575,3487.058,444.1977,3477.1182,454.3325,3499.5578" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="467.5753,3415.6345,474.7863,3392.978,460.0919,3393.0665,467.5753,3415.6345" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="490" y="3416.4331">provide</text><!--MD5=[8b513e08943f8bfe5c241563ffc49ec0]
link Plugin to Reader--><path codeLine="150" d="M1634.6325,1847.8803 C1815.3575,1950.3803 2042.7075,2079.3228 2193.1225,2164.6328 " fill="none" id="Plugin-to-Reader" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2204.72,2171.2103,2190.082,2151.4118,2193.847,2165.0436,2180.2153,2168.8086,2204.72,2171.2103" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="1843.373,1951.8015,1827.3283,1934.2548,1820.0789,1947.0368,1843.373,1951.8015" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1855" y="1958.9331">provide</text><!--MD5=[06097ac9a1874e227666b9f6d6984d89]
link ObservablePlugin to PluginObserverSpi--><path codeLine="152" d="M475.0725,2475.9228 C469.35,2558.1078 463.135,2647.4128 458.6775,2711.4553 " fill="none" id="ObservablePlugin-to-PluginObserverSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="457.7525,2724.7253,469.2908,2702.974,458.6205,2712.2555,449.339,2701.5852,457.7525,2724.7253" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="479.132,2585.6046,488.0318,2563.5567,473.3726,2562.5363,479.132,2585.6046" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="502.5" y="2586.4331">use</text><!--MD5=[a4e3f5334d7819c77690e9f437f50f0d]
link ObservablePlugin to PluginObservationExceptionHandlerSpi--><path codeLine="153" d="M796.5375,2475.9228 C917.44,2560.5153 1049.1225,2652.6503 1141.1175,2717.0153 " fill="none" id="ObservablePlugin-to-PluginObservationExceptionHandlerSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1152.1375,2724.7253,1139.4315,2703.6348,1141.8944,2717.5609,1127.9684,2720.0238,1152.1375,2724.7253" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="987.742,2580.3008,973.4261,2561.3173,965.002,2573.3574,987.742,2580.3008" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1000" y="2586.4331">use</text><!--MD5=[20506b77ae2afba69d710e66d82eebdc]
link PluginObserverSpi to PluginEvent--><path codeLine="155" d="M452.5,2880.3403 C452.5,2933.2553 452.5,3005.2978 452.5,3066.6003 " fill="none" id="PluginObserverSpi-to-PluginEvent" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="452.5,3079.5103,462.5,3057.0103,452.5,3067.0103,442.5,3057.0103,452.5,3079.5103" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="465,2995.6348,472.3473,2973.0221,457.6527,2973.0221,465,2995.6348" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="487.5" y="2996.4331">use</text><!--MD5=[c0f89b2aed0b76ce749560a9f695051c]
link ObservableReader to ReaderEvent--><!--MD5=[4a25b8a08adb3b34002f8b527adaec44]
link ReaderEvent to KeyplePluginException--><!--MD5=[e63e900dcc140a6b10e52e4ec06f6679]
@startuml
title
    Keyple 2.0 - keyple-service-java-lib - 2.0.0 (21/06/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
    ** <back:cyan>**keyple-common-java-api**</back>
end legend

package "org.eclipse.keyple.core.service" as service {
    ' SERVICE
    +class "**final** SmartCardServiceProvider" as SmartCardServiceProvider {
        +{static} SmartCardService getService ()
    }
    +interface SmartCardService {
        +Plugin registerPlugin (<back:cyan>KeyplePluginExtensionFactory</back> pluginFactory)
        +void unregisterPlugin (String pluginName)
        +Set<String> getPluginNames ()
        +Set<Plugin> getPlugins ()
        +Plugin getPlugin (String pluginName)

        +void checkCardExtension (<back:cyan>KeypleCardExtension</back> cardExtension)

        +DistributedLocalService registerDistributedLocalService (<back:cyan>KeypleDistributedLocalServiceExtensionFactory</back> distributedLocalServiceFactory)
        +void unregisterDistributedLocalService (String distributedLocalServiceName)
        +DistributedLocalService getDistributedLocalService (String distributedLocalServiceName)

        +<back:yellow>CardSelectionManager</back> createCardSelectionManager ()
    }
    +interface Plugin {
        +String getName ()
        +<T extends <back:cyan>KeyplePluginExtension</back>> T getExtension (Class<T> pluginExtensionClass)

        +Set<String> getReaderNames ()
        +Set<Reader> getReaders ()
        +Reader getReader (String readerName)
    }
    +interface DistributedLocalService {
        +String getName ()
        +<T extends <back:cyan>KeypleDistributedLocalServiceExtension</back>> T getExtension (
            \tClass<T> distributedLocalServiceExtensionClass)
    }
    +interface ObservablePlugin extends Plugin {
        +void setEventNotificationExecutorService (
            \tExecutorService eventNotificationExecutorService)
        +void setPluginObservationExceptionHandler (
            \tPluginObservationExceptionHandlerSpi exceptionHandler)

        +void addObserver (PluginObserverSpi observer)
        +void removeObserver (PluginObserverSpi observer)
        +void clearObservers ()
        +int countObservers ()
    }
    +interface PoolPlugin extends Plugin {
        +SortedSet<String> getReaderGroupReferences ()

        +Reader allocateReader (String readerGroupReference)
        +void releaseReader (Reader reader)
    }
    +interface "<<<back:yellow>CardReader</back>>>\nReader" as Reader {
        +<T extends <back:cyan>KeypleReaderExtension</back>> T getExtension (Class<T> readerExtensionClass)
    }
    +interface "<<<back:yellow>ObservableCardReader</back>>>\nObservableReader" as ObservableReader extends Reader {
    }
    ' SPI
    package spi {
        +interface PluginObserverSpi {
            +void onPluginEvent (PluginEvent pluginEvent)
        }
        +interface PluginObservationExceptionHandlerSpi {
            +void onPluginObservationError (String pluginName, Throwable e)
        }
    }

    +interface "<<<back:yellow>CardReaderEvent</back>>>\nReaderEvent" as ReaderEvent {
        +String getPluginName ()
    }
    +interface PluginEvent {
        +String getPluginName ()
        +SortedSet<String> getReaderNames ()
        +Type getType ()
    }
    +enum "Type" as PluginEventType {
        READER_CONNECTED
        READER_DISCONNECTED
        UNAVAILABLE
    }
    ' EXCEPTIONS
    +class "<<RuntimeException>>\nKeyplePluginException" as KeyplePluginException {
        +KeyplePluginException (String message)
        +KeyplePluginException (String message, Throwable cause)
    }
}

' Associations
'LocalServiceClient ..> RemoteServiceParameters #C_USE : use >

SmartCardServiceProvider ..> SmartCardService #C_LINK : provide >

SmartCardService ..> Plugin #C_LINK : provide >
SmartCardService ..> DistributedLocalService #C_LINK : provide >

PluginEvent +- - PluginEventType
PluginEvent ..> PluginEventType #C_LINK : provide >

Plugin ..> Reader #C_LINK : provide >

ObservablePlugin ..> PluginObserverSpi #C_USE : use >
ObservablePlugin ..> PluginObservationExceptionHandlerSpi #C_USE : use >

PluginObserverSpi ..> PluginEvent #C_USE : use >

' == LAYOUT ==

ObservableReader -[hidden]- ReaderEvent
ReaderEvent -[hidden]- KeyplePluginException

' == STYLE ==

package service #C_GREY1 {}
package spi #C_GREY2 {}

@enduml

@startuml
title
    Keyple 2.0 - keyple-service-java-lib - 2.0.0 (21/06/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
    ** <back:cyan>**keyple-common-java-api**</back>
end legend

package "org.eclipse.keyple.core.service" as service {
    +class "**final** SmartCardServiceProvider" as SmartCardServiceProvider {
        +{static} SmartCardService getService ()
    }
    +interface SmartCardService {
        +Plugin registerPlugin (<back:cyan>KeyplePluginExtensionFactory</back> pluginFactory)
        +void unregisterPlugin (String pluginName)
        +Set<String> getPluginNames ()
        +Set<Plugin> getPlugins ()
        +Plugin getPlugin (String pluginName)

        +void checkCardExtension (<back:cyan>KeypleCardExtension</back> cardExtension)

        +DistributedLocalService registerDistributedLocalService (<back:cyan>KeypleDistributedLocalServiceExtensionFactory</back> distributedLocalServiceFactory)
        +void unregisterDistributedLocalService (String distributedLocalServiceName)
        +DistributedLocalService getDistributedLocalService (String distributedLocalServiceName)

        +<back:yellow>CardSelectionManager</back> createCardSelectionManager ()
    }
    +interface Plugin {
        +String getName ()
        +<T extends <back:cyan>KeyplePluginExtension</back>> T getExtension (Class<T> pluginExtensionClass)

        +Set<String> getReaderNames ()
        +Set<Reader> getReaders ()
        +Reader getReader (String readerName)
    }
    +interface DistributedLocalService {
        +String getName ()
        +<T extends <back:cyan>KeypleDistributedLocalServiceExtension</back>> T getExtension (
            \tClass<T> distributedLocalServiceExtensionClass)
    }
    +interface ObservablePlugin extends Plugin {
        +void setEventNotificationExecutorService (
            \tExecutorService eventNotificationExecutorService)
        +void setPluginObservationExceptionHandler (
            \tPluginObservationExceptionHandlerSpi exceptionHandler)

        +void addObserver (PluginObserverSpi observer)
        +void removeObserver (PluginObserverSpi observer)
        +void clearObservers ()
        +int countObservers ()
    }
    +interface PoolPlugin extends Plugin {
        +SortedSet<String> getReaderGroupReferences ()

        +Reader allocateReader (String readerGroupReference)
        +void releaseReader (Reader reader)
    }
    +interface "<<<back:yellow>CardReader</back>>>\nReader" as Reader {
        +<T extends <back:cyan>KeypleReaderExtension</back>> T getExtension (Class<T> readerExtensionClass)
    }
    +interface "<<<back:yellow>ObservableCardReader</back>>>\nObservableReader" as ObservableReader extends Reader {
    }
    package spi {
        +interface PluginObserverSpi {
            +void onPluginEvent (PluginEvent pluginEvent)
        }
        +interface PluginObservationExceptionHandlerSpi {
            +void onPluginObservationError (String pluginName, Throwable e)
        }
    }

    +interface "<<<back:yellow>CardReaderEvent</back>>>\nReaderEvent" as ReaderEvent {
        +String getPluginName ()
    }
    +interface PluginEvent {
        +String getPluginName ()
        +SortedSet<String> getReaderNames ()
        +Type getType ()
    }
    +enum "Type" as PluginEventType {
        READER_CONNECTED
        READER_DISCONNECTED
        UNAVAILABLE
    }
    +class "<<RuntimeException>>\nKeyplePluginException" as KeyplePluginException {
        +KeyplePluginException (String message)
        +KeyplePluginException (String message, Throwable cause)
    }
}


SmartCardServiceProvider ..> SmartCardService #3498DB : provide >

SmartCardService ..> Plugin #3498DB : provide >
SmartCardService ..> DistributedLocalService #3498DB : provide >

PluginEvent +- - PluginEventType
PluginEvent ..> PluginEventType #3498DB : provide >

Plugin ..> Reader #3498DB : provide >

ObservablePlugin ..> PluginObserverSpi #27AE60 : use >
ObservablePlugin ..> PluginObservationExceptionHandlerSpi #27AE60 : use >

PluginObserverSpi ..> PluginEvent #27AE60 : use >


ObservableReader -[hidden]- ReaderEvent
ReaderEvent -[hidden]- KeyplePluginException


package service #F8F9F9 {}
package spi #F2F3F4 {}

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>