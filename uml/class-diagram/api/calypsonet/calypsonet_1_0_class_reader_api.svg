<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3145px" preserveAspectRatio="none" style="width:4252px;height:3145px;background:#FFFFFF;" version="1.1" viewBox="0 0 4252 3145" width="4252.5px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacing" textLength="1340" x="1440" y="46.7139">Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (22/06/2021)</text><!--MD5=[a5decc184066de113c6f9732c0892d3a]
cluster readerApi--><polygon fill="#F8F9F9" points="40,157.4927,595,157.4927,612.5,216.5161,4210,216.5161,4210,3129.9927,40,3129.9927,40,157.4927" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="40" x2="612.5" y1="216.5161" y2="216.5161"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="540" x="50" y="198.8257">org.calypsonet.terminal.reader</text><!--MD5=[0af762fd8359575df4da93533d6338ab]
cluster readerSpi--><polygon fill="#F2F3F4" points="2622.5,1762.4927,2690,1762.4927,2707.5,1821.5161,4090,1821.5161,4090,2132.4927,2622.5,2132.4927,2622.5,1762.4927" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="2622.5" x2="2707.5" y1="1821.5161" y2="1821.5161"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="2632.5" y="1803.8257">spi</text><!--MD5=[2ef70ab4f822c198fdf53fd79da95100]
cluster selectionApi--><polygon fill="#F2F3F4" points="100,267.4927,277.5,267.4927,295,326.5161,2140,326.5161,2140,2192.4927,100,2192.4927,100,267.4927" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="100" x2="295" y1="326.5161" y2="326.5161"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="162.5" x="110" y="308.8257">selection</text><!--MD5=[c96d8bee8ec60da1ef6ad554183a6a76]
cluster selectionSpi--><polygon fill="#E5E7E9" points="345,1762.4927,412.5,1762.4927,430,1821.5161,1352.5,1821.5161,1352.5,2132.4927,345,2132.4927,345,1762.4927" style="stroke:#000000;stroke-width:3.75;"/><line style="stroke:#000000;stroke-width:3.75;" x1="345" x2="430" y1="1821.5161" y2="1821.5161"/><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacing" textLength="52.5" x="355" y="1803.8257">spi</text><!--MD5=[0dee1c75f9ece47f254a0a355731a0bb]
class ReaderCommunicationException--><rect codeLine="148" fill="#FEFECE" height="244.2383" id="ReaderCommunicationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="665" x="320" y="2778.7427"/><ellipse cx="402.5" cy="2828.9771" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M407.5,2820.2271 Q408.0078,2818.9771 408.5938,2818.3521 Q409.1797,2817.7271 409.8438,2817.7271 Q411.0156,2817.7271 411.7578,2818.4302 Q412.5,2819.1333 412.5,2820.7739 L412.5,2824.6802 Q412.5,2826.3208 411.7969,2827.0239 Q411.0938,2827.7271 410,2827.7271 Q409.0234,2827.7271 408.3984,2827.2974 Q407.7734,2826.8677 407.5,2825.7349 Q407.3828,2824.9536 406.9531,2824.5239 Q406.1719,2823.7036 404.7656,2823.2349 Q403.3594,2822.7271 401.9531,2822.7271 Q400.1953,2822.7271 398.7109,2823.4302 Q397.2656,2824.1333 396.1328,2825.6958 Q395,2827.2583 395,2829.4067 L395,2831.7114 Q395,2834.2896 397.1094,2836.0083 Q399.2188,2837.7271 402.9688,2837.7271 Q405.1953,2837.7271 406.7578,2837.2192 Q407.6563,2836.9458 408.6719,2836.0474 Q409.3359,2835.5396 409.6875,2835.3833 Q410.0391,2835.2271 410.4688,2835.2271 Q411.2891,2835.2271 411.875,2835.8911 Q412.5,2836.5161 412.5,2837.4146 Q412.5,2838.2739 411.6406,2839.2896 Q410.3906,2840.7739 408.3984,2841.5942 Q405.7813,2842.7271 402.5781,2842.7271 Q398.8281,2842.7271 395.8203,2841.2427 Q393.3984,2840.0708 391.6797,2837.5317 Q390,2834.9927 390,2831.9849 L390,2829.2505 Q390,2826.1255 391.4844,2823.3911 Q393.0078,2820.6567 395.625,2819.2114 Q398.2813,2817.7271 401.25,2817.7271 Q403.0469,2817.7271 404.6094,2818.3521 Q406.1719,2818.9771 407.5,2820.2271 Z " fill="#000000"/><ellipse cx="460" cy="2827.7271" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="542.5" y="2822.3853">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="457.5" x="475" y="2860.1196">ReaderCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="322.5" x2="982.5" y1="2879.2114" y2="2879.2114"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="322.5" x2="982.5" y1="2899.2114" y2="2899.2114"/><ellipse cx="347.5" cy="2926.7114" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="600" x="370" y="2937.7588">ReaderCommunicationException (String message)</text><ellipse cx="347.5" cy="2961.3013" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="597.5" x="370" y="2972.3486">ReaderCommunicationException (String message,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="430" y="3006.9385">Throwable cause)</text><!--MD5=[3f64bfe3b1698c1197202681f77be61a]
class ReaderProtocolNotSupportedException--><rect codeLine="153" fill="#FEFECE" height="175.0586" id="ReaderProtocolNotSupportedException" style="stroke:#D4AC0D;stroke-width:3.75;" width="790" x="257.5" y="2377.4927"/><ellipse cx="359.125" cy="2427.7271" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M364.125,2418.9771 Q364.6328,2417.7271 365.2188,2417.1021 Q365.8047,2416.4771 366.4688,2416.4771 Q367.6406,2416.4771 368.3828,2417.1802 Q369.125,2417.8833 369.125,2419.5239 L369.125,2423.4302 Q369.125,2425.0708 368.4219,2425.7739 Q367.7188,2426.4771 366.625,2426.4771 Q365.6484,2426.4771 365.0234,2426.0474 Q364.3984,2425.6177 364.125,2424.4849 Q364.0078,2423.7036 363.5781,2423.2739 Q362.7969,2422.4536 361.3906,2421.9849 Q359.9844,2421.4771 358.5781,2421.4771 Q356.8203,2421.4771 355.3359,2422.1802 Q353.8906,2422.8833 352.7578,2424.4458 Q351.625,2426.0083 351.625,2428.1567 L351.625,2430.4614 Q351.625,2433.0396 353.7344,2434.7583 Q355.8438,2436.4771 359.5938,2436.4771 Q361.8203,2436.4771 363.3828,2435.9692 Q364.2813,2435.6958 365.2969,2434.7974 Q365.9609,2434.2896 366.3125,2434.1333 Q366.6641,2433.9771 367.0938,2433.9771 Q367.9141,2433.9771 368.5,2434.6411 Q369.125,2435.2661 369.125,2436.1646 Q369.125,2437.0239 368.2656,2438.0396 Q367.0156,2439.5239 365.0234,2440.3442 Q362.4063,2441.4771 359.2031,2441.4771 Q355.4531,2441.4771 352.4453,2439.9927 Q350.0234,2438.8208 348.3047,2436.2817 Q346.625,2433.7427 346.625,2430.7349 L346.625,2428.0005 Q346.625,2424.8755 348.1094,2422.1411 Q349.6328,2419.4067 352.25,2417.9614 Q354.9063,2416.4771 357.875,2416.4771 Q359.6719,2416.4771 361.2344,2417.1021 Q362.7969,2417.7271 364.125,2418.9771 Z " fill="#000000"/><ellipse cx="420.875" cy="2426.4771" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="544.625" y="2421.1353">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="540" x="435.875" y="2458.8696">ReaderProtocolNotSupportedException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="260" x2="1045" y1="2477.9614" y2="2477.9614"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="260" x2="1045" y1="2497.9614" y2="2497.9614"/><ellipse cx="285" cy="2525.4614" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="725" x="307.5" y="2536.5088">ReaderProtocolNotSupportedException (String cardProtocol)</text><!--MD5=[32fc7b65f340d78e9416d68a58b55b2e]
class CardCommunicationException--><rect codeLine="156" fill="#FEFECE" height="244.2383" id="CardCommunicationException" style="stroke:#D4AC0D;stroke-width:3.75;" width="635" x="1072.5" y="2778.7427"/><ellipse cx="1157.25" cy="2828.9771" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M1162.25,2820.2271 Q1162.7578,2818.9771 1163.3438,2818.3521 Q1163.9297,2817.7271 1164.5938,2817.7271 Q1165.7656,2817.7271 1166.5078,2818.4302 Q1167.25,2819.1333 1167.25,2820.7739 L1167.25,2824.6802 Q1167.25,2826.3208 1166.5469,2827.0239 Q1165.8438,2827.7271 1164.75,2827.7271 Q1163.7734,2827.7271 1163.1484,2827.2974 Q1162.5234,2826.8677 1162.25,2825.7349 Q1162.1328,2824.9536 1161.7031,2824.5239 Q1160.9219,2823.7036 1159.5156,2823.2349 Q1158.1094,2822.7271 1156.7031,2822.7271 Q1154.9453,2822.7271 1153.4609,2823.4302 Q1152.0156,2824.1333 1150.8828,2825.6958 Q1149.75,2827.2583 1149.75,2829.4067 L1149.75,2831.7114 Q1149.75,2834.2896 1151.8594,2836.0083 Q1153.9688,2837.7271 1157.7188,2837.7271 Q1159.9453,2837.7271 1161.5078,2837.2192 Q1162.4063,2836.9458 1163.4219,2836.0474 Q1164.0859,2835.5396 1164.4375,2835.3833 Q1164.7891,2835.2271 1165.2188,2835.2271 Q1166.0391,2835.2271 1166.625,2835.8911 Q1167.25,2836.5161 1167.25,2837.4146 Q1167.25,2838.2739 1166.3906,2839.2896 Q1165.1406,2840.7739 1163.1484,2841.5942 Q1160.5313,2842.7271 1157.3281,2842.7271 Q1153.5781,2842.7271 1150.5703,2841.2427 Q1148.1484,2840.0708 1146.4297,2837.5317 Q1144.75,2834.9927 1144.75,2831.9849 L1144.75,2829.2505 Q1144.75,2826.1255 1146.2344,2823.3911 Q1147.7578,2820.6567 1150.375,2819.2114 Q1153.0313,2817.7271 1156,2817.7271 Q1157.7969,2817.7271 1159.3594,2818.3521 Q1160.9219,2818.9771 1162.25,2820.2271 Z " fill="#000000"/><ellipse cx="1215.25" cy="2827.7271" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="1280.25" y="2822.3853">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="422.5" x="1230.25" y="2860.1196">CardCommunicationException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1075" x2="1705" y1="2879.2114" y2="2879.2114"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1075" x2="1705" y1="2899.2114" y2="2899.2114"/><ellipse cx="1100" cy="2926.7114" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="570" x="1122.5" y="2937.7588">CardCommunicationException (String message)</text><ellipse cx="1100" cy="2961.3013" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="567.5" x="1122.5" y="2972.3486">CardCommunicationException (String message,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="1182.5" y="3006.9385">Throwable cause)</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="50" fill="#FEFECE" height="154.5898" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:3.75;" width="462.5" x="2241.25" y="579.9927"/><ellipse cx="2278.75" cy="619.9927" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M2283.75,611.2427 Q2284.2578,609.9927 2284.8438,609.3677 Q2285.4297,608.7427 2286.0938,608.7427 Q2287.2656,608.7427 2288.0078,609.4458 Q2288.75,610.1489 2288.75,611.7896 L2288.75,615.6958 Q2288.75,617.3364 2288.0469,618.0396 Q2287.3438,618.7427 2286.25,618.7427 Q2285.2734,618.7427 2284.6484,618.313 Q2284.0234,617.8833 2283.75,616.7505 Q2283.6328,615.9692 2283.2031,615.5396 Q2282.4219,614.7192 2281.0156,614.2505 Q2279.6094,613.7427 2278.2031,613.7427 Q2276.4453,613.7427 2274.9609,614.4458 Q2273.5156,615.1489 2272.3828,616.7114 Q2271.25,618.2739 2271.25,620.4224 L2271.25,622.7271 Q2271.25,625.3052 2273.3594,627.0239 Q2275.4688,628.7427 2279.2188,628.7427 Q2281.4453,628.7427 2283.0078,628.2349 Q2283.9063,627.9614 2284.9219,627.063 Q2285.5859,626.5552 2285.9375,626.3989 Q2286.2891,626.2427 2286.7188,626.2427 Q2287.5391,626.2427 2288.125,626.9067 Q2288.75,627.5317 2288.75,628.4302 Q2288.75,629.2896 2287.8906,630.3052 Q2286.6406,631.7896 2284.6484,632.6099 Q2282.0313,633.7427 2278.8281,633.7427 Q2275.0781,633.7427 2272.0703,632.2583 Q2269.6484,631.0864 2267.9297,628.5474 Q2266.25,626.0083 2266.25,623.0005 L2266.25,620.2661 Q2266.25,617.1411 2267.7344,614.4067 Q2269.2578,611.6724 2271.875,610.2271 Q2274.5313,608.7427 2277.5,608.7427 Q2279.2969,608.7427 2280.8594,609.3677 Q2282.4219,609.9927 2283.75,611.2427 Z " fill="#000000"/><ellipse cx="2326.25" cy="618.7427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60" x="2341.25" y="632.2681">final</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="287.5" x="2408.75" y="632.2681">ReaderApiProperties</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2243.75" x2="2701.25" y1="659.9927" y2="659.9927"/><ellipse cx="2268.75" cy="687.4927" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="57.5" x="2291.25" y="698.54">final</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" text-decoration="underline" textLength="190" x="2356.25" y="698.54">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2243.75" x2="2701.25" y1="714.5825" y2="714.5825"/><!--MD5=[9b9eb2a75cf02134ca888acb9ec1b2e1]
class CardReader--><rect codeLine="53" fill="#FEFECE" height="327.5391" id="CardReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="842.5" x="2791.25" y="493.7427"/><ellipse cx="3103.125" cy="533.7427" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3105.625,526.2427 L3105.625,541.2427 L3110.625,541.2427 L3111.8359,541.2427 L3113.125,542.8052 L3113.125,543.7427 L3113.125,544.6802 L3111.8359,546.2427 L3110.625,546.2427 L3095.625,546.2427 L3094.4141,546.2427 L3093.125,544.6802 L3093.125,543.7427 L3093.125,542.8052 L3094.4141,541.2427 L3095.625,541.2427 L3100.625,541.2427 L3100.625,526.2427 L3095.625,526.2427 L3094.4141,526.2427 L3093.125,524.6802 L3093.125,523.7427 L3093.125,522.8052 L3094.4141,521.2427 L3095.625,521.2427 L3110.625,521.2427 L3111.8359,521.2427 L3113.125,522.8052 L3113.125,523.7427 L3113.125,524.6802 L3111.8359,526.2427 L3110.625,526.2427 L3105.625,526.2427 Z " fill="#000000"/><ellipse cx="3166.875" cy="532.4927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="170" x="3181.875" y="546.0181">CardReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2793.75" x2="3631.25" y1="573.7427" y2="573.7427"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2793.75" x2="3631.25" y1="593.7427" y2="593.7427"/><ellipse cx="2818.75" cy="621.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2841.25" y="632.29">String getName ()</text><ellipse cx="2818.75" cy="655.8325" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="292.5" x="2841.25" y="666.8799">boolean isContactless ()</text><ellipse cx="2818.75" cy="690.4224" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="300" x="2841.25" y="701.4697">boolean isCardPresent ()</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="2848.75" y="736.0596"/><ellipse cx="2818.75" cy="759.6021" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="777.5" x="2841.25" y="770.6494">void activateProtocol (String readerProtocol, String cardProtocol)</text><ellipse cx="2818.75" cy="794.1919" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="562.5" x="2841.25" y="805.2393">void deactivateProtocol (String readerProtocol)</text><!--MD5=[d49bae05a0ef9926e55d34fb069365d5]
class ObservableCardReader--><rect codeLine="61" fill="#FEFECE" height="500.4883" id="ObservableCardReader" style="stroke:#D4AC0D;stroke-width:3.75;" width="892.5" x="2766.25" y="1102.4927"/><ellipse cx="3021.875" cy="1142.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3024.375,1134.9927 L3024.375,1149.9927 L3029.375,1149.9927 L3030.5859,1149.9927 L3031.875,1151.5552 L3031.875,1152.4927 L3031.875,1153.4302 L3030.5859,1154.9927 L3029.375,1154.9927 L3014.375,1154.9927 L3013.1641,1154.9927 L3011.875,1153.4302 L3011.875,1152.4927 L3011.875,1151.5552 L3013.1641,1149.9927 L3014.375,1149.9927 L3019.375,1149.9927 L3019.375,1134.9927 L3014.375,1134.9927 L3013.1641,1134.9927 L3011.875,1133.4302 L3011.875,1132.4927 L3011.875,1131.5552 L3013.1641,1129.9927 L3014.375,1129.9927 L3029.375,1129.9927 L3030.5859,1129.9927 L3031.875,1131.5552 L3031.875,1132.4927 L3031.875,1133.4302 L3030.5859,1134.9927 L3029.375,1134.9927 L3024.375,1134.9927 Z " fill="#000000"/><ellipse cx="3085.625" cy="1141.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="332.5" x="3100.625" y="1154.7681">ObservableCardReader</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2768.75" x2="3656.25" y1="1182.4927" y2="1182.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2768.75" x2="3656.25" y1="1202.4927" y2="1202.4927"/><ellipse cx="2793.75" cy="1229.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="557.5" x="2816.25" y="1241.04">void setReaderObservationExceptionHandler (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="767.5" x="2876.25" y="1275.6299">CardReaderObservationExceptionHandlerSpi exceptionHandler)</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="2823.75" y="1310.2197"/><ellipse cx="2793.75" cy="1333.7622" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="660" x="2816.25" y="1344.8096">void addObserver (CardReaderObserverSpi observer)</text><ellipse cx="2793.75" cy="1368.3521" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="705" x="2816.25" y="1379.3994">void removeObserver (CardReaderObserverSpi observer)</text><ellipse cx="2793.75" cy="1402.9419" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="275" x="2816.25" y="1413.9893">void clearObservers ()</text><ellipse cx="2793.75" cy="1437.5317" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="2816.25" y="1448.5791">int countObservers ()</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="2823.75" y="1483.1689"/><ellipse cx="2793.75" cy="1506.7114" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="670" x="2816.25" y="1517.7588">void startCardDetection (DetectionMode detectionMode)</text><ellipse cx="2793.75" cy="1541.3013" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="307.5" x="2816.25" y="1552.3486">void stopCardDetection ()</text><ellipse cx="2793.75" cy="1575.8911" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="362.5" x="2816.25" y="1586.9385">void finalizeCardProcessing ()</text><!--MD5=[f9e56a49e679096f1681e872e7fe17dc]
class DetectionMode--><rect codeLine="74" fill="#FEFECE" height="189.1797" id="DetectionMode" style="stroke:#D4AC0D;stroke-width:3.75;" width="312.5" x="2276.25" y="1257.4927"/><ellipse cx="2313.75" cy="1297.4927" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M2310,1299.9927 L2310,1304.9927 L2320,1304.9927 L2320,1302.4927 L2320,1301.2817 L2321.5625,1299.9927 L2322.5,1299.9927 L2323.4375,1299.9927 L2325,1301.2817 L2325,1302.4927 L2325,1309.9927 L2305,1309.9927 L2303.7891,1309.9927 L2302.5,1308.4302 L2302.5,1307.4927 L2302.5,1306.5552 L2303.7891,1304.9927 L2305,1304.9927 L2305,1304.9927 L2305,1289.9927 L2305,1289.9927 L2303.7891,1289.9927 L2302.5,1288.4302 L2302.5,1287.4927 L2302.5,1286.5552 L2303.7891,1284.9927 L2305,1284.9927 L2325,1284.9927 L2325,1292.4927 L2325,1293.7036 L2323.4375,1294.9927 L2322.5,1294.9927 L2321.5625,1294.9927 L2320,1293.7036 L2320,1292.4927 L2320,1289.9927 L2310,1289.9927 L2310,1294.9927 L2312.5,1294.9927 L2312.5,1293.7817 L2312.5,1293.7817 L2314.0625,1292.4927 L2315,1292.4927 L2315.9375,1292.4927 L2317.5,1293.7817 L2317.5,1294.9927 L2317.5,1299.9927 L2317.5,1301.2036 L2315.9375,1302.4927 L2315.9375,1302.4927 L2315,1302.4927 L2314.0625,1302.4927 L2312.5,1301.2036 L2312.5,1301.2036 L2312.5,1299.9927 L2310,1299.9927 Z " fill="#000000"/><ellipse cx="2361.25" cy="1296.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="205" x="2376.25" y="1309.7681">DetectionMode</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2278.75" x2="2586.25" y1="1337.4927" y2="1337.4927"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="140" x="2291.25" y="1376.04">REPEATING</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="160" x="2291.25" y="1410.6299">SINGLESHOT</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2278.75" x2="2586.25" y1="1426.6724" y2="1426.6724"/><!--MD5=[b4b6a5721e02f7cea6ba89274ea67351]
class NotificationMode--><rect codeLine="78" fill="#FEFECE" height="189.1797" id="NotificationMode" style="stroke:#D4AC0D;stroke-width:3.75;" width="335" x="2240" y="1902.4927"/><ellipse cx="2277.5" cy="1942.4927" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M2273.75,1944.9927 L2273.75,1949.9927 L2283.75,1949.9927 L2283.75,1947.4927 L2283.75,1946.2817 L2285.3125,1944.9927 L2286.25,1944.9927 L2287.1875,1944.9927 L2288.75,1946.2817 L2288.75,1947.4927 L2288.75,1954.9927 L2268.75,1954.9927 L2267.5391,1954.9927 L2266.25,1953.4302 L2266.25,1952.4927 L2266.25,1951.5552 L2267.5391,1949.9927 L2268.75,1949.9927 L2268.75,1949.9927 L2268.75,1934.9927 L2268.75,1934.9927 L2267.5391,1934.9927 L2266.25,1933.4302 L2266.25,1932.4927 L2266.25,1931.5552 L2267.5391,1929.9927 L2268.75,1929.9927 L2288.75,1929.9927 L2288.75,1937.4927 L2288.75,1938.7036 L2287.1875,1939.9927 L2286.25,1939.9927 L2285.3125,1939.9927 L2283.75,1938.7036 L2283.75,1937.4927 L2283.75,1934.9927 L2273.75,1934.9927 L2273.75,1939.9927 L2276.25,1939.9927 L2276.25,1938.7817 L2276.25,1938.7817 L2277.8125,1937.4927 L2278.75,1937.4927 L2279.6875,1937.4927 L2281.25,1938.7817 L2281.25,1939.9927 L2281.25,1944.9927 L2281.25,1946.2036 L2279.6875,1947.4927 L2279.6875,1947.4927 L2278.75,1947.4927 L2277.8125,1947.4927 L2276.25,1946.2036 L2276.25,1946.2036 L2276.25,1944.9927 L2273.75,1944.9927 Z " fill="#000000"/><ellipse cx="2325" cy="1941.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="227.5" x="2340" y="1954.7681">NotificationMode</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2242.5" x2="2572.5" y1="1982.4927" y2="1982.4927"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="117.5" x="2255" y="2021.04">ALWAYS</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2255" y="2055.6299">MATCHED_ONLY</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2242.5" x2="2572.5" y1="2071.6724" y2="2071.6724"/><!--MD5=[0929af63d3085909faf7f6bf84f6ab77]
class CardReaderEvent--><rect codeLine="82" fill="#FEFECE" height="223.7695" id="CardReaderEvent" style="stroke:#D4AC0D;stroke-width:3.75;" width="1002.5" x="2291.25" y="2352.4927"/><ellipse cx="2644.375" cy="2392.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2646.875,2384.9927 L2646.875,2399.9927 L2651.875,2399.9927 L2653.0859,2399.9927 L2654.375,2401.5552 L2654.375,2402.4927 L2654.375,2403.4302 L2653.0859,2404.9927 L2651.875,2404.9927 L2636.875,2404.9927 L2635.6641,2404.9927 L2634.375,2403.4302 L2634.375,2402.4927 L2634.375,2401.5552 L2635.6641,2399.9927 L2636.875,2399.9927 L2641.875,2399.9927 L2641.875,2384.9927 L2636.875,2384.9927 L2635.6641,2384.9927 L2634.375,2383.4302 L2634.375,2382.4927 L2634.375,2381.5552 L2635.6641,2379.9927 L2636.875,2379.9927 L2651.875,2379.9927 L2653.0859,2379.9927 L2654.375,2381.5552 L2654.375,2382.4927 L2654.375,2383.4302 L2653.0859,2384.9927 L2651.875,2384.9927 L2646.875,2384.9927 Z " fill="#000000"/><ellipse cx="2708.125" cy="2391.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="247.5" x="2723.125" y="2404.7681">CardReaderEvent</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2293.75" x2="3291.25" y1="2432.4927" y2="2432.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2293.75" x2="3291.25" y1="2452.4927" y2="2452.4927"/><ellipse cx="2318.75" cy="2479.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="297.5" x="2341.25" y="2491.04">String getReaderName ()</text><ellipse cx="2318.75" cy="2514.5825" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="192.5" x="2341.25" y="2525.6299">Type getType ()</text><ellipse cx="2318.75" cy="2549.1724" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="937.5" x="2341.25" y="2560.2197">ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()</text><!--MD5=[8c5299a29afee59ed68e59a232a2321d]
class CardReaderEventType--><rect codeLine="87" fill="#FEFECE" height="258.3594" id="CardReaderEventType" style="stroke:#D4AC0D;stroke-width:3.75;" width="242.5" x="2668.75" y="2772.4927"/><ellipse cx="2736.625" cy="2812.4927" fill="#EB937F" rx="27.5" ry="27.5" style="stroke:#EB93DF;stroke-width:2.5;"/><path d="M2732.875,2814.9927 L2732.875,2819.9927 L2742.875,2819.9927 L2742.875,2817.4927 L2742.875,2816.2817 L2744.4375,2814.9927 L2745.375,2814.9927 L2746.3125,2814.9927 L2747.875,2816.2817 L2747.875,2817.4927 L2747.875,2824.9927 L2727.875,2824.9927 L2726.6641,2824.9927 L2725.375,2823.4302 L2725.375,2822.4927 L2725.375,2821.5552 L2726.6641,2819.9927 L2727.875,2819.9927 L2727.875,2819.9927 L2727.875,2804.9927 L2727.875,2804.9927 L2726.6641,2804.9927 L2725.375,2803.4302 L2725.375,2802.4927 L2725.375,2801.5552 L2726.6641,2799.9927 L2727.875,2799.9927 L2747.875,2799.9927 L2747.875,2807.4927 L2747.875,2808.7036 L2746.3125,2809.9927 L2745.375,2809.9927 L2744.4375,2809.9927 L2742.875,2808.7036 L2742.875,2807.4927 L2742.875,2804.9927 L2732.875,2804.9927 L2732.875,2809.9927 L2735.375,2809.9927 L2735.375,2808.7817 L2735.375,2808.7817 L2736.9375,2807.4927 L2737.875,2807.4927 L2738.8125,2807.4927 L2740.375,2808.7817 L2740.375,2809.9927 L2740.375,2814.9927 L2740.375,2816.2036 L2738.8125,2817.4927 L2738.8125,2817.4927 L2737.875,2817.4927 L2736.9375,2817.4927 L2735.375,2816.2036 L2735.375,2816.2036 L2735.375,2814.9927 L2732.875,2814.9927 Z " fill="#000000"/><ellipse cx="2790.875" cy="2811.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="67.5" x="2805.875" y="2824.7681">Type</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2671.25" x2="2908.75" y1="2852.4927" y2="2852.4927"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="207.5" x="2683.75" y="2891.04">CARD_INSERTED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="210" x="2683.75" y="2925.6299">CARD_MATCHED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="212.5" x="2683.75" y="2960.2197">CARD_REMOVED</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="182.5" x="2683.75" y="2994.8096">UNAVAILABLE</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2671.25" x2="2908.75" y1="3010.8521" y2="3010.8521"/><!--MD5=[c890fc32568b07397f767fd1f5f57b26]
class CardReaderObserverSpi--><rect codeLine="95" fill="#FEFECE" height="189.1797" id="CardReaderObserverSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="565" x="2662.5" y="1902.4927"/><ellipse cx="2751.75" cy="1942.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M2754.25,1934.9927 L2754.25,1949.9927 L2759.25,1949.9927 L2760.4609,1949.9927 L2761.75,1951.5552 L2761.75,1952.4927 L2761.75,1953.4302 L2760.4609,1954.9927 L2759.25,1954.9927 L2744.25,1954.9927 L2743.0391,1954.9927 L2741.75,1953.4302 L2741.75,1952.4927 L2741.75,1951.5552 L2743.0391,1949.9927 L2744.25,1949.9927 L2749.25,1949.9927 L2749.25,1934.9927 L2744.25,1934.9927 L2743.0391,1934.9927 L2741.75,1933.4302 L2741.75,1932.4927 L2741.75,1931.5552 L2743.0391,1929.9927 L2744.25,1929.9927 L2759.25,1929.9927 L2760.4609,1929.9927 L2761.75,1931.5552 L2761.75,1932.4927 L2761.75,1933.4302 L2760.4609,1934.9927 L2759.25,1934.9927 L2754.25,1934.9927 Z " fill="#000000"/><ellipse cx="2810.75" cy="1941.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="342.5" x="2825.75" y="1954.7681">CardReaderObserverSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2665" x2="3225" y1="1982.4927" y2="1982.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="2665" x2="3225" y1="2002.4927" y2="2002.4927"/><ellipse cx="2690" cy="2029.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="260" x="2712.5" y="2041.04">void onReaderEvent (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="440" x="2772.5" y="2075.6299">CardReaderEvent cardReaderEvent)</text><!--MD5=[006db6bb96001c5e4b016d87418574ed]
class CardReaderObservationExceptionHandlerSpi--><rect codeLine="99" fill="#FEFECE" height="189.1797" id="CardReaderObservationExceptionHandlerSpi" style="stroke:#D4AC0D;stroke-width:3.75;" width="735" x="3315" y="1902.4927"/><ellipse cx="3352.5" cy="1942.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M3355,1934.9927 L3355,1949.9927 L3360,1949.9927 L3361.2109,1949.9927 L3362.5,1951.5552 L3362.5,1952.4927 L3362.5,1953.4302 L3361.2109,1954.9927 L3360,1954.9927 L3345,1954.9927 L3343.7891,1954.9927 L3342.5,1953.4302 L3342.5,1952.4927 L3342.5,1951.5552 L3343.7891,1949.9927 L3345,1949.9927 L3350,1949.9927 L3350,1934.9927 L3345,1934.9927 L3343.7891,1934.9927 L3342.5,1933.4302 L3342.5,1932.4927 L3342.5,1931.5552 L3343.7891,1929.9927 L3345,1929.9927 L3360,1929.9927 L3361.2109,1929.9927 L3362.5,1931.5552 L3362.5,1932.4927 L3362.5,1933.4302 L3361.2109,1934.9927 L3360,1934.9927 L3355,1934.9927 Z " fill="#000000"/><ellipse cx="3400" cy="1941.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="627.5" x="3415" y="1954.7681">CardReaderObservationExceptionHandlerSpi</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3317.5" x2="4047.5" y1="1982.4927" y2="1982.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="3317.5" x2="4047.5" y1="2002.4927" y2="2002.4927"/><ellipse cx="3342.5" cy="2029.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="620" x="3365" y="2041.04">void onReaderObservationError (String contextInfo,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="402.5" x="3425" y="2075.6299">String readerName, Throwable e)</text><!--MD5=[7fedbe548ff6d9bf7b67b5fa43b6dc23]
class CardSelectionManager--><rect codeLine="109" fill="#FEFECE" height="500.4883" id="CardSelectionManager" style="stroke:#D4AC0D;stroke-width:3.75;" width="1105" x="995" y="407.4927"/><ellipse cx="1365.625" cy="447.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1368.125,439.9927 L1368.125,454.9927 L1373.125,454.9927 L1374.3359,454.9927 L1375.625,456.5552 L1375.625,457.4927 L1375.625,458.4302 L1374.3359,459.9927 L1373.125,459.9927 L1358.125,459.9927 L1356.9141,459.9927 L1355.625,458.4302 L1355.625,457.4927 L1355.625,456.5552 L1356.9141,454.9927 L1358.125,454.9927 L1363.125,454.9927 L1363.125,439.9927 L1358.125,439.9927 L1356.9141,439.9927 L1355.625,438.4302 L1355.625,437.4927 L1355.625,436.5552 L1356.9141,434.9927 L1358.125,434.9927 L1373.125,434.9927 L1374.3359,434.9927 L1375.625,436.5552 L1375.625,437.4927 L1375.625,438.4302 L1374.3359,439.9927 L1373.125,439.9927 L1368.125,439.9927 Z " fill="#000000"/><ellipse cx="1429.375" cy="446.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="315" x="1444.375" y="459.7681">CardSelectionManager</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="997.5" x2="2097.5" y1="487.4927" y2="487.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="997.5" x2="2097.5" y1="507.4927" y2="507.4927"/><ellipse cx="1022.5" cy="534.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="385" x="1045" y="546.04">void setMultipleSelectionMode ()</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="1052.5" y="580.6299"/><ellipse cx="1022.5" cy="604.1724" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="607.5" x="1045" y="615.2197">int prepareSelection (CardSelection cardSelection)</text><ellipse cx="1022.5" cy="638.7622" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="375" x="1045" y="649.8096">void prepareReleaseChannel ()</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="1052.5" y="684.3994"/><ellipse cx="1022.5" cy="707.9419" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="947.5" x="1045" y="718.9893">CardSelectionResult processCardSelectionScenario (CardReader cardReader)</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="0" x="1052.5" y="753.5791"/><ellipse cx="1022.5" cy="777.1216" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="1040" x="1045" y="788.1689">void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="785" x="1105" y="822.7588">DetectionMode detectionMode, NotificationMode notificationMode)</text><ellipse cx="1022.5" cy="846.3013" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="770" x="1045" y="857.3486">CardSelectionResult parseScheduledCardSelectionsResponse (</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="880" x="1105" y="891.9385">ScheduledCardSelectionsResponse scheduledCardSelectionsResponse)</text><!--MD5=[b048fcdbdb6b9f6911c1d2807b5ba439]
class CardSelectionResult--><rect codeLine="132" fill="#FEFECE" height="223.7695" id="CardSelectionResult" style="stroke:#D4AC0D;stroke-width:3.75;" width="585" x="375" y="1239.9927"/><ellipse cx="501.875" cy="1279.9927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M504.375,1272.4927 L504.375,1287.4927 L509.375,1287.4927 L510.5859,1287.4927 L511.875,1289.0552 L511.875,1289.9927 L511.875,1290.9302 L510.5859,1292.4927 L509.375,1292.4927 L494.375,1292.4927 L493.1641,1292.4927 L491.875,1290.9302 L491.875,1289.9927 L491.875,1289.0552 L493.1641,1287.4927 L494.375,1287.4927 L499.375,1287.4927 L499.375,1272.4927 L494.375,1272.4927 L493.1641,1272.4927 L491.875,1270.9302 L491.875,1269.9927 L491.875,1269.0552 L493.1641,1267.4927 L494.375,1267.4927 L509.375,1267.4927 L510.5859,1267.4927 L511.875,1269.0552 L511.875,1269.9927 L511.875,1270.9302 L510.5859,1272.4927 L509.375,1272.4927 L504.375,1272.4927 Z " fill="#000000"/><ellipse cx="565.625" cy="1278.7427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="282.5" x="580.625" y="1292.2681">CardSelectionResult</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="377.5" x2="957.5" y1="1319.9927" y2="1319.9927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="377.5" x2="957.5" y1="1339.9927" y2="1339.9927"/><ellipse cx="402.5" cy="1367.4927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="520" x="425" y="1378.54">Map&lt;Integer, SmartCard&gt; getSmartCards ()</text><ellipse cx="402.5" cy="1402.0825" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="405" x="425" y="1413.1299">SmartCard getActiveSmartCard ()</text><ellipse cx="402.5" cy="1436.6724" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="352.5" x="425" y="1447.7197">int getActiveSelectionIndex ()</text><!--MD5=[0fbebdc936aa14b829c88e48b951a711]
class ScheduledCardSelectionsResponse--><rect codeLine="137" fill="#FEFECE" height="120" id="ScheduledCardSelectionsResponse" style="stroke:#D4AC0D;stroke-width:3.75;" width="605" x="1317.5" y="1292.4927"/><ellipse cx="1355" cy="1332.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1357.5,1324.9927 L1357.5,1339.9927 L1362.5,1339.9927 L1363.7109,1339.9927 L1365,1341.5552 L1365,1342.4927 L1365,1343.4302 L1363.7109,1344.9927 L1362.5,1344.9927 L1347.5,1344.9927 L1346.2891,1344.9927 L1345,1343.4302 L1345,1342.4927 L1345,1341.5552 L1346.2891,1339.9927 L1347.5,1339.9927 L1352.5,1339.9927 L1352.5,1324.9927 L1347.5,1324.9927 L1346.2891,1324.9927 L1345,1323.4302 L1345,1322.4927 L1345,1321.5552 L1346.2891,1319.9927 L1347.5,1319.9927 L1362.5,1319.9927 L1363.7109,1319.9927 L1365,1321.5552 L1365,1322.4927 L1365,1323.4302 L1363.7109,1324.9927 L1362.5,1324.9927 L1357.5,1324.9927 Z " fill="#000000"/><ellipse cx="1402.5" cy="1331.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="497.5" x="1417.5" y="1344.7681">ScheduledCardSelectionsResponse</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1320" x2="1920" y1="1372.4927" y2="1372.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1320" x2="1920" y1="1392.4927" y2="1392.4927"/><!--MD5=[01b70d0a2359744fc21c39698f2f9070]
class InvalidCardResponseException--><rect codeLine="140" fill="#FEFECE" height="244.2383" id="InvalidCardResponseException" style="stroke:#D4AC0D;stroke-width:3.75;" width="652.5" x="141.25" y="534.9927"/><ellipse cx="228.25" cy="585.2271" fill="#ADD1B2" rx="27.5" ry="27.5" style="stroke:#ADD1B2;stroke-width:2.5;"/><path d="M233.25,576.4771 Q233.7578,575.2271 234.3438,574.6021 Q234.9297,573.9771 235.5938,573.9771 Q236.7656,573.9771 237.5078,574.6802 Q238.25,575.3833 238.25,577.0239 L238.25,580.9302 Q238.25,582.5708 237.5469,583.2739 Q236.8438,583.9771 235.75,583.9771 Q234.7734,583.9771 234.1484,583.5474 Q233.5234,583.1177 233.25,581.9849 Q233.1328,581.2036 232.7031,580.7739 Q231.9219,579.9536 230.5156,579.4849 Q229.1094,578.9771 227.7031,578.9771 Q225.9453,578.9771 224.4609,579.6802 Q223.0156,580.3833 221.8828,581.9458 Q220.75,583.5083 220.75,585.6567 L220.75,587.9614 Q220.75,590.5396 222.8594,592.2583 Q224.9688,593.9771 228.7188,593.9771 Q230.9453,593.9771 232.5078,593.4692 Q233.4063,593.1958 234.4219,592.2974 Q235.0859,591.7896 235.4375,591.6333 Q235.7891,591.4771 236.2188,591.4771 Q237.0391,591.4771 237.625,592.1411 Q238.25,592.7661 238.25,593.6646 Q238.25,594.5239 237.3906,595.5396 Q236.1406,597.0239 234.1484,597.8442 Q231.5313,598.9771 228.3281,598.9771 Q224.5781,598.9771 221.5703,597.4927 Q219.1484,596.3208 217.4297,593.7817 Q215.75,591.2427 215.75,588.2349 L215.75,585.5005 Q215.75,582.3755 217.2344,579.6411 Q218.7578,576.9067 221.375,575.4614 Q224.0313,573.9771 227,573.9771 Q228.7969,573.9771 230.3594,574.6021 Q231.9219,575.2271 233.25,576.4771 Z " fill="#000000"/><ellipse cx="286.75" cy="583.9771" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="322.5" x="358" y="578.6353">&lt;&lt;RuntimeException&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="435" x="301.75" y="616.3696">InvalidCardResponseException</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="143.75" x2="791.25" y1="635.4614" y2="635.4614"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="143.75" x2="791.25" y1="655.4614" y2="655.4614"/><ellipse cx="168.75" cy="682.9614" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="587.5" x="191.25" y="694.0088">InvalidCardResponseException (String message)</text><ellipse cx="168.75" cy="717.5513" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="585" x="191.25" y="728.5986">InvalidCardResponseException (String message,</text><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="222.5" x="251.25" y="763.1885">Throwable cause)</text><!--MD5=[47f0011813555fb489a606ff84d44b55]
class CardSelection--><rect codeLine="125" fill="#FEFECE" height="120" id="CardSelection" style="stroke:#D4AC0D;stroke-width:3.75;" width="302.5" x="1008.75" y="1937.4927"/><ellipse cx="1046.25" cy="1977.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M1048.75,1969.9927 L1048.75,1984.9927 L1053.75,1984.9927 L1054.9609,1984.9927 L1056.25,1986.5552 L1056.25,1987.4927 L1056.25,1988.4302 L1054.9609,1989.9927 L1053.75,1989.9927 L1038.75,1989.9927 L1037.5391,1989.9927 L1036.25,1988.4302 L1036.25,1987.4927 L1036.25,1986.5552 L1037.5391,1984.9927 L1038.75,1984.9927 L1043.75,1984.9927 L1043.75,1969.9927 L1038.75,1969.9927 L1037.5391,1969.9927 L1036.25,1968.4302 L1036.25,1967.4927 L1036.25,1966.5552 L1037.5391,1964.9927 L1038.75,1964.9927 L1053.75,1964.9927 L1054.9609,1964.9927 L1056.25,1966.5552 L1056.25,1967.4927 L1056.25,1968.4302 L1054.9609,1969.9927 L1053.75,1969.9927 L1048.75,1969.9927 Z " fill="#000000"/><ellipse cx="1093.75" cy="1976.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="195" x="1108.75" y="1989.7681">CardSelection</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1011.25" x2="1308.75" y1="2017.4927" y2="2017.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="1011.25" x2="1308.75" y1="2037.4927" y2="2037.4927"/><!--MD5=[4d4351d1dd1d596b03b4778d9849998b]
class SmartCard--><rect codeLine="127" fill="#FEFECE" height="189.1797" id="SmartCard" style="stroke:#D4AC0D;stroke-width:3.75;" width="535" x="385" y="1902.4927"/><ellipse cx="553.125" cy="1942.4927" fill="#B4A7E5" rx="27.5" ry="27.5" style="stroke:#B4A7E5;stroke-width:2.5;"/><path d="M555.625,1934.9927 L555.625,1949.9927 L560.625,1949.9927 L561.8359,1949.9927 L563.125,1951.5552 L563.125,1952.4927 L563.125,1953.4302 L561.8359,1954.9927 L560.625,1954.9927 L545.625,1954.9927 L544.4141,1954.9927 L543.125,1953.4302 L543.125,1952.4927 L543.125,1951.5552 L544.4141,1949.9927 L545.625,1949.9927 L550.625,1949.9927 L550.625,1934.9927 L545.625,1934.9927 L544.4141,1934.9927 L543.125,1933.4302 L543.125,1932.4927 L543.125,1931.5552 L544.4141,1929.9927 L545.625,1929.9927 L560.625,1929.9927 L561.8359,1929.9927 L563.125,1931.5552 L563.125,1932.4927 L563.125,1933.4302 L561.8359,1934.9927 L560.625,1934.9927 L555.625,1934.9927 Z " fill="#000000"/><ellipse cx="616.875" cy="1941.2427" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="30" font-style="italic" lengthAdjust="spacing" textLength="150" x="631.875" y="1954.7681">SmartCard</text><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="387.5" x2="917.5" y1="1982.4927" y2="1982.4927"/><line style="stroke:#D4AC0D;stroke-width:3.75;" x1="387.5" x2="917.5" y1="2002.4927" y2="2002.4927"/><ellipse cx="412.5" cy="2029.9927" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="312.5" x="435" y="2041.04">String getPowerOnData ()</text><ellipse cx="412.5" cy="2064.5825" fill="#84BE84" rx="7.5" ry="7.5" style="stroke:#038048;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="27.5" lengthAdjust="spacing" textLength="470" x="435" y="2075.6299">byte[] getSelectApplicationResponse ()</text><!--MD5=[40362253147766c9c743cec65354f353]
reverse link CardReader to ObservableCardReader--><path d="M3212.5,872.7427 C3212.5,945.2902 3212.5,1027.0327 3212.5,1102.1002 " fill="none" id="CardReader-backto-ObservableCardReader" style="stroke:#A80036;stroke-width:2.5;"/><polygon fill="none" points="3195,871.7677,3212.5,821.7677,3230,871.7677,3195,871.7677" style="stroke:#A80036;stroke-width:2.5;"/><!--MD5=[102e1d884686006ef209cb8bf85fc641]
reverse link ObservableCardReader to NotificationMode--><path codeLine="166" d="M2770.225,1625.3177 C2718.775,1662.5677 2668.35,1702.0027 2622.5,1742.4927 C2568.55,1790.1252 2516.025,1851.4427 2476.3975,1901.7227 " fill="none" id="ObservableCardReader-backto-NotificationMode" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="2785.1855" cy="1614.6367" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2768.8961" x2="2801.475" y1="1626.2407" y2="1603.0327"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2773.5815" x2="2796.7896" y1="1598.3472" y2="1630.9262"/><!--MD5=[66154b3cafeacecd1e2cf8a5b4606cfa]
link DetectionMode to ObservableCardReader--><path codeLine="167" d="M2588.975,1358.5802 C2608.8,1359.1627 2628.825,1359.6602 2647.925,1359.9927 C2673.9,1360.4452 2700.55,1360.7227 2727.45,1360.8577 " fill="none" id="DetectionMode-to-ObservableCardReader" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="2745.6251" cy="1360.9005" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2725.6252" x2="2765.625" y1="1360.8434" y2="1360.9577"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2745.6822" x2="2745.5679" y1="1340.9006" y2="1380.9005"/><!--MD5=[dbbe3a95d6beb8e83c2ba54b40633429]
reverse link DetectionMode to ObservableCardReader--><path codeLine="168" d="M2602.45,1352.4927 C2651.725,1352.4927 2707.95,1352.4927 2765.9,1352.4927 " fill="none" id="DetectionMode-backto-ObservableCardReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2589.4,1352.4927,2611.9,1362.4927,2601.9,1352.4927,2611.9,1342.4927,2589.4,1352.4927" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2632.5,1322.9321,2655.1127,1330.2794,2655.1127,1315.5848,2632.5,1322.9321" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2667.5" y="1336.2305">use</text><!--MD5=[f1012a22e38ec6ba8ebae710b6ed7740]
link ObservableCardReader to CardReaderObservationExceptionHandlerSpi--><path codeLine="169" d="M3394.875,1603.3502 C3468.475,1703.5577 3549.325,1813.6452 3606.5,1891.5152 " fill="none" id="ObservableCardReader-to-CardReaderObservationExceptionHandlerSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3614.075,1901.8052,3608.8112,1877.7523,3606.6737,1891.7319,3592.694,1889.5944,3614.075,1901.8052" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3494.899,1710.5071,3487.4361,1687.9323,3475.5922,1696.6303,3494.899,1710.5071" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="3510" y="1713.7305">use</text><!--MD5=[340f8b1fa6e5f55e3decc3d0782fe370]
reverse link CardReaderEvent to CardReaderEventType--><path codeLine="171" d="M2757.6,2615.4752 C2755.55,2627.9427 2753.8,2640.4027 2752.5,2652.4927 C2748.325,2691.6227 2751.85,2734.0502 2758.125,2772.4852 " fill="none" id="CardReaderEvent-backto-CardReaderEventType" style="stroke:#A80036;stroke-width:2.5;"/><ellipse cx="2760.8595" cy="2598.0539" fill="#FFFFFF" rx="20" ry="20" style="stroke:#A80036;stroke-width:2.5;"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2757.194" x2="2764.525" y1="2617.7151" y2="2578.3927"/><line style="stroke:#A80036;stroke-width:2.5;" x1="2741.1982" x2="2780.5207" y1="2594.3884" y2="2601.7194"/><!--MD5=[ea5d4584d91c2420faebe0edaa35dd07]
link CardReaderEvent to CardReaderEventType--><path codeLine="172" d="M2791.85,2578.5502 C2791.525,2633.5377 2791.15,2700.4977 2790.8,2758.9402 " fill="none" id="CardReaderEvent-to-CardReaderEventType" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2790.725,2772.0452,2800.8534,2749.6027,2790.7964,2759.5454,2780.8537,2749.4884,2790.725,2772.0452" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="2802.4272,2687.9319,2809.9061,2665.3624,2795.2117,2665.2768,2802.4272,2687.9319" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2825" y="2688.7305">provide</text><!--MD5=[288fe8b4bb69e8cb3939b387d62d61fe]
reverse link ScheduledCardSelectionsResponse to CardReaderEvent--><path codeLine="173" d="M1636.5725,1425.6602 C1678.335,1588.3752 1803.175,1992.3677 2057.5,2212.4927 C2126.29,2272.0327 2209.905,2317.5552 2295.7425,2352.3127 " fill="none" id="ScheduledCardSelectionsResponse-backto-CardReaderEvent" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1633.4775,1413.4427,1629.3054,1437.7088,1636.5453,1425.5604,1648.6937,1432.8003,1633.4775,1413.4427" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="2062.7544,1987.7463,2069.8748,2010.4315,2081.8489,2001.9138,2062.7544,1987.7463" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="2092.5" y="2011.2305">provide</text><!--MD5=[ec53f9149eb0a5572ddbd98e132e34ec]
link CardSelectionResult to SmartCard--><path codeLine="175" d="M664.9225,1465.0127 C662.1325,1583.9777 657.72,1772.2677 654.9725,1889.4577 " fill="none" id="CardSelectionResult-to-SmartCard" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="654.68,1901.9777,665.2044,1879.7181,654.9729,1889.4811,645.2099,1879.2496,654.68,1901.9777" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="672.2071,1712.9287,680.0823,1690.4944,665.3917,1690.15,672.2071,1712.9287" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="695" y="1713.7305">provide</text><!--MD5=[4e76f4d88bc0a2d674e5b83abfcdfa28]
link CardSelectionManager to CardSelection--><path codeLine="177" d="M1295.46,908.2677 C1249.6625,967.3602 1208.285,1033.4577 1182.5,1102.4927 C1074.6275,1391.3077 1120.8025,1770.1202 1146.7625,1924.7177 " fill="none" id="CardSelectionManager-to-CardSelection" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1148.9,1937.2177,1154.9641,1913.354,1146.7929,1924.8965,1135.2503,1916.7253,1148.9,1937.2177" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1193.1906,1365.3005,1203.7338,1343.9894,1189.1939,1341.8624,1193.1906,1365.3005" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1217.5" y="1366.2305">use</text><!--MD5=[eca09f4198ea9093719c3216b0b2e695]
link CardSelectionManager to ScheduledCardSelectionsResponse--><path codeLine="178" d="M1573.5725,908.1227 C1587.405,1039.7827 1603.3925,1191.9252 1612.5375,1278.9627 " fill="none" id="CardSelectionManager-to-ScheduledCardSelectionsResponse" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1613.945,1292.3577,1621.5374,1268.9354,1612.6379,1279.9262,1601.6471,1271.0267,1613.945,1292.3577" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="1601.3062,1017.8637,1606.2503,994.607,1591.6362,996.1426,1601.3062,1017.8637" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="1622.5" y="1018.7305">use</text><!--MD5=[49f67eafe7b04eace454d2c0c91af031]
link CardSelectionManager to CardSelectionResult--><path codeLine="179" d="M1080.1375,907.5202 C1045.2375,931.4052 1011.4275,956.4802 980,982.4927 C892.9425,1054.5552 810.835,1152.7577 752.6475,1229.5202 " fill="none" id="CardSelectionManager-to-CardSelectionResult" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="744.9575,1239.7252,766.4869,1227.778,752.482,1229.7436,750.5165,1215.7388,744.9575,1239.7252" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="983.5868,1014.1959,1004.8622,1003.5811,994.5597,993.103,983.5868,1014.1959" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="100" x="1015" y="1018.7305">provide</text><!--MD5=[8b80a861e2ead4cbc046e22ed79fe254]
link CardSelectionManager to CardReader--><path codeLine="180" d="M1832.1225,407.3927 C1939.89,328.2177 2068.4675,250.7677 2200,209.9927 C2432.425,137.9427 2521.8,119.0427 2747.5,209.9927 C2884.925,265.3677 3004.45,382.9427 3087.9,483.6677 " fill="none" id="CardSelectionManager-to-CardReader" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3095.85,493.3677,3089.3274,469.6252,3087.9287,483.698,3073.8559,482.2993,3095.85,493.3677" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2424.977,96.19,2402.8513,87.4852,2401.9604,102.1528,2424.977,96.19" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2435" y="108.7305">use</text><!--MD5=[4bfc324fd34bdcdca92028c8c160427f]
link CardSelectionManager to NotificationMode--><path codeLine="181" d="M1815.445,908.2627 C1870.0325,968.0627 1923.405,1034.4577 1965,1102.4927 C2088,1303.6827 2036.2325,1391.9852 2142.5,1602.4927 C2194.98,1706.4527 2270.51,1815.5277 2327.5175,1892.2327 " fill="none" id="CardSelectionManager-to-NotificationMode" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2335.0825,1902.3652,2329.636,1878.353,2327.6048,1892.3485,2313.6093,1890.3173,2335.0825,1902.3652" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2160.7705,1364.0205,2156.8491,1340.5697,2143.814,1347.3533,2160.7705,1364.0205" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2177.5" y="1366.2305">use</text><!--MD5=[8e99f00a1ff5326dab1fccc039630f0e]
link CardSelectionManager to DetectionMode--><path codeLine="182" d="M2019.7525,907.7652 C2054.6925,931.5577 2088.535,956.5477 2120,982.4927 C2213.995,1060.0002 2302.0725,1168.0877 2360.605,1246.9727 " fill="none" id="CardSelectionManager-to-DetectionMode" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2368.31,1257.4152,2363.0008,1233.3723,2360.8897,1247.3559,2346.906,1245.2448,2368.31,1257.4152" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2191.3602,1014.2496,2180.5147,993.0908,2170.1492,1003.5066,2191.3602,1014.2496" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2205" y="1018.7305">use</text><!--MD5=[ae5540f11eaeba4f0a54a0d137c03b0e]
reverse link InvalidCardResponseException to CardSelectionManager--><path codeLine="183" d="M807.1425,657.4927 C866.8225,657.4927 930.3075,657.4927 994.0425,657.4927 " fill="none" id="InvalidCardResponseException-backto-CardSelectionManager" style="stroke:#3498DB;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="794.4675,657.4927,816.9675,667.4927,806.9675,657.4927,816.9675,647.4927,794.4675,657.4927" style="stroke:#3498DB;stroke-width:2.5;"/><polygon fill="#000000" points="836.875,627.9321,859.4877,635.2794,859.4877,620.5848,836.875,627.9321" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="77.5" x="871.875" y="641.2305">throw</text><!--MD5=[769bf36c235d3c29e1ab536906ddc491]
link ObservableCardReader to CardReaderObserverSpi--><path codeLine="185" d="M3108.7,1603.3502 C3067.15,1702.7402 3021.55,1811.8502 2989.05,1889.6027 " fill="none" id="ObservableCardReader-to-CardReaderObserverSpi" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2983.95,1901.8052,3001.8532,1884.9018,2988.7704,1890.272,2983.4001,1877.1892,2983.95,1901.8052" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="3077.6793,1711.9652,3093.179,1693.9352,3079.6211,1688.2682,3077.6793,1711.9652" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="3105" y="1713.7305">use</text><!--MD5=[80beeb8e7435df23c483fb097999290c]
link CardReaderObserverSpi to CardReaderEvent--><path codeLine="187" d="M2914.15,2093.5877 C2890.75,2164.4927 2858.425,2262.5452 2832.975,2339.7402 " fill="none" id="CardReaderObserverSpi-to-CardReaderEvent" style="stroke:#27AE60;stroke-width:2.5;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2828.95,2351.9427,2845.483,2333.6968,2832.8579,2340.0692,2826.4855,2327.4442,2828.95,2351.9427" style="stroke:#27AE60;stroke-width:2.5;"/><polygon fill="#000000" points="2871.0852,2267.3033,2885.1448,2248.1292,2871.1895,2243.5271,2871.0852,2267.3033" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacing" textLength="52.5" x="2897.5" y="2268.7305">use</text><!--MD5=[1eb259ccd641d78a15a582c900274490]
link SmartCard to ReaderProtocolNotSupportedException--><!--MD5=[21fcee3fe490d347e3ecc9417572c91b]
link ReaderProtocolNotSupportedException to ReaderCommunicationException--><!--MD5=[a1e51d2b42def1ea2068c5bed5dda84c]
link ReaderCommunicationException to CardCommunicationException--><!--MD5=[7b2d0f9f7c7150d8bd8412b4bcbce66d]
@startuml
title
    Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (22/06/2021)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

package "org.calypsonet.terminal.reader" as readerApi {
    ' SERVICE
    together {
        +class "**final** ReaderApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardReader {
            +String getName ()
            +boolean isContactless ()
            +boolean isCardPresent ()

            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableCardReader extends CardReader {
            +void setReaderObservationExceptionHandler (
                \tCardReaderObservationExceptionHandlerSpi exceptionHandler)

            +void addObserver (CardReaderObserverSpi observer)
            +void removeObserver (CardReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()

            +void startCardDetection (DetectionMode detectionMode)
            +void stopCardDetection ()
            +void finalizeCardProcessing ()
        }
        +enum DetectionMode {
            REPEATING
            SINGLESHOT
        }
        +enum NotificationMode {
            ALWAYS
            MATCHED_ONLY
        }
        +interface CardReaderEvent {
            +String getReaderName ()
            +Type getType ()
            +ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()
        }
        +enum "Type" as CardReaderEventType {
            CARD_INSERTED
            CARD_MATCHED
            CARD_REMOVED
            UNAVAILABLE
        }
        ' SPI
        package "spi" as readerSpi {
            +interface CardReaderObserverSpi {
                +void onReaderEvent (
                    \tCardReaderEvent cardReaderEvent)
            }
            +interface CardReaderObservationExceptionHandlerSpi {
                +void onReaderObservationError (String contextInfo,
                    \tString readerName, Throwable e)
            }
        }
    }

    ' SELECTION
    package "selection" as selectionApi {
        ' Selection
        +interface CardSelectionManager {
            +void setMultipleSelectionMode ()

            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()

            +CardSelectionResult processCardSelectionScenario (CardReader cardReader)

            +void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,
                \tDetectionMode detectionMode, NotificationMode notificationMode)
            +CardSelectionResult parseScheduledCardSelectionsResponse (
                \tScheduledCardSelectionsResponse scheduledCardSelectionsResponse)
        }

        ' Card Extension SPI
        package "spi" as selectionSpi {
            +interface CardSelection {
            }
            +interface "SmartCard" as SmartCard {
                +String getPowerOnData ()
                +byte[] getSelectApplicationResponse ()
            }
        }
        +interface CardSelectionResult {
            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getActiveSmartCard ()
            +int getActiveSelectionIndex ()
        }
        +interface ScheduledCardSelectionsResponse {
        }

        +class "<<RuntimeException>>\nInvalidCardResponseException" as InvalidCardResponseException {
            +InvalidCardResponseException (String message)
            +InvalidCardResponseException (String message,
                \tThrowable cause)
        }
    }
    ' EXCEPTIONS
    'together {
        +class "<<RuntimeException>>\nReaderCommunicationException" as ReaderCommunicationException {
            +ReaderCommunicationException (String message)
            +ReaderCommunicationException (String message,
                \tThrowable cause)
        }
        +class "<<RuntimeException>>\nReaderProtocolNotSupportedException" as ReaderProtocolNotSupportedException {
            +ReaderProtocolNotSupportedException (String cardProtocol)
        }
        +class "<<RuntimeException>>\nCardCommunicationException" as CardCommunicationException {
            +CardCommunicationException (String message)
            +CardCommunicationException (String message,
                \tThrowable cause)
        }
    '}
}

' Associations

ObservableCardReader +- - NotificationMode
ObservableCardReader +-left- DetectionMode
ObservableCardReader .left.> DetectionMode #C_USE : use >
ObservableCardReader ..> CardReaderObservationExceptionHandlerSpi #C_USE : use >

CardReaderEvent +- - CardReaderEventType
CardReaderEvent ..> CardReaderEventType #C_LINK : provide >
CardReaderEvent .up.> ScheduledCardSelectionsResponse #C_LINK : provide >

CardSelectionResult ..> SmartCard #C_LINK : provide >

CardSelectionManager ..> CardSelection #C_USE : use >
CardSelectionManager ..> ScheduledCardSelectionsResponse #C_USE : use >
CardSelectionManager ..> CardSelectionResult #C_LINK : provide >
CardSelectionManager .right.> CardReader #C_USE : use >
CardSelectionManager ..> NotificationMode #C_USE : use >
CardSelectionManager ..> DetectionMode #C_USE : use >
CardSelectionManager .left.> InvalidCardResponseException #C_LINK : throw >

ObservableCardReader ..> CardReaderObserverSpi #C_USE : use >

CardReaderObserverSpi ..> CardReaderEvent #C_USE : use >

' == LAYOUT ==

SmartCard -[hidden]- ReaderProtocolNotSupportedException
ReaderProtocolNotSupportedException -[hidden]- ReaderCommunicationException
ReaderCommunicationException -[hidden]right- CardCommunicationException

' == STYLE ==

package readerApi #C_GREY1 {}
package readerSpi #C_GREY2 {}
package selectionApi #C_GREY2 {}
package selectionSpi #C_GREY3 {}

@enduml

@startuml
title
    Calypsonet - calypsonet-terminal-reader-java-api - 1.0 (22/06/2021)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


package "org.calypsonet.terminal.reader" as readerApi {
    together {
        +class "**final** ReaderApiProperties" as ApiProperties {
            +{static} **final** String VERSION
        }
        +interface CardReader {
            +String getName ()
            +boolean isContactless ()
            +boolean isCardPresent ()

            +void activateProtocol (String readerProtocol, String cardProtocol)
            +void deactivateProtocol (String readerProtocol)
        }
        +interface ObservableCardReader extends CardReader {
            +void setReaderObservationExceptionHandler (
                \tCardReaderObservationExceptionHandlerSpi exceptionHandler)

            +void addObserver (CardReaderObserverSpi observer)
            +void removeObserver (CardReaderObserverSpi observer)
            +void clearObservers ()
            +int countObservers ()

            +void startCardDetection (DetectionMode detectionMode)
            +void stopCardDetection ()
            +void finalizeCardProcessing ()
        }
        +enum DetectionMode {
            REPEATING
            SINGLESHOT
        }
        +enum NotificationMode {
            ALWAYS
            MATCHED_ONLY
        }
        +interface CardReaderEvent {
            +String getReaderName ()
            +Type getType ()
            +ScheduledCardSelectionsResponse getScheduledCardSelectionsResponse ()
        }
        +enum "Type" as CardReaderEventType {
            CARD_INSERTED
            CARD_MATCHED
            CARD_REMOVED
            UNAVAILABLE
        }
        package "spi" as readerSpi {
            +interface CardReaderObserverSpi {
                +void onReaderEvent (
                    \tCardReaderEvent cardReaderEvent)
            }
            +interface CardReaderObservationExceptionHandlerSpi {
                +void onReaderObservationError (String contextInfo,
                    \tString readerName, Throwable e)
            }
        }
    }

    package "selection" as selectionApi {
        +interface CardSelectionManager {
            +void setMultipleSelectionMode ()

            +int prepareSelection (CardSelection cardSelection)
            +void prepareReleaseChannel ()

            +CardSelectionResult processCardSelectionScenario (CardReader cardReader)

            +void scheduleCardSelectionScenario (ObservableCardReader observableCardReader,
                \tDetectionMode detectionMode, NotificationMode notificationMode)
            +CardSelectionResult parseScheduledCardSelectionsResponse (
                \tScheduledCardSelectionsResponse scheduledCardSelectionsResponse)
        }

        package "spi" as selectionSpi {
            +interface CardSelection {
            }
            +interface "SmartCard" as SmartCard {
                +String getPowerOnData ()
                +byte[] getSelectApplicationResponse ()
            }
        }
        +interface CardSelectionResult {
            +Map<Integer, SmartCard> getSmartCards ()
            +SmartCard getActiveSmartCard ()
            +int getActiveSelectionIndex ()
        }
        +interface ScheduledCardSelectionsResponse {
        }

        +class "<<RuntimeException>>\nInvalidCardResponseException" as InvalidCardResponseException {
            +InvalidCardResponseException (String message)
            +InvalidCardResponseException (String message,
                \tThrowable cause)
        }
    }
        +class "<<RuntimeException>>\nReaderCommunicationException" as ReaderCommunicationException {
            +ReaderCommunicationException (String message)
            +ReaderCommunicationException (String message,
                \tThrowable cause)
        }
        +class "<<RuntimeException>>\nReaderProtocolNotSupportedException" as ReaderProtocolNotSupportedException {
            +ReaderProtocolNotSupportedException (String cardProtocol)
        }
        +class "<<RuntimeException>>\nCardCommunicationException" as CardCommunicationException {
            +CardCommunicationException (String message)
            +CardCommunicationException (String message,
                \tThrowable cause)
        }
}


ObservableCardReader +- - NotificationMode
ObservableCardReader +-left- DetectionMode
ObservableCardReader .left.> DetectionMode #27AE60 : use >
ObservableCardReader ..> CardReaderObservationExceptionHandlerSpi #27AE60 : use >

CardReaderEvent +- - CardReaderEventType
CardReaderEvent ..> CardReaderEventType #3498DB : provide >
CardReaderEvent .up.> ScheduledCardSelectionsResponse #3498DB : provide >

CardSelectionResult ..> SmartCard #3498DB : provide >

CardSelectionManager ..> CardSelection #27AE60 : use >
CardSelectionManager ..> ScheduledCardSelectionsResponse #27AE60 : use >
CardSelectionManager ..> CardSelectionResult #3498DB : provide >
CardSelectionManager .right.> CardReader #27AE60 : use >
CardSelectionManager ..> NotificationMode #27AE60 : use >
CardSelectionManager ..> DetectionMode #27AE60 : use >
CardSelectionManager .left.> InvalidCardResponseException #3498DB : throw >

ObservableCardReader ..> CardReaderObserverSpi #27AE60 : use >

CardReaderObserverSpi ..> CardReaderEvent #27AE60 : use >


SmartCard -[hidden]- ReaderProtocolNotSupportedException
ReaderProtocolNotSupportedException -[hidden]- ReaderCommunicationException
ReaderCommunicationException -[hidden]right- CardCommunicationException


package readerApi #F8F9F9 {}
package readerSpi #F2F3F4 {}
package selectionApi #F2F3F4 {}
package selectionSpi #E5E7E9 {}

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>